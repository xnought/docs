import{s as Yt,w as Lt,x as Rt,h as ne,d as M,j as R,i as I,r as _,u as Xe,e as un,p as Yn,f as F,g as L,F as yt,J as su,a as Z,c as Q,Y as pe,M as Vc,k as Re,l as K,m as J,Z as Kr,n as on,_ as Hf,o as e3,K as Sx,L as kx,$ as Vf,V as $x,a0 as U6,C as Uf,a1 as Tx}from"../chunks/scheduler.655c61ae.js";import{S as Gt,i as Xt,g as G8,t as de,c as X8,a as fe,b as ve,d as ye,m as be,e as we}from"../chunks/index.9e10714d.js";import{P as Cx}from"../chunks/CopyCode.svelte_svelte_type_style_lang.fee0501f.js";import{e as H0}from"../chunks/Link.svelte_svelte_type_style_lang.c42532c2.js";import{L as gt}from"../chunks/Link.4853abce.js";function Ax(e){let t,n,r;return{c(){t=Lt("svg"),n=Lt("path"),r=Lt("path"),this.h()},l(i){t=Rt(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=ne(t);n=Rt(a,"path",{fill:!0,d:!0}),ne(n).forEach(M),r=Rt(a,"path",{fill:!0,d:!0}),ne(r).forEach(M),a.forEach(M),this.h()},h(){R(n,"fill","currentColor"),R(n,"d","M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"),R(r,"fill","currentColor"),R(r,"d","M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"),R(t,"xmlns","http://www.w3.org/2000/svg"),R(t,"width","1em"),R(t,"height","1em"),R(t,"viewBox","0 0 24 24")},m(i,a){I(i,t,a),_(t,n),_(t,r)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t)}}}class Ex extends Gt{constructor(t){super(),Xt(this,t,null,Ax,Yt,{})}}function Dx(e){let t,n;return{c(){t=Lt("svg"),n=Lt("path"),this.h()},l(r){t=Rt(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=ne(t);n=Rt(i,"path",{fill:!0,d:!0}),ne(n).forEach(M),i.forEach(M),this.h()},h(){R(n,"fill","currentColor"),R(n,"d","M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4L9 16.2z"),R(t,"xmlns","http://www.w3.org/2000/svg"),R(t,"width","1em"),R(t,"height","1em"),R(t,"viewBox","0 0 24 24")},m(r,i){I(r,t,i),_(t,n)},p:Xe,i:Xe,o:Xe,d(r){r&&M(t)}}}class _x extends Gt{constructor(t){super(),Xt(this,t,null,Dx,Yt,{})}}function zx(e){let t,n,r,i,a;return n=new Ex({}),{c(){t=F("div"),ve(n.$$.fragment),this.h()},l(s){t=L(s,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var o=ne(t);ye(n.$$.fragment,o),o.forEach(M),this.h()},h(){R(t,"class","svp-code-bock--copy-code"),R(t,"role","button"),R(t,"tabindex","0"),R(t,"aria-label","Copy code")},m(s,o){I(s,t,o),be(n,t,null),e[3](t),r=!0,i||(a=[yt(t,"click",e[2]),yt(t,"keyup",e[2])],i=!0)},p:Xe,i(s){r||(fe(n.$$.fragment,s),r=!0)},o(s){de(n.$$.fragment,s),r=!1},d(s){s&&M(t),we(n),e[3](null),i=!1,su(a)}}}function Ix(e){let t,n,r;return n=new _x({}),{c(){t=F("div"),ve(n.$$.fragment),this.h()},l(i){t=L(i,"DIV",{class:!0});var a=ne(t);ye(n.$$.fragment,a),a.forEach(M),this.h()},h(){R(t,"class","svp-code-bock--copy-code")},m(i,a){I(i,t,a),be(n,t,null),r=!0},p:Xe,i(i){r||(fe(n.$$.fragment,i),r=!0)},o(i){de(n.$$.fragment,i),r=!1},d(i){i&&M(t),we(n)}}}function Nx(e){let t,n,r,i;const a=[Ix,zx],s=[];function o(l,u){return l[1]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=un()},l(l){n.l(l),r=un()},m(l,u){s[t].m(l,u),I(l,r,u),i=!0},p(l,[u]){let c=t;t=o(l),t===c?s[t].p(l,u):(G8(),de(s[c],1,1,()=>{s[c]=null}),X8(),n=s[t],n?n.p(l,u):(n=s[t]=a[t](l),n.c()),fe(n,1),n.m(r.parentNode,r))},i(l){i||(fe(n),i=!0)},o(l){de(n),i=!1},d(l){l&&M(r),s[t].d(l)}}}function qx(e,t,n){let r,i=!1;function a(){var l,u;const o=((u=(l=r==null?void 0:r.parentElement)==null?void 0:l.querySelector(".shiki"))==null?void 0:u.textContent)||"";navigator.clipboard.writeText(o),n(1,i=!0),setTimeout(()=>{n(1,i=!1)},2e3)}function s(o){Yn[o?"unshift":"push"](()=>{r=o,n(0,r)})}return[r,i,a,s]}class j6 extends Gt{constructor(t){super(),Xt(this,t,qx,Nx,Yt,{})}}function W6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=F("input"),n=Z(),r=F("span"),a=K(i),s=K(" colors"),this.h()},l(u){t=L(u,"INPUT",{type:!0,min:!0,max:!0}),n=Q(u),r=L(u,"SPAN",{class:!0});var c=ne(r);a=J(c,i),s=J(c," colors"),c.forEach(M),this.h()},h(){R(t,"type","range"),R(t,"min","0"),R(t,"max",e[3].length-1),R(r,"class","label svelte-qipmvq")},m(u,c){I(u,t,c),Kr(t,e[0]),I(u,n,c),I(u,r,c),_(r,a),_(r,s),o||(l=[yt(t,"change",e[4]),yt(t,"input",e[4])],o=!0)},p(u,c){c&1&&Kr(t,u[0]),c&1&&i!==(i=2**u[0]+"")&&on(a,i)},d(u){u&&(M(t),M(n),M(r)),o=!1,su(l)}}}function Bx(e){let t=2**e[0]+"",n,r;return{c(){n=K(t),r=K(" colors")},l(i){n=J(i,t),r=J(i," colors")},m(i,a){I(i,n,a),I(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&on(n,t)},d(i){i&&(M(n),M(r))}}}function Fx(e){let t=2**e[0]+"",n,r;return{c(){n=K(t),r=K(" color")},l(i){n=J(i,t),r=J(i," color")},m(i,a){I(i,n,a),I(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&on(n,t)},d(i){i&&(M(n),M(r))}}}function Lx(e){let t,n,r,i,a="Compressed",s,o,l,u,c,f,h,d,g,y="Original",b,w,k,E,$,A,z="4,824,160 colors",D=e[2]&&W6(e);function j(C,O){return C[0]===0?Fx:Bx}let U=j(e),S=U(e);return{c(){D&&D.c(),t=Z(),n=F("div"),r=F("div"),i=F("div"),i.textContent=a,s=Z(),o=F("div"),l=F("img"),c=Z(),f=F("div"),S.c(),h=Z(),d=F("div"),g=F("div"),g.textContent=y,b=Z(),w=F("div"),k=F("img"),$=Z(),A=F("div"),A.textContent=z,this.h()},l(C){D&&D.l(C),t=Q(C),n=L(C,"DIV",{id:!0,class:!0});var O=ne(n);r=L(O,"DIV",{id:!0,class:!0});var P=ne(r);i=L(P,"DIV",{class:!0,"data-svelte-h":!0}),pe(i)!=="svelte-gr914o"&&(i.textContent=a),s=Q(P),o=L(P,"DIV",{});var X=ne(o);l=L(X,"IMG",{id:!0,src:!0,style:!0,class:!0}),X.forEach(M),c=Q(P),f=L(P,"DIV",{class:!0});var N=ne(f);S.l(N),N.forEach(M),P.forEach(M),h=Q(O),d=L(O,"DIV",{id:!0,class:!0});var W=ne(d);g=L(W,"DIV",{class:!0,"data-svelte-h":!0}),pe(g)!=="svelte-1go56d2"&&(g.textContent=y),b=Q(W),w=L(W,"DIV",{});var ae=ne(w);k=L(ae,"IMG",{id:!0,src:!0,style:!0,class:!0}),ae.forEach(M),$=Q(W),A=L(W,"DIV",{class:!0,"data-svelte-h":!0}),pe(A)!=="svelte-b5me6g"&&(A.textContent=z),W.forEach(M),O.forEach(M),this.h()},h(){R(i,"class","label svelte-qipmvq"),R(l,"id","compressed"),Vc(l.src,u=e[3][e[0]])||R(l,"src",u),Re(l,"width",e[1]+"px"),R(l,"class","svelte-qipmvq"),R(f,"class","label svelte-qipmvq"),R(r,"id","k"),R(r,"class","svelte-qipmvq"),R(g,"class","label svelte-qipmvq"),R(k,"id","original"),Vc(k.src,E="dog.png")||R(k,"src",E),Re(k,"width",e[1]+"px"),R(k,"class","svelte-qipmvq"),R(A,"class","label svelte-qipmvq"),R(d,"id","og"),R(d,"class","svelte-qipmvq"),R(n,"id","kmeans-container"),R(n,"class","svelte-qipmvq")},m(C,O){D&&D.m(C,O),I(C,t,O),I(C,n,O),_(n,r),_(r,i),_(r,s),_(r,o),_(o,l),_(r,c),_(r,f),S.m(f,null),_(n,h),_(n,d),_(d,g),_(d,b),_(d,w),_(w,k),_(d,$),_(d,A)},p(C,[O]){C[2]?D?D.p(C,O):(D=W6(C),D.c(),D.m(t.parentNode,t)):D&&(D.d(1),D=null),O&1&&!Vc(l.src,u=C[3][C[0]])&&R(l,"src",u),O&2&&Re(l,"width",C[1]+"px"),U===(U=j(C))&&S?S.p(C,O):(S.d(1),S=U(C),S&&(S.c(),S.m(f,null))),O&2&&Re(k,"width",C[1]+"px")},i:Xe,o:Xe,d(C){C&&(M(t),M(n)),D&&D.d(C),S.d()}}}function Rx(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(l=>`${l}.png`);let{selected:i=2}=t,{width:a=300}=t,{showSlider:s=!1}=t;function o(){i=Hf(this.value),n(0,i)}return e.$$set=l=>{"selected"in l&&n(0,i=l.selected),"width"in l&&n(1,a=l.width),"showSlider"in l&&n(2,s=l.showSlider)},[i,a,s,r,o]}class Qd extends Gt{constructor(t){super(),Xt(this,t,Rx,Lx,Yt,{selected:0,width:1,showSlider:2})}}function Y6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=F("input"),n=Z(),r=F("span"),a=K(i),s=K(" colors"),this.h()},l(u){t=L(u,"INPUT",{type:!0,min:!0,max:!0}),n=Q(u),r=L(u,"SPAN",{class:!0});var c=ne(r);a=J(c,i),s=J(c," colors"),c.forEach(M),this.h()},h(){R(t,"type","range"),R(t,"min","0"),R(t,"max",e[6].length-1),R(r,"class","label svelte-1vkjyq0")},m(u,c){I(u,t,c),Kr(t,e[0]),I(u,n,c),I(u,r,c),_(r,a),_(r,s),o||(l=[yt(t,"change",e[8]),yt(t,"input",e[8])],o=!0)},p(u,c){c&1&&Kr(t,u[0]),c&1&&i!==(i=2**u[0]+"")&&on(a,i)},d(u){u&&(M(t),M(n),M(r)),o=!1,su(l)}}}function Px(e){let t,n,r,i,a="Compressed",s,o,l,u,c,f,h="Original",d,g,y,b,w,k,E,$,A=e[4].toFixed(2)+"",z,D,j,U=e[2]&&Y6(e);return{c(){U&&U.c(),t=Z(),n=F("div"),r=F("div"),i=F("div"),i.textContent=a,s=Z(),o=F("div"),l=F("canvas"),u=Z(),c=F("div"),f=F("div"),f.textContent=h,d=Z(),g=F("div"),y=F("canvas"),b=Z(),w=F("div"),k=F("div"),E=F("b"),$=K("Average Error: "),z=K(A),D=Z(),j=F("canvas"),this.h()},l(S){U&&U.l(S),t=Q(S),n=L(S,"DIV",{id:!0,class:!0});var C=ne(n);r=L(C,"DIV",{id:!0,class:!0});var O=ne(r);i=L(O,"DIV",{class:!0,"data-svelte-h":!0}),pe(i)!=="svelte-gr914o"&&(i.textContent=a),s=Q(O),o=L(O,"DIV",{});var P=ne(o);l=L(P,"CANVAS",{width:!0,height:!0,class:!0}),ne(l).forEach(M),P.forEach(M),O.forEach(M),u=Q(C),c=L(C,"DIV",{id:!0,class:!0});var X=ne(c);f=L(X,"DIV",{class:!0,"data-svelte-h":!0}),pe(f)!=="svelte-1go56d2"&&(f.textContent=h),d=Q(X),g=L(X,"DIV",{});var N=ne(g);y=L(N,"CANVAS",{width:!0,height:!0,class:!0}),ne(y).forEach(M),N.forEach(M),X.forEach(M),b=Q(C),w=L(C,"DIV",{});var W=ne(w);k=L(W,"DIV",{class:!0});var ae=ne(k);E=L(ae,"B",{});var ie=ne(E);$=J(ie,"Average Error: "),z=J(ie,A),ie.forEach(M),ae.forEach(M),D=Q(W),j=L(W,"CANVAS",{width:!0,height:!0,class:!0}),ne(j).forEach(M),W.forEach(M),C.forEach(M),this.h()},h(){R(i,"class","label svelte-1vkjyq0"),R(l,"width",e[1]),R(l,"height",e[3]),R(l,"class","svelte-1vkjyq0"),R(r,"id","k"),R(r,"class","svelte-1vkjyq0"),R(f,"class","label svelte-1vkjyq0"),R(y,"width",e[1]),R(y,"height",e[3]),R(y,"class","svelte-1vkjyq0"),R(c,"id","og"),R(c,"class","svelte-1vkjyq0"),R(k,"class","label svelte-1vkjyq0"),R(j,"width",e[1]),R(j,"height",e[3]),R(j,"class","svelte-1vkjyq0"),R(n,"id","kmeans-container"),R(n,"class","svelte-1vkjyq0")},m(S,C){U&&U.m(S,C),I(S,t,C),I(S,n,C),_(n,r),_(r,i),_(r,s),_(r,o),_(o,l),e[9](l),_(n,u),_(n,c),_(c,f),_(c,d),_(c,g),_(g,y),e[10](y),_(n,b),_(n,w),_(w,k),_(k,E),_(E,$),_(E,z),_(w,D),_(w,j),e[11](j)},p(S,[C]){S[2]?U?U.p(S,C):(U=Y6(S),U.c(),U.m(t.parentNode,t)):U&&(U.d(1),U=null),C&2&&R(l,"width",S[1]),C&8&&R(l,"height",S[3]),C&2&&R(y,"width",S[1]),C&8&&R(y,"height",S[3]),C&16&&A!==(A=S[4].toFixed(2)+"")&&on(z,A),C&2&&R(j,"width",S[1]),C&8&&R(j,"height",S[3])},i:Xe,o:Xe,d(S){S&&(M(t),M(n)),U&&U.d(S),e[9](null),e[10](null),e[11](null)}}}const Ox="dog.png";function G6(e){e.imageSmoothingEnabled=!1}function Hx(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(A=>`${A}.png`);let{selected:i=0}=t,a=r[i],{width:s=230}=t,{showSlider:o=!0}=t,{height:l=150}=t,u=0,c={original:void 0,image:void 0,diff:void 0},f={original:void 0,image:void 0,diff:void 0};function h(A,z){return new Promise((j,U)=>{const S=new Image;S.src=z,S.onload=function(){A.drawImage(S,0,0,s,l),j()}})}function d(A,z,D){const j=new Uint8ClampedArray(s*l*4);n(4,u=0);for(let S=0;S<s*l*4;S+=4){const C=Math.abs(z[S]-D[S]),O=Math.abs(z[S+1]-D[S+1]),P=Math.abs(z[S+2]-D[S+2]),X=255*3,N=C+O+P,W=N/X;j[S]=255,j[S+3]=Math.round(W*255),n(4,u+=N)}const U=new ImageData(j,s,l,{colorSpace:"srgb"});A.diff.putImageData(U,0,0),n(4,u/=s*l)}let g,y;e3(async()=>{f.original=c.original.getContext("2d"),f.image=c.image.getContext("2d",{willReadFrequently:!0}),f.diff=c.diff.getContext("2d"),G6(f.image),G6(f.diff),await Promise.allSettled([h(f.image,a),h(f.original,Ox)]).then(()=>{g=f.image.getImageData(0,0,s,l),y=f.original.getImageData(0,0,s,l),d(f,g.data,y.data)})});async function b(A){f.diff&&y&&await h(f.image,A).then(()=>{g=f.image.getImageData(0,0,s,l),d(f,g.data,y.data)})}function w(){i=Hf(this.value),n(0,i)}function k(A){Yn[A?"unshift":"push"](()=>{c.image=A,n(5,c)})}function E(A){Yn[A?"unshift":"push"](()=>{c.original=A,n(5,c)})}function $(A){Yn[A?"unshift":"push"](()=>{c.diff=A,n(5,c)})}return e.$$set=A=>{"selected"in A&&n(0,i=A.selected),"width"in A&&n(1,s=A.width),"showSlider"in A&&n(2,o=A.showSlider),"height"in A&&n(3,l=A.height)},e.$$.update=()=>{e.$$.dirty&129&&(n(7,a=r[i]),b(a))},[i,s,o,l,u,c,r,a,w,k,E,$]}class Vx extends Gt{constructor(t){super(),Xt(this,t,Hx,Px,Yt,{selected:0,width:1,showSlider:2,height:3})}}class mn{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new mn(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class gr{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new gr(n,mn.range(this,t))}}class ge{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var c;a+15<o.length?c=o.slice(a,a+15)+"…":c=o.slice(a),r+=u+l+c}var f=new Error(r);return f.name="ParseError",f.__proto__=ge.prototype,f.position=i,i!=null&&a!=null&&(f.length=a-i),f.rawMessage=t,f}}ge.prototype.__proto__=Error.prototype;var Ux=function(t,n){return t.indexOf(n)!==-1},jx=function(t,n){return t===void 0?n:t},Wx=/([A-Z])/g,Yx=function(t){return t.replace(Wx,"-$1").toLowerCase()},Gx={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Xx=/[&><"']/g;function Zx(e){return String(e).replace(Xx,t=>Gx[t])}var Z8=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},Qx=function(t){var n=Z8(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Kx=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},Jx=function(t){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return n!=null?n[1]:"_relative"},qe={contains:Ux,deflt:jx,escape:Zx,hyphenate:Yx,getBaseElem:Z8,isCharacterBox:Qx,protocolFromUrl:Jx},Uc={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function eM(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class t3{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Uc)if(Uc.hasOwnProperty(n)){var r=Uc[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:eM(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ge("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=qe.protocolFromUrl(t.url));var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class F0{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return cr[tM[this.id]]}sub(){return cr[nM[this.id]]}fracNum(){return cr[rM[this.id]]}fracDen(){return cr[iM[this.id]]}cramp(){return cr[aM[this.id]]}text(){return cr[sM[this.id]]}isTight(){return this.size>=2}}var n3=0,Kc=1,qo=2,Zr=3,Pl=4,zn=5,Oo=6,Wt=7,cr=[new F0(n3,0,!1),new F0(Kc,0,!0),new F0(qo,1,!1),new F0(Zr,1,!0),new F0(Pl,2,!1),new F0(zn,2,!0),new F0(Oo,3,!1),new F0(Wt,3,!0)],tM=[Pl,zn,Pl,zn,Oo,Wt,Oo,Wt],nM=[zn,zn,zn,zn,Wt,Wt,Wt,Wt],rM=[qo,Zr,Pl,zn,Oo,Wt,Oo,Wt],iM=[Zr,Zr,zn,zn,Wt,Wt,Wt,Wt],aM=[Kc,Kc,Zr,Zr,zn,zn,Wt,Wt],sM=[n3,Kc,qo,Zr,qo,Zr,qo,Zr],Ie={DISPLAY:cr[n3],TEXT:cr[qo],SCRIPT:cr[Pl],SCRIPTSCRIPT:cr[Oo]},G4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function oM(e){for(var t=0;t<G4.length;t++)for(var n=G4[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var jc=[];G4.forEach(e=>e.blocks.forEach(t=>jc.push(...t)));function Q8(e){for(var t=0;t<jc.length;t+=2)if(e>=jc[t]&&e<=jc[t+1])return!0;return!1}var Co=80,lM=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},uM=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},cM=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},fM=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},hM=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},dM=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},mM=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},pM=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=lM(n,Co);break;case"sqrtSize1":i=uM(n,Co);break;case"sqrtSize2":i=cM(n,Co);break;case"sqrtSize3":i=fM(n,Co);break;case"sqrtSize4":i=hM(n,Co);break;case"sqrtTall":i=mM(n,Co,r)}return i},gM=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},X6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},vM=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ou{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return qe.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var dr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},uc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Z6={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function yM(e,t){dr[e]=t}function r3(e,t,n){if(!dr[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=dr[t][r];if(!i&&e[0]in Z6&&(r=Z6[e[0]].charCodeAt(0),i=dr[t][r]),!i&&n==="text"&&Q8(r)&&(i=dr[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Kd={};function bM(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Kd[t]){var n=Kd[t]={cssEmPerMu:uc.quad[t]/18};for(var r in uc)uc.hasOwnProperty(r)&&(n[r]=uc[r][t])}return Kd[t]}var wM=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Q6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],K6=function(t,n){return n.size<2?t:wM[t-1][n.size-1]};class Ur{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ur.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Q6[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Ur(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:K6(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:Q6[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=K6(Ur.BASESIZE,t);return this.size===n&&this.textSize===Ur.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ur.BASESIZE?["sizing","reset-size"+this.size,"size"+Ur.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=bM(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ur.BASESIZE=6;var X4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},xM={ex:!0,em:!0,mu:!0},K8=function(t){return typeof t!="string"&&(t=t.unit),t in X4||t in xM||t==="ex"},lt=function(t,n){var r;if(t.unit in X4)r=X4[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new ge("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Me=function(t){return+t.toFixed(4)+"em"},V0=function(t){return t.filter(n=>n).join(" ")},J8=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},e9=function(t){var n=document.createElement(t);n.className=V0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},t9=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+qe.escape(V0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+qe.escape(r)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(n+=" "+a+'="'+qe.escape(this.attributes[a])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class lu{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,J8.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return e9.call(this,"span")}toMarkup(){return t9.call(this,"span")}}class i3{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,J8.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return e9.call(this,"a")}toMarkup(){return t9.call(this,"a")}}class MM{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=qe.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+qe.escape(n)+'"'),t+="'/>",t}}var SM={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Fn{constructor(t,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=oM(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=SM[this.text])}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Me(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=V0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=qe.escape(V0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+qe.escape(r)+'"');var a=qe.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class Jr{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class U0{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",X6[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+X6[this.pathName]+"'/>"}}class Z4{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");return t+="/>",t}}function J6(e){if(e instanceof Fn)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function kM(e){if(e instanceof lu)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var $M={bin:1,close:1,inner:1,open:1,punct:1,rel:1},TM={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},at={math:{},text:{}};function m(e,t,n,r,i,a){at[e][i]={font:t,group:n,replace:r},a&&r&&(at[e][r]=at[e][i])}var v="math",ue="text",x="main",q="ams",st="accent-token",Ae="bin",Zt="close",el="inner",Ne="mathord",bt="op-token",xn="open",jf="punct",B="rel",u0="spacing",V="textord";m(v,x,B,"≡","\\equiv",!0);m(v,x,B,"≺","\\prec",!0);m(v,x,B,"≻","\\succ",!0);m(v,x,B,"∼","\\sim",!0);m(v,x,B,"⊥","\\perp");m(v,x,B,"⪯","\\preceq",!0);m(v,x,B,"⪰","\\succeq",!0);m(v,x,B,"≃","\\simeq",!0);m(v,x,B,"∣","\\mid",!0);m(v,x,B,"≪","\\ll",!0);m(v,x,B,"≫","\\gg",!0);m(v,x,B,"≍","\\asymp",!0);m(v,x,B,"∥","\\parallel");m(v,x,B,"⋈","\\bowtie",!0);m(v,x,B,"⌣","\\smile",!0);m(v,x,B,"⊑","\\sqsubseteq",!0);m(v,x,B,"⊒","\\sqsupseteq",!0);m(v,x,B,"≐","\\doteq",!0);m(v,x,B,"⌢","\\frown",!0);m(v,x,B,"∋","\\ni",!0);m(v,x,B,"∝","\\propto",!0);m(v,x,B,"⊢","\\vdash",!0);m(v,x,B,"⊣","\\dashv",!0);m(v,x,B,"∋","\\owns");m(v,x,jf,".","\\ldotp");m(v,x,jf,"⋅","\\cdotp");m(v,x,V,"#","\\#");m(ue,x,V,"#","\\#");m(v,x,V,"&","\\&");m(ue,x,V,"&","\\&");m(v,x,V,"ℵ","\\aleph",!0);m(v,x,V,"∀","\\forall",!0);m(v,x,V,"ℏ","\\hbar",!0);m(v,x,V,"∃","\\exists",!0);m(v,x,V,"∇","\\nabla",!0);m(v,x,V,"♭","\\flat",!0);m(v,x,V,"ℓ","\\ell",!0);m(v,x,V,"♮","\\natural",!0);m(v,x,V,"♣","\\clubsuit",!0);m(v,x,V,"℘","\\wp",!0);m(v,x,V,"♯","\\sharp",!0);m(v,x,V,"♢","\\diamondsuit",!0);m(v,x,V,"ℜ","\\Re",!0);m(v,x,V,"♡","\\heartsuit",!0);m(v,x,V,"ℑ","\\Im",!0);m(v,x,V,"♠","\\spadesuit",!0);m(v,x,V,"§","\\S",!0);m(ue,x,V,"§","\\S");m(v,x,V,"¶","\\P",!0);m(ue,x,V,"¶","\\P");m(v,x,V,"†","\\dag");m(ue,x,V,"†","\\dag");m(ue,x,V,"†","\\textdagger");m(v,x,V,"‡","\\ddag");m(ue,x,V,"‡","\\ddag");m(ue,x,V,"‡","\\textdaggerdbl");m(v,x,Zt,"⎱","\\rmoustache",!0);m(v,x,xn,"⎰","\\lmoustache",!0);m(v,x,Zt,"⟯","\\rgroup",!0);m(v,x,xn,"⟮","\\lgroup",!0);m(v,x,Ae,"∓","\\mp",!0);m(v,x,Ae,"⊖","\\ominus",!0);m(v,x,Ae,"⊎","\\uplus",!0);m(v,x,Ae,"⊓","\\sqcap",!0);m(v,x,Ae,"∗","\\ast");m(v,x,Ae,"⊔","\\sqcup",!0);m(v,x,Ae,"◯","\\bigcirc",!0);m(v,x,Ae,"∙","\\bullet",!0);m(v,x,Ae,"‡","\\ddagger");m(v,x,Ae,"≀","\\wr",!0);m(v,x,Ae,"⨿","\\amalg");m(v,x,Ae,"&","\\And");m(v,x,B,"⟵","\\longleftarrow",!0);m(v,x,B,"⇐","\\Leftarrow",!0);m(v,x,B,"⟸","\\Longleftarrow",!0);m(v,x,B,"⟶","\\longrightarrow",!0);m(v,x,B,"⇒","\\Rightarrow",!0);m(v,x,B,"⟹","\\Longrightarrow",!0);m(v,x,B,"↔","\\leftrightarrow",!0);m(v,x,B,"⟷","\\longleftrightarrow",!0);m(v,x,B,"⇔","\\Leftrightarrow",!0);m(v,x,B,"⟺","\\Longleftrightarrow",!0);m(v,x,B,"↦","\\mapsto",!0);m(v,x,B,"⟼","\\longmapsto",!0);m(v,x,B,"↗","\\nearrow",!0);m(v,x,B,"↩","\\hookleftarrow",!0);m(v,x,B,"↪","\\hookrightarrow",!0);m(v,x,B,"↘","\\searrow",!0);m(v,x,B,"↼","\\leftharpoonup",!0);m(v,x,B,"⇀","\\rightharpoonup",!0);m(v,x,B,"↙","\\swarrow",!0);m(v,x,B,"↽","\\leftharpoondown",!0);m(v,x,B,"⇁","\\rightharpoondown",!0);m(v,x,B,"↖","\\nwarrow",!0);m(v,x,B,"⇌","\\rightleftharpoons",!0);m(v,q,B,"≮","\\nless",!0);m(v,q,B,"","\\@nleqslant");m(v,q,B,"","\\@nleqq");m(v,q,B,"⪇","\\lneq",!0);m(v,q,B,"≨","\\lneqq",!0);m(v,q,B,"","\\@lvertneqq");m(v,q,B,"⋦","\\lnsim",!0);m(v,q,B,"⪉","\\lnapprox",!0);m(v,q,B,"⊀","\\nprec",!0);m(v,q,B,"⋠","\\npreceq",!0);m(v,q,B,"⋨","\\precnsim",!0);m(v,q,B,"⪹","\\precnapprox",!0);m(v,q,B,"≁","\\nsim",!0);m(v,q,B,"","\\@nshortmid");m(v,q,B,"∤","\\nmid",!0);m(v,q,B,"⊬","\\nvdash",!0);m(v,q,B,"⊭","\\nvDash",!0);m(v,q,B,"⋪","\\ntriangleleft");m(v,q,B,"⋬","\\ntrianglelefteq",!0);m(v,q,B,"⊊","\\subsetneq",!0);m(v,q,B,"","\\@varsubsetneq");m(v,q,B,"⫋","\\subsetneqq",!0);m(v,q,B,"","\\@varsubsetneqq");m(v,q,B,"≯","\\ngtr",!0);m(v,q,B,"","\\@ngeqslant");m(v,q,B,"","\\@ngeqq");m(v,q,B,"⪈","\\gneq",!0);m(v,q,B,"≩","\\gneqq",!0);m(v,q,B,"","\\@gvertneqq");m(v,q,B,"⋧","\\gnsim",!0);m(v,q,B,"⪊","\\gnapprox",!0);m(v,q,B,"⊁","\\nsucc",!0);m(v,q,B,"⋡","\\nsucceq",!0);m(v,q,B,"⋩","\\succnsim",!0);m(v,q,B,"⪺","\\succnapprox",!0);m(v,q,B,"≆","\\ncong",!0);m(v,q,B,"","\\@nshortparallel");m(v,q,B,"∦","\\nparallel",!0);m(v,q,B,"⊯","\\nVDash",!0);m(v,q,B,"⋫","\\ntriangleright");m(v,q,B,"⋭","\\ntrianglerighteq",!0);m(v,q,B,"","\\@nsupseteqq");m(v,q,B,"⊋","\\supsetneq",!0);m(v,q,B,"","\\@varsupsetneq");m(v,q,B,"⫌","\\supsetneqq",!0);m(v,q,B,"","\\@varsupsetneqq");m(v,q,B,"⊮","\\nVdash",!0);m(v,q,B,"⪵","\\precneqq",!0);m(v,q,B,"⪶","\\succneqq",!0);m(v,q,B,"","\\@nsubseteqq");m(v,q,Ae,"⊴","\\unlhd");m(v,q,Ae,"⊵","\\unrhd");m(v,q,B,"↚","\\nleftarrow",!0);m(v,q,B,"↛","\\nrightarrow",!0);m(v,q,B,"⇍","\\nLeftarrow",!0);m(v,q,B,"⇏","\\nRightarrow",!0);m(v,q,B,"↮","\\nleftrightarrow",!0);m(v,q,B,"⇎","\\nLeftrightarrow",!0);m(v,q,B,"△","\\vartriangle");m(v,q,V,"ℏ","\\hslash");m(v,q,V,"▽","\\triangledown");m(v,q,V,"◊","\\lozenge");m(v,q,V,"Ⓢ","\\circledS");m(v,q,V,"®","\\circledR");m(ue,q,V,"®","\\circledR");m(v,q,V,"∡","\\measuredangle",!0);m(v,q,V,"∄","\\nexists");m(v,q,V,"℧","\\mho");m(v,q,V,"Ⅎ","\\Finv",!0);m(v,q,V,"⅁","\\Game",!0);m(v,q,V,"‵","\\backprime");m(v,q,V,"▲","\\blacktriangle");m(v,q,V,"▼","\\blacktriangledown");m(v,q,V,"■","\\blacksquare");m(v,q,V,"⧫","\\blacklozenge");m(v,q,V,"★","\\bigstar");m(v,q,V,"∢","\\sphericalangle",!0);m(v,q,V,"∁","\\complement",!0);m(v,q,V,"ð","\\eth",!0);m(ue,x,V,"ð","ð");m(v,q,V,"╱","\\diagup");m(v,q,V,"╲","\\diagdown");m(v,q,V,"□","\\square");m(v,q,V,"□","\\Box");m(v,q,V,"◊","\\Diamond");m(v,q,V,"¥","\\yen",!0);m(ue,q,V,"¥","\\yen",!0);m(v,q,V,"✓","\\checkmark",!0);m(ue,q,V,"✓","\\checkmark");m(v,q,V,"ℶ","\\beth",!0);m(v,q,V,"ℸ","\\daleth",!0);m(v,q,V,"ℷ","\\gimel",!0);m(v,q,V,"ϝ","\\digamma",!0);m(v,q,V,"ϰ","\\varkappa");m(v,q,xn,"┌","\\@ulcorner",!0);m(v,q,Zt,"┐","\\@urcorner",!0);m(v,q,xn,"└","\\@llcorner",!0);m(v,q,Zt,"┘","\\@lrcorner",!0);m(v,q,B,"≦","\\leqq",!0);m(v,q,B,"⩽","\\leqslant",!0);m(v,q,B,"⪕","\\eqslantless",!0);m(v,q,B,"≲","\\lesssim",!0);m(v,q,B,"⪅","\\lessapprox",!0);m(v,q,B,"≊","\\approxeq",!0);m(v,q,Ae,"⋖","\\lessdot");m(v,q,B,"⋘","\\lll",!0);m(v,q,B,"≶","\\lessgtr",!0);m(v,q,B,"⋚","\\lesseqgtr",!0);m(v,q,B,"⪋","\\lesseqqgtr",!0);m(v,q,B,"≑","\\doteqdot");m(v,q,B,"≓","\\risingdotseq",!0);m(v,q,B,"≒","\\fallingdotseq",!0);m(v,q,B,"∽","\\backsim",!0);m(v,q,B,"⋍","\\backsimeq",!0);m(v,q,B,"⫅","\\subseteqq",!0);m(v,q,B,"⋐","\\Subset",!0);m(v,q,B,"⊏","\\sqsubset",!0);m(v,q,B,"≼","\\preccurlyeq",!0);m(v,q,B,"⋞","\\curlyeqprec",!0);m(v,q,B,"≾","\\precsim",!0);m(v,q,B,"⪷","\\precapprox",!0);m(v,q,B,"⊲","\\vartriangleleft");m(v,q,B,"⊴","\\trianglelefteq");m(v,q,B,"⊨","\\vDash",!0);m(v,q,B,"⊪","\\Vvdash",!0);m(v,q,B,"⌣","\\smallsmile");m(v,q,B,"⌢","\\smallfrown");m(v,q,B,"≏","\\bumpeq",!0);m(v,q,B,"≎","\\Bumpeq",!0);m(v,q,B,"≧","\\geqq",!0);m(v,q,B,"⩾","\\geqslant",!0);m(v,q,B,"⪖","\\eqslantgtr",!0);m(v,q,B,"≳","\\gtrsim",!0);m(v,q,B,"⪆","\\gtrapprox",!0);m(v,q,Ae,"⋗","\\gtrdot");m(v,q,B,"⋙","\\ggg",!0);m(v,q,B,"≷","\\gtrless",!0);m(v,q,B,"⋛","\\gtreqless",!0);m(v,q,B,"⪌","\\gtreqqless",!0);m(v,q,B,"≖","\\eqcirc",!0);m(v,q,B,"≗","\\circeq",!0);m(v,q,B,"≜","\\triangleq",!0);m(v,q,B,"∼","\\thicksim");m(v,q,B,"≈","\\thickapprox");m(v,q,B,"⫆","\\supseteqq",!0);m(v,q,B,"⋑","\\Supset",!0);m(v,q,B,"⊐","\\sqsupset",!0);m(v,q,B,"≽","\\succcurlyeq",!0);m(v,q,B,"⋟","\\curlyeqsucc",!0);m(v,q,B,"≿","\\succsim",!0);m(v,q,B,"⪸","\\succapprox",!0);m(v,q,B,"⊳","\\vartriangleright");m(v,q,B,"⊵","\\trianglerighteq");m(v,q,B,"⊩","\\Vdash",!0);m(v,q,B,"∣","\\shortmid");m(v,q,B,"∥","\\shortparallel");m(v,q,B,"≬","\\between",!0);m(v,q,B,"⋔","\\pitchfork",!0);m(v,q,B,"∝","\\varpropto");m(v,q,B,"◀","\\blacktriangleleft");m(v,q,B,"∴","\\therefore",!0);m(v,q,B,"∍","\\backepsilon");m(v,q,B,"▶","\\blacktriangleright");m(v,q,B,"∵","\\because",!0);m(v,q,B,"⋘","\\llless");m(v,q,B,"⋙","\\gggtr");m(v,q,Ae,"⊲","\\lhd");m(v,q,Ae,"⊳","\\rhd");m(v,q,B,"≂","\\eqsim",!0);m(v,x,B,"⋈","\\Join");m(v,q,B,"≑","\\Doteq",!0);m(v,q,Ae,"∔","\\dotplus",!0);m(v,q,Ae,"∖","\\smallsetminus");m(v,q,Ae,"⋒","\\Cap",!0);m(v,q,Ae,"⋓","\\Cup",!0);m(v,q,Ae,"⩞","\\doublebarwedge",!0);m(v,q,Ae,"⊟","\\boxminus",!0);m(v,q,Ae,"⊞","\\boxplus",!0);m(v,q,Ae,"⋇","\\divideontimes",!0);m(v,q,Ae,"⋉","\\ltimes",!0);m(v,q,Ae,"⋊","\\rtimes",!0);m(v,q,Ae,"⋋","\\leftthreetimes",!0);m(v,q,Ae,"⋌","\\rightthreetimes",!0);m(v,q,Ae,"⋏","\\curlywedge",!0);m(v,q,Ae,"⋎","\\curlyvee",!0);m(v,q,Ae,"⊝","\\circleddash",!0);m(v,q,Ae,"⊛","\\circledast",!0);m(v,q,Ae,"⋅","\\centerdot");m(v,q,Ae,"⊺","\\intercal",!0);m(v,q,Ae,"⋒","\\doublecap");m(v,q,Ae,"⋓","\\doublecup");m(v,q,Ae,"⊠","\\boxtimes",!0);m(v,q,B,"⇢","\\dashrightarrow",!0);m(v,q,B,"⇠","\\dashleftarrow",!0);m(v,q,B,"⇇","\\leftleftarrows",!0);m(v,q,B,"⇆","\\leftrightarrows",!0);m(v,q,B,"⇚","\\Lleftarrow",!0);m(v,q,B,"↞","\\twoheadleftarrow",!0);m(v,q,B,"↢","\\leftarrowtail",!0);m(v,q,B,"↫","\\looparrowleft",!0);m(v,q,B,"⇋","\\leftrightharpoons",!0);m(v,q,B,"↶","\\curvearrowleft",!0);m(v,q,B,"↺","\\circlearrowleft",!0);m(v,q,B,"↰","\\Lsh",!0);m(v,q,B,"⇈","\\upuparrows",!0);m(v,q,B,"↿","\\upharpoonleft",!0);m(v,q,B,"⇃","\\downharpoonleft",!0);m(v,x,B,"⊶","\\origof",!0);m(v,x,B,"⊷","\\imageof",!0);m(v,q,B,"⊸","\\multimap",!0);m(v,q,B,"↭","\\leftrightsquigarrow",!0);m(v,q,B,"⇉","\\rightrightarrows",!0);m(v,q,B,"⇄","\\rightleftarrows",!0);m(v,q,B,"↠","\\twoheadrightarrow",!0);m(v,q,B,"↣","\\rightarrowtail",!0);m(v,q,B,"↬","\\looparrowright",!0);m(v,q,B,"↷","\\curvearrowright",!0);m(v,q,B,"↻","\\circlearrowright",!0);m(v,q,B,"↱","\\Rsh",!0);m(v,q,B,"⇊","\\downdownarrows",!0);m(v,q,B,"↾","\\upharpoonright",!0);m(v,q,B,"⇂","\\downharpoonright",!0);m(v,q,B,"⇝","\\rightsquigarrow",!0);m(v,q,B,"⇝","\\leadsto");m(v,q,B,"⇛","\\Rrightarrow",!0);m(v,q,B,"↾","\\restriction");m(v,x,V,"‘","`");m(v,x,V,"$","\\$");m(ue,x,V,"$","\\$");m(ue,x,V,"$","\\textdollar");m(v,x,V,"%","\\%");m(ue,x,V,"%","\\%");m(v,x,V,"_","\\_");m(ue,x,V,"_","\\_");m(ue,x,V,"_","\\textunderscore");m(v,x,V,"∠","\\angle",!0);m(v,x,V,"∞","\\infty",!0);m(v,x,V,"′","\\prime");m(v,x,V,"△","\\triangle");m(v,x,V,"Γ","\\Gamma",!0);m(v,x,V,"Δ","\\Delta",!0);m(v,x,V,"Θ","\\Theta",!0);m(v,x,V,"Λ","\\Lambda",!0);m(v,x,V,"Ξ","\\Xi",!0);m(v,x,V,"Π","\\Pi",!0);m(v,x,V,"Σ","\\Sigma",!0);m(v,x,V,"Υ","\\Upsilon",!0);m(v,x,V,"Φ","\\Phi",!0);m(v,x,V,"Ψ","\\Psi",!0);m(v,x,V,"Ω","\\Omega",!0);m(v,x,V,"A","Α");m(v,x,V,"B","Β");m(v,x,V,"E","Ε");m(v,x,V,"Z","Ζ");m(v,x,V,"H","Η");m(v,x,V,"I","Ι");m(v,x,V,"K","Κ");m(v,x,V,"M","Μ");m(v,x,V,"N","Ν");m(v,x,V,"O","Ο");m(v,x,V,"P","Ρ");m(v,x,V,"T","Τ");m(v,x,V,"X","Χ");m(v,x,V,"¬","\\neg",!0);m(v,x,V,"¬","\\lnot");m(v,x,V,"⊤","\\top");m(v,x,V,"⊥","\\bot");m(v,x,V,"∅","\\emptyset");m(v,q,V,"∅","\\varnothing");m(v,x,Ne,"α","\\alpha",!0);m(v,x,Ne,"β","\\beta",!0);m(v,x,Ne,"γ","\\gamma",!0);m(v,x,Ne,"δ","\\delta",!0);m(v,x,Ne,"ϵ","\\epsilon",!0);m(v,x,Ne,"ζ","\\zeta",!0);m(v,x,Ne,"η","\\eta",!0);m(v,x,Ne,"θ","\\theta",!0);m(v,x,Ne,"ι","\\iota",!0);m(v,x,Ne,"κ","\\kappa",!0);m(v,x,Ne,"λ","\\lambda",!0);m(v,x,Ne,"μ","\\mu",!0);m(v,x,Ne,"ν","\\nu",!0);m(v,x,Ne,"ξ","\\xi",!0);m(v,x,Ne,"ο","\\omicron",!0);m(v,x,Ne,"π","\\pi",!0);m(v,x,Ne,"ρ","\\rho",!0);m(v,x,Ne,"σ","\\sigma",!0);m(v,x,Ne,"τ","\\tau",!0);m(v,x,Ne,"υ","\\upsilon",!0);m(v,x,Ne,"ϕ","\\phi",!0);m(v,x,Ne,"χ","\\chi",!0);m(v,x,Ne,"ψ","\\psi",!0);m(v,x,Ne,"ω","\\omega",!0);m(v,x,Ne,"ε","\\varepsilon",!0);m(v,x,Ne,"ϑ","\\vartheta",!0);m(v,x,Ne,"ϖ","\\varpi",!0);m(v,x,Ne,"ϱ","\\varrho",!0);m(v,x,Ne,"ς","\\varsigma",!0);m(v,x,Ne,"φ","\\varphi",!0);m(v,x,Ae,"∗","*",!0);m(v,x,Ae,"+","+");m(v,x,Ae,"−","-",!0);m(v,x,Ae,"⋅","\\cdot",!0);m(v,x,Ae,"∘","\\circ",!0);m(v,x,Ae,"÷","\\div",!0);m(v,x,Ae,"±","\\pm",!0);m(v,x,Ae,"×","\\times",!0);m(v,x,Ae,"∩","\\cap",!0);m(v,x,Ae,"∪","\\cup",!0);m(v,x,Ae,"∖","\\setminus",!0);m(v,x,Ae,"∧","\\land");m(v,x,Ae,"∨","\\lor");m(v,x,Ae,"∧","\\wedge",!0);m(v,x,Ae,"∨","\\vee",!0);m(v,x,V,"√","\\surd");m(v,x,xn,"⟨","\\langle",!0);m(v,x,xn,"∣","\\lvert");m(v,x,xn,"∥","\\lVert");m(v,x,Zt,"?","?");m(v,x,Zt,"!","!");m(v,x,Zt,"⟩","\\rangle",!0);m(v,x,Zt,"∣","\\rvert");m(v,x,Zt,"∥","\\rVert");m(v,x,B,"=","=");m(v,x,B,":",":");m(v,x,B,"≈","\\approx",!0);m(v,x,B,"≅","\\cong",!0);m(v,x,B,"≥","\\ge");m(v,x,B,"≥","\\geq",!0);m(v,x,B,"←","\\gets");m(v,x,B,">","\\gt",!0);m(v,x,B,"∈","\\in",!0);m(v,x,B,"","\\@not");m(v,x,B,"⊂","\\subset",!0);m(v,x,B,"⊃","\\supset",!0);m(v,x,B,"⊆","\\subseteq",!0);m(v,x,B,"⊇","\\supseteq",!0);m(v,q,B,"⊈","\\nsubseteq",!0);m(v,q,B,"⊉","\\nsupseteq",!0);m(v,x,B,"⊨","\\models");m(v,x,B,"←","\\leftarrow",!0);m(v,x,B,"≤","\\le");m(v,x,B,"≤","\\leq",!0);m(v,x,B,"<","\\lt",!0);m(v,x,B,"→","\\rightarrow",!0);m(v,x,B,"→","\\to");m(v,q,B,"≱","\\ngeq",!0);m(v,q,B,"≰","\\nleq",!0);m(v,x,u0," ","\\ ");m(v,x,u0," ","\\space");m(v,x,u0," ","\\nobreakspace");m(ue,x,u0," ","\\ ");m(ue,x,u0," "," ");m(ue,x,u0," ","\\space");m(ue,x,u0," ","\\nobreakspace");m(v,x,u0,null,"\\nobreak");m(v,x,u0,null,"\\allowbreak");m(v,x,jf,",",",");m(v,x,jf,";",";");m(v,q,Ae,"⊼","\\barwedge",!0);m(v,q,Ae,"⊻","\\veebar",!0);m(v,x,Ae,"⊙","\\odot",!0);m(v,x,Ae,"⊕","\\oplus",!0);m(v,x,Ae,"⊗","\\otimes",!0);m(v,x,V,"∂","\\partial",!0);m(v,x,Ae,"⊘","\\oslash",!0);m(v,q,Ae,"⊚","\\circledcirc",!0);m(v,q,Ae,"⊡","\\boxdot",!0);m(v,x,Ae,"△","\\bigtriangleup");m(v,x,Ae,"▽","\\bigtriangledown");m(v,x,Ae,"†","\\dagger");m(v,x,Ae,"⋄","\\diamond");m(v,x,Ae,"⋆","\\star");m(v,x,Ae,"◃","\\triangleleft");m(v,x,Ae,"▹","\\triangleright");m(v,x,xn,"{","\\{");m(ue,x,V,"{","\\{");m(ue,x,V,"{","\\textbraceleft");m(v,x,Zt,"}","\\}");m(ue,x,V,"}","\\}");m(ue,x,V,"}","\\textbraceright");m(v,x,xn,"{","\\lbrace");m(v,x,Zt,"}","\\rbrace");m(v,x,xn,"[","\\lbrack",!0);m(ue,x,V,"[","\\lbrack",!0);m(v,x,Zt,"]","\\rbrack",!0);m(ue,x,V,"]","\\rbrack",!0);m(v,x,xn,"(","\\lparen",!0);m(v,x,Zt,")","\\rparen",!0);m(ue,x,V,"<","\\textless",!0);m(ue,x,V,">","\\textgreater",!0);m(v,x,xn,"⌊","\\lfloor",!0);m(v,x,Zt,"⌋","\\rfloor",!0);m(v,x,xn,"⌈","\\lceil",!0);m(v,x,Zt,"⌉","\\rceil",!0);m(v,x,V,"\\","\\backslash");m(v,x,V,"∣","|");m(v,x,V,"∣","\\vert");m(ue,x,V,"|","\\textbar",!0);m(v,x,V,"∥","\\|");m(v,x,V,"∥","\\Vert");m(ue,x,V,"∥","\\textbardbl");m(ue,x,V,"~","\\textasciitilde");m(ue,x,V,"\\","\\textbackslash");m(ue,x,V,"^","\\textasciicircum");m(v,x,B,"↑","\\uparrow",!0);m(v,x,B,"⇑","\\Uparrow",!0);m(v,x,B,"↓","\\downarrow",!0);m(v,x,B,"⇓","\\Downarrow",!0);m(v,x,B,"↕","\\updownarrow",!0);m(v,x,B,"⇕","\\Updownarrow",!0);m(v,x,bt,"∐","\\coprod");m(v,x,bt,"⋁","\\bigvee");m(v,x,bt,"⋀","\\bigwedge");m(v,x,bt,"⨄","\\biguplus");m(v,x,bt,"⋂","\\bigcap");m(v,x,bt,"⋃","\\bigcup");m(v,x,bt,"∫","\\int");m(v,x,bt,"∫","\\intop");m(v,x,bt,"∬","\\iint");m(v,x,bt,"∭","\\iiint");m(v,x,bt,"∏","\\prod");m(v,x,bt,"∑","\\sum");m(v,x,bt,"⨂","\\bigotimes");m(v,x,bt,"⨁","\\bigoplus");m(v,x,bt,"⨀","\\bigodot");m(v,x,bt,"∮","\\oint");m(v,x,bt,"∯","\\oiint");m(v,x,bt,"∰","\\oiiint");m(v,x,bt,"⨆","\\bigsqcup");m(v,x,bt,"∫","\\smallint");m(ue,x,el,"…","\\textellipsis");m(v,x,el,"…","\\mathellipsis");m(ue,x,el,"…","\\ldots",!0);m(v,x,el,"…","\\ldots",!0);m(v,x,el,"⋯","\\@cdots",!0);m(v,x,el,"⋱","\\ddots",!0);m(v,x,V,"⋮","\\varvdots");m(v,x,st,"ˊ","\\acute");m(v,x,st,"ˋ","\\grave");m(v,x,st,"¨","\\ddot");m(v,x,st,"~","\\tilde");m(v,x,st,"ˉ","\\bar");m(v,x,st,"˘","\\breve");m(v,x,st,"ˇ","\\check");m(v,x,st,"^","\\hat");m(v,x,st,"⃗","\\vec");m(v,x,st,"˙","\\dot");m(v,x,st,"˚","\\mathring");m(v,x,Ne,"","\\@imath");m(v,x,Ne,"","\\@jmath");m(v,x,V,"ı","ı");m(v,x,V,"ȷ","ȷ");m(ue,x,V,"ı","\\i",!0);m(ue,x,V,"ȷ","\\j",!0);m(ue,x,V,"ß","\\ss",!0);m(ue,x,V,"æ","\\ae",!0);m(ue,x,V,"œ","\\oe",!0);m(ue,x,V,"ø","\\o",!0);m(ue,x,V,"Æ","\\AE",!0);m(ue,x,V,"Œ","\\OE",!0);m(ue,x,V,"Ø","\\O",!0);m(ue,x,st,"ˊ","\\'");m(ue,x,st,"ˋ","\\`");m(ue,x,st,"ˆ","\\^");m(ue,x,st,"˜","\\~");m(ue,x,st,"ˉ","\\=");m(ue,x,st,"˘","\\u");m(ue,x,st,"˙","\\.");m(ue,x,st,"¸","\\c");m(ue,x,st,"˚","\\r");m(ue,x,st,"ˇ","\\v");m(ue,x,st,"¨",'\\"');m(ue,x,st,"˝","\\H");m(ue,x,st,"◯","\\textcircled");var n9={"--":!0,"---":!0,"``":!0,"''":!0};m(ue,x,V,"–","--",!0);m(ue,x,V,"–","\\textendash");m(ue,x,V,"—","---",!0);m(ue,x,V,"—","\\textemdash");m(ue,x,V,"‘","`",!0);m(ue,x,V,"‘","\\textquoteleft");m(ue,x,V,"’","'",!0);m(ue,x,V,"’","\\textquoteright");m(ue,x,V,"“","``",!0);m(ue,x,V,"“","\\textquotedblleft");m(ue,x,V,"”","''",!0);m(ue,x,V,"”","\\textquotedblright");m(v,x,V,"°","\\degree",!0);m(ue,x,V,"°","\\degree");m(ue,x,V,"°","\\textdegree",!0);m(v,x,V,"£","\\pounds");m(v,x,V,"£","\\mathsterling",!0);m(ue,x,V,"£","\\pounds");m(ue,x,V,"£","\\textsterling",!0);m(v,q,V,"✠","\\maltese");m(ue,q,V,"✠","\\maltese");var ep='0123456789/@."';for(var Jd=0;Jd<ep.length;Jd++){var tp=ep.charAt(Jd);m(v,x,V,tp,tp)}var np='0123456789!@*()-=+";:?/.,';for(var e4=0;e4<np.length;e4++){var rp=np.charAt(e4);m(ue,x,V,rp,rp)}var Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var t4=0;t4<Jc.length;t4++){var cc=Jc.charAt(t4);m(v,x,Ne,cc,cc),m(ue,x,V,cc,cc)}m(v,q,V,"C","ℂ");m(ue,q,V,"C","ℂ");m(v,q,V,"H","ℍ");m(ue,q,V,"H","ℍ");m(v,q,V,"N","ℕ");m(ue,q,V,"N","ℕ");m(v,q,V,"P","ℙ");m(ue,q,V,"P","ℙ");m(v,q,V,"Q","ℚ");m(ue,q,V,"Q","ℚ");m(v,q,V,"R","ℝ");m(ue,q,V,"R","ℝ");m(v,q,V,"Z","ℤ");m(ue,q,V,"Z","ℤ");m(v,x,Ne,"h","ℎ");m(ue,x,Ne,"h","ℎ");var Le="";for(var rn=0;rn<Jc.length;rn++){var vt=Jc.charAt(rn);Le=String.fromCharCode(55349,56320+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56372+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56424+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56580+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56736+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56788+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56840+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56944+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),rn<26&&(Le=String.fromCharCode(55349,56632+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le),Le=String.fromCharCode(55349,56476+rn),m(v,x,Ne,vt,Le),m(ue,x,V,vt,Le))}Le=String.fromCharCode(55349,56668);m(v,x,Ne,"k",Le);m(ue,x,V,"k",Le);for(var Ns=0;Ns<10;Ns++){var L0=Ns.toString();Le=String.fromCharCode(55349,57294+Ns),m(v,x,Ne,L0,Le),m(ue,x,V,L0,Le),Le=String.fromCharCode(55349,57314+Ns),m(v,x,Ne,L0,Le),m(ue,x,V,L0,Le),Le=String.fromCharCode(55349,57324+Ns),m(v,x,Ne,L0,Le),m(ue,x,V,L0,Le),Le=String.fromCharCode(55349,57334+Ns),m(v,x,Ne,L0,Le),m(ue,x,V,L0,Le)}var Q4="ÐÞþ";for(var n4=0;n4<Q4.length;n4++){var fc=Q4.charAt(n4);m(v,x,Ne,fc,fc),m(ue,x,V,fc,fc)}var hc=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ip=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],CM=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[hc[o][2],hc[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[ip[l][2],ip[l][s]]}else{if(a===120485||a===120486)return[hc[0][2],hc[0][s]];if(120486<a&&a<120782)return["",""];throw new ge("Unsupported character: "+t)}},Wf=function(t,n,r){return at[r][t]&&at[r][t].replace&&(t=at[r][t].replace),{value:t,metrics:r3(t,n,r)}},Vn=function(t,n,r,i,a){var s=Wf(t,n,r),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new Fn(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),l=new Fn(t,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},AM=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Wf(t,"Main-Bold",n).metrics?Vn(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||at[n][t].font==="main"?Vn(t,"Main-Regular",n,r,i):Vn(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},EM=function(t,n,r,i,a){return a!=="textord"&&Wf(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},DM=function(t,n,r){var i=t.mode,a=t.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily;if(a.charCodeAt(0)===55349){var[u,c]=CM(a,i);return Vn(a,u,i,n,s.concat(c))}else if(l){var f,h;if(l==="boldsymbol"){var d=EM(a,i,n,s,r);f=d.fontName,h=[d.fontClass]}else o?(f=a9[l].fontName,h=[l]):(f=dc(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(Wf(a,f,i).metrics)return Vn(a,f,i,n,s.concat(h));if(n9.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var g=[],y=0;y<a.length;y++)g.push(Vn(a[y],f,i,n,s.concat(h)));return i9(g)}}if(r==="mathord")return Vn(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var b=at[i][a]&&at[i][a].font;if(b==="ams"){var w=dc("amsrm",n.fontWeight,n.fontShape);return Vn(a,w,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(b==="main"||!b){var k=dc("textrm",n.fontWeight,n.fontShape);return Vn(a,k,i,n,s.concat(n.fontWeight,n.fontShape))}else{var E=dc(b,n.fontWeight,n.fontShape);return Vn(a,E,i,n,s.concat(E,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},_M=(e,t)=>{if(V0(e.classes)!==V0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},zM=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Fn&&r instanceof Fn&&_M(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},a3=function(t){for(var n=0,r=0,i=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},an=function(t,n,r,i){var a=new lu(t,n,r,i);return a3(a),a},r9=(e,t,n,r)=>new lu(e,t,n,r),IM=function(t,n,r){var i=an([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Me(i.height),i.maxFontSize=1,i},NM=function(t,n,r,i){var a=new i3(t,n,r,i);return a3(a),a},i9=function(t){var n=new ou(t);return a3(n),n},qM=function(t,n){return t instanceof ou?an([],[t],n):t},BM=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var c=t.positionData,f=0;f<t.children.length;f++){var h=t.children[f];c-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=c}else if(t.positionType==="bottom")u=-t.positionData;else{var d=t.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-d.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},FM=function(t,n){for(var{children:r,depth:i}=BM(t),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=an(["pstrut"],[]);u.style.height=Me(a);for(var c=[],f=i,h=i,d=i,g=0;g<r.length;g++){var y=r[g];if(y.type==="kern")d+=y.size;else{var b=y.elem,w=y.wrapperClasses||[],k=y.wrapperStyle||{},E=an(w,[u,b],void 0,k);E.style.top=Me(-a-d-b.depth),y.marginLeft&&(E.style.marginLeft=y.marginLeft),y.marginRight&&(E.style.marginRight=y.marginRight),c.push(E),d+=b.height+b.depth}f=Math.min(f,d),h=Math.max(h,d)}var $=an(["vlist"],c);$.style.height=Me(h);var A;if(f<0){var z=an([],[]),D=an(["vlist"],[z]);D.style.height=Me(-f);var j=an(["vlist-s"],[new Fn("​")]);A=[an(["vlist-r"],[$,j]),an(["vlist-r"],[D])]}else A=[an(["vlist-r"],[$])];var U=an(["vlist-t"],A);return A.length===2&&U.classes.push("vlist-t2"),U.height=h,U.depth=-f,U},LM=(e,t)=>{var n=an(["mspace"],[],t),r=lt(e,t);return n.style.marginRight=Me(r),n},dc=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},a9={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},s9={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},RM=function(t,n){var[r,i,a]=s9[t],s=new U0(r),o=new Jr([s],{width:Me(i),height:Me(a),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=r9(["overlay"],[o],n);return l.height=a,l.style.height=Me(a),l.style.width=Me(i),l},G={fontMap:a9,makeSymbol:Vn,mathsym:AM,makeSpan:an,makeSvgSpan:r9,makeLineSpan:IM,makeAnchor:NM,makeFragment:i9,wrapFragment:qM,makeVList:FM,makeOrd:DM,makeGlue:LM,staticSvg:RM,svgData:s9,tryCombineChars:zM},ot={number:3,unit:"mu"},qs={number:4,unit:"mu"},Fr={number:5,unit:"mu"},PM={mord:{mop:ot,mbin:qs,mrel:Fr,minner:ot},mop:{mord:ot,mop:ot,mrel:Fr,minner:ot},mbin:{mord:qs,mop:qs,mopen:qs,minner:qs},mrel:{mord:Fr,mop:Fr,mopen:Fr,minner:Fr},mopen:{},mclose:{mop:ot,mbin:qs,mrel:Fr,minner:ot},mpunct:{mord:ot,mop:ot,mrel:Fr,mopen:ot,mclose:ot,mpunct:ot,minner:ot},minner:{mord:ot,mop:ot,mbin:qs,mrel:Fr,mopen:ot,mpunct:ot,minner:ot}},OM={mord:{mop:ot},mop:{mord:ot,mop:ot},mbin:{},mrel:{},mopen:{},mclose:{mop:ot},mpunct:{},minner:{mop:ot}},o9={},ef={},tf={};function $e(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)o9[n[l]]=o;t&&(a&&(ef[t]=a),s&&(tf[t]=s))}function Ks(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;$e({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var nf=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},dt=function(t){return t.type==="ordgroup"?t.body:[t]},e0=G.makeSpan,HM=["leftmost","mbin","mopen","mrel","mop","mpunct"],VM=["rightmost","mrel","mclose","mpunct"],UM={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT},jM={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Mt=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=Ze(t[s],n);if(o instanceof ou){var l=o.children;a.push(...l)}else a.push(o)}if(G.tryCombineChars(a),!r)return a;var u=n;if(t.length===1){var c=t[0];c.type==="sizing"?u=n.havingSize(c.size):c.type==="styling"&&(u=n.havingStyle(UM[c.style]))}var f=e0([i[0]||"leftmost"],[],n),h=e0([i[1]||"rightmost"],[],n),d=r==="root";return ap(a,(g,y)=>{var b=y.classes[0],w=g.classes[0];b==="mbin"&&qe.contains(VM,w)?y.classes[0]="mord":w==="mbin"&&qe.contains(HM,b)&&(g.classes[0]="mord")},{node:f},h,d),ap(a,(g,y)=>{var b=K4(y),w=K4(g),k=b&&w?g.hasClass("mtight")?OM[b][w]:PM[b][w]:null;if(k)return G.makeGlue(k,u)},{node:f},h,d),a},ap=function e(t,n,r,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var o=t[s],l=l9(o);if(l){e(l.children,n,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var c=n(o,r.node);c&&(r.insertAfter?r.insertAfter(c):(t.unshift(c),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=e0(["leftmost"])),r.insertAfter=(f=>h=>{t.splice(f+1,0,h),s++})(s)}i&&t.pop()},l9=function(t){return t instanceof ou||t instanceof i3||t instanceof lu&&t.hasClass("enclosing")?t:null},WM=function e(t,n){var r=l9(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},K4=function(t,n){return t?(n&&(t=WM(t,n)),jM[t.classes[0]]||null):null},Ol=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return e0(n.concat(r))},Ze=function(t,n,r){if(!t)return e0();if(ef[t.type]){var i=ef[t.type](t,n);if(r&&n.size!==r.size){i=e0(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new ge("Got group of unknown type: '"+t.type+"'")};function mc(e,t){var n=e0(["base"],e,t),r=e0(["strut"]);return r.style.height=Me(n.height+n.depth),n.depth&&(r.style.verticalAlign=Me(-n.depth)),n.children.unshift(r),n}function J4(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=Mt(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(mc(s,t)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(mc(s,t)),s=[]),a.push(r[o]));s.length>0&&a.push(mc(s,t));var u;n?(u=mc(Mt(n,t,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var c=e0(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=Me(c.height+c.depth),c.depth&&(f.style.verticalAlign=Me(-c.depth))}return c}function u9(e){return new ou(e)}class _n{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=V0(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=qe.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+qe.escape(V0(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class _l{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return qe.escape(this.toText())}toText(){return this.text}}class YM{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Me(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Me(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var he={MathNode:_n,TextNode:_l,SpaceNode:YM,newDocumentFragment:u9},Ln=function(t,n,r){return at[n][t]&&at[n][t].replace&&t.charCodeAt(0)!==55349&&!(n9.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=at[n][t].replace),new he.TextNode(t)},s3=function(t){return t.length===1?t[0]:new he.MathNode("mrow",t)},o3=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=t.text;if(qe.contains(["\\imath","\\jmath"],a))return null;at[i][a]&&at[i][a].replace&&(a=at[i][a].replace);var s=G.fontMap[r].fontName;return r3(a,s,i)?G.fontMap[r].variant:null},fn=function(t,n,r){if(t.length===1){var i=et(t[0],n);return r&&i instanceof _n&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<t.length;o++){var l=et(t[o],n);if(l instanceof _n&&s instanceof _n){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof _l&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof _l&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof _l&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),a.pop())}}}a.push(l),s=l}return a},j0=function(t,n,r){return s3(fn(t,n,r))},et=function(t,n){if(!t)return new he.MathNode("mrow");if(tf[t.type]){var r=tf[t.type](t,n);return r}else throw new ge("Got group of unknown type: '"+t.type+"'")};function sp(e,t,n,r,i){var a=fn(e,n),s;a.length===1&&a[0]instanceof _n&&qe.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new he.MathNode("mrow",a);var o=new he.MathNode("annotation",[new he.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new he.MathNode("semantics",[s,o]),u=new he.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return G.makeSpan([c],[u])}var c9=function(t){return new Ur({style:t.displayMode?Ie.DISPLAY:Ie.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},f9=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=G.makeSpan(r,[t])}return t},GM=function(t,n,r){var i=c9(r),a;if(r.output==="mathml")return sp(t,n,i,r.displayMode,!0);if(r.output==="html"){var s=J4(t,i);a=G.makeSpan(["katex"],[s])}else{var o=sp(t,n,i,r.displayMode,!1),l=J4(t,i);a=G.makeSpan(["katex"],[o,l])}return f9(a,r)},XM=function(t,n,r){var i=c9(r),a=J4(t,i),s=G.makeSpan(["katex"],[a]);return f9(s,r)},ZM={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},QM=function(t){var n=new he.MathNode("mo",[new he.TextNode(ZM[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},KM={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},JM=function(t){return t.type==="ordgroup"?t.body.length:1},eS=function(t,n){function r(){var o=4e5,l=t.label.slice(1);if(qe.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,c=JM(u.base),f,h,d;if(c>5)l==="widehat"||l==="widecheck"?(f=420,o=2364,d=.42,h=l+"4"):(f=312,o=2340,d=.34,h="tilde4");else{var g=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],f=[0,239,300,360,420][g],d=[0,.24,.3,.3,.36,.42][g],h=l+g):(o=[0,600,1033,2339,2340][g],f=[0,260,286,306,312][g],d=[0,.26,.286,.3,.306,.34][g],h="tilde"+g)}var y=new U0(h),b=new Jr([y],{width:"100%",height:Me(d),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:G.makeSvgSpan([],[b],n),minWidth:0,height:d}}else{var w=[],k=KM[l],[E,$,A]=k,z=A/1e3,D=E.length,j,U;if(D===1){var S=k[3];j=["hide-tail"],U=[S]}else if(D===2)j=["halfarrow-left","halfarrow-right"],U=["xMinYMin","xMaxYMin"];else if(D===3)j=["brace-left","brace-center","brace-right"],U=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var C=0;C<D;C++){var O=new U0(E[C]),P=new Jr([O],{width:"400em",height:Me(z),viewBox:"0 0 "+o+" "+A,preserveAspectRatio:U[C]+" slice"}),X=G.makeSvgSpan([j[C]],[P],n);if(D===1)return{span:X,minWidth:$,height:z};X.style.height=Me(z),w.push(X)}return{span:G.makeSpan(["stretchy"],w,n),minWidth:$,height:z}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=Me(s),a>0&&(i.style.minWidth=Me(a)),i},tS=function(t,n,r,i,a){var s,o=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=G.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new Z4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new Z4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Jr(u,{width:"100%",height:Me(o)});s=G.makeSvgSpan([],[c],a)}return s.height=o,s.style.height=Me(o),s},t0={encloseSpan:tS,mathMLnode:QM,svgSpan:eS};function He(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function l3(e){var t=Yf(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Yf(e){return e&&(e.type==="atom"||TM.hasOwnProperty(e.type))?e:null}var u3=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=He(e.base,"accent"),n=r.base,e.base=n,i=kM(Ze(e,t)),e.base=r):(r=He(e,"accent"),n=r.base);var a=Ze(n,t.havingCrampedStyle()),s=r.isShifty&&qe.isCharacterBox(n),o=0;if(s){var l=qe.getBaseElem(n),u=Ze(l,t.havingCrampedStyle());o=J6(u).skew}var c=r.label==="\\c",f=c?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=t0.svgSpan(r,t),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Me(2*o)+")",marginLeft:Me(2*o)}:void 0}]},t);else{var d,g;r.label==="\\vec"?(d=G.staticSvg("vec",t),g=G.svgData.vec[1]):(d=G.makeOrd({mode:r.mode,text:r.label},t,"textord"),d=J6(d),d.italic=0,g=d.width,c&&(f+=d.depth)),h=G.makeSpan(["accent-body"],[d]);var y=r.label==="\\textcircled";y&&(h.classes.push("accent-full"),f=a.height);var b=o;y||(b-=g/2),h.style.left=Me(b),r.label==="\\textcircled"&&(h.style.top=".2em"),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:h}]},t)}var w=G.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=w,i.height=Math.max(w.height,i.height),i.classes[0]="mord",i):w},h9=(e,t)=>{var n=e.isStretchy?t0.mathMLnode(e.label):new he.MathNode("mo",[Ln(e.label,e.mode)]),r=new he.MathNode("mover",[et(e.base,t),n]);return r.setAttribute("accent","true"),r},nS=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));$e({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=nf(t[0]),r=!nS.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:u3,mathmlBuilder:h9});$e({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:u3,mathmlBuilder:h9});$e({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Ze(e.base,t),r=t0.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=t0.mathMLnode(e.label),r=new he.MathNode("munder",[et(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var pc=e=>{var t=new he.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};$e({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=G.wrapFragment(Ze(e.body,r,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(r=t.havingStyle(n.sub()),s=G.wrapFragment(Ze(e.below,r,t),t),s.classes.push(a+"-arrow-pad"));var o=t0.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(s){var f=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;c=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:f}]},t)}else c=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},t);return c.children[0].children[0].children[1].classes.push("svg-align"),G.makeSpan(["mrel","x-arrow"],[c],t)},mathmlBuilder(e,t){var n=t0.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=pc(et(e.body,t));if(e.below){var a=pc(et(e.below,t));r=new he.MathNode("munderover",[n,a,i])}else r=new he.MathNode("mover",[n,i])}else if(e.below){var s=pc(et(e.below,t));r=new he.MathNode("munder",[n,s])}else r=pc(),r=new he.MathNode("mover",[n,r]);return r}});var rS=G.makeSpan;function d9(e,t){var n=Mt(e.body,t,!0);return rS([e.mclass],n,t)}function m9(e,t){var n,r=fn(e.body,t);return e.mclass==="minner"?n=new he.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new he.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new he.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}$e({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:dt(i),isCharacterBox:qe.isCharacterBox(i)}},htmlBuilder:d9,mathmlBuilder:m9});var Gf=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};$e({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Gf(t[0]),body:dt(t[1]),isCharacterBox:qe.isCharacterBox(t[1])}}});$e({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],a=t[0],s;r!=="\\stackrel"?s=Gf(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:dt(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:qe.isCharacterBox(l)}},htmlBuilder:d9,mathmlBuilder:m9});$e({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Gf(t[0]),body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!0),r=G.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=fn(e.body,t),r=new he.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var iS={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},op=()=>({type:"styling",body:[],mode:"math",style:"display"}),lp=e=>e.type==="textord"&&e.text==="@",aS=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function sS(e,t,n){var r=iS[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function oS(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ge("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],a=0;a<t.length;a++){for(var s=t[a],o=op(),l=0;l<s.length;l++)if(!lp(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=l3(s[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var h=!0,d=l+1;d<s.length;d++){if(aS(s[d],u)){h=!1,l=d;break}if(lp(s[d]))throw new ge("Missing a "+u+" character to complete a CD arrow.",s[d]);c[f].body.push(s[d])}if(h)throw new ge("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new ge('Expected one of "<>AV=|." after @',s[l]);var g=sS(u,c,e),y={type:"styling",body:[g],mode:"math",style:"display"};r.push(y),o=op()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}$e({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=G.wrapFragment(Ze(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Me(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new he.MathNode("mrow",[et(e.label,t)]);return n=new he.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new he.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});$e({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=G.wrapFragment(Ze(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new he.MathNode("mrow",[et(e.fragment,t)])}});$e({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=He(t[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=He(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new ge("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new ge("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var p9=(e,t)=>{var n=Mt(e.body,t.withColor(e.color),!1);return G.makeFragment(n)},g9=(e,t)=>{var n=fn(e.body,t.withColor(e.color)),r=new he.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};$e({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=He(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:dt(i)}},htmlBuilder:p9,mathmlBuilder:g9});$e({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=He(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:p9,mathmlBuilder:g9});$e({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&He(i,"size").value}},htmlBuilder(e,t){var n=G.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Me(lt(e.size,t)))),n},mathmlBuilder(e,t){var n=new he.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Me(lt(e.size,t)))),n}});var em={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},v9=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ge("Expected a control sequence",e);return t},lS=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},y9=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};$e({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(em[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=em[r.text]),He(t.parseFunction(),"internal");throw new ge("Invalid token after macro prefix",r)}});$e({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ge("Expected a control sequence",r);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ge('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new ge('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new ge("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===em[n]),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=v9(t.gullet.popToken());t.gullet.consumeSpaces();var i=lS(t);return y9(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=v9(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return y9(t,r,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var xl=function(t,n,r){var i=at.math[t]&&at.math[t].replace,a=r3(i||t,n,r);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},c3=function(t,n,r,i){var a=r.havingBaseStyle(n),s=G.makeSpan(i.concat(a.sizingClasses(r)),[t],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},b9=function(t,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Me(a),t.height-=a,t.depth+=a},uS=function(t,n,r,i,a,s){var o=G.makeSymbol(t,"Main-Regular",a,i),l=c3(o,n,i,s);return r&&b9(l,i,n),l},cS=function(t,n,r,i){return G.makeSymbol(t,"Size"+n+"-Regular",r,i)},w9=function(t,n,r,i,a,s){var o=cS(t,n,a,i),l=c3(G.makeSpan(["delimsizing","size"+n],[o],i),Ie.TEXT,i,s);return r&&b9(l,i,Ie.TEXT),l},r4=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=G.makeSpan(["delimsizinginner",i],[G.makeSpan([],[G.makeSymbol(t,n,r)])]);return{type:"elem",elem:a}},i4=function(t,n,r){var i=dr["Size4-Regular"][t.charCodeAt(0)]?dr["Size4-Regular"][t.charCodeAt(0)][4]:dr["Size1-Regular"][t.charCodeAt(0)][4],a=new U0("inner",gM(t,Math.round(1e3*n))),s=new Jr([a],{width:Me(i),height:Me(n),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=G.makeSvgSpan([],[s],r);return o.height=n,o.style.height=Me(n),o.style.width=Me(i),{type:"elem",elem:o}},tm=.008,gc={type:"kern",size:-1*tm},fS=["|","\\lvert","\\rvert","\\vert"],hS=["\\|","\\lVert","\\rVert","\\Vert"],x9=function(t,n,r,i,a,s){var o,l,u,c,f="",h=0;o=u=c=t,l=null;var d="Size1-Regular";t==="\\uparrow"?u=c="⏐":t==="\\Uparrow"?u=c="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",c="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",c="\\Downarrow"):qe.contains(fS,t)?(u="∣",f="vert",h=333):qe.contains(hS,t)?(u="∥",f="doublevert",h=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",c="⎣",d="Size4-Regular",f="lbrack",h=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",c="⎦",d="Size4-Regular",f="rbrack",h=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",c="⎣",d="Size4-Regular",f="lfloor",h=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=c="⎢",d="Size4-Regular",f="lceil",h=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",c="⎦",d="Size4-Regular",f="rfloor",h=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=c="⎥",d="Size4-Regular",f="rceil",h=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",c="⎝",d="Size4-Regular",f="lparen",h=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",c="⎠",d="Size4-Regular",f="rparen",h=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",c="⎩",u="⎪",d="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",c="⎭",u="⎪",d="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",c="⎩",u="⎪",d="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",c="⎭",u="⎪",d="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",c="⎭",u="⎪",d="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",c="⎩",u="⎪",d="Size4-Regular");var g=xl(o,d,a),y=g.height+g.depth,b=xl(u,d,a),w=b.height+b.depth,k=xl(c,d,a),E=k.height+k.depth,$=0,A=1;if(l!==null){var z=xl(l,d,a);$=z.height+z.depth,A=2}var D=y+E+$,j=Math.max(0,Math.ceil((n-D)/(A*w))),U=D+j*A*w,S=i.fontMetrics().axisHeight;r&&(S*=i.sizeMultiplier);var C=U/2-S,O=[];if(f.length>0){var P=U-y-E,X=Math.round(U*1e3),N=vM(f,Math.round(P*1e3)),W=new U0(f,N),ae=(h/1e3).toFixed(3)+"em",ie=(X/1e3).toFixed(3)+"em",le=new Jr([W],{width:ae,height:ie,viewBox:"0 0 "+h+" "+X}),ee=G.makeSvgSpan([],[le],i);ee.height=X/1e3,ee.style.width=ae,ee.style.height=ie,O.push({type:"elem",elem:ee})}else{if(O.push(r4(c,d,a)),O.push(gc),l===null){var se=U-y-E+2*tm;O.push(i4(u,se,i))}else{var oe=(U-y-E-$)/2+2*tm;O.push(i4(u,oe,i)),O.push(gc),O.push(r4(l,d,a)),O.push(gc),O.push(i4(u,oe,i))}O.push(gc),O.push(r4(o,d,a))}var re=i.havingBaseStyle(Ie.TEXT),Se=G.makeVList({positionType:"bottom",positionData:C,children:O},re);return c3(G.makeSpan(["delimsizing","mult"],[Se],re),Ie.TEXT,i,s)},a4=80,s4=.08,o4=function(t,n,r,i,a){var s=pM(t,i,r),o=new U0(t,s),l=new Jr([o],{width:"400em",height:Me(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return G.makeSvgSpan(["hide-tail"],[l],a)},dS=function(t,n){var r=n.havingBaseSizing(),i=$9("\\surd",t*r.sizeMultiplier,k9,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,f;return i.type==="small"?(c=1e3+1e3*s+a4,t<1?a=1:t<1.4&&(a=.7),l=(1+s+s4)/a,u=(1+s)/a,o=o4("sqrtMain",l,c,s,n),o.style.minWidth="0.853em",f=.833/a):i.type==="large"?(c=(1e3+a4)*zl[i.size],u=(zl[i.size]+s)/a,l=(zl[i.size]+s+s4)/a,o=o4("sqrtSize"+i.size,l,c,s,n),o.style.minWidth="1.02em",f=1/a):(l=t+s+s4,u=t+s,c=Math.floor(1e3*t+s)+a4,o=o4("sqrtTall",l,c,s,n),o.style.minWidth="0.742em",f=1.056),o.height=u,o.style.height=Me(l),{span:o,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},M9=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],mS=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],S9=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],zl=[0,1.2,1.8,2.4,3],pS=function(t,n,r,i,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),qe.contains(M9,t)||qe.contains(S9,t))return w9(t,n,!1,r,i,a);if(qe.contains(mS,t))return x9(t,zl[n],!1,r,i,a);throw new ge("Illegal delimiter: '"+t+"'")},gS=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],vS=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"stack"}],k9=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],yS=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},$9=function(t,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=xl(t,yS(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},T9=function(t,n,r,i,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;qe.contains(S9,t)?o=gS:qe.contains(M9,t)?o=k9:o=vS;var l=$9(t,n,o,i);return l.type==="small"?uS(t,l.style,r,i,a,s):l.type==="large"?w9(t,l.size,r,i,a,s):x9(t,n,r,i,a,s)},bS=function(t,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(n-o,r+o),f=Math.max(c/500*l,2*c-u);return T9(t,f,!0,i,a,s)},Qr={sqrtImage:dS,sizedDelim:pS,sizeToMaxHeight:zl,customSizedDelim:T9,leftRightDelim:bS},up={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},wS=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Xf(e,t){var n=Yf(e);if(n&&qe.contains(wS,n.text))return n;throw n?new ge("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ge("Invalid delimiter type '"+e.type+"'",e)}$e({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Xf(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:up[e.funcName].size,mclass:up[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?G.makeSpan([e.mclass]):Qr.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Ln(e.delim,e.mode));var n=new he.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Me(Qr.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function cp(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}$e({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ge("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Xf(t[0],e).text,color:n}}});$e({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Xf(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=He(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{cp(e);for(var n=Mt(e.body,t,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var o;if(e.left==="."?o=Ol(t,["mopen"]):o=Qr.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var u=n[l],c=u.isMiddle;c&&(n[l]=Qr.leftRightDelim(c.delim,r,i,c.options,e.mode,[]))}var f;if(e.right===".")f=Ol(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;f=Qr.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(f),G.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{cp(e);var n=fn(e.body,t);if(e.left!=="."){var r=new he.MathNode("mo",[Ln(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new he.MathNode("mo",[Ln(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return s3(n)}});$e({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Xf(t[0],e);if(!e.parser.leftrightDepth)throw new ge("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Ol(t,[]);else{n=Qr.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Ln("|","text"):Ln(e.delim,e.mode),r=new he.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var f3=(e,t)=>{var n=G.wrapFragment(Ze(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,s=0,o=qe.isCharacterBox(e.body);if(r==="sout")a=G.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var l=lt({number:.6,unit:"pt"},t),u=lt({number:.35,unit:"ex"},t),c=t.havingBaseSizing();i=i/c.sizeMultiplier;var f=n.height+n.depth+l+u;n.style.paddingLeft=Me(f/2+l);var h=Math.floor(1e3*f*i),d=dM(h),g=new Jr([new U0("phase",d)],{width:"400em",height:Me(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});a=G.makeSvgSpan(["hide-tail"],[g],t),a.style.height=Me(f),s=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,b=0,w=0;/box/.test(r)?(w=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(r==="colorbox"?0:w),b=y):r==="angl"?(w=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*w,b=Math.max(0,.25-n.depth)):(y=o?.2:0,b=y),a=t0.encloseSpan(n,r,y,b,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=Me(w)):r==="angl"&&w!==.049&&(a.style.borderTopWidth=Me(w),a.style.borderRightWidth=Me(w)),s=n.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var k;if(e.backgroundColor)k=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var E=/cancel|phase/.test(r)?["svg-align"]:[];k=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:E}]},t)}return/cancel/.test(r)&&(k.height=n.height,k.depth=n.depth),/cancel/.test(r)&&!o?G.makeSpan(["mord","cancel-lap"],[k],t):G.makeSpan(["mord"],[k],t)},h3=(e,t)=>{var n=0,r=new he.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[et(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};$e({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=He(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:f3,mathmlBuilder:h3});$e({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=He(t[0],"color-token").color,s=He(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:f3,mathmlBuilder:h3});$e({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});$e({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:f3,mathmlBuilder:h3});$e({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var C9={};function xr(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)C9[n[l]]=o;a&&(ef[t]=a),s&&(tf[t]=s)}var A9={};function T(e,t){A9[e]=t}function fp(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Zf=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ge("{"+e.envName+"} can be used only in display mode.")};function d3(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function G0(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:f,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=e.gullet.expandMacroAsText("\\arraystretch");if(d==null)s=1;else if(s=parseFloat(d),!s||s<0)throw new ge("Invalid \\arraystretch: "+d)}e.gullet.beginGroup();var g=[],y=[g],b=[],w=[],k=l!=null?[]:void 0;function E(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function $(){k&&(e.gullet.macros.get("\\df@tag")?(k.push(e.subparse([new gr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(E(),w.push(fp(e));;){var A=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},n&&(A={type:"styling",mode:e.mode,style:n,body:[A]}),g.push(A);var z=e.fetch().text;if(z==="&"){if(f&&g.length===f){if(u||o)throw new ge("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(z==="\\end"){$(),g.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(y.length>1||!c)&&y.pop(),w.length<y.length+1&&w.push([]);break}else if(z==="\\\\"){e.consume();var D=void 0;e.gullet.future().text!==" "&&(D=e.parseSizeGroup(!0)),b.push(D?D.value:null),$(),w.push(fp(e)),g=[],y.push(g),E()}else throw new ge("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:r,hLinesBeforeRow:w,colSeparationType:o,tags:k,leqno:h}}function m3(e){return e.slice(0,1)==="d"?"display":"text"}var Mr=function(t,n){var r,i,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],c=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,h=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var d=n.havingStyle(Ie.SCRIPT).sizeMultiplier;h=.2778*(d/n.sizeMultiplier)}var g=t.colSeparationType==="CD"?lt({number:3,unit:"ex"},n):12*f,y=3*f,b=t.arraystretch*g,w=.7*b,k=.3*b,E=0;function $(mt){for(var wt=0;wt<mt.length;++wt)wt>0&&(E+=.25),u.push({pos:E,isDashed:mt[wt]})}for($(s[0]),r=0;r<t.body.length;++r){var A=t.body[r],z=w,D=k;o<A.length&&(o=A.length);var j=new Array(A.length);for(i=0;i<A.length;++i){var U=Ze(A[i],n);D<U.depth&&(D=U.depth),z<U.height&&(z=U.height),j[i]=U}var S=t.rowGaps[r],C=0;S&&(C=lt(S,n),C>0&&(C+=k,D<C&&(D=C),C=0)),t.addJot&&(D+=y),j.height=z,j.depth=D,E+=z,j.pos=E,E+=D+C,l[r]=j,$(s[r+1])}var O=E/2+n.fontMetrics().axisHeight,P=t.cols||[],X=[],N,W,ae=[];if(t.tags&&t.tags.some(mt=>mt))for(r=0;r<a;++r){var ie=l[r],le=ie.pos-O,ee=t.tags[r],se=void 0;ee===!0?se=G.makeSpan(["eqn-num"],[],n):ee===!1?se=G.makeSpan([],[],n):se=G.makeSpan([],Mt(ee,n,!0),n),se.depth=ie.depth,se.height=ie.height,ae.push({type:"elem",elem:se,shift:le})}for(i=0,W=0;i<o||W<P.length;++i,++W){for(var oe=P[W]||{},re=!0;oe.type==="separator";){if(re||(N=G.makeSpan(["arraycolsep"],[]),N.style.width=Me(n.fontMetrics().doubleRuleSep),X.push(N)),oe.separator==="|"||oe.separator===":"){var Se=oe.separator==="|"?"solid":"dashed",Ce=G.makeSpan(["vertical-separator"],[],n);Ce.style.height=Me(E),Ce.style.borderRightWidth=Me(c),Ce.style.borderRightStyle=Se,Ce.style.margin="0 "+Me(-c/2);var De=E-O;De&&(Ce.style.verticalAlign=Me(-De)),X.push(Ce)}else throw new ge("Invalid separator type: "+oe.separator);W++,oe=P[W]||{},re=!1}if(!(i>=o)){var ce=void 0;(i>0||t.hskipBeforeAndAfter)&&(ce=qe.deflt(oe.pregap,h),ce!==0&&(N=G.makeSpan(["arraycolsep"],[]),N.style.width=Me(ce),X.push(N)));var me=[];for(r=0;r<a;++r){var te=l[r],xe=te[i];if(xe){var Te=te.pos-O;xe.depth=te.depth,xe.height=te.height,me.push({type:"elem",elem:xe,shift:Te})}}me=G.makeVList({positionType:"individualShift",children:me},n),me=G.makeSpan(["col-align-"+(oe.align||"c")],[me]),X.push(me),(i<o-1||t.hskipBeforeAndAfter)&&(ce=qe.deflt(oe.postgap,h),ce!==0&&(N=G.makeSpan(["arraycolsep"],[]),N.style.width=Me(ce),X.push(N)))}}if(l=G.makeSpan(["mtable"],X),u.length>0){for(var Y=G.makeLineSpan("hline",n,c),ke=G.makeLineSpan("hdashline",n,c),Ee=[{type:"elem",elem:l,shift:0}];u.length>0;){var Be=u.pop(),Fe=Be.pos-O;Be.isDashed?Ee.push({type:"elem",elem:ke,shift:Fe}):Ee.push({type:"elem",elem:Y,shift:Fe})}l=G.makeVList({positionType:"individualShift",children:Ee},n)}if(ae.length===0)return G.makeSpan(["mord"],[l],n);var Ge=G.makeVList({positionType:"individualShift",children:ae},n);return Ge=G.makeSpan(["tag"],[Ge],n),G.makeFragment([l,Ge])},xS={c:"center ",l:"left ",r:"right "},Sr=function(t,n){for(var r=[],i=new he.MathNode("mtd",[],["mtr-glue"]),a=new he.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new he.MathNode("mtd",[et(o[u],n)]));t.tags&&t.tags[s]&&(l.unshift(i),l.push(i),t.leqno?l.unshift(a):l.push(a)),r.push(new he.MathNode("mtr",l))}var c=new he.MathNode("mtable",r),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);c.setAttribute("rowspacing",Me(f));var h="",d="";if(t.cols&&t.cols.length>0){var g=t.cols,y="",b=!1,w=0,k=g.length;g[0].type==="separator"&&(h+="top ",w=1),g[g.length-1].type==="separator"&&(h+="bottom ",k-=1);for(var E=w;E<k;E++)g[E].type==="align"?(d+=xS[g[E].align],b&&(y+="none "),b=!0):g[E].type==="separator"&&b&&(y+=g[E].separator==="|"?"solid ":"dashed ",b=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(y)&&c.setAttribute("columnlines",y.trim())}if(t.colSeparationType==="align"){for(var $=t.cols||[],A="",z=1;z<$.length;z++)A+=z%2?"0em ":"1em ";c.setAttribute("columnspacing",A.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var D="",j=t.hLinesBeforeRow;h+=j[0].length>0?"left ":"",h+=j[j.length-1].length>0?"right ":"";for(var U=1;U<j.length-1;U++)D+=j[U].length===0?"none ":j[U][0]?"dashed ":"solid ";return/[sd]/.test(D)&&c.setAttribute("rowlines",D.trim()),h!==""&&(c=new he.MathNode("menclose",[c]),c.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(c=new he.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},E9=function(t,n){t.envName.indexOf("ed")===-1&&Zf(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=G0(t.parser,{cols:r,addJot:!0,autoTag:a?void 0:d3(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var c="",f=0;f<n[0].body.length;f++){var h=He(n[0].body[f],"textord");c+=h.text}o=Number(c),l=o*2}var d=!l;s.body.forEach(function(w){for(var k=1;k<w.length;k+=2){var E=He(w[k],"styling"),$=He(E.body[0],"ordgroup");$.body.unshift(u)}if(d)l<w.length&&(l=w.length);else{var A=w.length/2;if(o<A)throw new ge("Too many math in a row: "+("expected "+o+", but got "+A),w[0])}});for(var g=0;g<l;++g){var y="r",b=0;g%2===1?y="l":g>0&&d&&(b=1),r[g]={type:"align",align:y,pregap:b,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};xr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=Yf(t[0]),r=n?[t[0]]:He(t[0],"ordgroup").body,i=r.map(function(s){var o=l3(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ge("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return G0(e.parser,a,m3(e.envName))},htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ge("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=G0(e.parser,r,m3(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=G0(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=Yf(t[0]),r=n?[t[0]]:He(t[0],"ordgroup").body,i=r.map(function(s){var o=l3(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ge("Unknown column alignment: "+l,s)});if(i.length>1)throw new ge("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=G0(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new ge("{subarray} can contain only one column");return a},htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=G0(e.parser,t,m3(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:E9,htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){qe.contains(["gather","gather*"],e.envName)&&Zf(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:d3(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return G0(e.parser,t,"display")},htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:E9,htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Zf(e);var t={autoTag:d3(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return G0(e.parser,t,"display")},htmlBuilder:Mr,mathmlBuilder:Sr});xr({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Zf(e),oS(e.parser)},htmlBuilder:Mr,mathmlBuilder:Sr});T("\\nonumber","\\gdef\\@eqnsw{0}");T("\\notag","\\nonumber");$e({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ge(e.funcName+" valid only within array environment")}});var hp=C9;$e({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new ge("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=He(i.body[s],"textord").text;if(r==="\\begin"){if(!hp.hasOwnProperty(a))throw new ge("No such environment: "+a,i);var o=hp[a],{args:l,optArgs:u}=n.parseArguments("\\begin{"+a+"}",o),c={mode:n.mode,envName:a,parser:n},f=o.handler(c,l,u);n.expect("\\end",!1);var h=n.nextToken,d=He(n.parseFunction(),"environment");if(d.name!==a)throw new ge("Mismatch: \\begin{"+a+"} matched by \\end{"+d.name+"}",h);return f}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var D9=(e,t)=>{var n=e.font,r=t.withFont(n);return Ze(e.body,r)},_9=(e,t)=>{var n=e.font,r=t.withFont(n);return et(e.body,r)},dp={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};$e({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=nf(t[0]),a=r;return a in dp&&(a=dp[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:D9,mathmlBuilder:_9});$e({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=qe.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Gf(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});$e({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:D9,mathmlBuilder:_9});var z9=(e,t)=>{var n=t;return e==="display"?n=n.id>=Ie.SCRIPT.id?n.text():Ie.DISPLAY:e==="text"&&n.size===Ie.DISPLAY.size?n=Ie.TEXT:e==="script"?n=Ie.SCRIPT:e==="scriptscript"&&(n=Ie.SCRIPTSCRIPT),n},p3=(e,t)=>{var n=z9(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a;a=t.havingStyle(r);var s=Ze(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(i);var u=Ze(e.denom,a,t),c,f,h;e.hasBarLine?(e.barSize?(f=lt(e.barSize,t),c=G.makeLineSpan("frac-line",t,f)):c=G.makeLineSpan("frac-line",t),f=c.height,h=c.height):(c=null,f=0,h=t.fontMetrics().defaultRuleThickness);var d,g,y;n.size===Ie.DISPLAY.size||e.size==="display"?(d=t.fontMetrics().num1,f>0?g=3*h:g=7*h,y=t.fontMetrics().denom1):(f>0?(d=t.fontMetrics().num2,g=h):(d=t.fontMetrics().num3,g=3*h),y=t.fontMetrics().denom2);var b;if(c){var k=t.fontMetrics().axisHeight;d-s.depth-(k+.5*f)<g&&(d+=g-(d-s.depth-(k+.5*f))),k-.5*f-(u.height-y)<g&&(y+=g-(k-.5*f-(u.height-y)));var E=-(k-.5*f);b=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:c,shift:E},{type:"elem",elem:s,shift:-d}]},t)}else{var w=d-s.depth-(u.height-y);w<g&&(d+=.5*(g-w),y+=.5*(g-w)),b=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:s,shift:-d}]},t)}a=t.havingStyle(n),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var $;n.size===Ie.DISPLAY.size?$=t.fontMetrics().delim1:n.size===Ie.SCRIPTSCRIPT.size?$=t.havingStyle(Ie.SCRIPT).fontMetrics().delim2:$=t.fontMetrics().delim2;var A,z;return e.leftDelim==null?A=Ol(t,["mopen"]):A=Qr.customSizedDelim(e.leftDelim,$,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?z=G.makeSpan([]):e.rightDelim==null?z=Ol(t,["mclose"]):z=Qr.customSizedDelim(e.rightDelim,$,!0,t.havingStyle(n),e.mode,["mclose"]),G.makeSpan(["mord"].concat(a.sizingClasses(t)),[A,G.makeSpan(["mfrac"],[b]),z],t)},g3=(e,t)=>{var n=new he.MathNode("mfrac",[et(e.numer,t),et(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=lt(e.barSize,t);n.setAttribute("linethickness",Me(r))}var i=z9(e.size,t.style);if(i.size!==t.style.size){n=new he.MathNode("mstyle",[n]);var a=i.size===Ie.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new he.MathNode("mo",[new he.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),e.rightDelim!=null){var l=new he.MathNode("mo",[new he.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return s3(s)}return n};$e({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:p3,mathmlBuilder:g3});$e({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});$e({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var mp=["display","text","script","scriptscript"],pp=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};$e({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],a=nf(t[0]),s=a.type==="atom"&&a.family==="open"?pp(a.text):null,o=nf(t[1]),l=o.type==="atom"&&o.family==="close"?pp(o.text):null,u=He(t[2],"size"),c,f=null;u.isBlank?c=!0:(f=u.value,c=f.number>0);var h="auto",d=t[3];if(d.type==="ordgroup"){if(d.body.length>0){var g=He(d.body[0],"textord");h=mp[Number(g.text)]}}else d=He(d,"textord"),h=mp[Number(d.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:f,leftDelim:s,rightDelim:l,size:h}},htmlBuilder:p3,mathmlBuilder:g3});$e({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:He(t[0],"size").value,token:i}}});$e({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=Kx(He(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:p3,mathmlBuilder:g3});var I9=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?Ze(e.sup,t.havingStyle(n.sup()),t):Ze(e.sub,t.havingStyle(n.sub()),t),i=He(e.base,"horizBrace")):i=He(e,"horizBrace");var a=Ze(i.base,t.havingBaseStyle(Ie.DISPLAY)),s=t0.svgSpan(i,t),o;if(i.isOver?(o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=G.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);i.isOver?o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):o=G.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)},MS=(e,t)=>{var n=t0.mathMLnode(e.label);return new he.MathNode(e.isOver?"mover":"munder",[et(e.base,t),n])};$e({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:I9,mathmlBuilder:MS});$e({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=He(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:dt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1);return G.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=j0(e.body,t);return n instanceof _n||(n=new _n("mrow",[n])),n.setAttribute("href",e.href),n}});$e({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=He(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:dt(o)}}});$e({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!1);return G.makeFragment(n)},mathmlBuilder(e,t){return new he.MathNode("mrow",fn(e.body,t))}});$e({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,a=He(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length!==2)throw new ge("Error parsing key-value for \\htmlData");l["data-"+f[0].trim()]=f[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:dt(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=G.makeSpan(r,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>j0(e.body,t)});$e({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:dt(t[0]),mathml:dt(t[1])}},htmlBuilder:(e,t)=>{var n=Mt(e.html,t,!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>j0(e.mathml,t)});var l4=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ge("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!K8(r))throw new ge("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};$e({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=He(n[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length===2){var h=f[1].trim();switch(f[0].trim()){case"alt":o=h;break;case"width":i=l4(h);break;case"height":a=l4(h);break;case"totalheight":s=l4(h);break;default:throw new ge("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var d=He(t[0],"url").url;return o===""&&(o=d,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=lt(e.height,t),r=0;e.totalheight.number>0&&(r=lt(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=lt(e.width,t));var a={height:Me(n+r)};i>0&&(a.width=Me(i)),r>0&&(a.verticalAlign=Me(-r));var s=new MM(e.src,e.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new he.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=lt(e.height,t),i=0;if(e.totalheight.number>0&&(i=lt(e.totalheight,t)-r,n.setAttribute("valign",Me(-i))),n.setAttribute("height",Me(r+i)),e.width.number>0){var a=lt(e.width,t);n.setAttribute("width",Me(a))}return n.setAttribute("src",e.src),n}});$e({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=He(t[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return G.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=lt(e.dimension,t);return new he.SpaceNode(n)}});$e({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=G.makeSpan([],[Ze(e.body,t)]),n=G.makeSpan(["inner"],[n],t)):n=G.makeSpan(["inner"],[Ze(e.body,t)]);var r=G.makeSpan(["fix"],[]),i=G.makeSpan([e.alignment],[n,r],t),a=G.makeSpan(["strut"]);return a.style.height=Me(i.height+i.depth),i.depth&&(a.style.verticalAlign=Me(-i.depth)),i.children.unshift(a),i=G.makeSpan(["thinbox"],[i],t),G.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new he.MathNode("mpadded",[et(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});$e({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});$e({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ge("Mismatched "+e.funcName)}});var gp=(e,t)=>{switch(t.style.size){case Ie.DISPLAY.size:return e.display;case Ie.TEXT.size:return e.text;case Ie.SCRIPT.size:return e.script;case Ie.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};$e({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:dt(t[0]),text:dt(t[1]),script:dt(t[2]),scriptscript:dt(t[3])}},htmlBuilder:(e,t)=>{var n=gp(e,t),r=Mt(n,t,!1);return G.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=gp(e,t);return j0(n,t)}});var N9=(e,t,n,r,i,a,s)=>{e=G.makeSpan([],[e]);var o=n&&qe.isCharacterBox(n),l,u;if(t){var c=Ze(t,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(n){var f=Ze(n,r.havingStyle(i.sub()),r);l={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var h;if(u&&l){var d=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+s;h=G.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=e.height-s;h=G.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},r)}else if(u){var y=e.depth+s;h=G.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var b=[h];if(l&&a!==0&&!o){var w=G.makeSpan(["mspace"],[],r);w.style.marginRight=Me(a),b.unshift(w)}return G.makeSpan(["mop","op-limits"],b,r)},q9=["\\smallint"],tl=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=He(e.base,"op"),i=!0):a=He(e,"op");var s=t.style,o=!1;s.size===Ie.DISPLAY.size&&a.symbol&&!qe.contains(q9,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(c=a.name.slice(1),a.name=c==="oiint"?"\\iint":"\\iiint"),l=G.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var f=l.italic,h=G.staticSvg(c+"Size"+(o?"2":"1"),t);l=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},t),a.name="\\"+c,l.classes.unshift("mop"),l.italic=f}}else if(a.body){var d=Mt(a.body,t,!0);d.length===1&&d[0]instanceof Fn?(l=d[0],l.classes[0]="mop"):l=G.makeSpan(["mop"],d,t)}else{for(var g=[],y=1;y<a.name.length;y++)g.push(G.mathsym(a.name[y],a.mode,t));l=G.makeSpan(["mop"],g,t)}var b=0,w=0;return(l instanceof Fn||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(l.height-l.depth)/2-t.fontMetrics().axisHeight,w=l.italic),i?N9(l,n,r,t,s,w,b):(b&&(l.style.position="relative",l.style.top=Me(b)),l)},uu=(e,t)=>{var n;if(e.symbol)n=new _n("mo",[Ln(e.name,e.mode)]),qe.contains(q9,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new _n("mo",fn(e.body,t));else{n=new _n("mi",[new _l(e.name.slice(1))]);var r=new _n("mo",[Ln("⁡","text")]);e.parentIsSupSub?n=new _n("mrow",[n,r]):n=u9([n,r])}return n},SS={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};$e({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=SS[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:tl,mathmlBuilder:uu});$e({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:dt(r)}},htmlBuilder:tl,mathmlBuilder:uu});var kS={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};$e({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:tl,mathmlBuilder:uu});$e({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:tl,mathmlBuilder:uu});$e({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=kS[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:tl,mathmlBuilder:uu});var B9=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=He(e.base,"operatorname"),i=!0):a=He(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(f=>{var h=f.text;return typeof h=="string"?{type:"textord",mode:f.mode,text:h}:f}),l=Mt(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Fn&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=G.makeSpan(["mop"],l,t)}else s=G.makeSpan(["mop"],[],t);return i?N9(s,n,r,t,t.style,0,0):s},$S=(e,t)=>{for(var n=fn(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof he.SpaceNode))if(a instanceof he.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof he.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(c=>c.toText()).join("");n=[new he.TextNode(o)]}var l=new he.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new he.MathNode("mo",[Ln("⁡","text")]);return e.parentIsSupSub?new he.MathNode("mrow",[l,u]):he.newDocumentFragment([l,u])};$e({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:dt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:B9,mathmlBuilder:$S});T("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ks({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?G.makeFragment(Mt(e.body,t,!1)):G.makeSpan(["mord"],Mt(e.body,t,!0),t)},mathmlBuilder(e,t){return j0(e.body,t,!0)}});$e({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle()),r=G.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return G.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new he.MathNode("mo",[new he.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new he.MathNode("mover",[et(e.body,t),n]);return r.setAttribute("accent","true"),r}});$e({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:dt(r)}},htmlBuilder:(e,t)=>{var n=Mt(e.body,t.withPhantom(),!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=fn(e.body,t);return new he.MathNode("mphantom",n)}});$e({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),G.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=fn(dt(e.body),t),r=new he.MathNode("mphantom",n),i=new he.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});$e({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan(["inner"],[Ze(e.body,t.withPhantom())]),r=G.makeSpan(["fix"],[]);return G.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=fn(dt(e.body),t),r=new he.MathNode("mphantom",n),i=new he.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});$e({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=He(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Ze(e.body,t),r=lt(e.dy,t);return G.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new he.MathNode("mpadded",[et(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});$e({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});$e({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],a=He(t[0],"size"),s=He(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&He(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var n=G.makeSpan(["mord","rule"],[],t),r=lt(e.width,t),i=lt(e.height,t),a=e.shift?lt(e.shift,t):0;return n.style.borderRightWidth=Me(r),n.style.borderTopWidth=Me(i),n.style.bottom=Me(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=lt(e.width,t),r=lt(e.height,t),i=e.shift?lt(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new he.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Me(n)),s.setAttribute("height",Me(r));var o=new he.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",Me(i)):(o.setAttribute("height",Me(i)),o.setAttribute("depth",Me(-i))),o.setAttribute("voffset",Me(i)),o}});function F9(e,t,n){for(var r=Mt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,t.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+t.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return G.makeFragment(r)}var vp=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],TS=(e,t)=>{var n=t.havingSize(e.size);return F9(e.body,n,t)};$e({type:"sizing",names:vp,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:vp.indexOf(r)+1,body:a}},htmlBuilder:TS,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=fn(e.body,n),i=new he.MathNode("mstyle",r);return i.setAttribute("mathsize",Me(n.sizeMultiplier)),i}});$e({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,a=!1,s=n[0]&&He(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var c=t[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return G.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new he.MathNode("mpadded",[et(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});$e({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],a=t[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=G.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,a=i;t.style.id<Ie.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:c}=Qr.sqrtImage(o,t),f=l.height-u;f>n.height+n.depth+s&&(s=(s+f-n.height-n.depth)/2);var h=l.height-n.height-s-u;n.style.paddingLeft=Me(c);var d=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var g=t.havingStyle(Ie.SCRIPTSCRIPT),y=Ze(e.index,g,t),b=.6*(d.height-d.depth),w=G.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),k=G.makeSpan(["root"],[w]);return G.makeSpan(["mord","sqrt"],[k,d],t)}else return G.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new he.MathNode("mroot",[et(n,t),et(r,t)]):new he.MathNode("msqrt",[et(n,t)])}});var yp={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT};$e({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var n=yp[e.style],r=t.havingStyle(n).withFont("");return F9(e.body,r,t)},mathmlBuilder(e,t){var n=yp[e.style],r=t.havingStyle(n),i=fn(e.body,r),a=new he.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var CS=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Ie.DISPLAY.size||r.alwaysHandleSupSub);return i?tl:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===Ie.DISPLAY.size||r.limits);return a?B9:null}else{if(r.type==="accent")return qe.isCharacterBox(r.base)?u3:null;if(r.type==="horizBrace"){var s=!t.sub;return s===r.isOver?I9:null}else return null}else return null};Ks({type:"supsub",htmlBuilder(e,t){var n=CS(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:a}=e,s=Ze(r,t),o,l,u=t.fontMetrics(),c=0,f=0,h=r&&qe.isCharacterBox(r);if(i){var d=t.havingStyle(t.style.sup());o=Ze(i,d,t),h||(c=s.height-d.fontMetrics().supDrop*d.sizeMultiplier/t.sizeMultiplier)}if(a){var g=t.havingStyle(t.style.sub());l=Ze(a,g,t),h||(f=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}var y;t.style===Ie.DISPLAY?y=u.sup1:t.style.cramped?y=u.sup3:y=u.sup2;var b=t.sizeMultiplier,w=Me(.5/u.ptPerEm/b),k=null;if(l){var E=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Fn||E)&&(k=Me(-s.italic))}var $;if(o&&l){c=Math.max(c,y,o.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var A=u.defaultRuleThickness,z=4*A;if(c-o.depth-(l.height-f)<z){f=z-(c-o.depth)+l.height;var D=.8*u.xHeight-(c-o.depth);D>0&&(c+=D,f-=D)}var j=[{type:"elem",elem:l,shift:f,marginRight:w,marginLeft:k},{type:"elem",elem:o,shift:-c,marginRight:w}];$=G.makeVList({positionType:"individualShift",children:j},t)}else if(l){f=Math.max(f,u.sub1,l.height-.8*u.xHeight);var U=[{type:"elem",elem:l,marginLeft:k,marginRight:w}];$=G.makeVList({positionType:"shift",positionData:f,children:U},t)}else if(o)c=Math.max(c,y,o.depth+.25*u.xHeight),$=G.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:w}]},t);else throw new Error("supsub must have either sup or sub.");var S=K4(s,"right")||"mord";return G.makeSpan([S],[s,G.makeSpan(["msupsub"],[$])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[et(e.base,t)];e.sub&&a.push(et(e.sub,t)),e.sup&&a.push(et(e.sup,t));var s;if(n)s=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===Ie.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===Ie.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Ie.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Ie.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===Ie.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===Ie.DISPLAY)?s="mover":s="msup"}return new he.MathNode(s,a)}});Ks({type:"atom",htmlBuilder(e,t){return G.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new he.MathNode("mo",[Ln(e.text,e.mode)]);if(e.family==="bin"){var r=o3(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var L9={mi:"italic",mn:"normal",mtext:"normal"};Ks({type:"mathord",htmlBuilder(e,t){return G.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new he.MathNode("mi",[Ln(e.text,e.mode,t)]),r=o3(e,t)||"italic";return r!==L9[n.type]&&n.setAttribute("mathvariant",r),n}});Ks({type:"textord",htmlBuilder(e,t){return G.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Ln(e.text,e.mode,t),r=o3(e,t)||"normal",i;return e.mode==="text"?i=new he.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new he.MathNode("mn",[n]):e.text==="\\prime"?i=new he.MathNode("mo",[n]):i=new he.MathNode("mi",[n]),r!==L9[i.type]&&i.setAttribute("mathvariant",r),i}});var u4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},c4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ks({type:"spacing",htmlBuilder(e,t){if(c4.hasOwnProperty(e.text)){var n=c4[e.text].className||"";if(e.mode==="text"){var r=G.makeOrd(e,t,"textord");return r.classes.push(n),r}else return G.makeSpan(["mspace",n],[G.mathsym(e.text,e.mode,t)],t)}else{if(u4.hasOwnProperty(e.text))return G.makeSpan(["mspace",u4[e.text]],[],t);throw new ge('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(c4.hasOwnProperty(e.text))n=new he.MathNode("mtext",[new he.TextNode(" ")]);else{if(u4.hasOwnProperty(e.text))return new he.MathNode("mspace");throw new ge('Unknown type of space "'+e.text+'"')}return n}});var bp=()=>{var e=new he.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Ks({type:"tag",mathmlBuilder(e,t){var n=new he.MathNode("mtable",[new he.MathNode("mtr",[bp(),new he.MathNode("mtd",[j0(e.body,t)]),bp(),new he.MathNode("mtd",[j0(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var wp={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},xp={"\\textbf":"textbf","\\textmd":"textmd"},AS={"\\textit":"textit","\\textup":"textup"},Mp=(e,t)=>{var n=e.font;return n?wp[n]?t.withTextFontFamily(wp[n]):xp[n]?t.withTextFontWeight(xp[n]):t.withTextFontShape(AS[n]):t};$e({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:dt(i),font:r}},htmlBuilder(e,t){var n=Mp(e,t),r=Mt(e.body,n,!0);return G.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=Mp(e,t);return j0(e.body,n)}});$e({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=G.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new he.MathNode("mo",[new he.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new he.MathNode("munder",[et(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});$e({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return G.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new he.MathNode("mpadded",[et(e.body,t)],["vcenter"])}});$e({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ge("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=Sp(e),r=[],i=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(G.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return G.makeSpan(["mord","text"].concat(i.sizingClasses(t)),G.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new he.TextNode(Sp(e)),r=new he.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Sp=e=>e.body.replace(/ /g,e.star?"␣":" "),P0=o9,R9=`[ \r
	]`,ES="\\\\[a-zA-Z@]+",DS="\\\\[^\uD800-\uDFFF]",_S="("+ES+")"+R9+"*",zS=`\\\\(
|[ \r	]+
?)[ \r	]*`,nm="[̀-ͯ]",IS=new RegExp(nm+"+$"),NS="("+R9+"+)|"+(zS+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(nm+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(nm+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+_S)+("|"+DS+")");class kp{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(NS,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new gr("EOF",new mn(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new ge("Unexpected character: '"+t[n]+"'",new gr(t[n],new mn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new gr(i,new mn(this,n,this.tokenRegex.lastIndex))}}class qS{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ge("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var BS=A9;T("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});T("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});T("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});T("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});T("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});T("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");T("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var $p={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};T("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ge("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=$p[t.text],r==null||r>=n)throw new ge("Invalid base-"+n+" digit "+t.text);for(var i;(i=$p[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var v3=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new ge("\\newcommand's first argument must be a macro name");var i=r[0].text,a=e.isDefined(i);if(a&&!t)throw new ge("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!n)throw new ge("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new ge("Invalid number of arguments: "+o);s=parseInt(o),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:s}),""};T("\\newcommand",e=>v3(e,!1,!0));T("\\renewcommand",e=>v3(e,!0,!1));T("\\providecommand",e=>v3(e,!0,!0));T("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});T("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});T("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),P0[n],at.math[n],at.text[n]),""});T("\\bgroup","{");T("\\egroup","}");T("~","\\nobreakspace");T("\\lq","`");T("\\rq","'");T("\\aa","\\r a");T("\\AA","\\r A");T("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");T("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");T("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");T("ℬ","\\mathscr{B}");T("ℰ","\\mathscr{E}");T("ℱ","\\mathscr{F}");T("ℋ","\\mathscr{H}");T("ℐ","\\mathscr{I}");T("ℒ","\\mathscr{L}");T("ℳ","\\mathscr{M}");T("ℛ","\\mathscr{R}");T("ℭ","\\mathfrak{C}");T("ℌ","\\mathfrak{H}");T("ℨ","\\mathfrak{Z}");T("\\Bbbk","\\Bbb{k}");T("·","\\cdotp");T("\\llap","\\mathllap{\\textrm{#1}}");T("\\rlap","\\mathrlap{\\textrm{#1}}");T("\\clap","\\mathclap{\\textrm{#1}}");T("\\mathstrut","\\vphantom{(}");T("\\underbar","\\underline{\\text{#1}}");T("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');T("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");T("\\ne","\\neq");T("≠","\\neq");T("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");T("∉","\\notin");T("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");T("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");T("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");T("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");T("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");T("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");T("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");T("⟂","\\perp");T("‼","\\mathclose{!\\mkern-0.8mu!}");T("∌","\\notni");T("⌜","\\ulcorner");T("⌝","\\urcorner");T("⌞","\\llcorner");T("⌟","\\lrcorner");T("©","\\copyright");T("®","\\textregistered");T("️","\\textregistered");T("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');T("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');T("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');T("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');T("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");T("⋮","\\vdots");T("\\varGamma","\\mathit{\\Gamma}");T("\\varDelta","\\mathit{\\Delta}");T("\\varTheta","\\mathit{\\Theta}");T("\\varLambda","\\mathit{\\Lambda}");T("\\varXi","\\mathit{\\Xi}");T("\\varPi","\\mathit{\\Pi}");T("\\varSigma","\\mathit{\\Sigma}");T("\\varUpsilon","\\mathit{\\Upsilon}");T("\\varPhi","\\mathit{\\Phi}");T("\\varPsi","\\mathit{\\Psi}");T("\\varOmega","\\mathit{\\Omega}");T("\\substack","\\begin{subarray}{c}#1\\end{subarray}");T("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");T("\\boxed","\\fbox{$\\displaystyle{#1}$}");T("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");T("\\implies","\\DOTSB\\;\\Longrightarrow\\;");T("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Tp={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};T("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Tp?t=Tp[n]:(n.slice(0,4)==="\\not"||n in at.math&&qe.contains(["bin","rel"],at.math[n].group))&&(t="\\dotsb"),t});var y3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};T("\\dotso",function(e){var t=e.future().text;return t in y3?"\\ldots\\,":"\\ldots"});T("\\dotsc",function(e){var t=e.future().text;return t in y3&&t!==","?"\\ldots\\,":"\\ldots"});T("\\cdots",function(e){var t=e.future().text;return t in y3?"\\@cdots\\,":"\\@cdots"});T("\\dotsb","\\cdots");T("\\dotsm","\\cdots");T("\\dotsi","\\!\\cdots");T("\\dotsx","\\ldots\\,");T("\\DOTSI","\\relax");T("\\DOTSB","\\relax");T("\\DOTSX","\\relax");T("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");T("\\,","\\tmspace+{3mu}{.1667em}");T("\\thinspace","\\,");T("\\>","\\mskip{4mu}");T("\\:","\\tmspace+{4mu}{.2222em}");T("\\medspace","\\:");T("\\;","\\tmspace+{5mu}{.2777em}");T("\\thickspace","\\;");T("\\!","\\tmspace-{3mu}{.1667em}");T("\\negthinspace","\\!");T("\\negmedspace","\\tmspace-{4mu}{.2222em}");T("\\negthickspace","\\tmspace-{5mu}{.277em}");T("\\enspace","\\kern.5em ");T("\\enskip","\\hskip.5em\\relax");T("\\quad","\\hskip1em\\relax");T("\\qquad","\\hskip2em\\relax");T("\\tag","\\@ifstar\\tag@literal\\tag@paren");T("\\tag@paren","\\tag@literal{({#1})}");T("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ge("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});T("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");T("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");T("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");T("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");T("\\newline","\\\\\\relax");T("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var P9=Me(dr["Main-Regular"]["T".charCodeAt(0)][1]-.7*dr["Main-Regular"]["A".charCodeAt(0)][1]);T("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+P9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");T("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+P9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");T("\\hspace","\\@ifstar\\@hspacer\\@hspace");T("\\@hspace","\\hskip #1\\relax");T("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");T("\\ordinarycolon",":");T("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");T("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');T("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');T("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');T("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');T("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');T("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');T("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');T("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');T("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');T("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');T("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');T("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');T("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');T("∷","\\dblcolon");T("∹","\\eqcolon");T("≔","\\coloneqq");T("≕","\\eqqcolon");T("⩴","\\Coloneqq");T("\\ratio","\\vcentcolon");T("\\coloncolon","\\dblcolon");T("\\colonequals","\\coloneqq");T("\\coloncolonequals","\\Coloneqq");T("\\equalscolon","\\eqqcolon");T("\\equalscoloncolon","\\Eqqcolon");T("\\colonminus","\\coloneq");T("\\coloncolonminus","\\Coloneq");T("\\minuscolon","\\eqcolon");T("\\minuscoloncolon","\\Eqcolon");T("\\coloncolonapprox","\\Colonapprox");T("\\coloncolonsim","\\Colonsim");T("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");T("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");T("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");T("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");T("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");T("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");T("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");T("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");T("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");T("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");T("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");T("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");T("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");T("\\nleqq","\\html@mathml{\\@nleqq}{≰}");T("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");T("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");T("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");T("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");T("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");T("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");T("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");T("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");T("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");T("\\imath","\\html@mathml{\\@imath}{ı}");T("\\jmath","\\html@mathml{\\@jmath}{ȷ}");T("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");T("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");T("⟦","\\llbracket");T("⟧","\\rrbracket");T("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");T("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");T("⦃","\\lBrace");T("⦄","\\rBrace");T("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");T("⦵","\\minuso");T("\\darr","\\downarrow");T("\\dArr","\\Downarrow");T("\\Darr","\\Downarrow");T("\\lang","\\langle");T("\\rang","\\rangle");T("\\uarr","\\uparrow");T("\\uArr","\\Uparrow");T("\\Uarr","\\Uparrow");T("\\N","\\mathbb{N}");T("\\R","\\mathbb{R}");T("\\Z","\\mathbb{Z}");T("\\alef","\\aleph");T("\\alefsym","\\aleph");T("\\Alpha","\\mathrm{A}");T("\\Beta","\\mathrm{B}");T("\\bull","\\bullet");T("\\Chi","\\mathrm{X}");T("\\clubs","\\clubsuit");T("\\cnums","\\mathbb{C}");T("\\Complex","\\mathbb{C}");T("\\Dagger","\\ddagger");T("\\diamonds","\\diamondsuit");T("\\empty","\\emptyset");T("\\Epsilon","\\mathrm{E}");T("\\Eta","\\mathrm{H}");T("\\exist","\\exists");T("\\harr","\\leftrightarrow");T("\\hArr","\\Leftrightarrow");T("\\Harr","\\Leftrightarrow");T("\\hearts","\\heartsuit");T("\\image","\\Im");T("\\infin","\\infty");T("\\Iota","\\mathrm{I}");T("\\isin","\\in");T("\\Kappa","\\mathrm{K}");T("\\larr","\\leftarrow");T("\\lArr","\\Leftarrow");T("\\Larr","\\Leftarrow");T("\\lrarr","\\leftrightarrow");T("\\lrArr","\\Leftrightarrow");T("\\Lrarr","\\Leftrightarrow");T("\\Mu","\\mathrm{M}");T("\\natnums","\\mathbb{N}");T("\\Nu","\\mathrm{N}");T("\\Omicron","\\mathrm{O}");T("\\plusmn","\\pm");T("\\rarr","\\rightarrow");T("\\rArr","\\Rightarrow");T("\\Rarr","\\Rightarrow");T("\\real","\\Re");T("\\reals","\\mathbb{R}");T("\\Reals","\\mathbb{R}");T("\\Rho","\\mathrm{P}");T("\\sdot","\\cdot");T("\\sect","\\S");T("\\spades","\\spadesuit");T("\\sub","\\subset");T("\\sube","\\subseteq");T("\\supe","\\supseteq");T("\\Tau","\\mathrm{T}");T("\\thetasym","\\vartheta");T("\\weierp","\\wp");T("\\Zeta","\\mathrm{Z}");T("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");T("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");T("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");T("\\bra","\\mathinner{\\langle{#1}|}");T("\\ket","\\mathinner{|{#1}\\rangle}");T("\\braket","\\mathinner{\\langle{#1}\\rangle}");T("\\Bra","\\left\\langle#1\\right|");T("\\Ket","\\left|#1\\right\\rangle");var O9=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=f=>h=>{e&&(h.macros.set("|",s),i.length&&h.macros.set("\\|",o));var d=f;if(!f&&i.length){var g=h.future();g.text==="|"&&(h.popToken(),d=!0)}return{tokens:d?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,c=t.expandTokens([...a,...u,...n]);return t.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};T("\\bra@ket",O9(!1));T("\\bra@set",O9(!0));T("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");T("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");T("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");T("\\angln","{\\angl n}");T("\\blue","\\textcolor{##6495ed}{#1}");T("\\orange","\\textcolor{##ffa500}{#1}");T("\\pink","\\textcolor{##ff00af}{#1}");T("\\red","\\textcolor{##df0030}{#1}");T("\\green","\\textcolor{##28ae7b}{#1}");T("\\gray","\\textcolor{gray}{#1}");T("\\purple","\\textcolor{##9d38bd}{#1}");T("\\blueA","\\textcolor{##ccfaff}{#1}");T("\\blueB","\\textcolor{##80f6ff}{#1}");T("\\blueC","\\textcolor{##63d9ea}{#1}");T("\\blueD","\\textcolor{##11accd}{#1}");T("\\blueE","\\textcolor{##0c7f99}{#1}");T("\\tealA","\\textcolor{##94fff5}{#1}");T("\\tealB","\\textcolor{##26edd5}{#1}");T("\\tealC","\\textcolor{##01d1c1}{#1}");T("\\tealD","\\textcolor{##01a995}{#1}");T("\\tealE","\\textcolor{##208170}{#1}");T("\\greenA","\\textcolor{##b6ffb0}{#1}");T("\\greenB","\\textcolor{##8af281}{#1}");T("\\greenC","\\textcolor{##74cf70}{#1}");T("\\greenD","\\textcolor{##1fab54}{#1}");T("\\greenE","\\textcolor{##0d923f}{#1}");T("\\goldA","\\textcolor{##ffd0a9}{#1}");T("\\goldB","\\textcolor{##ffbb71}{#1}");T("\\goldC","\\textcolor{##ff9c39}{#1}");T("\\goldD","\\textcolor{##e07d10}{#1}");T("\\goldE","\\textcolor{##a75a05}{#1}");T("\\redA","\\textcolor{##fca9a9}{#1}");T("\\redB","\\textcolor{##ff8482}{#1}");T("\\redC","\\textcolor{##f9685d}{#1}");T("\\redD","\\textcolor{##e84d39}{#1}");T("\\redE","\\textcolor{##bc2612}{#1}");T("\\maroonA","\\textcolor{##ffbde0}{#1}");T("\\maroonB","\\textcolor{##ff92c6}{#1}");T("\\maroonC","\\textcolor{##ed5fa6}{#1}");T("\\maroonD","\\textcolor{##ca337c}{#1}");T("\\maroonE","\\textcolor{##9e034e}{#1}");T("\\purpleA","\\textcolor{##ddd7ff}{#1}");T("\\purpleB","\\textcolor{##c6b9fc}{#1}");T("\\purpleC","\\textcolor{##aa87ff}{#1}");T("\\purpleD","\\textcolor{##7854ab}{#1}");T("\\purpleE","\\textcolor{##543b78}{#1}");T("\\mintA","\\textcolor{##f5f9e8}{#1}");T("\\mintB","\\textcolor{##edf2df}{#1}");T("\\mintC","\\textcolor{##e0e5cc}{#1}");T("\\grayA","\\textcolor{##f6f7f7}{#1}");T("\\grayB","\\textcolor{##f0f1f2}{#1}");T("\\grayC","\\textcolor{##e3e5e6}{#1}");T("\\grayD","\\textcolor{##d6d8da}{#1}");T("\\grayE","\\textcolor{##babec2}{#1}");T("\\grayF","\\textcolor{##888d93}{#1}");T("\\grayG","\\textcolor{##626569}{#1}");T("\\grayH","\\textcolor{##3b3e40}{#1}");T("\\grayI","\\textcolor{##21242c}{#1}");T("\\kaBlue","\\textcolor{##314453}{#1}");T("\\kaGreen","\\textcolor{##71B307}{#1}");var H9={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class FS{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new qS(BS,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new kp(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new gr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new ge("Extra }",a)}else if(a.text==="EOF")throw new ge("Unexpected end of input in a macro argument, expected '"+(t&&r?t[o]:"}")+"'",a);if(t&&r)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ge("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new ge("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ge("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new ge("Too many expansions: infinite loop or need to increase maxExpand setting");var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new ge("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new ge("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new gr(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new kp(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:a};return c}return i}isDefined(t){return this.macros.has(t)||P0.hasOwnProperty(t)||at.math.hasOwnProperty(t)||at.text.hasOwnProperty(t)||H9.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:P0.hasOwnProperty(t)&&!P0[t].primitive}}var Cp=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,vc=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),f4={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Ap={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Hl{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new FS(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ge("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new gr("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Hl.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&P0[i.text]&&P0[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new ge("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var a,s,o=t.slice(0,n),l=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,t[n],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new ge("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new ge("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new ge("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new ge("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new ge("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(vc[a.text]){var u=vc[a.text],c=Cp.test(a.text);for(this.consume();;){var f=this.fetch().text;if(!vc[f]||Cp.test(f)!==c)break;this.consume(),u+=vc[f]}var h=new Hl(u,this.settings).parse();c?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,a=P0[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new ge("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new ge("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new ge("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,t)}callFunction(t,n,r,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},o=P0[t];if(o&&o.handler)return o.handler(s,n,r);throw new ge("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new ge("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new ge("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new ge("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ge("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new ge("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ge("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ge("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!K8(a))throw new ge("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(t,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:mn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!H9.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ge("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],a=i.text;a==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:mn.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:mn.range(i,t[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[r+1].text===a&&(t.splice(r,2,{type:"textord",mode:"text",loc:mn.range(i,t[r+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ge(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}Ap.hasOwnProperty(n[0])&&!at[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=Ap[n[0]]+n.slice(1));var a=IS.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var s;if(at[this.mode][n]){this.settings.strict&&this.mode==="math"&&Q4.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=at[this.mode][n].group,l=mn.range(t),u;if($M.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Q8(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:mn.range(t),text:n};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var h=a[0][f];if(!f4[h])throw new ge("Unknown accent ' "+h+"'",t);var d=f4[h][this.mode]||f4[h].text;if(!d)throw new ge("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:mn.range(t),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}Hl.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var b3=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Hl(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ge("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new gr("\\df@tag")])}]}return i},V9=function(t,n,r){n.textContent="";var i=w3(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),V9=function(){throw new ge("KaTeX doesn't work in quirks mode.")});var LS=function(t,n){var r=w3(t,n).toMarkup();return r},RS=function(t,n){var r=new t3(n);return b3(t,r)},U9=function(t,n,r){if(r.throwOnError||!(t instanceof ge))throw t;var i=G.makeSpan(["katex-error"],[new Fn(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},w3=function(t,n){var r=new t3(n);try{var i=b3(t,r);return GM(i,t,r)}catch(a){return U9(a,t,r)}},PS=function(t,n){var r=new t3(n);try{var i=b3(t,r);return XM(i,t,r)}catch(a){return U9(a,t,r)}},OS={version:"0.16.8",render:V9,renderToString:LS,ParseError:ge,SETTINGS_SCHEMA:Uc,__parse:RS,__renderToDomTree:w3,__renderToHTMLTree:PS,__setFontMetrics:yM,__defineSymbol:m,__defineFunction:$e,__defineMacro:T,__domTree:{Span:lu,Anchor:i3,SymbolNode:Fn,SvgNode:Jr,PathNode:U0,LineNode:Z4}};function HS(e){let t,n;return{c(){t=new Sx(!1),n=un(),this.h()},l(r){t=kx(r,!1),n=un(),this.h()},h(){t.a=n},m(r,i){t.m(e[0],r,i),I(r,n,i)},p(r,[i]){i&1&&t.p(r[0])},i:Xe,o:Xe,d(r){r&&(M(n),t.d())}}}function VS(e,t,n){let r="",{big:i=!1}=t,{text:a="c = \\pm\\sqrt{a^2 + b^2}"}=t,{begin:s=""}=t;return e.$$set=o=>{"big"in o&&n(1,i=o.big),"text"in o&&n(2,a=o.text),"begin"in o&&n(3,s=o.begin)},e.$$.update=()=>{if(e.$$.dirty&14){let o=a;s.length>0&&(o=`\\begin{${s}}`+o+`\\end{${s}}`),n(0,r=OS.renderToString(o.replaceAll("[","{").replaceAll("]","}"),{throwOnError:!1,displayMode:i||s.length>0}))}},[r,i,a,s]}class _e extends Gt{constructor(t){super(),Xt(this,t,VS,HS,Yt,{big:1,text:2,begin:3})}}function ln(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vl(e){let t,n,r;e.length!==2?(t=ln,n=(o,l)=>ln(e(o),l),r=(o,l)=>e(o)-l):(t=e===ln||e===cu?e:US,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function US(){return 0}function j9(e){return e===null?NaN:+e}function*jS(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const WS=Vl(ln),YS=WS.right;Vl(j9).center;const Qf=YS;function x3(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function GS(e){return e.length|0}function XS(e){return!(e>0)}function ZS(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function QS(e){return t=>e(...t)}function KS(...e){const t=typeof e[e.length-1]=="function"&&QS(e.pop());e=e.map(ZS);const n=e.map(GS),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(XS))return a;for(;;){a.push(i.map((o,l)=>e[l][o]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function JS(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function W9(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function Y9(e,t){const n=W9(e,t);return n&&Math.sqrt(n)}function Wn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Vs{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class Us extends Map{constructor(t,n=Z9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rm(this,t))}has(t){return super.has(rm(this,t))}set(t,n){return super.set(G9(this,t),n)}delete(t){return super.delete(X9(this,t))}}class M3 extends Set{constructor(t,n=Z9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(rm(this,t))}add(t){return super.add(G9(this,t))}delete(t){return super.delete(X9(this,t))}}function rm({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function G9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function X9({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Z9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function im(e){return e}function S3(e,...t){return k3(e,im,im,t)}function Bo(e,t,...n){return k3(e,im,t,n)}function ek(e,t,...n){return k3(e,Array.from,t,n)}function k3(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const o=new Us,l=r[s++];let u=-1;for(const c of a){const f=l(c,++u,a),h=o.get(f);h?h.push(c):o.set(f,[c])}for(const[c,f]of o)o.set(c,i(f,s));return t(o)}(e,0)}function tk(e,t){return Array.from(t,n=>e[n])}function Ul(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const o=rf(s[i],s[a]);if(o)return o}})):(n=e.map(n),r.sort((i,a)=>rf(n[i],n[a]))),tk(e,r)}return e.sort(Q9(n))}function Q9(e=ln){if(e===ln)return rf;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function rf(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function $3(e,t,n){return(t.length!==2?Ul(Bo(e,t,n),([r,i],[a,s])=>ln(i,s)||ln(r,a)):Ul(S3(e,n),([r,i],[a,s])=>t(i,s)||ln(r,a))).map(([r])=>r)}const nk=Math.sqrt(50),rk=Math.sqrt(10),ik=Math.sqrt(2);function af(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=nk?10:a>=rk?5:a>=ik?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?af(e,t,n*2):[o,l,u]}function jl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?af(t,e,n):af(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function sf(e,t,n){return t=+t,e=+e,n=+n,af(e,t,n)[2]}function am(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?sf(t,e,n):sf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ak(e){return Math.max(1,Math.ceil(Math.log(x3(e))/Math.LN2)+1)}function br(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function sk(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function n0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ok(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function K9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?rf:Q9(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(t-u*f/l+h)),g=Math.min(r,Math.floor(t+(l-u)*f/l+h));K9(e,t,d,g,i)}const a=e[t];let s=n,o=r;for(dl(e,n,t),i(e[r],a)>0&&dl(e,n,r);s<o;){for(dl(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?dl(e,n,o):(++o,dl(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function dl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function J9(e,t=ln){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?ln(s,i)>0:ln(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Ho(e,t,n){if(e=Float64Array.from(jS(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return n0(e);if(t>=1)return br(e);var r,i=(r-1)*t,a=Math.floor(i),s=br(K9(e,a).subarray(0,a+1)),o=n0(e.subarray(a+1));return s+(o-s)*(i-a)}}function lk(e,t,n=j9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function uk(e,t,n){const r=x3(e),i=Ho(e,.75)-Ho(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function eg(e,t,n){const r=x3(e),i=Y9(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function ck(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function of(e,t){return Ho(e,.5,t)}function*fk(e){for(const t of e)yield*t}function tg(e){return Array.from(fk(e))}function hk(e,t){const n=new Us;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function dk(e,t=mk){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function mk(e,t){return[e,t]}function sm(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function W0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function lf(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function pk(e){return e}var h4=1,d4=2,om=3,yc=4,Ep=1e-6;function gk(e){return"translate("+e+",0)"}function vk(e){return"translate(0,"+e+")"}function yk(e){return t=>+e(t)}function bk(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function wk(){return!this.__axis}function xk(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===h4||e===yc?-1:1,c=e===yc||e===d4?"x":"y",f=e===h4||e===om?gk:vk;function h(d){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,n):pk),b=Math.max(a,0)+o,w=t.range(),k=+w[0]+l,E=+w[w.length-1]+l,$=(t.bandwidth?bk:yk)(t.copy(),l),A=d.selection?d.selection():d,z=A.selectAll(".domain").data([null]),D=A.selectAll(".tick").data(g,t).order(),j=D.exit(),U=D.enter().append("g").attr("class","tick"),S=D.select("line"),C=D.select("text");z=z.merge(z.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(U),S=S.merge(U.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),C=C.merge(U.append("text").attr("fill","currentColor").attr(c,u*b).attr("dy",e===h4?"0em":e===om?"0.71em":"0.32em")),d!==A&&(z=z.transition(d),D=D.transition(d),S=S.transition(d),C=C.transition(d),j=j.transition(d).attr("opacity",Ep).attr("transform",function(O){return isFinite(O=$(O))?f(O+l):this.getAttribute("transform")}),U.attr("opacity",Ep).attr("transform",function(O){var P=this.parentNode.__axis;return f((P&&isFinite(P=P(O))?P:$(O))+l)})),j.remove(),z.attr("d",e===yc||e===d4?s?"M"+u*s+","+k+"H"+l+"V"+E+"H"+u*s:"M"+l+","+k+"V"+E:s?"M"+k+","+u*s+"V"+l+"H"+E+"V"+u*s:"M"+k+","+l+"H"+E),D.attr("opacity",1).attr("transform",function(O){return f($(O)+l)}),S.attr(c+"2",u*a),C.attr(c,u*b).text(y),A.filter(wk).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===d4?"start":e===yc?"end":"middle"),A.each(function(){this.__axis=$})}return h.scale=function(d){return arguments.length?(t=d,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=s=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(o=+d,h):o},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function Mk(e){return xk(om,e)}var Sk={value:()=>{}};function ng(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wc(n)}function Wc(e){this._=e}function kk(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wc.prototype=ng.prototype={constructor:Wc,on:function(e,t){var n=this._,r=kk(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=$k(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=Dp(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Dp(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function $k(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Dp(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Sk,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var lm="http://www.w3.org/1999/xhtml";const Vo={svg:"http://www.w3.org/2000/svg",xhtml:lm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vo.hasOwnProperty(t)?{space:Vo[t],local:e}:e}function Tk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===lm&&t.documentElement.namespaceURI===lm?t.createElement(e):t.createElementNS(n,e)}}function Ck(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jf(e){var t=Kf(e);return(t.local?Ck:Tk)(t)}function Ak(){}function T3(e){return e==null?Ak:function(){return this.querySelector(e)}}function Ek(e){typeof e!="function"&&(e=T3(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new yn(r,this._parents)}function Dk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _k(){return[]}function rg(e){return e==null?_k:function(){return this.querySelectorAll(e)}}function zk(e){return function(){return Dk(e.apply(this,arguments))}}function Ik(e){typeof e=="function"?e=zk(e):e=rg(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new yn(r,i)}function ig(e){return function(){return this.matches(e)}}function ag(e){return function(t){return t.matches(e)}}var Nk=Array.prototype.find;function qk(e){return function(){return Nk.call(this.children,e)}}function Bk(){return this.firstElementChild}function Fk(e){return this.select(e==null?Bk:qk(typeof e=="function"?e:ag(e)))}var Lk=Array.prototype.filter;function Rk(){return Array.from(this.children)}function Pk(e){return function(){return Lk.call(this.children,e)}}function Ok(e){return this.selectAll(e==null?Rk:Pk(typeof e=="function"?e:ag(e)))}function Hk(e){typeof e!="function"&&(e=ig(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new yn(r,this._parents)}function sg(e){return new Array(e.length)}function Vk(){return new yn(this._enter||this._groups.map(sg),this._parents)}function uf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}uf.prototype={constructor:uf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Uk(e){return function(){return e}}function jk(e,t,n,r,i,a){for(var s=0,o,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new uf(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function Wk(e,t,n,r,i,a,s){var o,l,u=new Map,c=t.length,f=a.length,h=new Array(c),d;for(o=0;o<c;++o)(l=t[o])&&(h[o]=d=s.call(l,l.__data__,o,t)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<f;++o)d=s.call(e,a[o],o,a)+"",(l=u.get(d))?(r[o]=l,l.__data__=a[o],u.delete(d)):n[o]=new uf(e,a[o]);for(o=0;o<c;++o)(l=t[o])&&u.get(h[o])===l&&(i[o]=l)}function Yk(e){return e.__data__}function Gk(e,t){if(!arguments.length)return Array.from(this,Yk);var n=t?Wk:jk,r=this._parents,i=this._groups;typeof e!="function"&&(e=Uk(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],h=f.length,d=Xk(e.call(c,c&&c.__data__,u,r)),g=d.length,y=o[u]=new Array(g),b=s[u]=new Array(g),w=l[u]=new Array(h);n(c,f,y,b,w,d,t);for(var k=0,E=0,$,A;k<g;++k)if($=y[k]){for(k>=E&&(E=k+1);!(A=b[E])&&++E<g;);$._next=A||null}}return s=new yn(s,r),s._enter=o,s._exit=l,s}function Xk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zk(){return new yn(this._exit||this._groups.map(sg),this._parents)}function Qk(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Kk(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=o[l]=new Array(f),d,g=0;g<f;++g)(d=u[g]||c[g])&&(h[g]=d);for(;l<i;++l)o[l]=n[l];return new yn(o,this._parents)}function Jk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function e$(e){e||(e=t$);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,c=0;c<o;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new yn(i,this._parents).order()}function t$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function r$(){return Array.from(this)}function i$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function a$(){let e=0;for(const t of this)++e;return e}function s$(){return!this.node()}function o$(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function l$(e){return function(){this.removeAttribute(e)}}function u$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c$(e,t){return function(){this.setAttribute(e,t)}}function f$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function h$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function d$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function m$(e,t){var n=Kf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?u$:l$:typeof t=="function"?n.local?d$:h$:n.local?f$:c$)(n,t))}function og(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function p$(e){return function(){this.style.removeProperty(e)}}function g$(e,t,n){return function(){this.style.setProperty(e,t,n)}}function v$(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function y$(e,t,n){return arguments.length>1?this.each((t==null?p$:typeof t=="function"?v$:g$)(e,t,n??"")):Uo(this.node(),e)}function Uo(e,t){return e.style.getPropertyValue(t)||og(e).getComputedStyle(e,null).getPropertyValue(t)}function b$(e){return function(){delete this[e]}}function w$(e,t){return function(){this[e]=t}}function x$(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function M$(e,t){return arguments.length>1?this.each((t==null?b$:typeof t=="function"?x$:w$)(e,t)):this.node()[e]}function lg(e){return e.trim().split(/^|\s+/)}function C3(e){return e.classList||new ug(e)}function ug(e){this._node=e,this._names=lg(e.getAttribute("class")||"")}ug.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function cg(e,t){for(var n=C3(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function fg(e,t){for(var n=C3(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function S$(e){return function(){cg(this,e)}}function k$(e){return function(){fg(this,e)}}function $$(e,t){return function(){(t.apply(this,arguments)?cg:fg)(this,e)}}function T$(e,t){var n=lg(e+"");if(arguments.length<2){for(var r=C3(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?$$:t?S$:k$)(n,t))}function C$(){this.textContent=""}function A$(e){return function(){this.textContent=e}}function E$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function D$(e){return arguments.length?this.each(e==null?C$:(typeof e=="function"?E$:A$)(e)):this.node().textContent}function _$(){this.innerHTML=""}function z$(e){return function(){this.innerHTML=e}}function I$(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function N$(e){return arguments.length?this.each(e==null?_$:(typeof e=="function"?I$:z$)(e)):this.node().innerHTML}function q$(){this.nextSibling&&this.parentNode.appendChild(this)}function B$(){return this.each(q$)}function F$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L$(){return this.each(F$)}function R$(e){var t=typeof e=="function"?e:Jf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function P$(){return null}function O$(e,t){var n=typeof e=="function"?e:Jf(e),r=t==null?P$:typeof t=="function"?t:T3(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function H$(){var e=this.parentNode;e&&e.removeChild(this)}function V$(){return this.each(H$)}function U$(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function j$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function W$(e){return this.select(e?j$:U$)}function Y$(e){return arguments.length?this.property("__data__",e):this.node().__data__}function G$(e){return function(t){e.call(this,t,this.__data__)}}function X$(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Z$(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Q$(e,t,n){return function(){var r=this.__on,i,a=G$(t);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function K$(e,t,n){var r=X$(e+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<a;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(o=t?Q$:Z$,i=0;i<a;++i)this.each(o(r[i],t,n));return this}function hg(e,t,n){var r=og(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function J$(e,t){return function(){return hg(this,e,t)}}function eT(e,t){return function(){return hg(this,e,t.apply(this,arguments))}}function tT(e,t){return this.each((typeof t=="function"?eT:J$)(e,t))}function*nT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var dg=[null];function yn(e,t){this._groups=e,this._parents=t}function fu(){return new yn([[document.documentElement]],dg)}function rT(){return this}yn.prototype=fu.prototype={constructor:yn,select:Ek,selectAll:Ik,selectChild:Fk,selectChildren:Ok,filter:Hk,data:Gk,enter:Vk,exit:Zk,join:Qk,merge:Kk,selection:rT,order:Jk,sort:e$,call:n$,nodes:r$,node:i$,size:a$,empty:s$,each:o$,attr:m$,style:y$,property:M$,classed:T$,text:D$,html:N$,raise:B$,lower:L$,append:R$,insert:O$,remove:V$,clone:W$,datum:Y$,on:K$,dispatch:tT,[Symbol.iterator]:nT};function Il(e){return typeof e=="string"?new yn([[document.querySelector(e)]],[document.documentElement]):new yn([[e]],dg)}function iT(e){let t;for(;t=e.sourceEvent;)e=t;return e}function aT(e,t){if(e=iT(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function nl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function X0(){}var js=.7,jo=1/js,Fo="\\s*([+-]?\\d+)\\s*",Wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sT=/^#([0-9a-f]{3,8})$/,oT=new RegExp(`^rgb\\(${Fo},${Fo},${Fo}\\)$`),lT=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),uT=new RegExp(`^rgba\\(${Fo},${Fo},${Fo},${Wl}\\)$`),cT=new RegExp(`^rgba\\(${vr},${vr},${vr},${Wl}\\)$`),fT=new RegExp(`^hsl\\(${Wl},${vr},${vr}\\)$`),hT=new RegExp(`^hsla\\(${Wl},${vr},${vr},${Wl}\\)$`),_p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nl(X0,r0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zp,formatHex:zp,formatHex8:dT,formatHsl:mT,formatRgb:Ip,toString:Ip});function zp(){return this.rgb().formatHex()}function dT(){return this.rgb().formatHex8()}function mT(){return mg(this).formatHsl()}function Ip(){return this.rgb().formatRgb()}function r0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Np(t):n===3?new Ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oT.exec(e))?new Ct(t[1],t[2],t[3],1):(t=lT.exec(e))?new Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uT.exec(e))?bc(t[1],t[2],t[3],t[4]):(t=cT.exec(e))?bc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fT.exec(e))?Fp(t[1],t[2]/100,t[3]/100,1):(t=hT.exec(e))?Fp(t[1],t[2]/100,t[3]/100,t[4]):_p.hasOwnProperty(e)?Np(_p[e]):e==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Np(e){return new Ct(e>>16&255,e>>8&255,e&255,1)}function bc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ct(e,t,n,r)}function A3(e){return e instanceof X0||(e=r0(e)),e?(e=e.rgb(),new Ct(e.r,e.g,e.b,e.opacity)):new Ct}function Y0(e,t,n,r){return arguments.length===1?A3(e):new Ct(e,t,n,r??1)}function Ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nl(Ct,Y0,hu(X0,{brighter(e){return e=e==null?jo:Math.pow(jo,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ct(Os(this.r),Os(this.g),Os(this.b),cf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qp,formatHex:qp,formatHex8:pT,formatRgb:Bp,toString:Bp}));function qp(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function pT(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bp(){const e=cf(this.opacity);return`${e===1?"rgb(":"rgba("}${Os(this.r)}, ${Os(this.g)}, ${Os(this.b)}${e===1?")":`, ${e})`}`}function cf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Os(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ps(e){return e=Os(e),(e<16?"0":"")+e.toString(16)}function Fp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Un(e,t,n,r)}function mg(e){if(e instanceof Un)return new Un(e.h,e.s,e.l,e.opacity);if(e instanceof X0||(e=r0(e)),!e)return new Un;if(e instanceof Un)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Un(s,o,l,e.opacity)}function um(e,t,n,r){return arguments.length===1?mg(e):new Un(e,t,n,r??1)}function Un(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nl(Un,um,hu(X0,{brighter(e){return e=e==null?jo:Math.pow(jo,e),new Un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new Un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ct(m4(e>=240?e-240:e+120,i,r),m4(e,i,r),m4(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Un(Lp(this.h),wc(this.s),wc(this.l),cf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cf(this.opacity);return`${e===1?"hsl(":"hsla("}${Lp(this.h)}, ${wc(this.s)*100}%, ${wc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lp(e){return e=(e||0)%360,e<0?e+360:e}function wc(e){return Math.max(0,Math.min(1,e||0))}function m4(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pg=Math.PI/180,gg=180/Math.PI,ff=18,vg=.96422,yg=1,bg=.82521,wg=4/29,Lo=6/29,xg=3*Lo*Lo,gT=Lo*Lo*Lo;function Mg(e){if(e instanceof yr)return new yr(e.l,e.a,e.b,e.opacity);if(e instanceof Wr)return Sg(e);e instanceof Ct||(e=A3(e));var t=y4(e.r),n=y4(e.g),r=y4(e.b),i=p4((.2225045*t+.7168786*n+.0606169*r)/yg),a,s;return t===n&&n===r?a=s=i:(a=p4((.4360747*t+.3850649*n+.1430804*r)/vg),s=p4((.0139322*t+.0971045*n+.7141733*r)/bg)),new yr(116*i-16,500*(a-i),200*(i-s),e.opacity)}function cm(e,t,n,r){return arguments.length===1?Mg(e):new yr(e,t,n,r??1)}function yr(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}nl(yr,cm,hu(X0,{brighter(e){return new yr(this.l+ff*(e??1),this.a,this.b,this.opacity)},darker(e){return new yr(this.l-ff*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=vg*g4(t),e=yg*g4(e),n=bg*g4(n),new Ct(v4(3.1338561*t-1.6168667*e-.4906146*n),v4(-.9787684*t+1.9161415*e+.033454*n),v4(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function p4(e){return e>gT?Math.pow(e,1/3):e/xg+wg}function g4(e){return e>Lo?e*e*e:xg*(e-wg)}function v4(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function y4(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vT(e){if(e instanceof Wr)return new Wr(e.h,e.c,e.l,e.opacity);if(e instanceof yr||(e=Mg(e)),e.a===0&&e.b===0)return new Wr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*gg;return new Wr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function fm(e,t,n,r){return arguments.length===1?vT(e):new Wr(e,t,n,r??1)}function Wr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Sg(e){if(isNaN(e.h))return new yr(e.l,0,0,e.opacity);var t=e.h*pg;return new yr(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}nl(Wr,fm,hu(X0,{brighter(e){return new Wr(this.h,this.c,this.l+ff*(e??1),this.opacity)},darker(e){return new Wr(this.h,this.c,this.l-ff*(e??1),this.opacity)},rgb(){return Sg(this).rgb()}}));var kg=-.14861,E3=1.78277,D3=-.29227,eh=-.90649,Yl=1.97294,Rp=Yl*eh,Pp=Yl*E3,Op=E3*D3-eh*kg;function yT(e){if(e instanceof Hs)return new Hs(e.h,e.s,e.l,e.opacity);e instanceof Ct||(e=A3(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Op*r+Rp*t-Pp*n)/(Op+Rp-Pp),a=r-i,s=(Yl*(n-i)-D3*a)/eh,o=Math.sqrt(s*s+a*a)/(Yl*i*(1-i)),l=o?Math.atan2(s,a)*gg-120:NaN;return new Hs(l<0?l+360:l,o,i,e.opacity)}function wr(e,t,n,r){return arguments.length===1?yT(e):new Hs(e,t,n,r??1)}function Hs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nl(Hs,wr,hu(X0,{brighter(e){return e=e==null?jo:Math.pow(jo,e),new Hs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new Hs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*pg,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ct(255*(t+n*(kg*r+E3*i)),255*(t+n*(D3*r+eh*i)),255*(t+n*(Yl*r)),this.opacity)}}));function bT(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function wT(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return bT((n-r/t)*t,s,i,a,o)}}const th=e=>()=>e;function $g(e,t){return function(n){return e+n*t}}function xT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _3(e,t){var n=t-e;return n?$g(e,n>180||n<-180?n-360*Math.round(n/360):n):th(isNaN(e)?t:e)}function MT(e){return(e=+e)==1?Ot:function(t,n){return n-t?xT(t,n,e):th(isNaN(t)?n:t)}}function Ot(e,t){var n=t-e;return n?$g(e,n):th(isNaN(e)?t:e)}const Ws=function e(t){var n=MT(t);function r(i,a){var s=n((i=Y0(i)).r,(a=Y0(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Ot(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function ST(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=Y0(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var kT=ST(wT);function $T(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function TT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CT(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=du(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function AT(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ET(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=du(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var hm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b4=new RegExp(hm.source,"g");function DT(e){return function(){return e}}function _T(e){return function(t){return e(t)+""}}function Tg(e,t){var n=hm.lastIndex=b4.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=hm.exec(e))&&(i=b4.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Pt(r,i)})),n=b4.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?_T(l[0].x):DT(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function du(e,t){var n=typeof t,r;return t==null||n==="boolean"?th(t):(n==="number"?Pt:n==="string"?(r=r0(t))?(t=r,Ws):Tg:t instanceof r0?Ws:t instanceof Date?AT:TT(t)?$T:Array.isArray(t)?CT:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ET:Pt)(e,t)}function z3(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Hp=180/Math.PI,dm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cg(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Hp,skewX:Math.atan(l)*Hp,scaleX:s,scaleY:o}}var xc;function zT(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dm:Cg(t.a,t.b,t.c,t.d,t.e,t.f)}function IT(e){return e==null||(xc||(xc=document.createElementNS("http://www.w3.org/2000/svg","g")),xc.setAttribute("transform",e),!(e=xc.transform.baseVal.consolidate()))?dm:(e=e.matrix,Cg(e.a,e.b,e.c,e.d,e.e,e.f))}function Ag(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,h,d,g){if(u!==f||c!==h){var y=d.push("translate(",null,t,null,n);g.push({i:y-4,x:Pt(u,f)},{i:y-2,x:Pt(c,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Pt(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Pt(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,d,g){if(u!==f||c!==h){var y=d.push(i(d)+"scale(",null,",",null,")");g.push({i:y-4,x:Pt(u,f)},{i:y-2,x:Pt(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),o(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var g=-1,y=h.length,b;++g<y;)f[(b=h[g]).i]=b.x(d);return f.join("")}}}var NT=Ag(zT,"px, ","px)","deg)"),qT=Ag(IT,", ",")",")");function BT(e){return function(t,n){var r=e((t=um(t)).h,(n=um(n)).h),i=Ot(t.s,n.s),a=Ot(t.l,n.l),s=Ot(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const FT=BT(_3);function LT(e,t){var n=Ot((e=cm(e)).l,(t=cm(t)).l),r=Ot(e.a,t.a),i=Ot(e.b,t.b),a=Ot(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function RT(e){return function(t,n){var r=e((t=fm(t)).h,(n=fm(n)).h),i=Ot(t.c,n.c),a=Ot(t.l,n.l),s=Ot(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const PT=RT(_3);function Eg(e){return function t(n){n=+n;function r(i,a){var s=e((i=wr(i)).h,(a=wr(a)).h),o=Ot(i.s,a.s),l=Ot(i.l,a.l),u=Ot(i.opacity,a.opacity);return function(c){return i.h=s(c),i.s=o(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}Eg(_3);var I3=Eg(Ot);function nh(e,t){t===void 0&&(t=e,e=du);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Gn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Wo=0,Ml=0,ml=0,Dg=1e3,hf,Sl,df=0,Ys=0,rh=0,Gl=typeof performance=="object"&&performance.now?performance:Date,_g=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function N3(){return Ys||(_g(OT),Ys=Gl.now()+rh)}function OT(){Ys=0}function mf(){this._call=this._time=this._next=null}mf.prototype=zg.prototype={constructor:mf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?N3():+n)+(t==null?0:+t),!this._next&&Sl!==this&&(Sl?Sl._next=this:hf=this,Sl=this),this._call=e,this._time=n,mm()},stop:function(){this._call&&(this._call=null,this._time=1/0,mm())}};function zg(e,t,n){var r=new mf;return r.restart(e,t,n),r}function HT(){N3(),++Wo;for(var e=hf,t;e;)(t=Ys-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wo}function Vp(){Ys=(df=Gl.now())+rh,Wo=Ml=0;try{HT()}finally{Wo=0,UT(),Ys=0}}function VT(){var e=Gl.now(),t=e-df;t>Dg&&(rh-=t,df=e)}function UT(){for(var e,t=hf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:hf=n);Sl=e,mm(r)}function mm(e){if(!Wo){Ml&&(Ml=clearTimeout(Ml));var t=e-Ys;t>24?(e<1/0&&(Ml=setTimeout(Vp,e-Gl.now()-rh)),ml&&(ml=clearInterval(ml))):(ml||(df=Gl.now(),ml=setInterval(VT,Dg)),Wo=1,_g(Vp))}}function Up(e,t,n){var r=new mf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var jT=ng("start","end","cancel","interrupt"),WT=[],Ig=0,jp=1,pm=2,Yc=3,Wp=4,gm=5,Gc=6;function ih(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;YT(e,n,{name:t,index:r,group:i,on:jT,tween:WT,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ig})}function q3(e,t){var n=Jn(e,t);if(n.state>Ig)throw new Error("too late; already scheduled");return n}function kr(e,t){var n=Jn(e,t);if(n.state>Yc)throw new Error("too late; already running");return n}function Jn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function YT(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=zg(a,0,n.time);function a(u){n.state=jp,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,d;if(n.state!==jp)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Yc)return Up(s);d.state===Wp?(d.state=Gc,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=Gc,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(Up(function(){n.state===Yc&&(n.state=Wp,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=pm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===pm){for(n.state=Yc,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function o(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=gm,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===gm&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Gc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function GT(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>pm&&r.state<gm,r.state=Gc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function XT(e){return this.each(function(){GT(this,e)})}function ZT(e,t){var n,r;return function(){var i=kr(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function QT(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=kr(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function KT(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Jn(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?ZT:QT)(n,e,t))}function B3(e,t,n){var r=e._id;return e.each(function(){var i=kr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Jn(i,r).value[t]}}function Ng(e,t){var n;return(typeof t=="number"?Pt:t instanceof r0?Ws:(n=r0(t))?(t=n,Ws):Tg)(e,t)}function JT(e){return function(){this.removeAttribute(e)}}function eC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tC(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function nC(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function rC(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function iC(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function aC(e,t){var n=Kf(e),r=n==="transform"?qT:Ng;return this.attrTween(e,typeof t=="function"?(n.local?iC:rC)(n,r,B3(this,"attr."+e,t)):t==null?(n.local?eC:JT)(n):(n.local?nC:tC)(n,r,t))}function sC(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function oC(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function lC(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&oC(e,a)),n}return i._value=t,i}function uC(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&sC(e,a)),n}return i._value=t,i}function cC(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kf(e);return this.tween(n,(r.local?lC:uC)(r,t))}function fC(e,t){return function(){q3(this,e).delay=+t.apply(this,arguments)}}function hC(e,t){return t=+t,function(){q3(this,e).delay=t}}function dC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fC:hC)(t,e)):Jn(this.node(),t).delay}function mC(e,t){return function(){kr(this,e).duration=+t.apply(this,arguments)}}function pC(e,t){return t=+t,function(){kr(this,e).duration=t}}function gC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mC:pC)(t,e)):Jn(this.node(),t).duration}function vC(e,t){if(typeof t!="function")throw new Error;return function(){kr(this,e).ease=t}}function yC(e){var t=this._id;return arguments.length?this.each(vC(t,e)):Jn(this.node(),t).ease}function bC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;kr(this,e).ease=n}}function wC(e){if(typeof e!="function")throw new Error;return this.each(bC(this._id,e))}function xC(e){typeof e!="function"&&(e=ig(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new i0(r,this._parents,this._name,this._id)}function MC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=t[o],u=n[o],c=l.length,f=s[o]=new Array(c),h,d=0;d<c;++d)(h=l[d]||u[d])&&(f[d]=h);for(;o<r;++o)s[o]=t[o];return new i0(s,this._parents,this._name,this._id)}function SC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function kC(e,t,n){var r,i,a=SC(t)?q3:kr;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}function $C(e,t){var n=this._id;return arguments.length<2?Jn(this.node(),n).on.on(e):this.each(kC(n,e,t))}function TC(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function CC(){return this.on("end.remove",TC(this._id))}function AC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=T3(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),c,f,h=0;h<l;++h)(c=o[h])&&(f=e.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,ih(u[h],t,n,h,u,Jn(c,n)));return new i0(a,this._parents,t,n)}function EC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rg(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),d,g=Jn(c,n),y=0,b=h.length;y<b;++y)(d=h[y])&&ih(d,t,n,y,h,g);a.push(h),s.push(c)}return new i0(a,s,t,n)}var DC=fu.prototype.constructor;function _C(){return new DC(this._groups,this._parents)}function zC(e,t){var n,r,i;return function(){var a=Uo(this,e),s=(this.style.removeProperty(e),Uo(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function qg(e){return function(){this.style.removeProperty(e)}}function IC(e,t,n){var r,i=n+"",a;return function(){var s=Uo(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function NC(e,t,n){var r,i,a;return function(){var s=Uo(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Uo(this,e))),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}function qC(e,t){var n,r,i,a="style."+t,s="end."+a,o;return function(){var l=kr(this,e),u=l.on,c=l.value[a]==null?o||(o=qg(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function BC(e,t,n){var r=(e+="")=="transform"?NT:Ng;return t==null?this.styleTween(e,zC(e,r)).on("end.style."+e,qg(e)):typeof t=="function"?this.styleTween(e,NC(e,r,B3(this,"style."+e,t))).each(qC(this._id,e)):this.styleTween(e,IC(e,r,t),n).on("end.style."+e,null)}function FC(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function LC(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&FC(e,s,n)),r}return a._value=t,a}function RC(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,LC(e,t,n??""))}function PC(e){return function(){this.textContent=e}}function OC(e){return function(){var t=e(this);this.textContent=t??""}}function HC(e){return this.tween("text",typeof e=="function"?OC(B3(this,"text",e)):PC(e==null?"":e+""))}function VC(e){return function(t){this.textContent=e.call(this,t)}}function UC(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&VC(i)),t}return r._value=e,r}function jC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,UC(e))}function WC(){for(var e=this._name,t=this._id,n=Bg(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var c=Jn(l,t);ih(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new i0(r,this._parents,e,n)}function YC(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=kr(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&a()})}var GC=0;function i0(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Bg(){return++GC}var Lr=fu.prototype;i0.prototype={constructor:i0,select:AC,selectAll:EC,selectChild:Lr.selectChild,selectChildren:Lr.selectChildren,filter:xC,merge:MC,selection:_C,transition:WC,call:Lr.call,nodes:Lr.nodes,node:Lr.node,size:Lr.size,empty:Lr.empty,each:Lr.each,on:$C,attr:aC,attrTween:cC,style:BC,styleTween:RC,text:HC,textTween:jC,remove:CC,tween:KT,delay:dC,duration:gC,ease:yC,easeVarying:wC,end:YC,[Symbol.iterator]:Lr[Symbol.iterator]};function XC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZC={time:null,delay:0,duration:250,ease:XC};function QC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function KC(e){var t,n;e instanceof i0?(t=e._id,e=e._name):(t=Bg(),(n=ZC).time=N3(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&ih(l,e,t,u,s,n||QC(l,t));return new i0(r,this._parents,e,t)}fu.prototype.interrupt=XT;fu.prototype.transition=KC;const vm=Math.PI,ym=2*vm,Fs=1e-6,JC=ym-Fs;function Fg(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function eA(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Fg;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tA{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Fg:eA(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Fs)if(!(Math.abs(f*l-u*c)>Fs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,g=i-o,y=l*l+u*u,b=d*d+g*g,w=Math.sqrt(y),k=Math.sqrt(h),E=a*Math.tan((vm-Math.acos((y+h-b)/(2*w*k)))/2),$=E/k,A=E/w;Math.abs($-1)>Fs&&this._append`L${t+$*c},${n+$*f}`,this._append`A${a},${a},0,0,${+(f*d>c*g)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Fs||Math.abs(this._y1-c)>Fs)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%ym+ym),h>JC?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Fs&&this._append`A${r},${r},0,${+(h>=vm)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bm(e=3){return new tA(+e)}function nA(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Yo(e){return e=pf(Math.abs(e)),e?e[1]:NaN}function rA(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function iA(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var aA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xl(e){if(!(t=aA.exec(e)))throw new Error("invalid format: "+e);var t;return new F3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xl.prototype=F3.prototype;function F3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}F3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sA(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Lg;function oA(e,t){var n=pf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Lg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pf(e,Math.max(0,t+a-1))[0]}function Yp(e,t){var n=pf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Gp={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nA,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yp(e*100,t),r:Yp,s:oA,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Xp(e){return e}var Zp=Array.prototype.map,Qp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lA(e){var t=e.grouping===void 0||e.thousands===void 0?Xp:rA(Zp.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Xp:iA(Zp.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Xl(f);var h=f.fill,d=f.align,g=f.sign,y=f.symbol,b=f.zero,w=f.width,k=f.comma,E=f.precision,$=f.trim,A=f.type;A==="n"?(k=!0,A="g"):Gp[A]||(E===void 0&&(E=12),$=!0,A="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var z=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",D=y==="$"?r:/[%p]/.test(A)?s:"",j=Gp[A],U=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function S(C){var O=z,P=D,X,N,W;if(A==="c")P=j(C)+P,C="";else{C=+C;var ae=C<0||1/C<0;if(C=isNaN(C)?l:j(Math.abs(C),E),$&&(C=sA(C)),ae&&+C==0&&g!=="+"&&(ae=!1),O=(ae?g==="("?g:o:g==="-"||g==="("?"":g)+O,P=(A==="s"?Qp[8+Lg/3]:"")+P+(ae&&g==="("?")":""),U){for(X=-1,N=C.length;++X<N;)if(W=C.charCodeAt(X),48>W||W>57){P=(W===46?i+C.slice(X+1):C.slice(X))+P,C=C.slice(0,X);break}}}k&&!b&&(C=t(C,1/0));var ie=O.length+C.length+P.length,le=ie<w?new Array(w-ie+1).join(h):"";switch(k&&b&&(C=t(le+C,le.length?w-P.length:1/0),le=""),d){case"<":C=O+C+P+le;break;case"=":C=O+le+C+P;break;case"^":C=le.slice(0,ie=le.length>>1)+O+C+P+le.slice(ie);break;default:C=le+O+C+P;break}return a(C)}return S.toString=function(){return f+""},S}function c(f,h){var d=u((f=Xl(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Yo(h)/3)))*3,y=Math.pow(10,-g),b=Qp[8+g/3];return function(w){return d(y*w)+b}}return{format:u,formatPrefix:c}}var Mc,mu,Rg;uA({thousands:",",grouping:[3],currency:["$",""]});function uA(e){return Mc=lA(e),mu=Mc.format,Rg=Mc.formatPrefix,Mc}function cA(e){return Math.max(0,-Yo(Math.abs(e)))}function fA(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yo(t)/3)))*3-Yo(Math.abs(e)))}function hA(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yo(t)-Yo(e))+1}var Oe=1e-6,Pg=1e-12,We=Math.PI,ft=We/2,Kp=We/4,bn=We*2,Ut=180/We,ct=We/180,Je=Math.abs,rl=Math.atan,a0=Math.atan2,Ue=Math.cos,Og=Math.exp,gf=Math.log,w4=Math.pow,Pe=Math.sin,In=Math.sign||function(e){return e>0?1:e<0?-1:0},cn=Math.sqrt,L3=Math.tan;function Hg(e){return e>1?0:e<-1?We:Math.acos(e)}function Rn(e){return e>1?ft:e<-1?-ft:Math.asin(e)}function Nn(){}function vf(e,t){e&&e7.hasOwnProperty(e.type)&&e7[e.type](e,t)}var Jp={Feature:function(e,t){vf(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)vf(n[r].geometry,t)}},e7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){wm(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)wm(n[r],t,0)},Polygon:function(e,t){t7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)t7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)vf(n[r],t)}};function wm(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function t7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)wm(e[n],t,1);t.polygonEnd()}function Rs(e,t){e&&Jp.hasOwnProperty(e.type)?Jp[e.type](e,t):vf(e,t)}function xm(e){return[a0(e[1],e[0]),Rn(e[2])]}function Go(e){var t=e[0],n=e[1],r=Ue(n);return[r*Ue(t),r*Pe(t),Pe(n)]}function Sc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yf(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function x4(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function kc(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Mm(e){var t=cn(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Sm(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function km(e,t){return Je(e)>We&&(e-=Math.round(e/bn)*bn),[e,t]}km.invert=km;function Vg(e,t,n){return(e%=bn)?t||n?Sm(r7(e),i7(t,n)):r7(e):t||n?i7(t,n):km}function n7(e){return function(t,n){return t+=e,Je(t)>We&&(t-=Math.round(t/bn)*bn),[t,n]}}function r7(e){var t=n7(e);return t.invert=n7(-e),t}function i7(e,t){var n=Ue(e),r=Pe(e),i=Ue(t),a=Pe(t);function s(o,l){var u=Ue(l),c=Ue(o)*u,f=Pe(o)*u,h=Pe(l),d=h*n+c*r;return[a0(f*i-d*a,c*n-h*r),Rn(d*i+f*a)]}return s.invert=function(o,l){var u=Ue(l),c=Ue(o)*u,f=Pe(o)*u,h=Pe(l),d=h*i-f*a;return[a0(f*i+h*a,c*n+d*r),Rn(d*n-c*r)]},s}function dA(e){e=Vg(e[0]*ct,e[1]*ct,e.length>2?e[2]*ct:0);function t(n){return n=e(n[0]*ct,n[1]*ct),n[0]*=Ut,n[1]*=Ut,n}return t.invert=function(n){return n=e.invert(n[0]*ct,n[1]*ct),n[0]*=Ut,n[1]*=Ut,n},t}function mA(e,t,n,r,i,a){if(n){var s=Ue(t),o=Pe(t),l=r*n;i==null?(i=t+r*bn,a=t-l/2):(i=a7(s,i),a=a7(s,a),(r>0?i<a:i>a)&&(i+=r*bn));for(var u,c=i;r>0?c>a:c<a;c-=l)u=xm([s,-o*Ue(c),-o*Pe(c)]),e.point(u[0],u[1])}}function a7(e,t){t=Go(t),t[0]-=e,Mm(t);var n=Hg(-t[1]);return((-t[2]<0?-n:n)+bn-Oe)%bn}function Ug(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Nn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Xc(e,t){return Je(e[0]-t[0])<Oe&&Je(e[1]-t[1])<Oe}function $c(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function jg(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(g){if(!((y=g.length-1)<=0)){var y,b=g[0],w=g[y],k;if(Xc(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),o=0;o<y;++o)i.point((b=g[o])[0],b[1]);i.lineEnd();return}w[0]+=2*Oe}a.push(k=new $c(b,g,null,!0)),s.push(k.o=new $c(b,null,k,!1)),a.push(k=new $c(w,g,null,!1)),s.push(k.o=new $c(w,null,k,!0))}}),!!a.length){for(s.sort(t),s7(a),s7(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var u=a[0],c,f;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=c.length;o<l;++o)i.point((f=c[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((f=c[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);i.lineEnd()}}}function s7(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function M4(e){return Je(e[0])<=We?e[0]:In(e[0])*((Je(e[0])+We)%bn-We)}function pA(e,t){var n=M4(t),r=t[1],i=Pe(r),a=[Pe(n),-Ue(n),0],s=0,o=0,l=new Vs;i===1?r=ft+Oe:i===-1&&(r=-ft-Oe);for(var u=0,c=e.length;u<c;++u)if(h=(f=e[u]).length)for(var f,h,d=f[h-1],g=M4(d),y=d[1]/2+Kp,b=Pe(y),w=Ue(y),k=0;k<h;++k,g=$,b=z,w=D,d=E){var E=f[k],$=M4(E),A=E[1]/2+Kp,z=Pe(A),D=Ue(A),j=$-g,U=j>=0?1:-1,S=U*j,C=S>We,O=b*z;if(l.add(a0(O*U*Pe(S),w*D+O*Ue(S))),s+=C?j+U*bn:j,C^g>=n^$>=n){var P=yf(Go(d),Go(E));Mm(P);var X=yf(a,P);Mm(X);var N=(C^j>=0?-1:1)*Rn(X[2]);(r>N||r===N&&(P[0]||P[1]))&&(o+=C^j>=0?1:-1)}}return(s<-Oe||s<Oe&&l<-Pg)^o&1}function Wg(e,t,n,r){return function(i){var a=t(i),s=Ug(),o=t(s),l=!1,u,c,f,h={point:d,lineStart:y,lineEnd:b,polygonStart:function(){h.point=w,h.lineStart=k,h.lineEnd=E,c=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=y,h.lineEnd=b,c=tg(c);var $=pA(u,r);c.length?(l||(i.polygonStart(),l=!0),jg(c,vA,$,n,i)):$&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d($,A){e($,A)&&i.point($,A)}function g($,A){a.point($,A)}function y(){h.point=g,a.lineStart()}function b(){h.point=d,a.lineEnd()}function w($,A){f.push([$,A]),o.point($,A)}function k(){o.lineStart(),f=[]}function E(){w(f[0][0],f[0][1]),o.lineEnd();var $=o.clean(),A=s.result(),z,D=A.length,j,U,S;if(f.pop(),u.push(f),f=null,!!D){if($&1){if(U=A[0],(j=U.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),z=0;z<j;++z)i.point((S=U[z])[0],S[1]);i.lineEnd()}return}D>1&&$&2&&A.push(A.pop().concat(A.shift())),c.push(A.filter(gA))}}return h}}function gA(e){return e.length>1}function vA(e,t){return((e=e.x)[0]<0?e[1]-ft-Oe:ft-e[1])-((t=t.x)[0]<0?t[1]-ft-Oe:ft-t[1])}const o7=Wg(function(){return!0},yA,wA,[-We,-ft]);function yA(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?We:-We,l=Je(a-t);Je(l-We)<Oe?(e.point(t,n=(n+s)/2>0?ft:-ft),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=We&&(Je(t-r)<Oe&&(t-=r*Oe),Je(a-o)<Oe&&(a-=o*Oe),n=bA(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function bA(e,t,n,r){var i,a,s=Pe(e-n);return Je(s)>Oe?rl((Pe(t)*(a=Ue(r))*Pe(n)-Pe(r)*(i=Ue(t))*Pe(e))/(i*a*s)):(t+r)/2}function wA(e,t,n,r){var i;if(e==null)i=n*ft,r.point(-We,i),r.point(0,i),r.point(We,i),r.point(We,0),r.point(We,-i),r.point(0,-i),r.point(-We,-i),r.point(-We,0),r.point(-We,i);else if(Je(e[0]-t[0])>Oe){var a=e[0]<t[0]?We:-We;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function xA(e){var t=Ue(e),n=6*ct,r=t>0,i=Je(t)>Oe;function a(c,f,h,d){mA(d,e,n,h,c,f)}function s(c,f){return Ue(c)*Ue(f)>t}function o(c){var f,h,d,g,y;return{lineStart:function(){g=d=!1,y=1},point:function(b,w){var k=[b,w],E,$=s(b,w),A=r?$?0:u(b,w):$?u(b+(b<0?We:-We),w):0;if(!f&&(g=d=$)&&c.lineStart(),$!==d&&(E=l(f,k),(!E||Xc(f,E)||Xc(k,E))&&(k[2]=1)),$!==d)y=0,$?(c.lineStart(),E=l(k,f),c.point(E[0],E[1])):(E=l(f,k),c.point(E[0],E[1],2),c.lineEnd()),f=E;else if(i&&f&&r^$){var z;!(A&h)&&(z=l(k,f,!0))&&(y=0,r?(c.lineStart(),c.point(z[0][0],z[0][1]),c.point(z[1][0],z[1][1]),c.lineEnd()):(c.point(z[1][0],z[1][1]),c.lineEnd(),c.lineStart(),c.point(z[0][0],z[0][1],3)))}$&&(!f||!Xc(f,k))&&c.point(k[0],k[1]),f=k,d=$,h=A},lineEnd:function(){d&&c.lineEnd(),f=null},clean:function(){return y|(g&&d)<<1}}}function l(c,f,h){var d=Go(c),g=Go(f),y=[1,0,0],b=yf(d,g),w=Sc(b,b),k=b[0],E=w-k*k;if(!E)return!h&&c;var $=t*w/E,A=-t*k/E,z=yf(y,b),D=kc(y,$),j=kc(b,A);x4(D,j);var U=z,S=Sc(D,U),C=Sc(U,U),O=S*S-C*(Sc(D,D)-1);if(!(O<0)){var P=cn(O),X=kc(U,(-S-P)/C);if(x4(X,D),X=xm(X),!h)return X;var N=c[0],W=f[0],ae=c[1],ie=f[1],le;W<N&&(le=N,N=W,W=le);var ee=W-N,se=Je(ee-We)<Oe,oe=se||ee<Oe;if(!se&&ie<ae&&(le=ae,ae=ie,ie=le),oe?se?ae+ie>0^X[1]<(Je(X[0]-N)<Oe?ae:ie):ae<=X[1]&&X[1]<=ie:ee>We^(N<=X[0]&&X[0]<=W)){var re=kc(U,(-S+P)/C);return x4(re,D),[X,xm(re)]}}}function u(c,f){var h=r?e:We-e,d=0;return c<-h?d|=1:c>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return Wg(s,o,a,r?[0,-e]:[-We,e-We])}function MA(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],u=t[1],c=0,f=1,h=l-s,d=u-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<c)return;g<f&&(f=g)}else if(h>0){if(g>f)return;g>c&&(c=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>f)return;g>c&&(c=g)}else if(h>0){if(g<c)return;g<f&&(f=g)}if(g=r-o,!(!d&&g>0)){if(g/=d,d<0){if(g<c)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>c&&(c=g)}if(g=a-o,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>c&&(c=g)}else if(d>0){if(g<c)return;g<f&&(f=g)}return c>0&&(e[0]=s+c*h,e[1]=o+c*d),f<1&&(t[0]=s+f*h,t[1]=o+f*d),!0}}}}}var kl=1e9,Tc=-kl;function Yg(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function a(u,c,f,h){var d=0,g=0;if(u==null||(d=s(u,f))!==(g=s(c,f))||l(u,c)<0^f>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+f+4)%4)!==g);else h.point(c[0],c[1])}function s(u,c){return Je(u[0]-e)<Oe?c>0?0:3:Je(u[0]-n)<Oe?c>0?2:1:Je(u[1]-t)<Oe?c>0?1:0:c>0?3:2}function o(u,c){return l(u.x,c.x)}function l(u,c){var f=s(u,1),h=s(c,1);return f!==h?f-h:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=Ug(),h,d,g,y,b,w,k,E,$,A,z,D={point:j,lineStart:O,lineEnd:P,polygonStart:S,polygonEnd:C};function j(N,W){i(N,W)&&c.point(N,W)}function U(){for(var N=0,W=0,ae=d.length;W<ae;++W)for(var ie=d[W],le=1,ee=ie.length,se=ie[0],oe,re,Se=se[0],Ce=se[1];le<ee;++le)oe=Se,re=Ce,se=ie[le],Se=se[0],Ce=se[1],re<=r?Ce>r&&(Se-oe)*(r-re)>(Ce-re)*(e-oe)&&++N:Ce<=r&&(Se-oe)*(r-re)<(Ce-re)*(e-oe)&&--N;return N}function S(){c=f,h=[],d=[],z=!0}function C(){var N=U(),W=z&&N,ae=(h=tg(h)).length;(W||ae)&&(u.polygonStart(),W&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),ae&&jg(h,o,N,a,u),u.polygonEnd()),c=u,h=d=g=null}function O(){D.point=X,d&&d.push(g=[]),A=!0,$=!1,k=E=NaN}function P(){h&&(X(y,b),w&&$&&f.rejoin(),h.push(f.result())),D.point=j,$&&c.lineEnd()}function X(N,W){var ae=i(N,W);if(d&&g.push([N,W]),A)y=N,b=W,w=ae,A=!1,ae&&(c.lineStart(),c.point(N,W));else if(ae&&$)c.point(N,W);else{var ie=[k=Math.max(Tc,Math.min(kl,k)),E=Math.max(Tc,Math.min(kl,E))],le=[N=Math.max(Tc,Math.min(kl,N)),W=Math.max(Tc,Math.min(kl,W))];MA(ie,le,e,t,n,r)?($||(c.lineStart(),c.point(ie[0],ie[1])),c.point(le[0],le[1]),ae||c.lineEnd(),z=!1):ae&&(c.lineStart(),c.point(N,W),z=!1)}k=N,E=W,$=ae}return D}}const $m=e=>e;var S4=new Vs,Tm=new Vs,Gg,Xg,Cm,Am,R0={point:Nn,lineStart:Nn,lineEnd:Nn,polygonStart:function(){R0.lineStart=SA,R0.lineEnd=$A},polygonEnd:function(){R0.lineStart=R0.lineEnd=R0.point=Nn,S4.add(Je(Tm)),Tm=new Vs},result:function(){var e=S4/2;return S4=new Vs,e}};function SA(){R0.point=kA}function kA(e,t){R0.point=Zg,Gg=Cm=e,Xg=Am=t}function Zg(e,t){Tm.add(Am*e-Cm*t),Cm=e,Am=t}function $A(){Zg(Gg,Xg)}const l7=R0;var Xo=1/0,bf=Xo,Zl=-Xo,wf=Zl,TA={point:CA,lineStart:Nn,lineEnd:Nn,polygonStart:Nn,polygonEnd:Nn,result:function(){var e=[[Xo,bf],[Zl,wf]];return Zl=wf=-(bf=Xo=1/0),e}};function CA(e,t){e<Xo&&(Xo=e),e>Zl&&(Zl=e),t<bf&&(bf=t),t>wf&&(wf=t)}const xf=TA;var Em=0,Dm=0,$l=0,Mf=0,Sf=0,No=0,_m=0,zm=0,Tl=0,Qg,Kg,fr,hr,jn={point:Gs,lineStart:u7,lineEnd:c7,polygonStart:function(){jn.lineStart=DA,jn.lineEnd=_A},polygonEnd:function(){jn.point=Gs,jn.lineStart=u7,jn.lineEnd=c7},result:function(){var e=Tl?[_m/Tl,zm/Tl]:No?[Mf/No,Sf/No]:$l?[Em/$l,Dm/$l]:[NaN,NaN];return Em=Dm=$l=Mf=Sf=No=_m=zm=Tl=0,e}};function Gs(e,t){Em+=e,Dm+=t,++$l}function u7(){jn.point=AA}function AA(e,t){jn.point=EA,Gs(fr=e,hr=t)}function EA(e,t){var n=e-fr,r=t-hr,i=cn(n*n+r*r);Mf+=i*(fr+e)/2,Sf+=i*(hr+t)/2,No+=i,Gs(fr=e,hr=t)}function c7(){jn.point=Gs}function DA(){jn.point=zA}function _A(){Jg(Qg,Kg)}function zA(e,t){jn.point=Jg,Gs(Qg=fr=e,Kg=hr=t)}function Jg(e,t){var n=e-fr,r=t-hr,i=cn(n*n+r*r);Mf+=i*(fr+e)/2,Sf+=i*(hr+t)/2,No+=i,i=hr*e-fr*t,_m+=i*(fr+e),zm+=i*(hr+t),Tl+=i*3,Gs(fr=e,hr=t)}const f7=jn;function ev(e){this._context=e}ev.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,bn);break}}},result:Nn};var Im=new Vs,k4,tv,nv,Cl,Al,kf={point:Nn,lineStart:function(){kf.point=IA},lineEnd:function(){k4&&rv(tv,nv),kf.point=Nn},polygonStart:function(){k4=!0},polygonEnd:function(){k4=null},result:function(){var e=+Im;return Im=new Vs,e}};function IA(e,t){kf.point=rv,tv=Cl=e,nv=Al=t}function rv(e,t){Cl-=e,Al-=t,Im.add(cn(Cl*Cl+Al*Al)),Cl=e,Al=t}const h7=kf;let d7,$f,m7,p7;class g7{constructor(t){this._append=t==null?iv:NA(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==m7||this._append!==$f){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,m7=r,$f=this._append,p7=this._,this._=i}this._+=p7;break}}}result(){const t=this._;return this._="",t.length?t:null}}function iv(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function NA(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return iv;if(t!==d7){const n=10**t;d7=t,$f=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return $f}function av(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Rs(o,i(a))),a.result()}return s.area=function(o){return Rs(o,i(l7)),l7.result()},s.measure=function(o){return Rs(o,i(h7)),h7.result()},s.bounds=function(o){return Rs(o,i(xf)),xf.result()},s.centroid=function(o){return Rs(o,i(f7)),f7.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,$m):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new g7(n)):new ev(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(a=new g7(n)),s},s.projection(e).digits(n).context(t)}function Nm(e){return{stream:ah(e)}}function ah(e){return function(t){var n=new qm;for(var r in e)n[r]=e[r];return n.stream=t,n}}function qm(){}qm.prototype={constructor:qm,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function R3(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Rs(n,e.stream(xf)),t(xf.result()),r!=null&&e.clipExtent(r),e}function P3(e,t,n){return R3(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,l])},n)}function sv(e,t,n){return P3(e,[[0,0],t],n)}function ov(e,t,n){return R3(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function lv(e,t,n){return R3(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var v7=16,qA=Ue(30*ct);function y7(e,t){return+t?FA(e,t):BA(e)}function BA(e){return ah({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function FA(e,t){function n(r,i,a,s,o,l,u,c,f,h,d,g,y,b){var w=u-r,k=c-i,E=w*w+k*k;if(E>4*t&&y--){var $=s+h,A=o+d,z=l+g,D=cn($*$+A*A+z*z),j=Rn(z/=D),U=Je(Je(z)-1)<Oe||Je(a-f)<Oe?(a+f)/2:a0(A,$),S=e(U,j),C=S[0],O=S[1],P=C-r,X=O-i,N=k*P-w*X;(N*N/E>t||Je((w*P+k*X)/E-.5)>.3||s*h+o*d+l*g<qA)&&(n(r,i,a,s,o,l,C,O,U,$/=D,A/=D,z,y,b),b.point(C,O),n(C,O,U,$,A,z,u,c,f,h,d,g,y,b))}}return function(r){var i,a,s,o,l,u,c,f,h,d,g,y,b={point:w,lineStart:k,lineEnd:$,polygonStart:function(){r.polygonStart(),b.lineStart=A},polygonEnd:function(){r.polygonEnd(),b.lineStart=k}};function w(j,U){j=e(j,U),r.point(j[0],j[1])}function k(){f=NaN,b.point=E,r.lineStart()}function E(j,U){var S=Go([j,U]),C=e(j,U);n(f,h,c,d,g,y,f=C[0],h=C[1],c=j,d=S[0],g=S[1],y=S[2],v7,r),r.point(f,h)}function $(){b.point=w,r.lineEnd()}function A(){k(),b.point=z,b.lineEnd=D}function z(j,U){E(i=j,U),a=f,s=h,o=d,l=g,u=y,b.point=E}function D(){n(f,h,c,d,g,y,a,s,i,o,l,u,v7,r),b.lineEnd=$,$()}return b}}var LA=ah({point:function(e,t){this.stream.point(e*ct,t*ct)}});function RA(e){return ah({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function PA(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function b7(e,t,n,r,i,a){if(!a)return PA(e,t,n,r,i);var s=Ue(a),o=Pe(a),l=s*e,u=o*e,c=s/e,f=o/e,h=(o*n-s*t)/e,d=(o*t+s*n)/e;function g(y,b){return y*=r,b*=i,[l*y-u*b+t,n-u*y-l*b]}return g.invert=function(y,b){return[r*(c*y-f*b+h),i*(d-f*y-c*b)]},g}function Z0(e){return uv(function(){return e})()}function uv(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,l=0,u=0,c,f=0,h=1,d=1,g=null,y=o7,b=null,w,k,E,$=$m,A=.5,z,D,j,U,S;function C(N){return j(N[0]*ct,N[1]*ct)}function O(N){return N=j.invert(N[0],N[1]),N&&[N[0]*Ut,N[1]*Ut]}C.stream=function(N){return U&&S===N?U:U=LA(RA(c)(y(z($(S=N)))))},C.preclip=function(N){return arguments.length?(y=N,g=void 0,X()):y},C.postclip=function(N){return arguments.length?($=N,b=w=k=E=null,X()):$},C.clipAngle=function(N){return arguments.length?(y=+N?xA(g=N*ct):(g=null,o7),X()):g*Ut},C.clipExtent=function(N){return arguments.length?($=N==null?(b=w=k=E=null,$m):Yg(b=+N[0][0],w=+N[0][1],k=+N[1][0],E=+N[1][1]),X()):b==null?null:[[b,w],[k,E]]},C.scale=function(N){return arguments.length?(n=+N,P()):n},C.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],P()):[r,i]},C.center=function(N){return arguments.length?(a=N[0]%360*ct,s=N[1]%360*ct,P()):[a*Ut,s*Ut]},C.rotate=function(N){return arguments.length?(o=N[0]%360*ct,l=N[1]%360*ct,u=N.length>2?N[2]%360*ct:0,P()):[o*Ut,l*Ut,u*Ut]},C.angle=function(N){return arguments.length?(f=N%360*ct,P()):f*Ut},C.reflectX=function(N){return arguments.length?(h=N?-1:1,P()):h<0},C.reflectY=function(N){return arguments.length?(d=N?-1:1,P()):d<0},C.precision=function(N){return arguments.length?(z=y7(D,A=N*N),X()):cn(A)},C.fitExtent=function(N,W){return P3(C,N,W)},C.fitSize=function(N,W){return sv(C,N,W)},C.fitWidth=function(N,W){return ov(C,N,W)},C.fitHeight=function(N,W){return lv(C,N,W)};function P(){var N=b7(n,0,0,h,d,f).apply(null,t(a,s)),W=b7(n,r-N[0],i-N[1],h,d,f);return c=Vg(o,l,u),D=Sm(t,W),j=Sm(c,D),z=y7(D,A),X()}function X(){return U=S=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&O,P()}}function O3(e){var t=0,n=We/3,r=uv(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*ct,n=a[1]*ct):[t*Ut,n*Ut]},i}function OA(e){var t=Ue(e);function n(r,i){return[r*t,Pe(i)/t]}return n.invert=function(r,i){return[r/t,Rn(i*t)]},n}function HA(e,t){var n=Pe(e),r=(n+Pe(t))/2;if(Je(r)<Oe)return OA(e);var i=1+n*(2*r-n),a=cn(i)/r;function s(o,l){var u=cn(i-2*r*Pe(l))/r;return[u*Pe(o*=r),a-u*Ue(o)]}return s.invert=function(o,l){var u=a-l,c=a0(o,Je(u))*In(u);return u*r<0&&(c-=We*In(o)*In(u)),[c/r,Rn((i-(o*o+u*u)*r*r)/(2*r))]},s}function Tf(){return O3(HA).scale(155.424).center([0,33.6442])}function cv(){return Tf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function VA(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function UA(){var e,t,n=cv(),r,i=Tf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Tf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(h,d){l=[h,d]}};function c(h){var d=h[0],g=h[1];return l=null,r.point(d,g),l||(a.point(d,g),l)||(o.point(d,g),l)}c.invert=function(h){var d=n.scale(),g=n.translate(),y=(h[0]-g[0])/d,b=(h[1]-g[1])/d;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?i:b>=.166&&b<.234&&y>=-.214&&y<-.115?s:n).invert(h)},c.stream=function(h){return e&&t===h?e:e=VA([n.stream(t=h),i.stream(h),s.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),g=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[g-.455*d,y-.238*d],[g+.455*d,y+.238*d]]).stream(u),a=i.translate([g-.307*d,y+.201*d]).clipExtent([[g-.425*d+Oe,y+.12*d+Oe],[g-.214*d-Oe,y+.234*d-Oe]]).stream(u),o=s.translate([g-.205*d,y+.212*d]).clipExtent([[g-.214*d+Oe,y+.166*d+Oe],[g-.115*d-Oe,y+.234*d-Oe]]).stream(u),f()},c.fitExtent=function(h,d){return P3(c,h,d)},c.fitSize=function(h,d){return sv(c,h,d)},c.fitWidth=function(h,d){return ov(c,h,d)},c.fitHeight=function(h,d){return lv(c,h,d)};function f(){return e=t=null,c}return c.scale(1070)}function fv(e){return function(t,n){var r=Ue(t),i=Ue(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Pe(t),a*Pe(n)]}}function pu(e){return function(t,n){var r=cn(t*t+n*n),i=e(r),a=Pe(i),s=Ue(i);return[a0(t*a,r*s),Rn(r&&n*a/r)]}}var hv=fv(function(e){return cn(2/(1+e))});hv.invert=pu(function(e){return 2*Rn(e/2)});function jA(){return Z0(hv).scale(124.75).clipAngle(180-.001)}var dv=fv(function(e){return(e=Hg(e))&&e/Pe(e)});dv.invert=pu(function(e){return e});function WA(){return Z0(dv).scale(79.4188).clipAngle(180-.001)}function sh(e,t){return[e,gf(L3((ft+t)/2))]}sh.invert=function(e,t){return[e,2*rl(Og(t))-ft]};function YA(){return mv(sh).scale(961/bn)}function mv(e){var t=Z0(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=o=l=u=null:(s=+f[0][0],o=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):s==null?null:[[s,o],[l,u]]};function c(){var f=We*r(),h=t(dA(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:e===sh?[[Math.max(h[0]-f,s),o],[Math.min(h[0]+f,l),u]]:[[s,Math.max(h[1]-f,o)],[l,Math.min(h[1]+f,u)]])}return c()}function Cc(e){return L3((ft+e)/2)}function GA(e,t){var n=Ue(e),r=e===t?Pe(e):gf(n/Ue(t))/gf(Cc(t)/Cc(e)),i=n*w4(Cc(e),r)/r;if(!r)return sh;function a(s,o){i>0?o<-ft+Oe&&(o=-ft+Oe):o>ft-Oe&&(o=ft-Oe);var l=i/w4(Cc(o),r);return[l*Pe(r*s),i-l*Ue(r*s)]}return a.invert=function(s,o){var l=i-o,u=In(r)*cn(s*s+l*l),c=a0(s,Je(l))*In(l);return l*r<0&&(c-=We*In(s)*In(l)),[c/r,2*rl(w4(i/u,1/r))-ft]},a}function XA(){return O3(GA).scale(109.5).parallels([30,30])}function Cf(e,t){return[e,t]}Cf.invert=Cf;function ZA(){return Z0(Cf).scale(152.63)}function QA(e,t){var n=Ue(e),r=e===t?Pe(e):(n-Ue(t))/(t-e),i=n/r+e;if(Je(r)<Oe)return Cf;function a(s,o){var l=i-o,u=r*s;return[l*Pe(u),i-l*Ue(u)]}return a.invert=function(s,o){var l=i-o,u=a0(s,Je(l))*In(l);return l*r<0&&(u-=We*In(s)*In(l)),[u/r,i-In(r)*cn(s*s+l*l)]},a}function KA(){return O3(QA).scale(131.154).center([0,13.9389])}var Nl=1.340264,ql=-.081106,Bl=893e-6,Fl=.003796,Af=cn(3)/2,JA=12;function pv(e,t){var n=Rn(Af*Pe(t)),r=n*n,i=r*r*r;return[e*Ue(n)/(Af*(Nl+3*ql*r+i*(7*Bl+9*Fl*r))),n*(Nl+ql*r+i*(Bl+Fl*r))]}pv.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,l;a<JA&&(o=n*(Nl+ql*r+i*(Bl+Fl*r))-t,l=Nl+3*ql*r+i*(7*Bl+9*Fl*r),n-=s=o/l,r=n*n,i=r*r*r,!(Je(s)<Pg));++a);return[Af*e*(Nl+3*ql*r+i*(7*Bl+9*Fl*r))/Ue(n),Rn(Pe(n)/Af)]};function eE(){return Z0(pv).scale(177.158)}function gv(e,t){var n=Ue(t),r=Ue(e)*n;return[n*Pe(e)/r,Pe(t)/r]}gv.invert=pu(rl);function tE(){return Z0(gv).scale(144.049).clipAngle(60)}function vv(e,t){return[Ue(t)*Pe(e),Pe(t)]}vv.invert=pu(Rn);function nE(){return Z0(vv).scale(249.5).clipAngle(90+Oe)}function yv(e,t){var n=Ue(t),r=1+Ue(e)*n;return[n*Pe(e)/r,Pe(t)/r]}yv.invert=pu(function(e){return 2*rl(e)});function rE(){return Z0(yv).scale(250).clipAngle(142)}function bv(e,t){return[gf(L3((ft+t)/2)),-e]}bv.invert=function(e,t){return[-t,2*rl(Og(e))-ft]};function iE(){var e=mv(bv),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const H3=Math.random,aE=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(H3),w7=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(H3),sE=function e(t){function n(r,i){var a,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var o;if(a!=null)o=a,a=null;else do a=t()*2-1,o=t()*2-1,s=a*a+o*o;while(!s||s>1);return r+i*o*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(H3);function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bm=Symbol("implicit");function V3(){var e=new Us,t=[],n=[],r=Bm;function i(a){let s=e.get(a);if(s===void 0){if(r!==Bm)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Us;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V3(t,n).unknown(r)},$r.apply(i,arguments),i}function lh(){var e=V3().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,d=i<r,g=d?i:r,y=d?r:i;a=(y-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var b=sm(h).map(function(w){return g+a*w});return n(d?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return lh(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},$r.apply(f(),arguments)}function wv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wv(t())},e}function oE(){return wv(lh.apply(null,arguments).paddingInner(1))}function lE(e){return function(){return e}}function Fm(e){return+e}var x7=[0,1];function qn(e){return e}function Lm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lE(isNaN(t)?NaN:.5)}function uE(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function cE(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Lm(i,r),a=n(s,a)):(r=Lm(r,i),a=n(a,s)),function(o){return a(r(o))}}function fE(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Lm(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Qf(e,o,1,r)-1;return a[l](i[l](o))}}function gu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uh(){var e=x7,t=x7,n=du,r,i,a,s=qn,o,l,u;function c(){var h=Math.min(e.length,t.length);return s!==qn&&(s=uE(e[0],e[h-1])),o=h>2?fE:cE,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),Pt)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Fm),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=z3,c()},f.clamp=function(h){return arguments.length?(s=h?!0:qn,c()):s!==qn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,c()}}function xv(){return uh()(qn,qn)}function hE(e,t,n,r){var i=am(e,t,n),a;switch(r=Xl(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=fA(i,s))&&(r.precision=a),Rg(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=hA(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=cA(i))&&(r.precision=a-(r.type==="%")*2);break}}return mu(r)}function vu(e){var t=e.domain;return e.ticks=function(n){var r=t();return jl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return hE(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=sf(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function U3(){var e=xv();return e.copy=function(){return gu(e,U3())},$r.apply(e,arguments),vu(e)}function Mv(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Fm),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Mv(e).unknown(t)},e=arguments.length?Array.from(e,Fm):[0,1],vu(n)}function Sv(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function M7(e){return Math.log(e)}function S7(e){return Math.exp(e)}function dE(e){return-Math.log(-e)}function mE(e){return-Math.exp(-e)}function pE(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gE(e){return e===10?pE:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vE(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function k7(e){return(t,n)=>-e(-t,n)}function kv(e){const t=e(M7,S7),n=t.domain;let r=10,i,a;function s(){return i=vE(r),a=gE(r),n()[0]<0?(i=k7(i),a=k7(a),e(dE,mE)):e(M7,S7),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),g,y;const b=o==null?10:+o;let w=[];if(!(r%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=d;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<b&&(w=jl(u,c,b))}else w=jl(h,d,Math.min(d-h,b)).map(a);return f?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Xl(l)).precision==null&&(l.trim=!0),l=mu(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(Sv(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function $v(){const e=kv(uh()).domain([1,10]);return e.copy=()=>gu(e,$v()).base(e.base()),$r.apply(e,arguments),e}function $7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function T7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tv(e){var t=1,n=e($7(t),T7(t));return n.constant=function(r){return arguments.length?e($7(t=+r),T7(t)):t},vu(n)}function Cv(){var e=Tv(uh());return e.copy=function(){return gu(e,Cv()).constant(e.constant())},$r.apply(e,arguments)}function C7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bE(e){return e<0?-e*e:e*e}function Av(e){var t=e(qn,qn),n=1;function r(){return n===1?e(qn,qn):n===.5?e(yE,bE):e(C7(n),C7(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},vu(t)}function Ev(){var e=Av(uh());return e.copy=function(){return gu(e,Ev()).exponent(e.exponent())},$r.apply(e,arguments),e}function Dv(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=lk(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Qf(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ln),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Dv().domain(e).range(t).unknown(r)},$r.apply(a,arguments)}function _v(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Qf(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _v().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}const $4=new Date,T4=new Date;function kt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>kt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>($4.setTime(+a),T4.setTime(+s),e($4),e(T4),Math.floor(n($4,T4))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ef=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ef.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ef);Ef.range;const Yr=1e3,Bn=Yr*60,Gr=Bn*60,s0=Gr*24,j3=s0*7,A7=s0*30,C4=s0*365,Xr=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCSeconds());Xr.range;const ch=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yr)},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getMinutes());ch.range;const fh=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getUTCMinutes());fh.range;const hh=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yr-e.getMinutes()*Bn)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getHours());hh.range;const dh=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCHours());dh.range;const il=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bn)/s0,e=>e.getDate()-1);il.range;const mh=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/s0,e=>e.getUTCDate()-1);mh.range;const W3=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/s0,e=>Math.floor(e/s0));W3.range;function Js(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bn)/j3)}const Zo=Js(0),Ql=Js(1),zv=Js(2),Iv=Js(3),Xs=Js(4),Nv=Js(5),qv=Js(6);Zo.range;Ql.range;zv.range;Iv.range;Xs.range;Nv.range;qv.range;function eo(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/j3)}const Qo=eo(0),Kl=eo(1),Bv=eo(2),Fv=eo(3),Zs=eo(4),Lv=eo(5),Rv=eo(6);Qo.range;Kl.range;Bv.range;Fv.range;Zs.range;Lv.range;Rv.range;const ph=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ph.range;const gh=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gh.range;const Xn=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Xn.range;const Zn=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Zn.range;function Pv(e,t,n,r,i,a){const s=[[Xr,1,Yr],[Xr,5,5*Yr],[Xr,15,15*Yr],[Xr,30,30*Yr],[a,1,Bn],[a,5,5*Bn],[a,15,15*Bn],[a,30,30*Bn],[i,1,Gr],[i,3,3*Gr],[i,6,6*Gr],[i,12,12*Gr],[r,1,s0],[r,2,2*s0],[n,1,j3],[t,1,A7],[t,3,3*A7],[e,1,C4]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const d=f&&typeof f.range=="function"?f:l(u,c,f),g=d?d.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,d=Vl(([,,b])=>b).right(s,h);if(d===s.length)return e.every(am(u/C4,c/C4,f));if(d===0)return Ef.every(Math.max(am(u,c,f),1));const[g,y]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(y)}return[o,l]}const[wE,Ov]=Pv(Zn,gh,Qo,W3,dh,fh),[xE,ME]=Pv(Xn,ph,Zo,il,hh,ch);function A4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function E4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function SE(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=gl(i),c=vl(i),f=gl(a),h=vl(a),d=gl(s),g=vl(s),y=gl(o),b=vl(o),w=gl(l),k=vl(l),E={a:ae,A:ie,b:le,B:ee,c:null,d:N7,e:N7,f:WE,g:nD,G:iD,H:VE,I:UE,j:jE,L:Hv,m:YE,M:GE,p:se,q:oe,Q:F7,s:L7,S:XE,u:ZE,U:QE,V:KE,w:JE,W:eD,x:null,X:null,y:tD,Y:rD,Z:aD,"%":B7},$={a:re,A:Se,b:Ce,B:De,c:null,d:q7,e:q7,f:uD,g:bD,G:xD,H:sD,I:oD,j:lD,L:Uv,m:cD,M:fD,p:ce,q:me,Q:F7,s:L7,S:hD,u:dD,U:mD,V:pD,w:gD,W:vD,x:null,X:null,y:yD,Y:wD,Z:MD,"%":B7},A={a:S,A:C,b:O,B:P,c:X,d:z7,e:z7,f:RE,g:_7,G:D7,H:I7,I:I7,j:qE,L:LE,m:NE,M:BE,p:U,q:IE,Q:OE,s:HE,S:FE,u:AE,U:EE,V:DE,w:CE,W:_E,x:N,X:W,y:_7,Y:D7,Z:zE,"%":PE};E.x=z(n,E),E.X=z(r,E),E.c=z(t,E),$.x=z(n,$),$.X=z(r,$),$.c=z(t,$);function z(te,xe){return function(Te){var Y=[],ke=-1,Ee=0,Be=te.length,Fe,Ge,mt;for(Te instanceof Date||(Te=new Date(+Te));++ke<Be;)te.charCodeAt(ke)===37&&(Y.push(te.slice(Ee,ke)),(Ge=E7[Fe=te.charAt(++ke)])!=null?Fe=te.charAt(++ke):Ge=Fe==="e"?" ":"0",(mt=xe[Fe])&&(Fe=mt(Te,Ge)),Y.push(Fe),Ee=ke+1);return Y.push(te.slice(Ee,ke)),Y.join("")}}function D(te,xe){return function(Te){var Y=pl(1900,void 0,1),ke=j(Y,te,Te+="",0),Ee,Be;if(ke!=Te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(xe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=E4(pl(Y.y,0,1)),Be=Ee.getUTCDay(),Ee=Be>4||Be===0?Kl.ceil(Ee):Kl(Ee),Ee=mh.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=A4(pl(Y.y,0,1)),Be=Ee.getDay(),Ee=Be>4||Be===0?Ql.ceil(Ee):Ql(Ee),Ee=il.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Be="Z"in Y?E4(pl(Y.y,0,1)).getUTCDay():A4(pl(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Be+5)%7:Y.w+Y.U*7-(Be+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,E4(Y)):A4(Y)}}function j(te,xe,Te,Y){for(var ke=0,Ee=xe.length,Be=Te.length,Fe,Ge;ke<Ee;){if(Y>=Be)return-1;if(Fe=xe.charCodeAt(ke++),Fe===37){if(Fe=xe.charAt(ke++),Ge=A[Fe in E7?xe.charAt(ke++):Fe],!Ge||(Y=Ge(te,Te,Y))<0)return-1}else if(Fe!=Te.charCodeAt(Y++))return-1}return Y}function U(te,xe,Te){var Y=u.exec(xe.slice(Te));return Y?(te.p=c.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function S(te,xe,Te){var Y=d.exec(xe.slice(Te));return Y?(te.w=g.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function C(te,xe,Te){var Y=f.exec(xe.slice(Te));return Y?(te.w=h.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function O(te,xe,Te){var Y=w.exec(xe.slice(Te));return Y?(te.m=k.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function P(te,xe,Te){var Y=y.exec(xe.slice(Te));return Y?(te.m=b.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function X(te,xe,Te){return j(te,t,xe,Te)}function N(te,xe,Te){return j(te,n,xe,Te)}function W(te,xe,Te){return j(te,r,xe,Te)}function ae(te){return s[te.getDay()]}function ie(te){return a[te.getDay()]}function le(te){return l[te.getMonth()]}function ee(te){return o[te.getMonth()]}function se(te){return i[+(te.getHours()>=12)]}function oe(te){return 1+~~(te.getMonth()/3)}function re(te){return s[te.getUTCDay()]}function Se(te){return a[te.getUTCDay()]}function Ce(te){return l[te.getUTCMonth()]}function De(te){return o[te.getUTCMonth()]}function ce(te){return i[+(te.getUTCHours()>=12)]}function me(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var xe=z(te+="",E);return xe.toString=function(){return te},xe},parse:function(te){var xe=D(te+="",!1);return xe.toString=function(){return te},xe},utcFormat:function(te){var xe=z(te+="",$);return xe.toString=function(){return te},xe},utcParse:function(te){var xe=D(te+="",!0);return xe.toString=function(){return te},xe}}}var E7={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,kE=/^%/,$E=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function TE(e){return e.replace($E,"\\$&")}function gl(e){return new RegExp("^(?:"+e.map(TE).join("|")+")","i")}function vl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function CE(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function AE(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function EE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function DE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _E(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function D7(e,t,n){var r=Et.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zE(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function IE(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function NE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function z7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qE(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function I7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function BE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function FE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function LE(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function RE(e,t,n){var r=Et.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PE(e,t,n){var r=kE.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function OE(e,t,n){var r=Et.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function HE(e,t,n){var r=Et.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function N7(e,t){return Qe(e.getDate(),t,2)}function VE(e,t){return Qe(e.getHours(),t,2)}function UE(e,t){return Qe(e.getHours()%12||12,t,2)}function jE(e,t){return Qe(1+il.count(Xn(e),e),t,3)}function Hv(e,t){return Qe(e.getMilliseconds(),t,3)}function WE(e,t){return Hv(e,t)+"000"}function YE(e,t){return Qe(e.getMonth()+1,t,2)}function GE(e,t){return Qe(e.getMinutes(),t,2)}function XE(e,t){return Qe(e.getSeconds(),t,2)}function ZE(e){var t=e.getDay();return t===0?7:t}function QE(e,t){return Qe(Zo.count(Xn(e)-1,e),t,2)}function Vv(e){var t=e.getDay();return t>=4||t===0?Xs(e):Xs.ceil(e)}function KE(e,t){return e=Vv(e),Qe(Xs.count(Xn(e),e)+(Xn(e).getDay()===4),t,2)}function JE(e){return e.getDay()}function eD(e,t){return Qe(Ql.count(Xn(e)-1,e),t,2)}function tD(e,t){return Qe(e.getFullYear()%100,t,2)}function nD(e,t){return e=Vv(e),Qe(e.getFullYear()%100,t,2)}function rD(e,t){return Qe(e.getFullYear()%1e4,t,4)}function iD(e,t){var n=e.getDay();return e=n>=4||n===0?Xs(e):Xs.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function aD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function q7(e,t){return Qe(e.getUTCDate(),t,2)}function sD(e,t){return Qe(e.getUTCHours(),t,2)}function oD(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function lD(e,t){return Qe(1+mh.count(Zn(e),e),t,3)}function Uv(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function uD(e,t){return Uv(e,t)+"000"}function cD(e,t){return Qe(e.getUTCMonth()+1,t,2)}function fD(e,t){return Qe(e.getUTCMinutes(),t,2)}function hD(e,t){return Qe(e.getUTCSeconds(),t,2)}function dD(e){var t=e.getUTCDay();return t===0?7:t}function mD(e,t){return Qe(Qo.count(Zn(e)-1,e),t,2)}function jv(e){var t=e.getUTCDay();return t>=4||t===0?Zs(e):Zs.ceil(e)}function pD(e,t){return e=jv(e),Qe(Zs.count(Zn(e),e)+(Zn(e).getUTCDay()===4),t,2)}function gD(e){return e.getUTCDay()}function vD(e,t){return Qe(Kl.count(Zn(e)-1,e),t,2)}function yD(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function bD(e,t){return e=jv(e),Qe(e.getUTCFullYear()%100,t,2)}function wD(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function xD(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Zs(e):Zs.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function MD(){return"+0000"}function B7(){return"%"}function F7(e){return+e}function L7(e){return Math.floor(+e/1e3)}var Ao,vh,Jl;SD({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SD(e){return Ao=SE(e),vh=Ao.format,Ao.parse,Jl=Ao.utcFormat,Ao.utcParse,Ao}function kD(e){return new Date(e)}function $D(e){return e instanceof Date?+e:+new Date(+e)}function Y3(e,t,n,r,i,a,s,o,l,u){var c=xv(),f=c.invert,h=c.domain,d=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),k=u("%b %d"),E=u("%B"),$=u("%Y");function A(z){return(l(z)<z?d:o(z)<z?g:s(z)<z?y:a(z)<z?b:r(z)<z?i(z)<z?w:k:n(z)<z?E:$)(z)}return c.invert=function(z){return new Date(f(z))},c.domain=function(z){return arguments.length?h(Array.from(z,$D)):h().map(kD)},c.ticks=function(z){var D=h();return e(D[0],D[D.length-1],z??10)},c.tickFormat=function(z,D){return D==null?A:u(D)},c.nice=function(z){var D=h();return(!z||typeof z.range!="function")&&(z=t(D[0],D[D.length-1],z??10)),z?h(Sv(D,z)):c},c.copy=function(){return gu(c,Y3(e,t,n,r,i,a,s,o,l,u))},c}function TD(){return $r.apply(Y3(xE,ME,Xn,ph,Zo,il,hh,ch,Xr,vh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CD(){return $r.apply(Y3(wE,Ov,Zn,gh,Qo,mh,dh,fh,Xr,Jl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bh(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=qn,c,f=!1,h;function d(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-a)*(r*y<r*a?o:l),u(f?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([e,t,n]=y,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(y){return arguments.length?(f=!!y,d):f},d.interpolator=function(y){return arguments.length?(u=y,d):u};function g(y){return function(b){var w,k,E;return arguments.length?([w,k,E]=b,u=nh(y,[w,k,E]),d):[u(0),u(.5),u(1)]}}return d.range=g(du),d.rangeRound=g(z3),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return c=y,i=y(e),a=y(t),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d}}function Wv(){var e=vu(bh()(qn));return e.copy=function(){return yh(e,Wv())},oh.apply(e,arguments)}function Yv(){var e=kv(bh()).domain([.1,1,10]);return e.copy=function(){return yh(e,Yv()).base(e.base())},oh.apply(e,arguments)}function Gv(){var e=Tv(bh());return e.copy=function(){return yh(e,Gv()).constant(e.constant())},oh.apply(e,arguments)}function Xv(){var e=Av(bh());return e.copy=function(){return yh(e,Xv()).exponent(e.exponent())},oh.apply(e,arguments)}function Ve(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const AD=Ve("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ED=Ve("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),DD=Ve("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),_D=Ve("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),zD=Ve("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ID=Ve("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ND=Ve("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),qD=Ve("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),BD=Ve("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),FD=Ve("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),tt=e=>kT(e[e.length-1]);var Zv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ve);const Qv=tt(Zv);var Kv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ve);const Jv=tt(Kv);var ey=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ve);const ty=tt(ey);var ny=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ve);const ry=tt(ny);var Rm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ve);const Df=tt(Rm);var iy=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ve);const ay=tt(iy);var Pm=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ve);const _f=tt(Pm);var sy=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ve);const oy=tt(sy);var ly=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ve);const uy=tt(ly);var cy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ve);const fy=tt(cy);var hy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ve);const dy=tt(hy);var my=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ve);const py=tt(my);var gy=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ve);const vy=tt(gy);var yy=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ve);const by=tt(yy);var wy=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ve);const xy=tt(wy);var My=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ve);const Sy=tt(My);var ky=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ve);const $y=tt(ky);var Ty=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ve);const Cy=tt(Ty);var Ay=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ve);const Ey=tt(Ay);var Dy=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ve);const _y=tt(Dy);var zy=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ve);const Iy=tt(zy);var Ny=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ve);const qy=tt(Ny);var By=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ve);const Fy=tt(By);var Ly=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ve);const Ry=tt(Ly);var Py=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ve);const Oy=tt(Py);var Hy=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ve);const Vy=tt(Hy);var Uy=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ve);const jy=tt(Uy);function Wy(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Yy=I3(wr(300,.5,0),wr(-240,.5,1));var Gy=I3(wr(-100,.75,.35),wr(80,1.5,.8)),Xy=I3(wr(260,.75,.35),wr(80,1.5,.8)),Ac=wr();function Zy(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ac.h=360*e-100,Ac.s=1.5-1.5*t,Ac.l=.8-.9*t,Ac+""}var Ec=Y0(),LD=Math.PI/3,RD=Math.PI*2/3;function Qy(e){var t;return e=(.5-e)*Math.PI,Ec.r=255*(t=Math.sin(e))*t,Ec.g=255*(t=Math.sin(e+LD))*t,Ec.b=255*(t=Math.sin(e+RD))*t,Ec+""}function Ky(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function wh(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Jy=wh(Ve("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var eb=wh(Ve("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),tb=wh(Ve("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),nb=wh(Ve("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const rb=Math.cos,G3=Math.min,zf=Math.sin,$t=Math.sqrt,If=Math.PI,xh=2*If,PD=$t(3),ib={draw(e,t){const n=$t(t+G3(t/28,.75))*.59436,r=n/2,i=r*PD;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},X3={draw(e,t){const n=$t(t/If);e.moveTo(n,0),e.arc(0,0,n,0,xh)}},ab={draw(e,t){const n=$t(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},sb=$t(1/3),OD=sb*2,ob={draw(e,t){const n=$t(t/OD),r=n*sb;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},lb={draw(e,t){const n=$t(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},ub={draw(e,t){const n=$t(t-G3(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},cb={draw(e,t){const n=$t(t),r=-n/2;e.rect(r,r,n,n)}},fb={draw(e,t){const n=$t(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},HD=.8908130915292852,hb=zf(If/10)/zf(7*If/10),VD=zf(xh/10)*hb,UD=-rb(xh/10)*hb,db={draw(e,t){const n=$t(t*HD),r=VD*n,i=UD*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=xh*a/5,o=rb(s),l=zf(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},D4=$t(3),mb={draw(e,t){const n=-$t(t/(D4*3));e.moveTo(0,n*2),e.lineTo(-D4*n,-n),e.lineTo(D4*n,-n),e.closePath()}},jD=$t(3),pb={draw(e,t){const n=$t(t)*.6824,r=n/2,i=n*jD/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},En=-.5,Dn=$t(3)/2,Om=1/$t(12),WD=(Om/2+1)*3,gb={draw(e,t){const n=$t(t/WD),r=n/2,i=n*Om,a=r,s=n*Om+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(En*r-Dn*i,Dn*r+En*i),e.lineTo(En*a-Dn*s,Dn*a+En*s),e.lineTo(En*o-Dn*l,Dn*o+En*l),e.lineTo(En*r+Dn*i,En*i-Dn*r),e.lineTo(En*a+Dn*s,En*s-Dn*a),e.lineTo(En*o+Dn*l,En*l-Dn*o),e.closePath()}},vb={draw(e,t){const n=$t(t-G3(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},YD=[X3,ab,ob,cb,db,mb,gb],GD=[X3,ub,vb,pb,ib,fb,lb];function El(e,t,n){this.k=e,this.x=t,this.y=n}El.prototype={constructor:El,scale:function(e){return e===1?this:new El(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new El(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};El.prototype;const Dc={f32:Float32Array,u8:Uint8Array};class Ke{constructor(t,n,r="f32",i=!1){this.data=t,this.shape=n,this.strides=[n[1],1],this.offset=0,this.codebook=void 0,this.dtype=r,this.transposed=i}get bytes(){const t=this.data.byteLength/this.data.length;return this.shape[0]*this.shape[1]*t}static totalBytes(...t){let n=0;for(const r of t)n+=r.bytes+(r.codebook?r.codebook.bytes:0);return n}static GB(...t){return Ke.totalBytes(...t)/1024**3}static MB(...t){return Ke.totalBytes(...t)/1024**2}static KB(...t){return Ke.totalBytes(...t)/1024}relu(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.data[this.index2D(t,n)];this.data[this.index2D(t,n)]=r>0?r:0}return this}sigmoid(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.index2D(t,n),i=this.data[r];this.data[r]=1/(1+Math.exp(-i))}return this}tanh(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.offset+t*this.strides[0]+n*this.strides[1],i=this.data[r],a=Math.exp(i),s=Math.exp(-i);this.data[r]=(a-s)/(a+s)}return this}print({round:t=3,showBytes:n=!1}={}){let r="";for(let i=0;i<this.shape[0];i++){let a="|";for(let s=0;s<this.shape[1];s++){let o=this.data[this.index2D(i,s)];this.dtype[0]==="u"&&(t=0),a+=" "+o.toFixed(t)}a+=" |",r+=a+`
`}console.log(r,this.dtype),n&&console.log(`${this.bytes} bytes`)}get T(){const t=this.shallowCopy();return t.shape=[this.shape[1],this.shape[0]],t.transposed=!t.transposed,t}shallowCopy(){const t=new Ke(this.data,_4(this.shape,Array),this.dtype);return t.codebook=this.codebook,t}deepCopy(){return new Ke(_4(this.data,Dc[this.dtype]),_4(this.shape,Array),this.dtype)}self(t,n=!0){return t?this.deepCopy():this}sub(t,n=!1){const r=this.self(n);let i=[t.strides[0],t.strides[1]];r.shape[0]>t.shape[0]&&(t.strides[0]=0),r.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let a=0;a<r.shape[0];a++)for(let s=0;s<r.shape[1];s++)r.data[r.index2D(a,s)]-=t.value2D(a,s);return t.strides[0]=i[0],t.strides[1]=i[1],r}add(t){let n=[t.strides[0],t.strides[1]];this.shape[0]>t.shape[0]&&(t.strides[0]=0),this.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let r=0;r<this.shape[0];r++)for(let i=0;i<this.shape[1];i++)this.data[this.index2D(r,i)]+=t.value2D(r,i);return t.strides[0]=n[0],t.strides[1]=n[1],this}index2D(t,n){return this.transposed&&([t,n]=[n,t]),this.offset+this.strides[0]*t+this.strides[1]*n}value2D(t,n){const r=this.data[this.index2D(t,n)];return this.codebook?this.codebook.data[r]:r}matmul(t){const n=this.shape[0],r=this.shape[1],i=t.shape[1];R7(r===t.shape[0],"must have same inner dimensions");const a=Ke.zeros([n,i],"f32");for(let s=0;s<n;s++)for(let o=0;o<i;o++)for(let l=0;l<r;l++)a.data[a.index2D(s,o)]+=this.value2D(s,l)*t.value2D(l,o);return a}static zeros(t,n){return new Ke(Array(t[0]*t[1]).fill(0),t,n)}static arange(t,n="f32"){let r=new Array(t[0]*t[1]);for(let i=0;i<r.length;i++)r[i]=i;return new Ke(r,t,n)}static randrng(t,n,r){const i=Ke.$(t[0]*t[1],[t[0],t[1]],r);for(let a=0;a<i.data.length;a++)i.data[a]=n();return i}static randu(t,n=0,r=1,i="f32"){return Ke.randrng(t,aE(n,r),i)}static randn(t,n=0,r=1,i="f32"){return Ke.randrng(t,sE(n,r),i)}round(){for(let t=0;t<this.data.length;t++)this.data[t]=Math.round(this.data[t]);return this}to(t){this.dtype=t;const n=new Dc[t](this.data.length);for(let r=0;r<this.data.length;r++)n[r]=this.data[r];return this.data=n,this}static $(t,n,r="f32"){return R7(r in Dc,"type must be f32 or u8"),new Ke(new Dc[r](t),n,r)}reconstruct(){const t=Ke.zeros([this.shape[0],this.shape[1]]);for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t.data[t.index2D(n,r)]=this.value2D(n,r);return t}sum(){let t=0;for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t+=this.value2D(n,r);return t}}function R7(e,t=""){if(!e)throw Error(t)}function _4(e,t){const n=new t(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}function Mh(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}const z4={distanceFunction:Mh};function XD(e,t,n=z4){const r=n.distanceFunction||z4.distanceFunction,i=n.similarityFunction||z4.similarityFunction;let a=-1;if(typeof i=="function"){let s=Number.MIN_VALUE;for(let o=0;o<e.length;o++){const l=i(t,e[o]);l>s&&(s=l,a=o)}}else if(typeof r=="function"){let s=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const l=r(t,e[o]);l<s&&(s=l,a=o)}}else throw new Error("A similarity or distance function it's required");return a}function ZD(e,t){let n=new Array(e.length);for(let r=0;r<e.length;++r)for(let i=r;i<e.length;++i){n[r]||(n[r]=new Array(e.length)),n[i]||(n[i]=new Array(e.length));const a=t(e[r],e[i]);n[r][i]=a,n[i][r]=a}return n}function yb(e,t,n,r){for(let i=0;i<e.length;i++)n[i]=XD(t,e[i],{distanceFunction:r});return n}function QD(e,t,n,r){const i=t[0].length;let a=new Array(r),s=new Array(r);for(let o=0;o<r;o++){a[o]=new Array(i),s[o]=0;for(let l=0;l<i;l++)a[o][l]=0}for(let o=0;o<t.length;o++){s[n[o]]++;for(let l=0;l<i;l++)a[n[o]][l]+=t[o][l]}for(let o=0;o<r;o++)for(let l=0;l<i;l++)s[o]?a[o][l]/=s[o]:a[o][l]=e[o][l];return a}function KD(e,t,n,r){for(let i=0;i<e.length;i++)if(n(e[i],t[i])>r)return!1;return!0}class JD{constructor(t,n,r,i,a){this.clusters=t,this.centroids=n,this.converged=r,this.iterations=i,this.distance=a}nearest(t){const n=new Array(t.length);return yb(t,this.centroids,n,this.distance)}computeInformation(t){let n=this.centroids.map(r=>({centroid:r,error:0,size:0}));for(let r=0;r<t.length;r++)n[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),n[this.clusters[r]].size++;for(let r=0;r<this.centroids.length;r++){let i=n[r].error;n[r].size&&i!==-1?i/=n[r].size:n[r].error=-1}return n}}function e_(e,t){throw new Error(`${t}: "${String(e)}"`)}function t_(e,t){if(t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points")}const n_=Object.prototype.toString;function pn(e){const t=n_.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function r_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]>s&&(s=e[o]);return s}function i_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]<s&&(s=e[o]);return s}function P7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pn(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(t.output!==void 0){if(!pn(t.output))throw new TypeError("output option must be an array if specified");n=t.output}else n=new Array(e.length);var r=i_(e),i=r_(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,s=a===void 0?t.autoMinMax?r:0:a,o=t.max,l=o===void 0?t.autoMinMax?i:1:o;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(i-r),c=0;c<e.length;c++)n[c]=(e[c]-r)*u+s;return n}const _c=" ".repeat(2),bb=" ".repeat(4);function a_(){return wb(this)}function wb(e,t={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:a="auto"}=t;return`${e.constructor.name} {
${_c}[
${bb}${s_(e,n,r,i,a)}
${_c}]
${_c}rows: ${e.rows}
${_c}columns: ${e.columns}
}`}function s_(e,t,n,r,i){const{rows:a,columns:s}=e,o=Math.min(a,t),l=Math.min(s,n),u=[];if(i==="auto"){i=!1;e:for(let c=0;c<o;c++)for(let f=0;f<l;f++)if(e.get(c,f)<0){i=!0;break e}}for(let c=0;c<o;c++){let f=[];for(let h=0;h<l;h++)f.push(o_(e.get(c,h),r,i));u.push(`${f.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-n} more columns`),o!==a&&u.push(`... ${a-t} more rows`),u.join(`
${bb}`)}function o_(e,t,n){return(e>=0&&n?` ${O7(e,t-1)}`:O7(e,t)).padEnd(t)}function O7(e,t){let n=e.toString();if(n.length<=t)return n;let r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function l_(e,t){e.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},e.prototype.addS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r);return this},e.prototype.addM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r.get(i,a));return this},e.add=function(r,i){return new t(r).add(i)},e.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},e.prototype.subS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r);return this},e.prototype.subM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r.get(i,a));return this},e.sub=function(r,i){return new t(r).sub(i)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},e.prototype.mulS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r);return this},e.prototype.mulM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r.get(i,a));return this},e.mul=function(r,i){return new t(r).mul(i)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},e.prototype.divS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r);return this},e.prototype.divM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r.get(i,a));return this},e.div=function(r,i){return new t(r).div(i)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},e.prototype.modS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r);return this},e.prototype.modM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r.get(i,a));return this},e.mod=function(r,i){return new t(r).mod(i)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},e.prototype.andS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r);return this},e.prototype.andM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r.get(i,a));return this},e.and=function(r,i){return new t(r).and(i)},e.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},e.prototype.orS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r);return this},e.prototype.orM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r.get(i,a));return this},e.or=function(r,i){return new t(r).or(i)},e.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},e.prototype.xorS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r);return this},e.prototype.xorM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r.get(i,a));return this},e.xor=function(r,i){return new t(r).xor(i)},e.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},e.prototype.leftShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r);return this},e.prototype.leftShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r.get(i,a));return this},e.leftShift=function(r,i){return new t(r).leftShift(i)},e.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},e.prototype.signPropagatingRightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r);return this},e.prototype.signPropagatingRightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r.get(i,a));return this},e.signPropagatingRightShift=function(r,i){return new t(r).signPropagatingRightShift(i)},e.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},e.prototype.rightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r);return this},e.prototype.rightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r.get(i,a));return this},e.rightShift=function(r,i){return new t(r).rightShift(i)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,~this.get(r,i));return this},e.not=function(r){return new t(r).not()},e.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.abs(this.get(r,i)));return this},e.abs=function(r){return new t(r).abs()},e.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acos(this.get(r,i)));return this},e.acos=function(r){return new t(r).acos()},e.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acosh(this.get(r,i)));return this},e.acosh=function(r){return new t(r).acosh()},e.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asin(this.get(r,i)));return this},e.asin=function(r){return new t(r).asin()},e.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asinh(this.get(r,i)));return this},e.asinh=function(r){return new t(r).asinh()},e.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atan(this.get(r,i)));return this},e.atan=function(r){return new t(r).atan()},e.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atanh(this.get(r,i)));return this},e.atanh=function(r){return new t(r).atanh()},e.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cbrt(this.get(r,i)));return this},e.cbrt=function(r){return new t(r).cbrt()},e.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.ceil(this.get(r,i)));return this},e.ceil=function(r){return new t(r).ceil()},e.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.clz32(this.get(r,i)));return this},e.clz32=function(r){return new t(r).clz32()},e.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cos(this.get(r,i)));return this},e.cos=function(r){return new t(r).cos()},e.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cosh(this.get(r,i)));return this},e.cosh=function(r){return new t(r).cosh()},e.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.exp(this.get(r,i)));return this},e.exp=function(r){return new t(r).exp()},e.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.expm1(this.get(r,i)));return this},e.expm1=function(r){return new t(r).expm1()},e.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.floor(this.get(r,i)));return this},e.floor=function(r){return new t(r).floor()},e.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.fround(this.get(r,i)));return this},e.fround=function(r){return new t(r).fround()},e.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log(this.get(r,i)));return this},e.log=function(r){return new t(r).log()},e.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log1p(this.get(r,i)));return this},e.log1p=function(r){return new t(r).log1p()},e.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log10(this.get(r,i)));return this},e.log10=function(r){return new t(r).log10()},e.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log2(this.get(r,i)));return this},e.log2=function(r){return new t(r).log2()},e.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.round(this.get(r,i)));return this},e.round=function(r){return new t(r).round()},e.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sign(this.get(r,i)));return this},e.sign=function(r){return new t(r).sign()},e.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sin(this.get(r,i)));return this},e.sin=function(r){return new t(r).sin()},e.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sinh(this.get(r,i)));return this},e.sinh=function(r){return new t(r).sinh()},e.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sqrt(this.get(r,i)));return this},e.sqrt=function(r){return new t(r).sqrt()},e.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tan(this.get(r,i)));return this},e.tan=function(r){return new t(r).tan()},e.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tanh(this.get(r,i)));return this},e.tanh=function(r){return new t(r).tanh()},e.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.trunc(this.get(r,i)));return this},e.trunc=function(r){return new t(r).trunc()},e.pow=function(r,i){return new t(r).pow(i)},e.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},e.prototype.powS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r));return this},e.prototype.powM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r.get(i,a)));return this}}function On(e,t,n){let r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function Hn(e,t,n){let r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function zo(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function Io(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function u_(e,t){if(!pn(t))throw new TypeError("row indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function c_(e,t){if(!pn(t))throw new TypeError("column indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function H7(e,t,n,r,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(zc("startRow",t),zc("endRow",n),zc("startColumn",r),zc("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function Sh(e,t=0){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function zc(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}function Eo(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function f_(e){let t=Sh(e.rows);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}function h_(e){let t=Sh(e.columns);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}function d_(e){let t=0;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t+=e.get(n,r);return t}function m_(e){let t=Sh(e.rows,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}function p_(e){let t=Sh(e.columns,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}function g_(e){let t=1;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t*=e.get(n,r);return t}function v_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<r;s++){let o=0,l=0,u=0;for(let c=0;c<i;c++)u=e.get(s,c)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/i)/(i-1)):a.push((l-o*o/i)/i)}return a}function y_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<i;s++){let o=0,l=0,u=0;for(let c=0;c<r;c++)u=e.get(c,s)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/r)/(r-1)):a.push((l-o*o/r)/r)}return a}function b_(e,t,n){const r=e.rows,i=e.columns,a=r*i;let s=0,o=0,l=0;for(let u=0;u<r;u++)for(let c=0;c<i;c++)l=e.get(u,c)-n,s+=l,o+=l*l;return t?(o-s*s/a)/(a-1):(o-s*s/a)/a}function w_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function x_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function M_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function S_(e){const t=[];for(let n=0;n<e.rows;n++){let r=0;for(let i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function k_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function $_(e){const t=[];for(let n=0;n<e.columns;n++){let r=0;for(let i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function T_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function C_(e){const t=e.size-1;let n=0;for(let r=0;r<e.columns;r++)for(let i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function A_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}class je{static from1DArray(t,n,r){if(t*n!==r.length)throw new RangeError("data length does not match given dimensions");let a=new ze(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,r[s*n+o]);return a}static rowVector(t){let n=new ze(1,t.length);for(let r=0;r<t.length;r++)n.set(0,r,t[r]);return n}static columnVector(t){let n=new ze(t.length,1);for(let r=0;r<t.length;r++)n.set(r,0,t[r]);return n}static zeros(t,n){return new ze(t,n)}static ones(t,n){return new ze(t,n).fill(1)}static rand(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=r;let a=new ze(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,i());return a}static randInt(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:i=0,max:a=1e3,random:s=Math.random}=r;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let o=a-i,l=new ze(t,n);for(let u=0;u<t;u++)for(let c=0;c<n;c++){let f=i+Math.round(s()*o);l.set(u,c,f)}return l}static eye(t,n,r){n===void 0&&(n=t),r===void 0&&(r=1);let i=Math.min(t,n),a=this.zeros(t,n);for(let s=0;s<i;s++)a.set(s,s,r);return a}static diag(t,n,r){let i=t.length;n===void 0&&(n=i),r===void 0&&(r=n);let a=Math.min(i,n,r),s=this.zeros(n,r);for(let o=0;o<a;o++)s.set(o,o,t[o]);return s}static min(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new ze(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.min(t.get(s,o),n.get(s,o)));return a}static max(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new this(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.max(t.get(s,o),n.get(s,o)));return a}static checkMatrix(t){return je.isMatrix(t)?t:new ze(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.call(this,n,r);return this}to1DArray(){let t=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.push(this.get(n,r));return t}to2DArray(){let t=[];for(let n=0;n<this.rows;n++){t.push([]);for(let r=0;r<this.columns;r++)t[n].push(this.get(n,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let n=0;n<=t;n++)if(this.get(t,n)!==this.get(n,t))return!1;return!0}return!1}isEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);for(let s=n+1;s<this.rows;s++)this.get(t,s)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),n=0,r=0;for(;n<t.rows&&r<t.columns;){let i=n;for(let a=n;a<t.rows;a++)t.get(a,r)>t.get(i,r)&&(i=a);if(t.get(i,r)===0)r++;else{t.swapRows(n,i);let a=t.get(n,r);for(let s=r;s<t.columns;s++)t.set(n,s,t.get(n,s)/a);for(let s=n+1;s<t.rows;s++){let o=t.get(s,r)/t.get(n,r);t.set(s,r,0);for(let l=r+1;l<t.columns;l++)t.set(s,l,t.get(s,l)-t.get(n,l)*o)}n++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),n=t.columns,r=t.rows,i=r-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,s=!1;for(;a<r&&s===!1;)t.get(i,a)===1?s=!0:a++;for(let o=0;o<i;o++){let l=t.get(o,a);for(let u=a;u<n;u++){let c=t.get(o,u)-l*t.get(i,u);t.set(o,u,c)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=t;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new ze(this.rows*n,this.columns*r);for(let a=0;a<n;a++)for(let s=0;s<r;s++)i.setSubMatrix(this,this.rows*a,this.columns*s);return i}fill(t){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,t);return this}neg(){return this.mulS(-1)}getRow(t){On(this,t);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(t,r));return n}getRowVector(t){return ze.rowVector(this.getRow(t))}setRow(t,n){On(this,t),n=zo(this,n);for(let r=0;r<this.columns;r++)this.set(t,r,n[r]);return this}swapRows(t,n){On(this,t),On(this,n);for(let r=0;r<this.columns;r++){let i=this.get(t,r);this.set(t,r,this.get(n,r)),this.set(n,r,i)}return this}getColumn(t){Hn(this,t);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,t));return n}getColumnVector(t){return ze.columnVector(this.getColumn(t))}setColumn(t,n){Hn(this,t),n=Io(this,n);for(let r=0;r<this.rows;r++)this.set(r,t,n[r]);return this}swapColumns(t,n){Hn(this,t),Hn(this,n);for(let r=0;r<this.rows;r++){let i=this.get(r,t);this.set(r,t,this.get(r,n)),this.set(r,n,i)}return this}addRowVector(t){t=zo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[r]);return this}subRowVector(t){t=zo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[r]);return this}mulRowVector(t){t=zo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[r]);return this}divRowVector(t){t=zo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[r]);return this}addColumnVector(t){t=Io(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[n]);return this}subColumnVector(t){t=Io(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[n]);return this}mulColumnVector(t){t=Io(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[n]);return this}divColumnVector(t){t=Io(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[n]);return this}mulRow(t,n){On(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*n);return this}mulColumn(t,n){Hn(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*n);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){Eo(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}minIndex(){Eo(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}maxRow(t){if(On(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>n&&(n=this.get(t,r));return n}maxRowIndex(t){On(this,t),Eo(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>n&&(n=this.get(t,i),r[1]=i);return r}minRow(t){if(On(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<n&&(n=this.get(t,r));return n}minRowIndex(t){On(this,t),Eo(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<n&&(n=this.get(t,i),r[1]=i);return r}maxColumn(t){if(Hn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>n&&(n=this.get(r,t));return n}maxColumnIndex(t){Hn(this,t),Eo(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>n&&(n=this.get(i,t),r[0]=i);return r}minColumn(t){if(Hn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<n&&(n=this.get(r,t));return n}minColumnIndex(t){Hn(this,t),Eo(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<n&&(n=this.get(i,t),r[0]=i);return r}diag(){let t=Math.min(this.rows,this.columns),n=[];for(let r=0;r<t;r++)n.push(this.get(r,r));return n}norm(t="frobenius"){let n=0;if(t==="max")return this.max();if(t==="frobenius"){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)n=n+this.get(r,i)*this.get(r,i);return Math.sqrt(n)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t+=this.get(n,r),this.set(n,r,t);return this}dot(t){je.isMatrix(t)&&(t=t.to1DArray());let n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let i=0;i<n.length;i++)r+=n[i]*t[i];return r}mmul(t){t=ze.checkMatrix(t);let n=this.rows,r=this.columns,i=t.columns,a=new ze(n,i),s=new Float64Array(r);for(let o=0;o<i;o++){for(let l=0;l<r;l++)s[l]=t.get(l,o);for(let l=0;l<n;l++){let u=0;for(let c=0;c<r;c++)u+=this.get(l,c)*s[c];a.set(l,o,u)}}return a}strassen2x2(t){t=ze.checkMatrix(t);let n=new ze(2,2);const r=this.get(0,0),i=t.get(0,0),a=this.get(0,1),s=t.get(0,1),o=this.get(1,0),l=t.get(1,0),u=this.get(1,1),c=t.get(1,1),f=(r+u)*(i+c),h=(o+u)*i,d=r*(s-c),g=u*(l-i),y=(r+a)*c,b=(o-r)*(i+s),w=(a-u)*(l+c),k=f+g-y+w,E=d+y,$=h+g,A=f-h+d+b;return n.set(0,0,k),n.set(0,1,E),n.set(1,0,$),n.set(1,1,A),n}strassen3x3(t){t=ze.checkMatrix(t);let n=new ze(3,3);const r=this.get(0,0),i=this.get(0,1),a=this.get(0,2),s=this.get(1,0),o=this.get(1,1),l=this.get(1,2),u=this.get(2,0),c=this.get(2,1),f=this.get(2,2),h=t.get(0,0),d=t.get(0,1),g=t.get(0,2),y=t.get(1,0),b=t.get(1,1),w=t.get(1,2),k=t.get(2,0),E=t.get(2,1),$=t.get(2,2),A=(r+i+a-s-o-c-f)*b,z=(r-s)*(-d+b),D=o*(-h+d+y-b-w-k+$),j=(-r+s+o)*(h-d+b),U=(s+o)*(-h+d),S=r*h,C=(-r+u+c)*(h-g+w),O=(-r+u)*(g-w),P=(u+c)*(-h+g),X=(r+i+a-o-l-u-c)*w,N=c*(-h+g+y-b-w-k+E),W=(-a+c+f)*(b+k-E),ae=(a-f)*(b-E),ie=a*k,le=(c+f)*(-k+E),ee=(-a+o+l)*(w+k-$),se=(a-l)*(w-$),oe=(o+l)*(-k+$),re=i*y,Se=l*E,Ce=s*g,De=u*d,ce=f*$,me=S+ie+re,te=A+j+U+S+W+ie+le,xe=S+C+P+X+ie+ee+oe,Te=z+D+j+S+ie+ee+se,Y=z+j+U+S+Se,ke=ie+ee+se+oe+Ce,Ee=S+C+O+N+W+ae+ie,Be=W+ae+ie+le+De,Fe=S+C+O+P+ce;return n.set(0,0,me),n.set(0,1,te),n.set(0,2,xe),n.set(1,0,Te),n.set(1,1,Y),n.set(1,2,ke),n.set(2,0,Ee),n.set(2,1,Be),n.set(2,2,Fe),n}mmulStrassen(t){t=ze.checkMatrix(t);let n=this.clone(),r=n.rows,i=n.columns,a=t.rows,s=t.columns;i!==a&&console.warn(`Multiplying ${r} x ${i} and ${a} x ${s} matrix: dimensions do not match.`);function o(f,h,d){let g=f.rows,y=f.columns;if(g===h&&y===d)return f;{let b=je.zeros(h,d);return b=b.setSubMatrix(f,0,0),b}}let l=Math.max(r,a),u=Math.max(i,s);n=o(n,l,u),t=o(t,l,u);function c(f,h,d,g){if(d<=512||g<=512)return f.mmul(h);d%2===1&&g%2===1?(f=o(f,d+1,g+1),h=o(h,d+1,g+1)):d%2===1?(f=o(f,d+1,g),h=o(h,d+1,g)):g%2===1&&(f=o(f,d,g+1),h=o(h,d,g+1));let y=parseInt(f.rows/2,10),b=parseInt(f.columns/2,10),w=f.subMatrix(0,y-1,0,b-1),k=h.subMatrix(0,y-1,0,b-1),E=f.subMatrix(0,y-1,b,f.columns-1),$=h.subMatrix(0,y-1,b,h.columns-1),A=f.subMatrix(y,f.rows-1,0,b-1),z=h.subMatrix(y,h.rows-1,0,b-1),D=f.subMatrix(y,f.rows-1,b,f.columns-1),j=h.subMatrix(y,h.rows-1,b,h.columns-1),U=c(je.add(w,D),je.add(k,j),y,b),S=c(je.add(A,D),k,y,b),C=c(w,je.sub($,j),y,b),O=c(D,je.sub(z,k),y,b),P=c(je.add(w,E),j,y,b),X=c(je.sub(A,w),je.add(k,$),y,b),N=c(je.sub(E,D),je.add(z,j),y,b),W=je.add(U,O);W.sub(P),W.add(N);let ae=je.add(C,P),ie=je.add(S,O),le=je.sub(U,S);le.add(C),le.add(X);let ee=je.zeros(2*W.rows,2*W.columns);return ee=ee.setSubMatrix(W,0,0),ee=ee.setSubMatrix(ae,W.rows,0),ee=ee.setSubMatrix(ie,0,W.columns),ee=ee.setSubMatrix(le,W.rows,W.columns),ee.subMatrix(0,d-1,0,g-1)}return c(n,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new ze(this.rows,this.columns);for(let a=0;a<this.rows;a++){const s=this.getRow(a);s.length>0&&P7(s,{min:n,max:r,output:s}),i.setRow(a,s)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new ze(this.rows,this.columns);for(let a=0;a<this.columns;a++){const s=this.getColumn(a);s.length&&P7(s,{min:n,max:r,output:s}),i.setColumn(a,s)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<t;r++){let i=this.get(n,r),a=this.get(n,this.columns-1-r);this.set(n,r,a),this.set(n,this.columns-1-r,i)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<t;r++){let i=this.get(r,n),a=this.get(this.rows-1-r,n);this.set(r,n,a),this.set(this.rows-1-r,n,i)}return this}kroneckerProduct(t){t=ze.checkMatrix(t);let n=this.rows,r=this.columns,i=t.rows,a=t.columns,s=new ze(n*i,r*a);for(let o=0;o<n;o++)for(let l=0;l<r;l++)for(let u=0;u<i;u++)for(let c=0;c<a;c++)s.set(i*o+u,a*l+c,this.get(o,l)*t.get(u,c));return s}kroneckerSum(t){if(t=ze.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=t.rows,i=this.kroneckerProduct(ze.eye(r,r)),a=ze.eye(n,n).kroneckerProduct(t);return i.add(a)}transpose(){let t=new ze(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(r,n,this.get(n,r));return t}sortRows(t=V7){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(t));return this}sortColumns(t=V7){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(t));return this}subMatrix(t,n,r,i){H7(this,t,n,r,i);let a=new ze(n-t+1,i-r+1);for(let s=t;s<=n;s++)for(let o=r;o<=i;o++)a.set(s-t,o-r,this.get(s,o));return a}subMatrixRow(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let i=new ze(t.length,r-n+1);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,s-n,this.get(t[a],s))}return i}subMatrixColumn(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let i=new ze(r-n+1,t.length);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(s-n,a,this.get(s,t[a]))}return i}setSubMatrix(t,n,r){if(t=ze.checkMatrix(t),t.isEmpty())return this;let i=n+t.rows-1,a=r+t.columns-1;H7(this,n,i,r,a);for(let s=0;s<t.rows;s++)for(let o=0;o<t.columns;o++)this.set(n+s,r+o,t.get(s,o));return this}selection(t,n){u_(this,t),c_(this,n);let r=new ze(t.length,n.length);for(let i=0;i<t.length;i++){let a=t[i];for(let s=0;s<n.length;s++){let o=n[s];r.set(i,s,this.get(a,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),n=0;for(let r=0;r<t;r++)n+=this.get(r,r);return n}clone(){let t=new ze(this.rows,this.columns);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(n,r,this.get(n,r));return t}sum(t){switch(t){case"row":return f_(this);case"column":return h_(this);case void 0:return d_(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return m_(this);case"column":return p_(this);case void 0:return g_(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const n=this.sum(t);switch(t){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(t)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!pn(i))throw new TypeError("mean must be an array");return v_(this,r,i)}case"column":{if(!pn(i))throw new TypeError("mean must be an array");return y_(this,r,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return b_(this,r,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,n){typeof t=="object"&&(n=t,t=void 0);const r=this.variance(t,n);if(t===void 0)return Math.sqrt(r);for(let i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}center(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(t)}=n;switch(t){case"row":{if(!pn(r))throw new TypeError("center must be an array");return w_(this,r),this}case"column":{if(!pn(r))throw new TypeError("center must be an array");return x_(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return M_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(t){case"row":{if(r===void 0)r=S_(this);else if(!pn(r))throw new TypeError("scale must be an array");return k_(this,r),this}case"column":{if(r===void 0)r=$_(this);else if(!pn(r))throw new TypeError("scale must be an array");return T_(this,r),this}case void 0:{if(r===void 0)r=C_(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return A_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return wb(this,t)}}je.prototype.klass="Matrix";typeof Symbol<"u"&&(je.prototype[Symbol.for("nodejs.util.inspect.custom")]=a_);function V7(e,t){return e-t}function E_(e){return e.every(t=>typeof t=="number")}je.random=je.rand;je.randomInt=je.randInt;je.diagonal=je.diag;je.prototype.diagonal=je.prototype.diag;je.identity=je.eye;je.prototype.negate=je.prototype.neg;je.prototype.tensorProduct=je.prototype.kroneckerProduct;class ze extends je{constructor(t,n){if(super(),ze.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0)if(this.data=[],Number.isInteger(n)&&n>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(pn(t)){const r=t;if(t=r.length,n=t?r[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(r[i].length!==n)throw new RangeError("Inconsistent array dimensions");if(!E_(r[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=n}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}removeRow(t){return On(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,n){return n===void 0&&(n=t,t=this.rows),On(this,t,!0),n=Float64Array.from(zo(this,n)),this.data.splice(t,0,n),this.rows+=1,this}removeColumn(t){Hn(this,t);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns-1);for(let i=0;i<t;i++)r[i]=this.data[n][i];for(let i=t+1;i<this.columns;i++)r[i-1]=this.data[n][i];this.data[n]=r}return this.columns-=1,this}addColumn(t,n){typeof n>"u"&&(n=t,t=this.columns),Hn(this,t,!0),n=Io(this,n);for(let r=0;r<this.rows;r++){const i=new Float64Array(this.columns+1);let a=0;for(;a<t;a++)i[a]=this.data[r][a];for(i[a++]=n[r];a<this.columns+1;a++)i[a]=this.data[r][a-1];this.data[r]=i}return this.columns+=1,this}}l_(je,ze);class D_ extends je{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}}function Do(e,t){let n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):t!==0?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}class __{constructor(t,n={}){if(t=D_.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,i=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:s=!0,autoTranspose:o=!1}=n;let l=!!a,u=!!s,c=!1,f;if(r<i)if(!o)f=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{f=t.transpose(),r=f.rows,i=f.columns,c=!0;let S=l;l=u,u=S}else f=t.clone();let h=Math.min(r,i),d=Math.min(r+1,i),g=new Float64Array(d),y=new ze(r,h),b=new ze(i,i),w=new Float64Array(i),k=new Float64Array(r),E=new Float64Array(d);for(let S=0;S<d;S++)E[S]=S;let $=Math.min(r-1,i),A=Math.max(0,Math.min(i-2,r)),z=Math.max($,A);for(let S=0;S<z;S++){if(S<$){g[S]=0;for(let C=S;C<r;C++)g[S]=Do(g[S],f.get(C,S));if(g[S]!==0){f.get(S,S)<0&&(g[S]=-g[S]);for(let C=S;C<r;C++)f.set(C,S,f.get(C,S)/g[S]);f.set(S,S,f.get(S,S)+1)}g[S]=-g[S]}for(let C=S+1;C<i;C++){if(S<$&&g[S]!==0){let O=0;for(let P=S;P<r;P++)O+=f.get(P,S)*f.get(P,C);O=-O/f.get(S,S);for(let P=S;P<r;P++)f.set(P,C,f.get(P,C)+O*f.get(P,S))}w[C]=f.get(S,C)}if(l&&S<$)for(let C=S;C<r;C++)y.set(C,S,f.get(C,S));if(S<A){w[S]=0;for(let C=S+1;C<i;C++)w[S]=Do(w[S],w[C]);if(w[S]!==0){w[S+1]<0&&(w[S]=0-w[S]);for(let C=S+1;C<i;C++)w[C]/=w[S];w[S+1]+=1}if(w[S]=-w[S],S+1<r&&w[S]!==0){for(let C=S+1;C<r;C++)k[C]=0;for(let C=S+1;C<r;C++)for(let O=S+1;O<i;O++)k[C]+=w[O]*f.get(C,O);for(let C=S+1;C<i;C++){let O=-w[C]/w[S+1];for(let P=S+1;P<r;P++)f.set(P,C,f.get(P,C)+O*k[P])}}if(u)for(let C=S+1;C<i;C++)b.set(C,S,w[C])}}let D=Math.min(i,r+1);if($<i&&(g[$]=f.get($,$)),r<D&&(g[D-1]=0),A+1<D&&(w[A]=f.get(A,D-1)),w[D-1]=0,l){for(let S=$;S<h;S++){for(let C=0;C<r;C++)y.set(C,S,0);y.set(S,S,1)}for(let S=$-1;S>=0;S--)if(g[S]!==0){for(let C=S+1;C<h;C++){let O=0;for(let P=S;P<r;P++)O+=y.get(P,S)*y.get(P,C);O=-O/y.get(S,S);for(let P=S;P<r;P++)y.set(P,C,y.get(P,C)+O*y.get(P,S))}for(let C=S;C<r;C++)y.set(C,S,-y.get(C,S));y.set(S,S,1+y.get(S,S));for(let C=0;C<S-1;C++)y.set(C,S,0)}else{for(let C=0;C<r;C++)y.set(C,S,0);y.set(S,S,1)}}if(u)for(let S=i-1;S>=0;S--){if(S<A&&w[S]!==0)for(let C=S+1;C<i;C++){let O=0;for(let P=S+1;P<i;P++)O+=b.get(P,S)*b.get(P,C);O=-O/b.get(S+1,S);for(let P=S+1;P<i;P++)b.set(P,C,b.get(P,C)+O*b.get(P,S))}for(let C=0;C<i;C++)b.set(C,S,0);b.set(S,S,1)}let j=D-1,U=Number.EPSILON;for(;D>0;){let S,C;for(S=D-2;S>=-1&&S!==-1;S--){const O=Number.MIN_VALUE+U*Math.abs(g[S]+Math.abs(g[S+1]));if(Math.abs(w[S])<=O||Number.isNaN(w[S])){w[S]=0;break}}if(S===D-2)C=4;else{let O;for(O=D-1;O>=S&&O!==S;O--){let P=(O!==D?Math.abs(w[O]):0)+(O!==S+1?Math.abs(w[O-1]):0);if(Math.abs(g[O])<=U*P){g[O]=0;break}}O===S?C=3:O===D-1?C=1:(C=2,S=O)}switch(S++,C){case 1:{let O=w[D-2];w[D-2]=0;for(let P=D-2;P>=S;P--){let X=Do(g[P],O),N=g[P]/X,W=O/X;if(g[P]=X,P!==S&&(O=-W*w[P-1],w[P-1]=N*w[P-1]),u)for(let ae=0;ae<i;ae++)X=N*b.get(ae,P)+W*b.get(ae,D-1),b.set(ae,D-1,-W*b.get(ae,P)+N*b.get(ae,D-1)),b.set(ae,P,X)}break}case 2:{let O=w[S-1];w[S-1]=0;for(let P=S;P<D;P++){let X=Do(g[P],O),N=g[P]/X,W=O/X;if(g[P]=X,O=-W*w[P],w[P]=N*w[P],l)for(let ae=0;ae<r;ae++)X=N*y.get(ae,P)+W*y.get(ae,S-1),y.set(ae,S-1,-W*y.get(ae,P)+N*y.get(ae,S-1)),y.set(ae,P,X)}break}case 3:{const O=Math.max(Math.abs(g[D-1]),Math.abs(g[D-2]),Math.abs(w[D-2]),Math.abs(g[S]),Math.abs(w[S])),P=g[D-1]/O,X=g[D-2]/O,N=w[D-2]/O,W=g[S]/O,ae=w[S]/O,ie=((X+P)*(X-P)+N*N)/2,le=P*N*(P*N);let ee=0;(ie!==0||le!==0)&&(ie<0?ee=0-Math.sqrt(ie*ie+le):ee=Math.sqrt(ie*ie+le),ee=le/(ie+ee));let se=(W+P)*(W-P)+ee,oe=W*ae;for(let re=S;re<D-1;re++){let Se=Do(se,oe);Se===0&&(Se=Number.MIN_VALUE);let Ce=se/Se,De=oe/Se;if(re!==S&&(w[re-1]=Se),se=Ce*g[re]+De*w[re],w[re]=Ce*w[re]-De*g[re],oe=De*g[re+1],g[re+1]=Ce*g[re+1],u)for(let ce=0;ce<i;ce++)Se=Ce*b.get(ce,re)+De*b.get(ce,re+1),b.set(ce,re+1,-De*b.get(ce,re)+Ce*b.get(ce,re+1)),b.set(ce,re,Se);if(Se=Do(se,oe),Se===0&&(Se=Number.MIN_VALUE),Ce=se/Se,De=oe/Se,g[re]=Se,se=Ce*w[re]+De*g[re+1],g[re+1]=-De*w[re]+Ce*g[re+1],oe=De*w[re+1],w[re+1]=Ce*w[re+1],l&&re<r-1)for(let ce=0;ce<r;ce++)Se=Ce*y.get(ce,re)+De*y.get(ce,re+1),y.set(ce,re+1,-De*y.get(ce,re)+Ce*y.get(ce,re+1)),y.set(ce,re,Se)}w[D-2]=se;break}case 4:{if(g[S]<=0&&(g[S]=g[S]<0?-g[S]:0,u))for(let O=0;O<=j;O++)b.set(O,S,-b.get(O,S));for(;S<j&&!(g[S]>=g[S+1]);){let O=g[S];if(g[S]=g[S+1],g[S+1]=O,u&&S<i-1)for(let P=0;P<i;P++)O=b.get(P,S+1),b.set(P,S+1,b.get(P,S)),b.set(P,S,O);if(l&&S<r-1)for(let P=0;P<r;P++)O=y.get(P,S+1),y.set(P,S+1,y.get(P,S)),y.set(P,S,O);S++}D--;break}}}if(c){let S=b;b=y,y=S}this.m=r,this.n=i,this.s=g,this.U=y,this.V=b}solve(t){let n=t,r=this.threshold,i=this.s.length,a=ze.zeros(i,i);for(let h=0;h<i;h++)Math.abs(this.s[h])<=r?a.set(h,h,0):a.set(h,h,1/this.s[h]);let s=this.U,o=this.rightSingularVectors,l=o.mmul(a),u=o.rows,c=s.rows,f=ze.zeros(u,c);for(let h=0;h<u;h++)for(let d=0;d<c;d++){let g=0;for(let y=0;y<i;y++)g+=l.get(h,y)*s.get(d,y);f.set(h,d,g)}return f.mmul(n)}solveForDiagonal(t){return this.solve(ze.diag(t))}inverse(){let t=this.V,n=this.threshold,r=t.rows,i=t.columns,a=new ze(r,this.s.length);for(let c=0;c<r;c++)for(let f=0;f<i;f++)Math.abs(this.s[f])>n&&a.set(c,f,t.get(c,f)/this.s[f]);let s=this.U,o=s.rows,l=s.columns,u=new ze(r,o);for(let c=0;c<r;c++)for(let f=0;f<o;f++){let h=0;for(let d=0;d<l;d++)h+=a.get(c,d)*s.get(f,d);u.set(c,f,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s;for(let i=0,a=r.length;i<a;i++)r[i]>t&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return ze.diag(this.s)}}function z_(e,t=Number.EPSILON){if(e=ze.checkMatrix(e),e.isEmpty())return e.transpose();let n=new __(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,a=n.diagonal;for(let s=0;s<a.length;s++)Math.abs(a[s])>t?a[s]=1/a[s]:a[s]=0;return i.mmul(ze.diag(a).mmul(r.transpose()))}const U7=8,I_=1/16777216,N_=15,q_=18,B_=11;function F_(e,t){e>>>=0,t>>>=0;const n=e&65535;return((e-n)*t>>>0)+n*t>>>0}class L_{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*I_}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let n=1;n<U7;n++)this.state[n&3]^=n+F_(1812433253,this.state[n-1&3]^this.state[n-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let n=0;n<U7;n++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<N_,t^=t>>>q_,t^=this.state[3]<<B_,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}const R_=1e-8;function j7(e,t={},n=Math.random){const{size:r=1,replace:i=!1,probabilities:a}=t;let s,o;if(typeof e=="number"?s=P_(e):s=e.slice(),a){if(!i)throw new Error("choice with probabilities and no replacement is not implemented");if(a.length!==s.length)throw new Error("the length of probabilities option should be equal to the number of choices");o=[a[0]];for(let u=1;u<a.length;u++)o[u]=o[u-1]+a[u];if(Math.abs(1-o[o.length-1])>R_)throw new Error(`probabilities should sum to 1, but instead sums to ${o[o.length-1]}`)}if(i===!1&&r>s.length)throw new Error("size option is too large");const l=[];for(let u=0;u<r;u++){const c=O_(s.length,n,o);l.push(s[c]),i||s.splice(c,1)}return l}function P_(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function O_(e,t,n){const r=t();if(n){let i=0;for(;r>n[i];)i++;return i}else return Math.floor(r*e)}class Z3{constructor(t=Math.random){if(typeof t=="number"){const n=new L_(t);this.randomGenerator=n.random}else this.randomGenerator=t}choice(t,n){return typeof t=="number"?j7(t,n,this.randomGenerator):j7(t,n,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,n){return n===void 0&&(n=t,t=0),t+Math.floor(this.randomGenerator()*(n-t))}randomSample(t){const n=[];for(let r=0;r<t;r++)n.push(this.random());return n}}function H_(e,t,n){return new Z3(n).choice(e,{size:t})}function V_(e,t,n,r){const i=new Z3(r);let a=new Array(t);if(a[0]=Math.floor(i.random()*e.length),t>1){let s={dist:-1,index:-1};for(let o=0;o<e.length;++o)n[a[0]][o]>s.dist&&(s.dist=n[a[0]][o],s.index=o);if(a[1]=s.index,t>2)for(let o=2;o<t;++o){let l={dist:-1,index:-1};for(let u=0;u<e.length;++u){let c={dist:Number.MAX_VALUE,index:-1};for(let f=0;f<o;++f)n[f][u]<c.dist&&!a.includes(u)&&(c={dist:n[f][u],index:u});c.dist!==Number.MAX_VALUE&&c.dist>l.dist&&(l={...c})}a[o]=l.index}}return a.map(s=>e[s])}function U_(e,t,n={}){const r=new ze(e),i=r.rows,a=new Z3(n.seed),s=[],o=n.localTrials||2+Math.floor(Math.log(t)),l=a.randInt(i);s.push(r.getRow(l));let u=new ze(1,r.rows);for(let d=0;d<r.rows;d++)u.set(0,d,Mh(r.getRow(d),s[0]));let c=[W7(u.getRow(0))];const f=1/c[0][i-1];let h=ze.mul(u,f);for(let d=1;d<t;d++){const g=a.choice(i,{replace:!0,size:o,probabilities:h.getRow(0)}),y=r.selection(g,W_(r.columns)),b=j_(y,r);let w=1/0,k=1/0,E=u;for(let $=0;$<o;$++){const A=ze.min(u,[b.getRow($)]),z=A.sum();z<k&&(w=g[$],k=z,E=A)}s[d]=r.getRow(w),u=E,c=[W7(u.getRow(0))],h=ze.mul(u,1/c[0][i-1])}return s}function j_(e,t){const n=new ze(e.rows,t.rows);for(let r=0;r<e.rows;r++)for(let i=0;i<t.rows;i++)n.set(r,i,Mh(e.getRow(r),t.getRow(i)));return n}function W_(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}function W7(e){let t=[e[0]];for(let n=1;n<e.length;n++)t[n]=t[n-1]+e[n];return t}const Y_={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:Mh};function G_(e,t,n,r,i,a){n=yb(t,e,n,i.distanceFunction);let s=QD(e,t,n,r),o=KD(s,e,i.distanceFunction,i.tolerance);return new JD(n,s,o,a,i.distanceFunction)}function X_(e,t,n){const r=Q_(n);t_(e,t);let i=Z_(e,t,r);r.maxIterations===0&&(r.maxIterations=Number.MAX_VALUE);let a=new Array(e.length),s=!1,o=0,l;for(;!s&&o<r.maxIterations;)l=G_(i,e,a,t,r,++o),s=l.converged,i=l.centroids;if(!l)throw new Error("unreachable: no kmeans step executed");return l}function Z_(e,t,n){let r;if(Array.isArray(n.initialization)){if(n.initialization.length!==t)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=U_(e,t,n);break;case"random":r=H_(e,t,n.seed);break;case"mostDistant":r=V_(e,t,ZD(e,n.distanceFunction),n.seed);break;default:e_(n.initialization,"Unknown initialization method")}return r}function Q_(e){return{...Y_,...e}}function K_(e,t=8,n=300,r=1e-4){const i=e.shape[0]*e.shape[1],a=Ke.randu([t,1]),s=Ke.zeros(e.shape,"u8");function o(c,f,h){for(let d=0;d<i;d++){const g=c.data[d];let y=0,b=1/0;for(let w=0;w<t;w++){const E=(f.data[w]-g)**2;E<b&&(b=E,y=w)}h.data[d]=y}}function l(c,f,h){for(let d=0;d<t;d++){let g=0,y=0;for(let b=0;b<i;b++)h.data[b]===d&&(g+=c.data[b],y++);y>0&&(f.data[d]=g/y)}}let u=0;for(;u<n;)o(e,a,s),l(e,a,s),u++;return{centroids:a,assignments:s}}function J_(e){const t=new Array(e.data.length);for(let n=0;n<e.data.length;n++)t[n]=[e.data[n]];return t}function ez(e,t=5,n=!1){if(t<=0)return Ke.zeros(e.shape);if(t>8)throw Error();if(n){const{centroids:r,assignments:i}=K_(e,2**t);return i.codebook=r,i}else{const r=X_(J_(e),2**t),i=Ke.$(r.clusters,e.shape,"u8");return i.codebook=Ke.$(r.centroids,[r.centroids.length,1]),i}}function Qs(e){return e!=null&&!Number.isNaN(e)}function Qn(e,t){return+Qs(t)-+Qs(e)||ln(e,t)}function Nf(e,t){return+Qs(t)-+Qs(e)||cu(e,t)}function xb(e){return e!=null&&`${e}`!=""}function Mb(e){return isFinite(e)?e:NaN}function Q3(e){return e>0&&isFinite(e)?e:NaN}function Sb(e){return e<0&&isFinite(e)?e:NaN}function tz(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${nz(e.getUTCFullYear())}-${jr(e.getUTCMonth()+1,2)}-${jr(e.getUTCDate(),2)}${n||r||i||a?`T${jr(n,2)}:${jr(r,2)}${i||a?`:${jr(i,2)}${a?`.${jr(a,3)}`:""}`:""}Z`:""}`}function nz(e){return e<0?`-${jr(-e,6)}`:e>9999?`+${jr(e,6)}`:jr(e,4)}function jr(e,t){return`${e}`.padStart(t,"0")}const rz=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function kb(e,t){return rz.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const Zc=1e3,Hm=Zc*60,Vm=Hm*60,eu=Vm*24,iz=eu*7,Y7=eu*30,az=eu*365,yl=[["millisecond",.5*Zc],["second",Zc],["second",30*Zc],["minute",Hm],["minute",30*Hm],["hour",Vm],["hour",12*Vm],["day",eu],["day",2*eu],["week",iz],["month",Y7],["month",3*Y7],["year",az]],sz=new Map([["second",Xr],["minute",ch],["hour",hh],["day",il],["week",Zo],["month",ph],["year",Xn],["monday",Ql],["tuesday",zv],["wednesday",Iv],["thursday",Xs],["friday",Nv],["saturday",qv],["sunday",Zo]]),oz=new Map([["second",Xr],["minute",fh],["hour",dh],["day",W3],["week",Qo],["month",gh],["year",Zn],["monday",Kl],["tuesday",Bv],["wednesday",Fv],["thursday",Zs],["friday",Lv],["saturday",Rv],["sunday",Qo]]);function $b(e,t){let n=`${e}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let a=t.get(n);if(!a)throw new Error(`unknown interval: ${e}`);if(!(r>1))return a;if(!a.every)throw new Error(`non-periodic interval: ${n}`);return a.every(r)}function lz(e){return $b(e,sz)}function Tb(e){return $b(e,oz)}function uz(e){if(!e)return!1;const t=e.floor(new Date(Date.UTC(2e3,11,31)));return Zn(t)>=t}function cz(e){if(!e)return!1;const t=e.floor(new Date(2e3,11,31));return Xn(t)>=t}function fz(e,t,n,r){const i=e.type==="time"?vh:Jl,a=r==="left"||r==="right"?(s,o)=>`
${s}
${o}`:r==="top"?(s,o)=>`${o}
${s}`:(s,o)=>`${s}
${o}`;switch(hz(e,t,n)){case"millisecond":return Bs(i(".%L"),i(":%M:%S"),a);case"second":return Bs(i(":%S"),i("%-I:%M"),a);case"minute":return Bs(i("%-I:%M"),i("%p"),a);case"hour":return Bs(i("%-I %p"),i("%b %-d"),a);case"day":return Bs(i("%-d"),i("%b"),a);case"week":return Bs(i("%-d"),i("%b"),a);case"month":return Bs(i("%b"),i("%Y"),a);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function hz(e,t,n){const r=of(dk(t,(l,u)=>Math.abs(u-l)||NaN));if(r>0)return yl[Vl(([,l])=>l).right(yl,r,1,yl.length)-1][0];const[i,a]=Wn(e.domain()),s=typeof n=="number"?n:10,o=Math.abs(a-i)/s;return yl[Vl(([,l])=>Math.log(l)).center(yl,Math.log(o))][0]}function Bs(e,t,n){return(r,i,a)=>{const s=e(r,i),o=t(r,i),l=i-Ko(a);return i!==l&&a[l]!==void 0&&o===t(a[l],l)?s:n(s,o)}}const tu=Object.getPrototypeOf(Uint8Array),dz=Object.prototype.toString;function At(e,t,n){const r=typeof t;return r==="string"?G7(e,Cb(t),n):r==="function"?G7(e,t,n):r==="number"||t instanceof Date||r==="boolean"?St(e,yu(t),n):typeof(t==null?void 0:t.transform)=="function"?X7(t.transform(e),n):X7(t,n)}function G7(e,t,n){return St(e,(n==null?void 0:n.prototype)instanceof tu?mz(t):t,n)}function X7(e,t){return t===void 0?wn(e):e instanceof t?e:t.prototype instanceof tu&&!(e instanceof tu)?t.from(e,e5):t.from(e)}function mz(e){return(t,n)=>e5(e(t,n))}const Qc=[null],Cb=e=>t=>t[e],K3={transform:c0},Ht={transform:e=>e},pz=()=>1,gz=()=>!0,jt=e=>e==null?e:`${e}`,rt=e=>e==null?e:+e,J3=e=>e?e[0]:void 0,Um=e=>e?e[1]:void 0,yu=e=>()=>e;function vz(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Ho(n,t,r)}function qf(e){return e instanceof tu?e:St(e,e5,Float64Array)}function e5(e){return e==null?NaN:Number(e)}function yz(e){return St(e,Ab)}function Ab(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?kb(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function o0(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:kh(e)?[void 0,e]:[e,void 0]}function gn(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function t5(e,t,n){if(e!=null)return Tr(e,t,n)}function Tr(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function wn(e){return e==null||e instanceof Array||e instanceof tu?e:Array.from(e)}function St(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function jm(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Eb({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function Db({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function _b(e){return Eb(e)||Db(e)||e.interval!==void 0}function to(e){return(e==null?void 0:e.toString)===dz}function Wm(e){return to(e)&&(e.type!==void 0||e.domain!==void 0)}function n5(e){return to(e)&&typeof e.transform!="function"}function nu(e){return n5(e)&&e.value===void 0&&e.channel===void 0}function zb(e,t,n,r=Ht){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function r5(e,t){return e===void 0&&t===void 0?[J3,Um]:[e,t]}function bz({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=o0(t)),e===void 0&&([e]=o0(n)),e}function c0(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Ib(e,t){return St(t,n=>e[n])}function wz(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function Ic(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xz(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Bf(e){let t;return[{transform:()=>t,label:no(e)},n=>t=n]}function Hr(e){return e==null?[e]:Bf(e)}function no(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Ff(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Kn(r)||Kn(i)?St(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):St(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function Nb(e,t){const n=qb(t==null?void 0:t.interval,t==null?void 0:t.type);return n?St(e,n):e}function qb(e,t){const n=i5(e,t);return n&&(r=>Qs(r)?n.floor(r):r)}function i5(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>sm(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>sm(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?lz:Tb)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function al(e,t){if(e=i5(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Mz(e,t){if(e=al(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function bu(e){return e===void 0||n5(e)?e:{value:e}}function Sz(e){return e==null?null:{transform:t=>At(t,e,Float64Array),label:no(e)}}function f0(e){return e&&typeof e[Symbol.iterator]=="function"}function Bb(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Z7(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Kn(e){for(const t of e)if(t!=null)return t instanceof Date}function kz(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&kb(t)}function $z(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Tz(e){for(const t of e)if(t!=null)return typeof t=="number"}function I4(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function kh(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||r0(e)!==null)}function Cz(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function sn(e){return e==null||ru(e)}function ru(e){return/^\s*none\s*$/i.test(e)}function Az(e){return/^\s*round\s*$/i.test(e)}function Fb(e,t){return t5(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function a5(e="middle"){return Fb(e,"frameAnchor")}function Ko(e){if(e==null)return;const t=e[0],n=e[e.length-1];return cu(t,n)}function Ez(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function Dz(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Lb(e){return f0(e)?Dz(e):e}const mr=Symbol("position"),h0=Symbol("color"),$h=Symbol("radius"),Th=Symbol("length"),Ch=Symbol("opacity"),Ah=Symbol("symbol"),Rb=Symbol("projection"),ht=new Map([["x",mr],["y",mr],["fx",mr],["fy",mr],["r",$h],["color",h0],["opacity",Ch],["symbol",Ah],["length",Th],["projection",Rb]]);function _z(e){return e===mr||e===Rb}const zz=Math.sqrt(3),Iz=2/zz,Nz={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Iz,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Pb=new Map([["asterisk",ib],["circle",X3],["cross",ab],["diamond",ob],["diamond2",lb],["hexagon",Nz],["plus",ub],["square",cb],["square2",fb],["star",db],["times",vb],["triangle",mb],["triangle2",pb],["wye",gb]]);function Ob(e){return e&&typeof e.draw=="function"}function qz(e){return Ob(e)?!0:typeof e!="string"?!1:Pb.has(e.toLowerCase())}function s5(e){if(e==null||Ob(e))return e;const t=Pb.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function o5({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=Hb(e)),t!=null&&!nu(t)&&(r=N4(r,Ub(t))),n&&(r=N4(r,Vb))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||nu(t))&&{sort:t},transform:N4(r,s)}}function Lf({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=Hb(e)),t!=null&&!nu(t)&&(r=q4(r,Ub(t))),n&&(r=q4(r,Vb))),{...i,...(t===null||nu(t))&&{sort:t},initializer:q4(r,a)}}function N4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,wn(n),r,i)}}function q4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,o,l,u,c,f;return{data:o=n,facets:l=r,channels:s}=e.call(this,n,r,i,...a),{data:c=o,facets:f=l,channels:u}=t.call(this,o,l,{...i,...s},...a),{data:c,facets:f,channels:{...s,...u}}}}function Hb(e){return(t,n)=>{const r=At(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function Vb(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function Ub(e){return(typeof e=="function"&&e.length!==1?Bz:Fz)(e)}function Bz(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function Fz(e){let t,n;({channel:t,value:e,order:n}={...bu(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Nf:Qn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Qn;break;case"descending":n=Nf;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let o;if(t===void 0)o=At(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(o=s[t],!o)return{};o=o.value}const l=(u,c)=>n(o[u],o[c]);return{data:i,facets:a.map(u=>u.slice().sort(l))}}}function Nc(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function Lz(e,t,n=jb){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",jz]),t.href!=null&&e.href===void 0&&r.push(["href",Gb]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?Rz(i):n(i,a,t))}function jb(e,t,n,r=Wb){let i;to(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const a=r(e,t,n),[s,o]=Bf(a.label);let l;return{name:e,output:i===void 0?s:{value:s,scale:i},initialize(u){a.initialize(u),l=o([])},scope(u,c){a.scope(u,c)},reduce(u,c){l.push(a.reduce(u,c))}}}function Rz(e){return{name:e,initialize(){},scope(){},reduce(){}}}function Wb(e,t,n,r=l5){const i=xz(e,n),a=r(t,i);let s,o;return{label:no(a===Rf?null:i,a.label),initialize(l){s=i===void 0?l:At(l,i),a.scope==="data"&&(o=a.reduceIndex(c0(l),s))},scope(l,u){a.scope===l&&(o=a.reduceIndex(u,s))},reduce(l,u){return a.scope==null?a.reduceIndex(l,s,u):a.reduceIndex(l,s,o,u)}}}function Q7(e,t){return t?Ul(S3(e,n=>t[n]),J3):[[,e]]}function l5(e,t,n=Pz){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&to(e))return Vz(e);if(typeof e=="function")return Uz(e);if(/^p\d{2}$/i.test(e))return Vr(vz(e));switch(`${e}`.toLowerCase()){case"first":return Gb;case"last":return Wz;case"identity":return Yb;case"count":return Rf;case"distinct":return Yz;case"sum":return t==null?Rf:Gz;case"proportion":return J7(t,"data");case"proportion-facet":return J7(t,"facet");case"deviation":return Vr(Y9);case"min":return Vr(n0);case"min-index":return Vr(ok);case"max":return Vr(br);case"max-index":return Vr(sk);case"mean":return K7(ck);case"median":return K7(of);case"variance":return Vr(W9);case"mode":return Vr(hk)}return n(e)}function Pz(e){throw new Error(`invalid reduce: ${e}`)}function Oz(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function Hz(e,t,n){if(t){const r=t.output.transform(),i=(a,s)=>Qn(r[a],r[s]);e.forEach(a=>a.sort(i))}n&&e.forEach(r=>r.reverse())}function Vz(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Uz(e){return{reduceIndex(t,n,r){return e(Ib(n,t),r)}}}function Vr(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function K7(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Kn(n)?new Date(r):r}}}const Yb={reduceIndex(e,t){return Ib(t,e)}},Gb={reduceIndex(e,t){return t[e[0]]}},jz={reduceIndex(e,t){const r=Ul(Bo(e,a=>a.length,a=>t[a]),Um),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[5-1]=[`… ${a.length.toLocaleString("en-US")} more`,W0(a,Um)]}return i.map(([a,s])=>`${a} (${s.toLocaleString("en-US")})`).join(`
`)}},Wz={reduceIndex(e,t){return t[e[e.length-1]]}},Rf={label:"Frequency",reduceIndex(e){return e.length}},Yz={label:"Distinct",reduceIndex(e,t){const n=new M3;for(const r of e)n.add(t[r]);return n.size}},Gz=Vr(W0);function J7(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>W0(n,a=>r[a])/i}}function iu(e,{scale:t,type:n,value:r,filter:i,hint:a},s){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Xb(s,{scale:t,type:n,value:At(e,r),label:no(r),filter:i,hint:a})}function Xz(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,iu(t,r,n)]))}function Zz(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:St(a,s)]}));return n.channels=e,n}function Xb(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&I4(r,kh)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&I4(r,Cz)?null:"opacity";break;case"symbol":n!==!0&&I4(r,qz)?(t.scale=null,t.value=St(r,s5)):t.scale="symbol";break;default:t.scale=ht.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ht.has(n))throw new Error(`unknown scale: ${n}`);return t}function Qz(e,t,n,r,i){const{order:a,reverse:s,reduce:o=!0,limit:l}=i;for(const u in i){if(!ht.has(u))continue;let{value:c,order:f=a,reverse:h=s,reduce:d=o,limit:g=l}=bu(i[u]);const y=c==null?void 0:c.startsWith("-");if(y&&(c=c.slice(1)),f=f===void 0?y!==(c==="width"||c==="height")?Qb:Zb:eI(f),d==null||d===!1)continue;const b=u==="fx"||u==="fy"?Jz(t,r[u]):Kz(n,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const w=b.value,[k=0,E=1/0]=f0(g)?g:g<0?[g]:[0,g];if(c==null)b.domain=()=>{let $=Array.from(new M3(w));return h&&($=$.reverse()),(k!==0||E!==1/0)&&($=$.slice(k,E)),$};else{const $=c==="data"?e:c==="height"?e8(n,"y1","y2"):c==="width"?e8(n,"x1","x2"):Ym(n,c,c==="y"?"y2":c==="x"?"x2":void 0),A=l5(d===!0?"max":d,$);b.domain=()=>{let z=ek(c0(w),D=>A.reduceIndex(D,$),D=>w[D]);return f&&z.sort(f),h&&z.reverse(),(k!==0||E!==1/0)&&(z=z.slice(k,E)),z.map(J3)}}}}function Kz(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function Jz(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const o of e[a])i[o]=s}return t}function e8(e,t,n){const r=Ym(e,t),i=Ym(e,n);return St(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function Ym(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function eI(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Zb;case"descending":return Qb}throw new Error(`invalid order: ${e}`)}function Zb([e,t],[n,r]){return Qn(t,r)||Qn(e,n)}function Qb([e,t],[n,r]){return Nf(t,r)||Qn(e,n)}function tI(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function nI(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const rI=nI(e=>new Intl.NumberFormat(e));function iI(e="en-US"){const t=rI(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function aI(e){return tz(e,"Invalid Date")}function sI(e="en-US"){const t=iI(e);return n=>(n instanceof Date?aI:typeof n=="number"?t:jt)(n)}const O0=sI();let Gm=0;function oI(){const e=Gm;return Gm=0,e}function Ro(e){console.warn(e),++Gm}const vn=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let lI=0;function t8(){return`plot-clip-${++lI}`}function uI(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:o,fillOpacity:l,stroke:u,strokeWidth:c,strokeOpacity:f,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:g,strokeDasharray:y,strokeDashoffset:b,opacity:w,mixBlendMode:k,imageFilter:E,paintOrder:$,pointerEvents:A,shapeRendering:z,channels:D},{ariaLabel:j,fill:U="currentColor",fillOpacity:S,stroke:C="none",strokeOpacity:O,strokeWidth:P,strokeLinecap:X,strokeLinejoin:N,strokeMiterlimit:W,paintOrder:ae}){U===null&&(o=null,l=null),C===null&&(u=null,f=null),sn(U)?!sn(C)&&(!sn(o)||D!=null&&D.fill)&&(C="none"):sn(C)&&(!sn(u)||D!=null&&D.stroke)&&(U="none");const[ie,le]=o0(o,U),[ee,se]=gn(l,S),[oe,re]=o0(u,C),[Se,Ce]=gn(f,O),[De,ce]=gn(w);ru(re)||(c===void 0&&(c=P),d===void 0&&(d=X),h===void 0&&(h=N),g===void 0&&!Az(h)&&(g=W),!ru(le)&&$===void 0&&($=ae));const[me,te]=gn(c);return U!==null&&(e.fill=xt(le,"currentColor"),e.fillOpacity=bl(se,1)),C!==null&&(e.stroke=xt(re,"none"),e.strokeWidth=bl(te,1),e.strokeOpacity=bl(Ce,1),e.strokeLinejoin=xt(h,"miter"),e.strokeLinecap=xt(d,"butt"),e.strokeMiterlimit=bl(g,4),e.strokeDasharray=xt(y,"none"),e.strokeDashoffset=xt(b,"0")),e.target=jt(s),e.ariaLabel=jt(j),e.ariaDescription=jt(i),e.ariaHidden=jt(a),e.opacity=bl(ce,1),e.mixBlendMode=xt(k,"normal"),e.imageFilter=xt(E,"none"),e.paintOrder=xt($,"normal"),e.pointerEvents=xt(A,"auto"),e.shapeRendering=xt(z,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:ie,scale:"auto",optional:!0},fillOpacity:{value:ee,scale:"auto",optional:!0},stroke:{value:oe,scale:"auto",optional:!0},strokeOpacity:{value:Se,scale:"auto",optional:!0},strokeWidth:{value:me,optional:!0},opacity:{value:De,scale:"auto",optional:!0}}}function cI(e,t){t&&e.filter(n=>xb(t[n])).append("title").call(fI,t)}function fI(e,t){t&&e.text(n=>O0(t[n]))}function ro(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:c,href:f}){r&&Ye(e,"aria-label",h=>r[h]),a&&Ye(e,"fill",h=>a[h]),s&&Ye(e,"fill-opacity",h=>s[h]),o&&Ye(e,"stroke",h=>o[h]),l&&Ye(e,"stroke-opacity",h=>l[h]),u&&Ye(e,"stroke-width",h=>u[h]),c&&Ye(e,"opacity",h=>c[h]),f&&dI(e,h=>f[h],t),n||cI(e,i)}function Kb(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=Tr(e,"clip",["frame","sphere"])),e}function hI(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:o,marginLeft:l,marginRight:u,marginTop:c,marginBottom:f}=n,h=t8();i=`url(#${h})`,e=Qt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",h).append("rect").attr("x",l).attr("y",c).attr("width",s-u-l).attr("height",o-c-f)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const o=t8();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",av(s)({type:"Sphere"}));break}}Ye(e,"aria-label",t.ariaLabel),Ye(e,"aria-description",t.ariaDescription),Ye(e,"aria-hidden",t.ariaHidden),Ye(e,"clip-path",i)}function Q0(e,t,n,r){hI(e,t,n,r),Ye(e,"fill",t.fill),Ye(e,"fill-opacity",t.fillOpacity),Ye(e,"stroke",t.stroke),Ye(e,"stroke-width",t.strokeWidth),Ye(e,"stroke-opacity",t.strokeOpacity),Ye(e,"stroke-linejoin",t.strokeLinejoin),Ye(e,"stroke-linecap",t.strokeLinecap),Ye(e,"stroke-miterlimit",t.strokeMiterlimit),Ye(e,"stroke-dasharray",t.strokeDasharray),Ye(e,"stroke-dashoffset",t.strokeDashoffset),Ye(e,"shape-rendering",t.shapeRendering),Ye(e,"filter",t.imageFilter),Ye(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;Ye(e,"pointer-events",i)}function K0(e,t){mI(e,"mix-blend-mode",t.mixBlendMode),Ye(e,"opacity",t.opacity)}function dI(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(Vo.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Vo.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function Ye(e,t,n){n!=null&&e.attr(t,n)}function mI(e,t,n){n!=null&&e.style(t,n)}function d0(e,t,{x:n,y:r},i=vn,a=vn){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function xt(e,t){if((e=jt(e))!==t)return e}function bl(e,t){if((e=rt(e))!==t)return e}const pI=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function u5(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!pI.test(e))throw new Error(`invalid class name: ${e}`);return e}function c5(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Eh({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function f5(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:Kb(n)}}function Qt(e,{document:t}){return Il(Jf(e).call(t.documentElement))}const Jb=Math.PI,Rr=2*Jb,n8=.618;function gI({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let o,l,u="frame";if(to(e)){let A;if({type:e,domain:l,inset:A,insetTop:n=A!==void 0?A:n,insetRight:r=A!==void 0?A:r,insetBottom:i=A!==void 0?A:i,insetLeft:a=A!==void 0?A:a,clip:u=u,...o}=e,e==null)return}typeof e!="function"&&({type:e}=ew(e));const{width:c,height:f,marginLeft:h,marginRight:d,marginTop:g,marginBottom:y}=s,b=c-h-d-a-r,w=f-g-y-n-i;if(e=e==null?void 0:e({width:b,height:w,clip:u,...o}),e==null)return;u=vI(u,h,g,c-d,f-y);let k=h+a,E=g+n,$;if(l!=null){const[[A,z],[D,j]]=av(e).bounds(l),U=Math.min(b/(D-A),w/(j-z));U>0?(k-=(U*(A+D)-b)/2,E-=(U*(z+j)-w)/2,$=Nm({point(S,C){this.stream.point(S*U+k,C*U+E)}})):Ro("Warning: the projection could not be fit to the specified domain; using the default scale.")}return $??($=k===0&&E===0?tw():Nm({point(A,z){this.stream.point(A+k,z+E)}})),{stream:A=>e.stream($.stream(u(A)))}}function ew(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Pn(UA,.7463,.4673);case"albers":return qc(cv,.7463,.4673);case"azimuthal-equal-area":return Pn(jA,4,4);case"azimuthal-equidistant":return Pn(WA,Rr,Rr);case"conic-conformal":return qc(XA,Rr,Rr);case"conic-equal-area":return qc(Tf,6.1702,2.9781);case"conic-equidistant":return qc(KA,7.312,3.6282);case"equal-earth":return Pn(eE,5.4133,2.6347);case"equirectangular":return Pn(ZA,Rr,Jb);case"gnomonic":return Pn(tE,3.4641,3.4641);case"identity":return{type:tw};case"reflect-y":return{type:yI};case"mercator":return Pn(YA,Rr,Rr);case"orthographic":return Pn(nE,2,2);case"stereographic":return Pn(rE,2,2);case"transverse-mercator":return Pn(iE,Rr,Rr);default:throw new Error(`unknown projection type: ${e}`)}}function vI(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Yg(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Pn(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:o})=>{var u,c,f;const l=e();return s!=null&&((u=l.precision)==null||u.call(l,s)),a!=null&&((c=l.rotate)==null||c.call(l,a)),typeof o=="number"&&((f=l.clipAngle)==null||f.call(l,o)),l.scale(Math.min(r/t,i/n)),l.translate([r/2,i/2]),l},aspectRatio:n/t}}function qc(e,t,n){const{type:r,aspectRatio:i}=Pn(e,t,n);return{type:a=>{const{parallels:s,domain:o,width:l,height:u}=a,c=r(a);return s!=null&&(c.parallels(s),o===void 0&&c.fitSize([l,u],{type:"Sphere"})),c},aspectRatio:i}}const tw=yu({stream:e=>e}),yI=yu(Nm({point(e,t){this.stream.point(e,-t)}}));function bI(e,t,n,r){const i=n[e],a=n[t],s=i.length,o=n[e]=new Float64Array(s).fill(NaN),l=n[t]=new Float64Array(s).fill(NaN);let u;const c=r.stream({point(f,h){o[u]=f,l[u]=h}});for(u=0;u<s;++u)c.point(i[u],a[u])}function wI({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(to(e)&&(e=e.type),e!=null)}function xI(e){if(typeof(e==null?void 0:e.stream)=="function")return n8;if(to(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=ew(e);if(t)return t}return n8}}function MI(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,o){t.push(s),n.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)Rs(s,a);return[r,i]}const nw=new Map([["accent",ED],["category10",AD],["dark2",DD],["paired",_D],["pastel1",zD],["pastel2",ID],["set1",ND],["set2",qD],["set3",BD],["tableau10",FD]]);function SI(e){return e!=null&&nw.has(`${e}`.toLowerCase())}const r8=new Map([...nw,["brbg",Pr(Zv,Qv)],["prgn",Pr(Kv,Jv)],["piyg",Pr(ey,ty)],["puor",Pr(ny,ry)],["rdbu",Pr(Rm,Df)],["rdgy",Pr(iy,ay)],["rdylbu",Pr(Pm,_f)],["rdylgn",Pr(sy,oy)],["spectral",Pr(ly,uy)],["burd",i8(Rm,Df)],["buylrd",i8(Pm,_f)],["blues",Tt(Ny,qy)],["greens",Tt(By,Fy)],["greys",Tt(Ly,Ry)],["oranges",Tt(Uy,jy)],["purples",Tt(Py,Oy)],["reds",Tt(Hy,Vy)],["turbo",Or(Ky)],["viridis",Or(Jy)],["magma",Or(eb)],["inferno",Or(tb)],["plasma",Or(nb)],["cividis",Or(Wy)],["cubehelix",Or(Yy)],["warm",Or(Gy)],["cool",Or(Xy)],["bugn",Tt(cy,fy)],["bupu",Tt(hy,dy)],["gnbu",Tt(my,py)],["orrd",Tt(gy,vy)],["pubu",Tt(wy,xy)],["pubugn",Tt(yy,by)],["purd",Tt(My,Sy)],["rdpu",Tt(ky,$y)],["ylgn",Tt(Ay,Ey)],["ylgnbu",Tt(Ty,Cy)],["ylorbr",Tt(Dy,_y)],["ylorrd",Tt(zy,Iy)],["rainbow",a8(Zy)],["sinebow",a8(Qy)]]);function Tt(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Gn(t,n):e[n])}function Pr(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Gn(t,n):e[n])}function i8(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Gn(r=>t(1-r),n):e[n].slice().reverse())}function Or(e){return({length:t})=>Gn(e,Math.max(2,Math.floor(t)))}function a8(e){return({length:t})=>Gn(e,Math.floor(t)+1).slice(0,-1)}function rw(e){const t=`${e}`.toLowerCase();if(!r8.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return r8.get(t)}function Dh(e,t){const n=rw(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function kI(e,t="greys"){const n=new Set,[r,i]=Dh(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const s8=new Map([["brbg",Qv],["prgn",Jv],["piyg",ty],["puor",ry],["rdbu",Df],["rdgy",ay],["rdylbu",_f],["rdylgn",oy],["spectral",uy],["burd",e=>Df(1-e)],["buylrd",e=>_f(1-e)],["blues",qy],["greens",Fy],["greys",Ry],["purples",Oy],["reds",Vy],["oranges",jy],["turbo",Ky],["viridis",Jy],["magma",eb],["inferno",tb],["plasma",nb],["cividis",Wy],["cubehelix",Yy],["warm",Gy],["cool",Xy],["bugn",fy],["bupu",dy],["gnbu",py],["orrd",vy],["pubugn",by],["pubu",xy],["purd",Sy],["rdpu",$y],["ylgnbu",Cy],["ylgn",Ey],["ylorbr",_y],["ylorrd",Iy],["rainbow",Zy],["sinebow",Qy]]);function h5(e){const t=`${e}`.toLowerCase();if(!s8.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return s8.get(t)}const $I=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function TI(e){return e!=null&&$I.has(`${e}`.toLowerCase())}const iw=e=>t=>e(1-t),B4=[0,1],o8=new Map([["number",Pt],["rgb",Ws],["hsl",FT],["hcl",PT],["lab",LT]]);function aw(e){const t=`${e}`.toLowerCase();if(!o8.has(t))throw new Error(`unknown interpolator: ${t}`);return o8.get(t)}function wu(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:o=ow(e,n),unknown:l,round:u,scheme:c,interval:f,range:h=ht.get(e)===$h?FI(n,o):ht.get(e)===Th?LI(n,o):ht.get(e)===Ch?B4:void 0,interpolate:d=ht.get(e)===h0?c==null&&h!==void 0?Ws:h5(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?z3:Pt,reverse:g}){if(f=al(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=aw(d)),g=!!g,h!==void 0){const y=(o=wn(o)).length,b=(h=wn(h)).length;if(y!==b){if(d.length===1)throw new Error("invalid piecewise interpolator");d=nh(d,h),h=void 0}}if(d.length===1?(g&&(d=iw(d),g=!1),h===void 0&&(h=Float64Array.from(o,(y,b)=>b/(o.length-1)),h.length===2&&(h=B4)),t.interpolate((h===B4?yu:m5)(d))):t.interpolate(d),s){const[y,b]=Wn(o);(y>0||b<0)&&(o=jm(o),Ko(o)!==Math.sign(y)?o[o.length-1]=0:o[0]=0)}return g&&(o=lf(o)),t.domain(o).unknown(l),i&&(t.nice(CI(i,r)),o=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:o,range:h,scale:t,interpolate:d,interval:f}}function CI(e,t){return e===!0?void 0:typeof e=="number"?e:Mz(e,t)}function AI(e,t,n){return wu(e,U3(),t,n)}function EI(e,t,n){return sw(e,t,{...n,exponent:.5})}function sw(e,t,{exponent:n=1,...r}){return wu(e,Ev().exponent(n),t,{...r,type:"pow"})}function DI(e,t,{base:n=10,domain:r=RI(t),...i}){return wu(e,$v().base(n),t,{...i,domain:r})}function _I(e,t,{constant:n=1,...r}){return wu(e,Cv().constant(n),t,r)}function zI(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=PI(t),unknown:o,interpolate:l,reverse:u}){return n===void 0&&(n=l!==void 0?Gn(l,i):ht.get(e)===h0?Dh(a,i):void 0),s.length>0&&(s=Dv(s,n===void 0?{length:i}:n).quantiles()),d5(e,t,{domain:s,range:n,reverse:u,unknown:o})}function II(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=ow(e,t),unknown:s,interpolate:o,reverse:l}){const[u,c]=Wn(a);let f;return n===void 0?(f=jl(u,c,r),f[0]<=u&&f.splice(0,1),f[f.length-1]>=c&&f.pop(),r=f.length+1,n=o!==void 0?Gn(o,r):ht.get(e)===h0?Dh(i,r):void 0):(f=Gn(Pt(u,c),r+1).slice(1,-1),u instanceof Date&&(f=f.map(h=>new Date(h)))),Ko(wn(a))<0&&f.reverse(),d5(e,t,{domain:f,range:n,reverse:l,unknown:s})}function d5(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?Gn(a,n.length+1):ht.get(e)===h0?Dh(i,n.length+1):void 0,reverse:o}){n=wn(n);const l=Ko(n);if(!isNaN(l)&&!NI(n,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return o&&(s=lf(s)),{type:"threshold",scale:_v(l<0?lf(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function NI(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=cu(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function qI(){return{type:"identity",scale:Mv()}}function au(e,t=Mb){return e.length?[n0(e,({value:n})=>n===void 0?n:n0(n,t)),br(e,({value:n})=>n===void 0?n:br(n,t))]:[0,1]}function ow(e,t){const n=ht.get(e);return(n===$h||n===Ch||n===Th?BI:au)(t)}function BI(e){return[0,e.length?br(e,({value:t})=>t===void 0?t:br(t,Mb)):1]}function FI(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=Ho(e,.5,({value:s})=>s===void 0?NaN:Ho(s,.25,Q3)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/br(i);return a<1?i.map(s=>s*a):i}function LI(e,t){const n=of(e,({value:a})=>a===void 0?NaN:of(a,Math.abs)),r=t.map(a=>12*a/n),i=60/br(r);return i<1?r.map(a=>a*i):r}function RI(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return au(e,Q3);if(n<0)return au(e,Sb)}return[1,10]}function PI(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function m5(e){return(t,n)=>r=>e(t+r*(n-t))}function _h(e,t,n,r,{type:i,nice:a,clamp:s,domain:o=au(r),unknown:l,pivot:u=0,scheme:c,range:f,symmetric:h=!0,interpolate:d=ht.get(e)===h0?c==null&&f!==void 0?Ws:h5(c!==void 0?c:"rdbu"):Pt,reverse:g}){u=+u,o=wn(o);let[y,b]=o;if(o.length>2&&Ro(`Warning: the diverging ${e} scale domain contains extra elements.`),cu(y,b)<0&&([y,b]=[b,y],g=!g),y=Math.min(y,u),b=Math.max(b,u),typeof d!="function"&&(d=aw(d)),f!==void 0&&(d=d.length===1?m5(d)(...f):nh(d,f)),g&&(d=iw(d)),h){const w=n.apply(u),k=w-n.apply(y),E=n.apply(b)-w;k<E?y=n.invert(w-E):k>E&&(b=n.invert(w+k))}return t.domain([y,u,b]).unknown(l).interpolator(d),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[y,b],pivot:u,interpolate:d,scale:t}}function OI(e,t,n){return _h(e,Wv(),jI,t,n)}function HI(e,t,n){return lw(e,t,{...n,exponent:.5})}function lw(e,t,{exponent:n=1,...r}){return _h(e,Xv().exponent(n=+n),GI(n),t,{...r,type:"diverging-pow"})}function VI(e,t,{base:n=10,pivot:r=1,domain:i=au(t,r<0?Sb:Q3),...a}){return _h(e,Yv().base(n=+n),WI,t,{domain:i,pivot:r,...a})}function UI(e,t,{constant:n=1,...r}){return _h(e,Gv().constant(n=+n),XI(n),t,r)}const jI={apply(e){return e},invert(e){return e}},WI={apply:Math.log,invert:Math.exp},YI={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function GI(e){return e===.5?YI:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function XI(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function uw(e,t,n,r){return wu(e,t,n,r)}function ZI(e,t,n){return uw(e,TD(),t,n)}function QI(e,t,n){return uw(e,CD(),t,n)}const xu=Symbol("ordinal");function cw(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:o,hint:l}){return i=al(i,r),a===void 0&&(a=hw(n,i,e)),(r==="categorical"||r===xu)&&(r="ordinal"),o&&(a=lf(a)),t.domain(a),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:l,interval:i}}function KI(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:o,...l}){r=al(r,n),i===void 0&&(i=hw(t,r,e));let u;if(ht.get(e)===Ah)u=tN(t),a=a===void 0?nN(u):St(a,s5);else if(ht.get(e)===h0&&(a===void 0&&(n==="ordinal"||n===xu)&&(a=kI(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"tableau10"),s!==void 0))if(a!==void 0){const c=h5(s),f=a[0],h=a[1]-a[0];a=({length:d})=>Gn(g=>c(f+h*g),d)}else a=rw(s);if(o===Bm)throw new Error(`implicit unknown on ${e} scale is not supported`);return cw(e,V3().unknown(o),t,{...l,type:n,domain:i,range:a,hint:u})}function JI(e,t,{align:n=.5,padding:r=.5,...i}){return fw(oE().align(n).padding(r),t,i,e)}function eN(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return fw(lh().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function fw(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=cw(r,e,t,n),e.round=i,e}function hw(e,t,n){const r=new M3;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=Wn(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&ht.get(n)===mr)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Ul(r,Qn)}function l8(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function tN(e){return{fill:l8(e,"fill"),stroke:l8(e,"stroke")}}function nN(e){return sn(e.fill)?GD:YD}function Xm(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:o,nice:l,clamp:u,zero:c,align:f,padding:h,projection:d,facet:{label:g=t}={},...y}={}){const b={};for(const[w,k]of e){const E=y[w],$=sN(w,k,{round:ht.get(w)===mr?o:void 0,nice:l,clamp:u,zero:c,align:f,padding:h,projection:d,...E});if($){let{label:A=w==="fx"||w==="fy"?g:t,percent:z,transform:D,inset:j,insetTop:U=j!==void 0?j:w==="y"?r:0,insetRight:S=j!==void 0?j:w==="x"?i:0,insetBottom:C=j!==void 0?j:w==="y"?a:0,insetLeft:O=j!==void 0?j:w==="x"?s:0}=E||{};if(D==null)D=void 0;else if(typeof D!="function")throw new Error("invalid scale transform; not a function");$.percent=!!z,$.label=A===void 0?iN(k,$):A,$.transform=D,w==="x"||w==="fx"?($.insetLeft=+O,$.insetRight=+S):(w==="y"||w==="fy")&&($.insetTop=+U,$.insetBottom=+C),b[w]=$}}return b}function u8(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function rN(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?p5(t):t;i&&c8(i,s),a&&f8(a,s);const o=i||a?dw(e,t):t;n&&c8(n,o),r&&f8(r,o)}function iN(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!io(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function p5(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:o,marginRight:l,marginBottom:u,marginLeft:c}}=e;return{marginTop:Math.max(t,o),marginRight:Math.max(n,l),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:a,height:s}}function dw({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=p5(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:o,height:t?t.scale.bandwidth()+r+a:l,facet:{width:o,height:l}}}function c8(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,o=a+n,l=i-s-r;e.range=[o,Math.max(o,l)],io(e)||(e.range=pw(e)),e.scale.range(e.range)}mw(e)}function f8(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,o=a+n,l=i-s-r;e.range=[Math.max(o,l),o],io(e)?e.range.reverse():e.range=pw(e),e.scale.range(e.range)}mw(e)}function mw(e){e.round===void 0&&lN(e)&&aN(e)<=30&&e.scale.round(!0)}function aN({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,o=Math.abs(r-n)/Math.max(1,s+a*2);return(o-Math.floor(o))*s}function pw(e){const t=e.scale.domain().length+gw(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function sN(e,t=[],n={}){const r=oN(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&io({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Kn)?Ro(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${_o(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${_o(r)}".`):i.some(kz)?Ro(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${_o(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${_o(r)}".`):i.some($z)&&Ro(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${_o(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${_o(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Bc(t,n,qf);break;case"identity":switch(ht.get(e)){case mr:n=Bc(t,n,qf);break;case Ah:n=Bc(t,n,uN);break}break;case"utc":case"time":n=Bc(t,n,yz);break}switch(r){case"diverging":return OI(e,t,n);case"diverging-sqrt":return HI(e,t,n);case"diverging-pow":return lw(e,t,n);case"diverging-log":return VI(e,t,n);case"diverging-symlog":return UI(e,t,n);case"categorical":case"ordinal":case xu:return KI(e,t,n);case"cyclical":case"sequential":case"linear":return AI(e,t,n);case"sqrt":return EI(e,t,n);case"threshold":return d5(e,t,n);case"quantile":return zI(e,t,n);case"quantize":return II(e,t,n);case"pow":return sw(e,t,n);case"log":return DI(e,t,n);case"symlog":return _I(e,t,n);case"utc":return QI(e,t,n);case"time":return ZI(e,t,n);case"point":return JI(e,t,n);case"band":return eN(e,t,n);case"identity":return ht.get(e)===mr?qI():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function _o(e){return typeof e=="symbol"?e.description:e}const h8={toString:()=>"projection"};function oN(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:o}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&o!=null&&(n=h8);for(const{type:u}of t)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===h8)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=ht.get(e);if(l===$h)return"sqrt";if(l===Ch||l===Th)return"linear";if(l===Ah)return"ordinal";if((r||i||[]).length>2)return F4(l);if(r!==void 0){if(Z7(r))return F4(l);if(Kn(r))return"utc"}else{const u=t.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(Z7))return F4(l);if(u.some(Kn))return"utc"}if(l===h0){if(s!=null||TI(a))return"diverging";if(SI(a))return"categorical"}return"linear"}function F4(e){switch(e){case mr:return"point";case h0:return xu;default:return"ordinal"}}function g5({type:e}){return e==="time"||e==="utc"}function io({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===xu}function gw({type:e}){return e==="threshold"}function lN({type:e}){return e==="point"||e==="band"}function pr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Bc(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function uN(e){return St(e,s5)}function cN(e){return t=>{if(!ht.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?fN(e[t]):void 0}}function fN({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:o,pivot:l}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=e.unknown?e.unknown():void 0;return{type:t,domain:jm(n),...r!==void 0&&{range:jm(r)},...s!==void 0&&{transform:s},...o&&{percent:o},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function hN(e,t,n={}){let r=.5-vn,i=.5+vn,a=.5+vn,s=.5-vn;for(const{marginTop:y,marginRight:b,marginBottom:w,marginLeft:k}of t)y>r&&(r=y),b>i&&(i=b),w>a&&(a=w),k>s&&(s=k);let{margin:o,marginTop:l=o!==void 0?o:r,marginRight:u=o!==void 0?o:i,marginBottom:c=o!==void 0?o:a,marginLeft:f=o!==void 0?o:s}=n;l=+l,u=+u,c=+c,f=+f;let{width:h=640,height:d=dN(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,l-r+c-a)}=n;h=+h,d=+d;const g={width:h,height:d,marginTop:l,marginRight:u,marginBottom:c,marginLeft:f};if(e.fx||e.fy){let{margin:y,marginTop:b=y!==void 0?y:l,marginRight:w=y!==void 0?y:u,marginBottom:k=y!==void 0?y:c,marginLeft:E=y!==void 0?y:f}=n.facet??{};b=+b,w=+w,k=+k,E=+E,g.facet={marginTop:b,marginRight:w,marginBottom:k,marginLeft:E}}return g}function dN({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:o,marginRightDefault:l,marginBottomDefault:u,marginLeftDefault:c}){const f=n?n.scale.domain().length:1,h=xI(i);if(h){const g=r?r.scale.domain().length:1,y=(1.1*f-.1)/(1.1*g-.1)*h,b=Math.max(.1,Math.min(10,y));return Math.round((s-c-l)*b+o+u)}const d=t?io(t)?t.scale.domain().length:Math.max(7,17/f):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const g=d8("y",t)/(d8("x",e)*a),y=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,w=y*(s-c-l)-e.insetLeft-e.insetRight;return(g*w+t.insetTop+t.insetBottom)/b+o+u}return!!(t||n)*Math.max(1,Math.min(60,d*f))*20+!!r*30+60}function d8(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=t.scale.exponent();i=l=>Math.pow(l,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=Wn(r);return Math.abs(i(s)-i(a))}function mN(e,t){const{fx:n,fy:r}=Xm(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?KS(i,a).map(([s,o],l)=>({x:s,y:o,i:l})):i?i.map((s,o)=>({x:s,i:o})):a?a.map((s,o)=>({y:s,i:o})):void 0}function pN(e,{x:t,y:n}){return t&&(t=Zm(t)),n&&(n=Zm(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function v5(e,{fx:t,fy:n}){const r=c0(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Bo(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?Bo(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Bo(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function gN(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function vN(e){const t=[],n=new Uint32Array(W0(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const yN=new Map([["top",L4],["right",O4],["bottom",R4],["left",P4],["top-left",Fc(L4,P4)],["top-right",Fc(L4,O4)],["bottom-left",Fc(R4,P4)],["bottom-right",Fc(R4,O4)],["top-empty",xN],["right-empty",kN],["bottom-empty",MN],["left-empty",SN],["empty",$N]]);function bN(e){if(e==null)return null;const t=yN.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const m8=new WeakMap;function Zm(e){let t=m8.get(e);return t||m8.set(e,t=new Us(St(e,(n,r)=>[n,r]))),t}function J0(e,t){return Zm(e).get(t)}function wN(e,t,n){return t=Ic(t),n=Ic(n),e.find(r=>Object.is(Ic(r.x),t)&&Object.is(Ic(r.y),n))}function zh(e,t,n){var r;return(r=wN(e,t,n))==null?void 0:r.empty}function L4(e,{y:t},{y:n}){return t?J0(t,n)===0:!0}function R4(e,{y:t},{y:n}){return t?J0(t,n)===t.length-1:!0}function P4(e,{x:t},{x:n}){return t?J0(t,n)===0:!0}function O4(e,{x:t},{x:n}){return t?J0(t,n)===t.length-1:!0}function xN(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=J0(t,r);if(a>0)return zh(e,n,t[a-1])}function MN(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=J0(t,r);if(a<t.length-1)return zh(e,n,t[a+1])}function SN(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=J0(t,n);if(a>0)return zh(e,t[a-1],r)}function kN(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=J0(t,n);if(a<t.length-1)return zh(e,t[a+1],r)}function $N(e,t,{empty:n}){return n}function Fc(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function H4(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class er{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:o,fy:l,sort:u,dx:c=0,dy:f=0,margin:h=0,marginTop:d=h,marginRight:g=h,marginBottom:y=h,marginLeft:b=h,clip:w=i==null?void 0:i.clip,channels:k,tip:E,render:$}=r;if(this.data=t,this.sort=nu(u)?u:null,this.initializer=Lf(r).initializer,this.transform=this.initializer?r.transform:o5(r).transform,a===null||a===!1?this.facet=null:(this.facet=Tr(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Qc&&typeof o=="string"?[o]:o,this.fy=t===Qc&&typeof l=="string"?[l]:l),this.facetAnchor=bN(s),n=Lb(n),k!==void 0&&(n={...TN(k),...n}),i!==void 0&&(n={...uI(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([A,z])=>{if(n5(z.value)){const{value:D,scale:j=z.scale}=z.value;z={...z,scale:j,value:D}}if(t===Qc&&typeof z.value=="string"){const{value:D}=z;z={...z,value:[D]}}return[A,z]}).filter(([A,{value:z,optional:D}])=>{if(z!=null)return!0;if(D)return!1;throw new Error(`missing channel value: ${A}`)})),this.dx=+c,this.dy=+f,this.marginTop=+d,this.marginRight=+g,this.marginBottom=+y,this.marginLeft=+b,this.clip=Kb(w),this.tip=CN(E),this.facet==="super"){if(o||l)throw new Error("super-faceting cannot use fx or fy");for(const A in this.channels){const{scale:z}=n[A];if(!(z!=="x"&&z!=="y"))throw new Error("super-faceting cannot use x or y")}}$!=null&&(this.render=yw($,this.render))}initialize(t,n,r){let i=wn(this.data);t===void 0&&i!=null&&(t=[c0(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=wn(i)),t!==void 0&&(t.original=a);const s=Xz(this.channels,i);return this.sort!=null&&Qz(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=Qs}=n[i];if(a!==null){const s=r[i];t=t.filter(o=>a(s[o]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&bI(i,a,n,r.projection)}}scale(t,n,r){const i=Zz(t,n);return r.projection&&this.project(t,i,r),i}}function vw(...e){return e.plot=er.prototype.plot,e}function yw(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,o){return e.call(this,n,r,i,a,s,(l,u,c,f,h)=>t.call(this,l,u,c,f,h,o))}}function TN(e){return Object.fromEntries(Object.entries(Lb(e)).map(([t,n])=>(n=bu(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function CN(e){return e===!0?"xy":e===!1?null:t5(e,"tip",["x","y","xy"])}function Ih(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:e}const p8=new WeakMap;function y5(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:o,render:l,...u}={}){return s=+s,i!=null&&(n??(n=null),o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),o={...o,py:{value:a,scale:"y"}}),{x:n,y:r,channels:o,...u,render:yw(function(c,f,h,d,g,y){g={...g,pointerSticky:!1};const b=g.ownerSVGElement,{data:w}=g.getMarkState(this);let k=p8.get(b);k||p8.set(b,k={sticky:!1,roots:[],renders:[]});let E=k.renders.push(re)-1;const{x:$,y:A,fx:z,fy:D}=f;let j=z?z(c.fx)-d.marginLeft:0,U=D?D(c.fy)-d.marginTop:0;$!=null&&$.bandwidth&&(j+=$.bandwidth()/2),A!=null&&A.bandwidth&&(U+=A.bandwidth()/2);const S=c.fi!=null;let C;if(S){let ce=k.facetStates;ce||(k.facetStates=ce=new Map),C=ce.get(this),C||ce.set(this,C=new Map)}const[O,P]=Eh(this,d),{px:X,py:N}=h,W=X?ce=>X[ce]:bw(h,O),ae=N?ce=>N[ce]:ww(h,P);let ie,le,ee,se;function oe(ce,me){if(S)if(se&&(se=cancelAnimationFrame(se)),ce==null)C.delete(c.fi);else{C.set(c.fi,me),se=requestAnimationFrame(()=>{se=null;for(const[te,xe]of C)if(xe<me||xe===me&&te<c.fi){ce=null;break}re(ce)});return}re(ce)}function re(ce){if(ie===ce&&ee===k.sticky)return;ie=ce,ee=g.pointerSticky=k.sticky;const me=ie==null?[]:[ie];S&&(me.fx=c.fx,me.fy=c.fy,me.fi=c.fi);const te=y(me,f,h,d,g);if(le){if(S){const xe=le.parentNode,Te=le.getAttribute("transform"),Y=te.getAttribute("transform");Te?te.setAttribute("transform",Te):te.removeAttribute("transform"),Y?xe.setAttribute("transform",Y):xe.removeAttribute("transform"),te.removeAttribute("aria-label"),te.removeAttribute("aria-description"),te.removeAttribute("aria-hidden")}le.replaceWith(te)}return k.roots[E]=le=te,ie==null&&(C==null?void 0:C.size)>1||g.dispatchValue(ie==null?null:w[ie]),te}function Se(ce){if(k.sticky||ce.pointerType==="mouse"&&ce.buttons===1)return;let[me,te]=aT(ce);me-=j,te-=U;const xe=me<d.marginLeft||me>d.width-d.marginRight?1:e,Te=te<d.marginTop||te>d.height-d.marginBottom?1:t;let Y=null,ke=s*s;for(const Ee of c){const Be=xe*(W(Ee)-me),Fe=Te*(ae(Ee)-te),Ge=Be*Be+Fe*Fe;Ge<=ke&&(Y=Ee,ke=Ge)}if(Y!=null&&(e!==1||t!==1)){const Ee=W(Y)-me,Be=ae(Y)-te;ke=Ee*Ee+Be*Be}oe(Y,ke)}function Ce(ce){ce.pointerType==="mouse"&&ie!=null&&(k.sticky&&k.roots.some(me=>me==null?void 0:me.contains(ce.target))||(k.sticky?(k.sticky=!1,k.renders.forEach(me=>me(null))):(k.sticky=!0,re(ie)),ce.stopImmediatePropagation()))}function De(ce){ce.pointerType==="mouse"&&(k.sticky||oe(null))}return b.addEventListener("pointerenter",Se),b.addEventListener("pointermove",Se),b.addEventListener("pointerdown",Ce),b.addEventListener("pointerleave",De),re(null)},l)}}function AN(e){return y5(1,1,e)}function EN(e){return y5(1,.01,e)}function DN(e){return y5(.01,1,e)}function bw({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function ww({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function xw(e){return io(e)&&e.interval===void 0?void 0:"tabular-nums"}function _N(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:o=0,marginBottom:l=16+r,marginLeft:u=0,style:c,ticks:f=(i-u-o)/64,tickFormat:h,fontVariant:d=xw(e),round:g=!0,opacity:y,className:b}=t;const w=f5(t);b=u5(b),y=gn(y)[1],h===null&&(h=()=>null);const k=Qt("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(O=>O.append("style").text(`.${b}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${b}-ramp text {
  white-space: pre;
}`)).call(c5,c);let E=O=>O.selectAll(".tick line").attr("y1",s+l-a),$;const A=g?(O,P)=>O.rangeRound(P):(O,P)=>O.range(P),{type:z,domain:D,range:j,interpolate:U,scale:S,pivot:C}=e;if(U){const O=j===void 0?U:nh(U.length===1?m5(U):U,j);$=A(S.copy(),Gn(Pt(u,i-o),Math.min(D.length+(C!==void 0),j===void 0?1/0:j.length)));const P=256,X=w.document.createElement("canvas");X.width=P,X.height=1;const N=X.getContext("2d");for(let W=0,ae=P-1;W<P;++W)N.fillStyle=O(W/ae),N.fillRect(W,0,1,1);k.append("image").attr("opacity",y).attr("x",u).attr("y",s).attr("width",i-u-o).attr("height",a-s-l).attr("preserveAspectRatio","none").attr("xlink:href",X.toDataURL())}else if(z==="threshold"){const O=D,P=h===void 0?X=>X:typeof h=="string"?mu(h):h;$=A(U3().domain([-1,j.length-1]),[u,i-o]),k.append("g").attr("fill-opacity",y).selectAll().data(j).enter().append("rect").attr("x",(X,N)=>$(N-1)).attr("y",s).attr("width",(X,N)=>$(N)-$(N-1)).attr("height",a-s-l).attr("fill",X=>X),f=St(O,(X,N)=>N),h=X=>P(O[X],X)}else $=A(lh().domain(D),[u,i-o]),k.append("g").attr("fill-opacity",y).selectAll().data(D).enter().append("rect").attr("x",$).attr("y",s).attr("width",Math.max(0,$.bandwidth()-1)).attr("height",a-s-l).attr("fill",S),E=()=>{};return k.append("g").attr("transform",`translate(0,${a-l})`).call(Mk($).ticks(Array.isArray(f)?null:f,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",xt(d,"normal")).call(E).call(O=>O.select(".domain").remove()),n!==void 0&&k.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),k.node()}const Mw=Math.PI/180;function Sw(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=V4(n),e.markerMid=V4(r),e.markerEnd=V4(i)}function V4(e){if(e==null||e===!1)return null;if(e===!0)return v8;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return g8("auto");case"arrow-reverse":return g8("auto-start-reverse");case"dot":return zN;case"circle":case"circle-fill":return v8;case"circle-stroke":return IN}throw new Error(`invalid marker: ${e}`)}function g8(e){return(t,n)=>Qt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function zN(e,t){return Qt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function v8(e,t){return Qt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function IN(e,t){return Qt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let NN=0;function kw(e,t,{stroke:n},r){return qN(e,t,n&&(i=>n[i]),r)}function qN(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const o=new Map;function l(u){return function(c){const f=a(c);let h=o.get(u);h||o.set(u,h=new Map);let d=h.get(f);if(!d){const g=this.parentNode.insertBefore(u(f,s),this),y=`plot-marker-${++NN}`;g.setAttribute("id",y),h.set(f,d=`url(#${y})`)}return d}}t&&e.attr("marker-start",l(t)),n&&e.attr("marker-mid",l(n)),r&&e.attr("marker-end",l(r))}function Nh({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Tw(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function $w({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Tw(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Tw(e,t,n){return e===void 0&&t===void 0&&n===void 0?vn?[1,0]:[.5,.5]:[t,n]}function Cw(e,{interval:t}){return e={...bu(e)},e.interval=i5(e.interval===void 0?t:e.interval),e}function b5(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:o,interval:l}=Cw(i,n);if(o==null||l==null&&!r)return n;const u=no(i);if(l==null){let d;const g={transform:y=>d||(d=At(y,o)),label:u};return{...n,[e]:void 0,[`${e}1`]:a===void 0?g:a,[`${e}2`]:s===void 0?g:s}}let c,f;function h(d){return f!==void 0&&d===c?f:f=St(At(c=d,o),g=>l.floor(g))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:u}:a,[`${e}2`]:s===void 0?{transform:d=>h(d).map(g=>l.offset(g)),label:u}:s})}function Aw(e,t,n){const{[e]:r}=n,{value:i,interval:a}=Cw(r,n);return i==null||a==null?n:t({...n,[e]:{label:no(r),transform:s=>{const o=St(At(s,i),u=>a.floor(u)),l=o.map(u=>a.offset(u));return o.map(Kn(o)?(u,c)=>u==null||isNaN(u=+u)||(c=l[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=l[c],c==null)?NaN:(+u+ +c)/2)}}})}function BN(e={}){return b5("x",Nh,e,!0)}function Ew(e={}){return b5("x",Nh,e)}function FN(e={}){return b5("y",$w,e)}function LN(e={}){return Aw("x",Nh,e)}function RN(e={}){return Aw("y",$w,e)}const Dw={ariaLabel:"rule",fill:null,stroke:"currentColor"};class PN extends er{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:o=s,insetBottom:l=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Ih(n,"x"),Dw),this.insetTop=rt(o),this.insetBottom=rt(l),Sw(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y1:u,y2:c}=r,{width:f,height:h,marginTop:d,marginRight:g,marginLeft:y,marginBottom:b}=i,{insetTop:w,insetBottom:k}=this;return Qt("svg:g",a).call(Q0,this,i,a).call(d0,this,{x:l&&s},vn,0).call(E=>E.selectAll().data(t).enter().append("line").call(K0,this).attr("x1",l?$=>l[$]:(y+f-g)/2).attr("x2",l?$=>l[$]:(y+f-g)/2).attr("y1",u&&!pr(o)?$=>u[$]+w:d+w).attr("y2",c&&!pr(o)?o.bandwidth?$=>c[$]+o.bandwidth()-k:$=>c[$]-k:h-b-k).call(ro,this,r).call(kw,this,r,a)).node()}}class ON extends er{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:o=s,insetLeft:l=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Ih(n,"y"),Dw),this.insetRight=rt(o),this.insetLeft=rt(l),Sw(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{y:l,x1:u,x2:c}=r,{width:f,height:h,marginTop:d,marginRight:g,marginLeft:y,marginBottom:b}=i,{insetLeft:w,insetRight:k}=this;return Qt("svg:g",a).call(Q0,this,i,a).call(d0,this,{y:l&&o},0,vn).call(E=>E.selectAll().data(t).enter().append("line").call(K0,this).attr("x1",u&&!pr(s)?$=>u[$]+w:y+w).attr("x2",c&&!pr(s)?s.bandwidth?$=>c[$]+s.bandwidth()-k:$=>c[$]-k:f-g-k).attr("y1",l?$=>l[$]:(d+h-b)/2).attr("y2",l?$=>l[$]:(d+h-b)/2).call(ro,this,r).call(kw,this,r,a)).node()}}function HN(e,t){let{x:n=Ht,y:r,y1:i,y2:a,...s}=FN(t);return[i,a]=zw(r,i,a),new PN(e,{...s,x:n,y1:i,y2:a})}function _w(e,t){let{y:n=Ht,x:r,x1:i,x2:a,...s}=Ew(t);return[i,a]=zw(r,i,a),new ON(e,{...s,y:n,x1:i,x2:a})}function zw(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Iw(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const VN={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Nw="­";class w5 extends er{constructor(t,n={}){const{x:r,y:i,text:a=f0(t)&&Bb(t)?Ht:K3,frameAnchor:s,textAnchor:o=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:l=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:f,monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:b,fontWeight:w,rotate:k}=n,[E,$]=gn(k,0),[A,z]=XN(g);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:A,optional:!0},rotate:{value:Sz(E),optional:!0},text:{value:a,filter:xb,optional:!0}},n,VN),this.rotate=$,this.textAnchor=xt(o,"middle"),this.lineAnchor=Tr(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=qw(f),this.monospace=!!h,this.fontFamily=jt(d),this.fontSize=z,this.fontStyle=jt(y),this.fontVariant=jt(b),this.fontWeight=jt(w),this.frameAnchor=a5(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Fw(this),this.clipLine=Lw(this)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,rotate:c,text:f,title:h,fontSize:d}=r,{rotate:g}=this,[y,b]=Eh(this,i);return Qt("svg:g",a).call(Q0,this,i,a).call(Bw,this,f,i).call(d0,this,{x:l&&s,y:u&&o}).call(w=>w.selectAll().data(t).enter().append("text").call(K0,this).call(UN,this,f,h).attr("transform",Iw`translate(${l?k=>l[k]:y},${u?k=>u[k]:b})${c?k=>` rotate(${c[k]})`:g?` rotate(${g})`:""}`).call(Ye,"font-size",d&&(k=>d[k])).call(ro,this,r)).node()}}function qw(e){return e==null?null:Tr(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function UN(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:o,clipLine:l}=t;e.each(function(u){const c=o(O0(n[u])??"").map(l),f=c.length,h=i==="top"?.71:i==="bottom"?1-f:(164-f*100)/200;if(f>1){let d=0;for(let g=0;g<f;++g){if(++d,!c[g])continue;const y=this.ownerDocument.createElementNS(Vo.svg,"tspan");y.setAttribute("x",0),g===d-1?y.setAttribute("y",`${(h+g)*a}em`):y.setAttribute("dy",`${d*a}em`),y.textContent=c[g],this.appendChild(y),d=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=c[0];if(s&&!r&&c[0]!==n[u]){const d=this.ownerDocument.createElementNS(Vo.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function x5(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=r5(t,n)),new w5(e,{...r,x:t,y:n})}function jN(e,{x:t=Ht,...n}={}){return new w5(e,RN({...n,x:t}))}function WN(e,{y:t=Ht,...n}={}){return new w5(e,LN({...n,y:t}))}function Bw(e,t,n){Ye(e,"text-anchor",t.textAnchor),Ye(e,"font-family",t.fontFamily),Ye(e,"font-size",t.fontSize),Ye(e,"font-style",t.fontStyle),Ye(e,"font-variant",t.fontVariant===void 0?YN(n):t.fontVariant),Ye(e,"font-weight",t.fontWeight)}function YN(e){return e&&(Tz(e)||Kn(e))?"tabular-nums":void 0}const GN=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function XN(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),GN.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function ZN(e,t,n){const r=[];let i,a=0;for(const[s,o,l]of QN(e)){if(i===void 0&&(i=s),a>i&&n(e,i,o)>t&&(r.push(e.slice(i,a)+(e[a-1]===Nw?"-":"")),i=s),l){r.push(e.slice(i,o)),i=void 0;continue}a=o}return r}function*QN(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Nw:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const y8={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function M5(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=sl(e,i))r+=y8[e[i]]??(Pw(e,i)?120:y8.e);return r}function S5(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=sl(e,i))r+=Pw(e,i)?200:100;return r}function Fw({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?S5:M5,i=t*100;return a=>ZN(a,i,r)}function Lw({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?S5:M5,i=t*100;switch(n){case"clip-start":return a=>w8(a,i,r,"");case"clip-end":return a=>b8(a,i,r,"");case"ellipsis-start":return a=>w8(a,i,r,Po);case"ellipsis-middle":return a=>KN(a,i,r,Po);case"ellipsis-end":return a=>b8(a,i,r,Po)}}const Po="…";function Jo(e,t,n,r){const i=[];let a=0;for(let s=0,o=0,l=e.length;s<l;s=o){o=sl(e,s);const u=n(e,s,o);if(a+u>t){for(a+=r;a>t&&s>0;)o=s,s=i.pop(),a-=n(e,s,o);return[s,t-a]}a+=u,i.push(s)}return[-1,0]}function b8(e,t,n,r){e=e.trim();const i=n(r),[a]=Jo(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function KN(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,o]=Jo(e,t/2,n,a),[l]=Jo(e,i-t/2-o+a,n,-a);return l<0?r:e.slice(0,s).trimEnd()+r+e.slice(sl(e,l)).trimStart()}function w8(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=Jo(e,i-t+a,n,-a);return s<0?r:r+e.slice(sl(e,s)).trimStart()}const Qm=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,x8=/\p{Extended_Pictographic}/uy;function sl(e,t){return t+=JN(e,t)?2:1,tq(e,t)&&(t=Qm.lastIndex),eq(e,t)?sl(e,t+1):t}function Rw(e,t){return e.charCodeAt(t)<128}function JN(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function eq(e,t){return e.charCodeAt(t)===8205}function tq(e,t){return Rw(e,t)?!1:(Qm.lastIndex=t,Qm.test(e))}function Pw(e,t){return Rw(e,t)?!1:(x8.lastIndex=t,x8.test(e))}const nq={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Ow=3.5,rq=Ow*5,Hw={draw(e,t,n){const r=t*n/rq;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},iq={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},aq=new Map([["arrow",Hw],["spike",iq]]);function sq(e){return e&&typeof e.draw=="function"}function oq(e){if(sq(e))return e;const t=aq.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class Vw extends er{constructor(t,n={}){const{x:r,y:i,r:a=Ow,length:s,rotate:o,shape:l=Hw,anchor:u="middle",frameAnchor:c}=n,[f,h]=gn(s,12),[d,g]=gn(o,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,nq),this.r=+a,this.length=h,this.rotate=g,this.shape=oq(l),this.anchor=Tr(u,"anchor",["start","middle","end"]),this.frameAnchor=a5(c)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,length:c,rotate:f}=r,{length:h,rotate:d,anchor:g,shape:y,r:b}=this,[w,k]=Eh(this,i);return Qt("svg:g",a).call(Q0,this,i,a).call(d0,this,{x:l&&s,y:u&&o}).call(E=>E.selectAll().data(t).enter().append("path").call(K0,this).attr("transform",Iw`translate(${l?$=>l[$]:w},${u?$=>u[$]:k})${f?$=>` rotate(${f[$]})`:d?` rotate(${d})`:""}${g==="start"?"":g==="end"?c?$=>` translate(0,${c[$]})`:` translate(0,${h})`:c?$=>` translate(0,${c[$]/2})`:` translate(0,${h/2})`}`).attr("d",c?$=>{const A=bm();return y.draw(A,c[$],b),A}:(()=>{const $=bm();return y.draw($,h,b),$})()).call(ro,this,r)).node()}}function lq(e,t={}){const{x:n=Ht,...r}=t;return new Vw(e,{...r,x:n})}function uq(e,t={}){const{y:n=Ht,...r}=t;return new Vw(e,{...r,y:n})}function ei(e,t){return arguments.length<2&&!f0(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function qh({anchor:e}={},t){return e===void 0?t[0]:Tr(e,"anchor",t)}function Uw(e){return qh(e,["left","right"])}function jw(e){return qh(e,["right","left"])}function Ww(e){return qh(e,["bottom","top"])}function Yw(e){return qh(e,["top","bottom"])}function Gw(){const[e,t]=ei(...arguments);return Zw("y",Uw(t),e,t)}function cq(){const[e,t]=ei(...arguments);return Zw("fy",jw(t),e,t)}function Xw(){const[e,t]=ei(...arguments);return Qw("x",Ww(t),e,t)}function fq(){const[e,t]=ei(...arguments);return Qw("fx",Yw(t),e,t)}function Zw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:c,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:g=e==="y"?6:0,tickPadding:y,tickRotate:b,x:w,margin:k,marginTop:E=k===void 0?20:k,marginRight:$=k===void 0?t==="right"?40:0:k,marginBottom:A=k===void 0?20:k,marginLeft:z=k===void 0?t==="left"?40:0:k,label:D,labelAnchor:j,labelArrow:U,labelOffset:S,...C}){return g=rt(g),y=rt(y),b=rt(b),j!==void 0&&(j=Tr(j,"labelAnchor",["center","top","bottom"])),U=ax(U),vw(g&&!sn(a)?hq(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:g,tickPadding:y,tickRotate:b,x:w,...C}):null,sn(l)?null:mq(e,t,n,{fill:l,fillOpacity:u,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:c,tickSize:g,tickPadding:y,tickRotate:b,x:w,marginTop:E,marginRight:$,marginBottom:A,marginLeft:z,...C}),!sn(l)&&D!==null?x5([],tx({fill:l,fillOpacity:u,...C},function(O,P,X,N,W){const ae=N[e],{marginTop:ie,marginRight:le,marginBottom:ee,marginLeft:se}=e==="y"&&W.inset||W,oe=j??(ae.bandwidth?"center":"top"),re=S??(t==="right"?le:se)-3;return oe==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=oe,this.frameAnchor=`${oe}-${t}`,this.rotate=0),this.dy=oe==="top"?3-ie:oe==="bottom"?ee-3:0,this.dx=t==="right"?re:-re,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[ix(e,ae,{anchor:t,label:D,labelAnchor:oe,labelArrow:U})]}}}})):null)}function Qw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:c,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:g=e==="x"?6:0,tickPadding:y,tickRotate:b,y:w,margin:k,marginTop:E=k===void 0?t==="top"?30:0:k,marginRight:$=k===void 0?20:k,marginBottom:A=k===void 0?t==="bottom"?30:0:k,marginLeft:z=k===void 0?20:k,label:D,labelAnchor:j,labelArrow:U,labelOffset:S,...C}){return g=rt(g),y=rt(y),b=rt(b),j!==void 0&&(j=Tr(j,"labelAnchor",["center","left","right"])),U=ax(U),vw(g&&!sn(a)?dq(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:g,tickPadding:y,tickRotate:b,y:w,...C}):null,sn(l)?null:pq(e,t,n,{fill:l,fillOpacity:u,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:c,tickSize:g,tickPadding:y,tickRotate:b,y:w,marginTop:E,marginRight:$,marginBottom:A,marginLeft:z,...C}),!sn(l)&&D!==null?x5([],tx({fill:l,fillOpacity:u,...C},function(O,P,X,N,W){const ae=N[e],{marginTop:ie,marginRight:le,marginBottom:ee,marginLeft:se}=e==="x"&&W.inset||W,oe=j??(ae.bandwidth?"center":"right"),re=S??(t==="top"?ie:ee)-3;return oe==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${oe}`,this.textAnchor=oe==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-re:re,this.dx=oe==="right"?le-3:oe==="left"?3-se:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[ix(e,ae,{anchor:t,label:D,labelAnchor:oe,labelArrow:U})]}}}})):null)}function hq(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetLeft:c=u,insetRight:f=u,dx:h=0,y:d=e==="y"?void 0:null,...g}){return ol(uq,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:o,y:d,...g,dx:t==="left"?+h-vn+ +c:+h+vn-f,anchor:"start",length:l,shape:t==="left"?Mq:Sq})}function dq(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetTop:c=u,insetBottom:f=u,dy:h=0,x:d=e==="x"?void 0:null,...g}){return ol(lq,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:o,x:d,...g,dy:t==="bottom"?+h-vn-f:+h+vn+ +c,anchor:"start",length:l,shape:t==="bottom"?wq:xq})}function mq(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*Mw):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:c=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:f=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:d=0,insetLeft:g=d,insetRight:y=d,dx:b=0,y:w=e==="y"?void 0:null,...k}){return ol(WN,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:f,fontVariant:h,rotate:s,y:w,...k,dx:t==="left"?+b-a-o+ +g:+b+ +a+ +o-y},function(E,$,A,z){h===void 0&&(this.fontVariant=rx(E)),u===void 0&&(z.text=nx(E,$,A,l,t))})}function pq(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*Mw):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:c=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:d=0,insetTop:g=d,insetBottom:y=d,dy:b=0,x:w=e==="x"?void 0:null,...k}){return ol(jN,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:f,fontVariant:h,rotate:s,x:w,...k,dy:t==="bottom"?+b+ +a+ +o-y:+b-a-o+ +g},function(E,$,A,z){h===void 0&&(this.fontVariant=rx(E)),u===void 0&&(z.text=nx(E,$,A,l,t))})}function gq(){const[e,t]=ei(...arguments);return Kw("y",Uw(t),e,t)}function vq(){const[e,t]=ei(...arguments);return Kw("fy",jw(t),e,t)}function yq(){const[e,t]=ei(...arguments);return Jw("x",Ww(t),e,t)}function bq(){const[e,t]=ei(...arguments);return Jw("fx",Yw(t),e,t)}function Kw(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...o}){return ol(_w,e,`${e}-grid`,n,{y:r,x1:a,x2:s,...ex(o)})}function Jw(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...o}){return ol(HN,e,`${e}-grid`,n,{x:r,y1:a,y2:s,...ex(o)})}function ex({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function tx({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u=!1},c){return[,e]=o0(e),[,t]=gn(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u,initializer:c}}function ol(e,t,n,r,i,a){let s;function o(c,f,h,d,g,y){const b=c==null&&(t==="fx"||t==="fy"),{[t]:w}=d;if(!w)throw new Error(`missing scale: ${t}`);let{ticks:k,tickSpacing:E,interval:$}=i;if(g5(w)&&typeof k=="string"&&($=k,k=void 0),c==null){if(f0(k))c=wn(k);else if(w.ticks)if(k!==void 0)c=w.ticks(k);else if($=al($===void 0?w.interval:$,w.type),$!==void 0){const[z,D]=Wn(w.domain());c=$.range(z,$.offset($.floor(D)))}else{const[z,D]=Wn(w.range());k=(D-z)/(E===void 0?t==="x"?80:35:E),c=w.ticks(k)}else c=w.domain();t==="y"||t==="x"?f=[c0(c)]:s[t]={scale:t,value:Ht}}a==null||a.call(this,w,c,k,s);const A=Object.fromEntries(Object.entries(s).map(([z,D])=>[z,{...D,value:At(c,D.value)}]));return b&&(f=y.filterFacets(c,A)),{data:c,facets:f,channels:A}}const l=Lf(i).initializer,u=e(r,Lf({...i,initializer:o},l));return r==null?(s=u.channels,u.channels={}):s={},u.ariaLabel=n,u.clip===void 0&&(u.clip=!1),u}function nx(e,t,n,r,i){return{value:Pf(e,t,n,r,i)}}function Pf(e,t,n,r,i){return r===void 0&&g5(e)?fz(e,t,n,i):e.tickFormat?e.tickFormat(f0(n)?null:n,r):r===void 0?uz(e.interval)?Jl("%Y"):cz(e.interval)?vh("%Y"):O0:typeof r=="string"?(Kn(e.domain())?Jl:mu)(r):yu(r)}const wq={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},xq={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},Mq={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Sq={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function rx(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function kq(e){return Math.sign(Ko(e.domain()))*Math.sign(Ko(e.range()))}function ix(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&$q(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=kq(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function ax(e="auto"){return sn(e)?!1:typeof e=="boolean"?e:Tr(e,"labelArrow",["auto","up","right","down","left"])}function $q(e){return g5(e)||e.interval!=null}function M8(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function Tq(e,{opacity:t,...n}={}){if(!io(e)&&!gw(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return sx(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",gn(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Cq(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:sn(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...o}={},l){const[f,h]=o0(t),[d,g]=o0(r),y=M8(l,f),b=M8(l,d),w=s*s*Math.PI;return n=gn(n)[1],i=gn(i)[1],a=gn(a)[1],sx(e,o,(k,E,$,A)=>k.append("svg").attr("viewBox","-8 -8 16 16").attr("width",$).attr("height",A).attr("fill",f==="color"?z=>y.scale(z):h).attr("fill-opacity",n).attr("stroke",d==="color"?z=>b.scale(z):g).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",z=>{const D=bm();return e.scale(z).draw(D,w),D}))}function sx(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=xw(e),swatchSize:s=15,swatchWidth:o=s,swatchHeight:l=s,marginLeft:u=0,className:c,style:f,width:h}=t;const d=f5(t);c=u5(c),typeof i!="function"&&(i=Pf(e.scale,e.domain,void 0,i));const g=Qt("div",d).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let y;return r!=null?(y=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,g.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,o,l).call(b=>b.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(y=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,g.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,o,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),g.call(b=>b.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${y}`)).style("margin-left",u?`${+u}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",xt(a,"normal")).call(c5,f).node()}const Km=new Map([["symbol",Cq],["color",lx],["opacity",Eq]]);function Aq(e,t,n={}){return(r,i)=>{if(!Km.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Km.get(r)(e[r],ox(t,n[r],i),a=>e[a])}}function ox({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return Ez(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function lx(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return Tq(e,n);case"ramp":return _N(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function Eq({type:e,interpolate:t,...n},{legend:r=!0,color:i=Y0(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return lx({type:e,...n,interpolate:Dq(i)},{legend:r,...a})}function Dq(e){const{r:t,g:n,b:r}=Y0(e)||Y0(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function _q(e,t,n){const r=[];for(const[i,a]of Km){const s=n[i];if(s!=null&&s.legend&&i in e){const o=a(e[i],ox(t,e[i],s),l=>e[l]);o!=null&&r.push(o)}}return r}const zq={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Iq={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Nq extends er{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:o=r,rx:l,ry:u}=t;super(Qc,void 0,t,n==null?zq:Iq),this.anchor=t5(n,"anchor",["top","right","bottom","left"]),this.insetTop=rt(i),this.insetRight=rt(a),this.insetBottom=rt(s),this.insetLeft=rt(o),this.rx=rt(l),this.ry=rt(u)}render(t,n,r,i,a){const{marginTop:s,marginRight:o,marginBottom:l,marginLeft:u,width:c,height:f}=i,{anchor:h,insetTop:d,insetRight:g,insetBottom:y,insetLeft:b,rx:w,ry:k}=this,E=u+b,$=c-o-g,A=s+d,z=f-l-y;return Qt(h?"svg:line":"svg:rect",a).datum(0).call(Q0,this,i,a).call(K0,this).call(ro,this,r).call(d0,this,{}).call(h==="left"?D=>D.attr("x1",E).attr("x2",E).attr("y1",A).attr("y2",z):h==="right"?D=>D.attr("x1",$).attr("x2",$).attr("y1",A).attr("y2",z):h==="top"?D=>D.attr("x1",E).attr("x2",$).attr("y1",A).attr("y2",A):h==="bottom"?D=>D.attr("x1",E).attr("x2",$).attr("y1",z).attr("y2",z):D=>D.attr("x",E).attr("y",A).attr("width",$-E).attr("height",z-A).attr("rx",w).attr("ry",k)).node()}}function qq(e){return new Nq(e)}const U4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},Bq=new Set(["geometry","href","src","ariaLabel"]);class Fq extends er{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&f0(t)&&Bb(t)&&(n={...n,title:Ht});const{x:r,y:i,x1:a,x2:s,y1:o,y2:l,anchor:u,monospace:c,fontFamily:f=c?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:d,fontVariant:g,fontWeight:y,lineHeight:b=1,lineWidth:w=20,frameAnchor:k,textAnchor:E="start",textOverflow:$,textPadding:A=8,title:z,pointerSize:D=12,pathFilter:j="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&l!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:o,scale:"y",optional:l==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:o==null},title:{value:z,optional:!0}},n,U4),this.anchor=Fb(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=a5(k),this.textAnchor=xt(E,"middle"),this.textPadding=+A,this.pointerSize=+D,this.pathFilter=jt(j),this.lineHeight=+b,this.lineWidth=+w,this.textOverflow=qw($),this.monospace=!!c,this.fontFamily=jt(f),this.fontSize=rt(h),this.fontStyle=jt(d),this.fontVariant=jt(g),this.fontWeight=jt(y);for(const U in U4)U in this.channels&&(this[U]=U4[U]);this.splitLines=Fw(this),this.clipLine=Lw(this)}render(t,n,r,i,a){const s=this,{x:o,y:l,fx:u,fy:c}=n,{ownerSVGElement:f,document:h}=a,{anchor:d,monospace:g,lineHeight:y,lineWidth:b}=this,{textPadding:w,pointerSize:k,pathFilter:E}=this,{marginTop:$,marginLeft:A}=i,z=Hq(r),{x1:D,y1:j,x2:U,y2:S,x:C=D??U,y:O=j??S}=r,P=u?u(t.fx)-A:0,X=c?c(t.fy)-$:0,[N,W]=Eh(this,i),ae=bw(r,N),ie=ww(r,W),le=g?S5:M5,ee=le(Po),se=u&&Pf(u),oe=c&&Pf(c);function*re(ce,me){if("title"in ce){const te=ce.title.value[me];for(const xe of s.splitLines(O0(te)))yield{name:"",value:s.clipLine(xe)};return}for(const te in ce){if(te==="x1"&&"x2"in ce||te==="y1"&&"y2"in ce)continue;const xe=ce[te],Te=xe.value[me];if(!(!Qs(Te)&&xe.scale==null))if(te==="x2"&&"x1"in ce)yield{name:k8(n,ce.x1,xe,"x"),value:S8(ce.x1,xe,me)};else if(te==="y2"&&"y1"in ce)yield{name:k8(n,ce.y1,xe,"y"),value:S8(ce.y1,xe,me)};else{const Y=xe.scale,ke={name:Jm(n,xe,te),value:O0(Te)};(Y==="color"||Y==="opacity")&&(ke[Y]=r[te][me]),yield ke}}t.fi!=null&&u&&(yield{name:String(u.label??"fx"),value:se(t.fx)}),t.fi!=null&&c&&(yield{name:String(c.label??"fy"),value:oe(t.fy)})}const Se=Qt("svg:g",a).call(Q0,this,i,a).call(Bw,this).call(d0,this,{x:C&&o,y:O&&l}).call(ce=>ce.selectAll().data(t).enter().append("g").attr("transform",me=>`translate(${Math.round(ae(me))},${Math.round(ie(me))})`).call(K0,this).call(me=>me.append("path").attr("filter",E)).call(me=>me.append("text").each(function(te){const xe=Il(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Te=new Set;for(const Y of re(z,te)){const ke=Y.name;ke&&Te.has(ke)||(Te.add(ke),Ce(xe,Y))}})));function Ce(ce,{name:me,value:te,color:xe,opacity:Te}){const Y=xe!=null||Te!=null;let ke,Ee=b*100;const[Be]=Jo(me,Ee,le,ee);if(Be>=0)me=me.slice(0,Be).trimEnd()+Po,ke=te.trim(),te="";else{(me||!te&&!Y)&&(te=" "+te);const[Ge]=Jo(te,Ee-le(me),le,ee);Ge>=0&&(te=te.slice(0,Ge).trimEnd()+Po,ke=te.trim())}const Fe=ce.append("tspan").attr("x",0).attr("dy",`${y}em`).text("​");me&&Fe.append("tspan").attr("font-weight","bold").text(me),te&&Fe.append(()=>h.createTextNode(te)),Y&&Fe.append("tspan").text(" ■").attr("fill",xe).attr("fill-opacity",Te).style("user-select","none"),ke&&Fe.append("title").text(ke)}function De(){const{width:ce,height:me}=i.facet??i;Se.selectChildren().each(function(te){let{x:xe,width:Te,height:Y}=this.getBBox();Te=Math.round(Te),Y=Math.round(Y);let ke=d;if(ke===void 0){ke=s.previousAnchor;const Fe=ae(te)+P,Ge=ie(te)+X,mt=Fe+Te+w*2<ce,wt=Fe-Te-w*2>0,Vt=Ge+Y+k+w*2+7<me,Kt=Ge-Y-k-w*2>0,Dt=(/-left$/.test(ke)?mt||!wt:mt&&!wt)?"left":"right",ao=(/^top-/.test(ke)?Vt||!Kt:Vt&&!Kt)?"top":"bottom";ke=s.previousAnchor=`${ao}-${Dt}`}const Ee=this.firstChild,Be=this.lastChild;if(Ee.setAttribute("d",Oq(ke,k,w,Te,Y)),xe)for(const Fe of Be.childNodes)Fe.setAttribute("x",-xe);Be.setAttribute("y",`${+Rq(ke,Be.childNodes.length,y).toFixed(6)}em`),Be.setAttribute("transform",`translate(${Pq(ke,k,w,Te,Y)})`)})}return f.isConnected?Promise.resolve().then(De):typeof requestAnimationFrame<"u"&&requestAnimationFrame(De),Se.node()}}function Lq(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=r5(t,n)),new Fq(e,{...r,x:t,y:n})}function Rq(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function Pq(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function Oq(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function Hq({channels:e}){const t={};for(const n in e){if(Bq.has(n))continue;const r=tI(e,n);r&&(t[n]=r)}return t}function S8(e,t,n){var r;return(r=t.hint)!=null&&r.length?`${O0(t.value[n]-e.value[n])}`:`${O0(e.value[n])}–${O0(t.value[n])}`}function k8(e,t,n,r){const i=Jm(e,t,r),a=Jm(e,n,r);return i===a?i:`${i}–${a}`}function Jm(e,t,n){var r;return String(((r=e[t.scale])==null?void 0:r.label)??(t==null?void 0:t.label)??n)}function Mu(e={}){var le;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:o}=e,l=u5(e.className),u=e.marks===void 0?[]:T8(e.marks);u.push(...Zq(u));const c=Gq(t,e),f=new Map;for(const ee of u){const se=C8(ee,c,e);se&&f.set(ee,se)}const h=new Map;c&&wl(h,[c],e),wl(h,f,e);const d=T8(Qq(u,h,e));for(const ee of d){const se=C8(ee,c,e);se&&f.set(ee,se)}u.unshift(...d);let g=mN(h,e);if(g!==void 0){const ee=c?H4(g,c):void 0;for(const oe of u){if(oe.facet===null||oe.facet==="super")continue;const re=f.get(oe);re!==void 0&&(re.facetsIndex=oe.fx!=null||oe.fy!=null?H4(g,re):ee)}const se=new Set;for(const{facetsIndex:oe}of f.values())oe==null||oe.forEach((re,Se)=>{(re==null?void 0:re.length)>0&&se.add(Se)});g.forEach(0<se.size&&se.size<g.length?(oe,re)=>oe.empty=!se.has(re):oe=>oe.empty=!1);for(const oe of u)if(oe.facet==="exclude"){const re=f.get(oe);re!==void 0&&(re.facetsIndex=vN(re.facetsIndex))}}for(const ee of ht.keys())Wm(e[ee])&&ee!=="fx"&&ee!=="fy"&&h.set(ee,[]);const y=new Map;for(const ee of u){if(y.has(ee))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:se,channels:oe}=f.get(ee)??{},{data:re,facets:Se,channels:Ce}=ee.initialize(se,oe,e);k5(Ce,e),y.set(ee,{data:re,facets:Se,channels:Ce})}const b=Xm(wl(h,y,e),e),w=u8(b),k=hN(b,u,e);rN(b,k);const{fx:E,fy:$}=w,A=E||$?dw(b,k):k,z=E||$?iB(w,k):k,D=f5(e),j=D.document,U=Jf("svg").call(j.documentElement);let S=U;D.ownerSVGElement=U,D.className=l,D.projection=gI(e,A),D.filterFacets=(ee,se)=>H4(g,{channels:se,groups:v5(ee,se)}),D.getMarkState=ee=>{const se=y.get(ee),oe=f.get(ee);return{...se,channels:{...se.channels,...oe==null?void 0:oe.channels}}},D.dispatchValue=ee=>{S.value!==ee&&(S.value=ee,S.dispatchEvent(new Event("input",{bubbles:!0})))};const C=new Set;for(const[ee,se]of y)if(ee.initializer!=null){const oe=ee.facet==="super"?z:A,re=ee.initializer(se.data,se.facets,se.channels,w,oe,D);if(re.data!==void 0&&(se.data=re.data),re.facets!==void 0&&(se.facets=re.facets),re.channels!==void 0){const{fx:Se,fy:Ce,...De}=re.channels;Yq(De),Object.assign(se.channels,De);for(const ce of Object.values(De)){const{scale:me}=ce;me!=null&&!_z(ht.get(me))&&(ux(ce,e),C.add(me))}(Se!=null||Ce!=null)&&f.set(ee,!0)}}if(C.size){const ee=new Map;wl(ee,y,e,re=>C.has(re)),wl(h,y,e,re=>C.has(re));const se=rB(Xm(ee,e),b),oe=u8(se);Object.assign(b,se),Object.assign(w,oe)}let O,P;g!==void 0&&(O={x:E==null?void 0:E.domain(),y:$==null?void 0:$.domain()},g=pN(g,O),P=gN(E,$,k));for(const[ee,se]of y)se.values=ee.scale(se.channels,w,D);const{width:X,height:N}=k;Il(U).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",X).attr("height",N).attr("viewBox",`0 0 ${X} ${N}`).attr("aria-label",s).attr("aria-description",o).call(ee=>ee.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(c5,n);for(const ee of u){const{channels:se,values:oe,facets:re}=y.get(ee);if(g===void 0||ee.facet==="super"){let Se=null;if(re&&(Se=re[0],Se=ee.filter(Se,se,oe),Se.length===0))continue;const Ce=ee.render(Se,w,oe,z,D);if(Ce==null)continue;U.appendChild(Ce)}else{let Se;for(const Ce of g){if(!(((le=ee.facetAnchor)==null?void 0:le.call(ee,g,O,Ce))??!Ce.empty))continue;let De=null;if(re){const me=f.has(ee);if(De=re[me?Ce.i:0],De=ee.filter(De,se,oe),De.length===0)continue;!me&&De===re[0]&&(De=wz(De)),De.fx=Ce.x,De.fy=Ce.y,De.fi=Ce.i}const ce=ee.render(De,w,oe,A,D);if(ce!=null){(Se??(Se=Il(U).append("g"))).append(()=>ce).datum(Ce);for(const me of["aria-label","aria-description","aria-hidden","transform"])ce.hasAttribute(me)&&(Se.attr(me,ce.getAttribute(me)),ce.removeAttribute(me))}}Se==null||Se.selectChildren().attr("transform",P)}}const W=_q(b,D,e),{figure:ae=r!=null||i!=null||a!=null||W.length>0}=e;ae&&(S=j.createElement("figure"),S.className=`${l}-figure`,S.style.maxWidth="initial",r!=null&&S.append($8(j,r,"h2")),i!=null&&S.append($8(j,i,"h3")),S.append(...W,U),a!=null&&S.append(Vq(j,a))),S.scale=cN(b),S.legend=Aq(b,D,e);const ie=oI();return ie>0&&Il(U).append("text").attr("x",X).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${ie.toLocaleString("en-US")} warning${ie===1?"":"s"}. Please check the console.`),S}function $8(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(e.createTextNode(t)),r}function Vq(e,t){const n=e.createElement("figcaption");return n.append(t.ownerDocument?t:e.createTextNode(t)),n}function Uq({marks:e=[],...t}={}){return Mu({...t,marks:[...e,this]})}er.prototype.plot=Uq;function T8(e){return e.flat(1/0).filter(t=>t!=null).map(jq)}function jq(e){return typeof e.render=="function"?e:new Wq(e)}class Wq extends er{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function k5(e,t){for(const n in e)ux(e[n],t);return e}function ux(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:o=a?l=>l*100:qb(s,i)}=t[n]??{};o!=null&&(e.value=St(e.value,o),e.transform=!1)}function Yq(e){for(const t in e)Xb(t,e[t])}function wl(e,t,n,r=gz){var i,a;for(const{channels:s}of t.values())for(const o in s){const l=s[o],{scale:u}=l;if(u!=null&&r(u))if(u==="projection"){if(!wI(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,f=((a=n.y)==null?void 0:a.domain)===void 0;if(c||f){const[h,d]=MI(l);c&&j4(e,"x",h),f&&j4(e,"y",d)}}}else j4(e,u,l)}return e}function j4(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function Gq(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=wn(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=iu(i,{value:n,scale:"fx"})),r!=null&&(a.fy=iu(i,{value:r,scale:"fy"})),k5(a,t);const s=v5(i,a);return{channels:a,groups:s,data:e.data}}function C8(e,t,n){var l;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=wn(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=iu(u,{value:r,scale:"fx"})),i!=null&&(c.fy=iu(u,{value:i,scale:"fy"})),k5(c,n),{channels:c,groups:v5(u,c)}}if(t===void 0)return;const{channels:a,groups:s,data:o}=t;if(e.facet!=="auto"||e.data===o)return{channels:a,groups:s};o.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((l=wn(e.data))==null?void 0:l.length)===o.length&&Ro(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Xq(e,t={}){return Lf({...t,x:null,y:null},(n,r,i,a,s,o)=>o.getMarkState(e))}function Zq(e){const t=[];for(const n of e){const r=n.tip;if(r){const a=(r==="x"?EN:r==="y"?DN:AN)(Xq(n));a.title=null,t.push(Lq(n.data,a))}}return t}function Qq(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:o={},axis:l,grid:u,facet:c={},facet:{axis:f=l,grid:h}=c,x:{axis:d=l,grid:g=d===null?null:u}=i,y:{axis:y=l,grid:b=y===null?null:u}=a,fx:{axis:w=f,grid:k=w===null?null:h}=s,fy:{axis:E=f,grid:$=E===null?null:h}=o}=n;(r||!Wm(i)&&!A8("x",e))&&(d=g=null),(r||!Wm(a)&&!A8("y",e))&&(y=b=null),t.has("fx")||(w=k=null),t.has("fy")||(E=$=null),d===void 0&&(d=!Pc(e,"x")),y===void 0&&(y=!Pc(e,"y")),w===void 0&&(w=!Pc(e,"fx")),E===void 0&&(E=!Pc(e,"fy")),d===!0&&(d="bottom"),y===!0&&(y="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),E===!0&&(E=y==="right"||y===null?"left":"right");const A=[];return Rc(A,$,vq,o),Lc(A,E,cq,"right","left",c,o),Rc(A,k,bq,s),Lc(A,w,fq,"top","bottom",c,s),Rc(A,b,gq,a),Lc(A,y,Gw,"left","right",n,a),Rc(A,g,yq,i),Lc(A,d,Xw,"bottom","top",n,i),A}function Lc(e,t,n,r,i,a,s){if(!t)return;const o=Kq(t);s=Jq(o?r:t,a,s);const{line:l}=s;(n===Gw||n===Xw)&&l&&!ru(l)&&e.push(qq(eB(s))),e.push(n(s)),o&&e.push(n({...s,anchor:i,label:null}))}function Rc(e,t,n,r){!t||ru(t)||e.push(n(tB(t,r)))}function Kq(e){return/^\s*both\s*$/i.test(e)}function Jq(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:c,ariaDescription:f,label:h=t.label,labelAnchor:d,labelArrow:g=t.labelArrow,labelOffset:y}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:c,ariaDescription:f,label:h,labelAnchor:d,labelArrow:g,labelOffset:y}}function eB(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function tB(e,{stroke:t=kh(e)?e:void 0,ticks:n=nB(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function nB(e){switch(typeof e){case"number":return!0;case"string":return!kh(e)}return f0(e)||typeof(e==null?void 0:e.range)=="function"}function Pc(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function A8(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function rB(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function iB({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=p5(n),u=e&&E8(e),c=t&&E8(t);return{marginTop:t?c[0]:r,marginRight:e?o-u[1]:i,marginBottom:t?l-c[1]:a,marginLeft:e?u[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:o,height:l}}function E8(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}function aB(e={y:"count"},t={}){[e,t]=oB(e,t);const{x:n,y:r}=t;return sB(lB(n,t,Ht),null,null,r,e,Nh(t))}function sB(e,t,n,r,{data:i=Yb,filter:a=Rf,sort:s,reverse:o,...l}={},u={}){e=D8(e),t=D8(t),l=cB(l,u),i=hx(i,Ht),s=s==null?void 0:cx("sort",s,u),a=a==null?void 0:fx("filter",a,u),n!=null&&Nc(l,"x","x1","x2")&&(n=null),r!=null&&Nc(l,"y","y1","y2")&&(r=null);const[c,f]=Hr(e),[h,d]=Hr(e),[g,y]=Hr(t),[b,w]=Hr(t),[k,E]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[$,A]=Hr(k),{x:z,y:D,z:j,fill:U,stroke:S,x1:C,x2:O,y1:P,y2:X,domain:N,cumulative:W,thresholds:ae,interval:ie,...le}=u,[ee,se]=Hr(j),[oe]=o0(U),[re]=o0(S),[Se,Ce]=Hr(oe),[De,ce]=Hr(re);return{..."z"in u&&{z:ee||j},..."fill"in u&&{fill:Se||U},..."stroke"in u&&{stroke:De||S},...o5(le,(me,te,xe)=>{const Te=Nb(At(me,k),xe==null?void 0:xe[E]),Y=At(me,j),ke=At(me,oe),Ee=At(me,re),Be=Oz(l,{z:Y,fill:ke,stroke:Ee}),Fe=[],Ge=[],mt=Te&&A([]),wt=Y&&se([]),Vt=ke&&Ce([]),Kt=Ee&&ce([]),Dt=e&&f([]),ao=e&&d([]),ti=t&&y([]),Cr=t&&w([]),Su=mB(e==null?void 0:e(me),t==null?void 0:t(me));let so=0;for(const Jt of l)Jt.initialize(me);s&&s.initialize(me),a&&a.initialize(me);for(const Jt of te){const ll=[];for(const tr of l)tr.scope("facet",Jt);s&&s.scope("facet",Jt),a&&a.scope("facet",Jt);for(const[tr,Ar]of Q7(Jt,Be))for(const[ku,oo]of Q7(Ar,Te))for(const[zt,nr]of Su(oo))if(!(a&&!a.reduce(zt,nr))){ll.push(so++),Ge.push(i.reduceIndex(zt,me,nr)),Te&&mt.push(ku),Y&&wt.push(Be===Y?tr:Y[zt[0]]),ke&&Vt.push(Be===ke?tr:ke[zt[0]]),Ee&&Kt.push(Be===Ee?tr:Ee[zt[0]]),Dt&&(Dt.push(nr.x1),ao.push(nr.x2)),ti&&(ti.push(nr.y1),Cr.push(nr.y2));for(const lo of l)lo.reduce(zt,nr);s&&s.reduce(zt)}Fe.push(ll)}return Hz(Fe,s,o),{data:Ge,facets:Fe}}),...!Nc(l,"x")&&(c?{x1:c,x2:h,x:Ff(c,h)}:{x:z,x1:C,x2:O}),...!Nc(l,"y")&&(g?{y1:g,y2:b,y:Ff(g,b)}:{y:D,y1:P,y2:X}),...$&&{[E]:$},...Object.fromEntries(l.map(({name:me,output:te})=>[me,te]))}}function oB({cumulative:e,domain:t,thresholds:n,interval:r,...i},a){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...a}]}function lB(e,{cumulative:t,domain:n,thresholds:r,interval:i},a){return e={...bu(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=a),e.thresholds=uB(e.thresholds,e.interval),e}function D8(e){if(e==null)return;const{value:t,cumulative:n,domain:r=Wn,thresholds:i}=e,a=s=>{let o=At(s,t),l;if(Kn(o)||hB(i)){o=St(o,Ab,Float64Array);let[c,f]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!Dl(i)?i(o,c,f):i;typeof h=="number"&&(h=Ov(c,f,h)),Dl(h)&&(r===Wn&&(c=h.floor(c),f=h.offset(h.floor(f))),h=h.range(c,h.offset(f))),l=h}else{o=qf(o);let[c,f]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!Dl(i)?i(o,c,f):i;if(typeof h=="number")if(r===Wn){let d=sf(c,f,h);if(isFinite(d))if(d>0){let g=Math.round(c/d),y=Math.round(f/d);g*d<=c||--g,y*d>f||++y;let b=y-g+1;h=new Float64Array(b);for(let w=0;w<b;++w)h[w]=(g+w)*d}else if(d<0){d=-d;let g=Math.round(c*d),y=Math.round(f*d);g/d<=c||--g,y/d>f||++y;let b=y-g+1;h=new Float64Array(b);for(let w=0;w<b;++w)h[w]=(g+w)/d}else h=[c];else h=[c]}else h=jl(c,f,h);else Dl(h)&&(r===Wn&&(c=h.floor(c),f=h.offset(h.floor(f))),h=h.range(c,h.offset(f)));l=h}const u=[];if(l.length===1)u.push([l[0],l[0]]);else for(let c=1;c<l.length;++c)u.push([l[c-1],l[c]]);return u.bin=(n<0?gB:n>0?pB:$5)(u,l,o),u};return a.label=no(t),a}function uB(e,t,n=_8){if(e===void 0)return t===void 0?n:al(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return uk;case"scott":return eg;case"sturges":return ak;case"auto":return _8}return Tb(e)}return e}function cB(e,t){return Lz(e,t,cx)}function cx(e,t,n){return jb(e,t,n,fx)}function fx(e,t,n){return Wb(e,t,n,hx)}function hx(e,t){return l5(e,t,fB)}function fB(e){switch(`${e}`.toLowerCase()){case"x":return vB;case"x1":return bB;case"x2":return wB;case"y":return yB;case"y1":return xB;case"y2":return MB}throw new Error(`invalid bin reduce: ${e}`)}function _8(e,t,n){return Math.min(200,eg(e,t,n))}function hB(e){return dB(e)||f0(e)&&Kn(e)}function dB(e){return Dl(e)&&typeof e=="function"&&e()instanceof Date}function Dl(e){return typeof(e==null?void 0:e.range)=="function"}function mB(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries()){const o=t.bin(r[i]);for(const[l,[u,c]]of t.entries())yield[o[l],{x1:a,y1:u,x2:s,y2:c}]}}:e?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries())yield[r[i],{x1:a,x2:s}]}:function*(n){const r=t.bin(n);for(const[i,[a,s]]of t.entries())yield[r[i],{y1:a,y2:s}]}}function $5(e,t,n){return t=qf(t),r=>{var a;const i=e.map(()=>[]);for(const s of r)(a=i[Qf(t,n[s])-1])==null||a.push(s);return i}}function pB(e,t,n){const r=$5(e,t,n);return i=>{const a=r(i);for(let s=1,o=a.length;s<o;++s){const l=a[s-1],u=a[s];for(const c of l)u.push(c)}return a}}function gB(e,t,n){const r=$5(e,t,n);return i=>{const a=r(i);for(let s=a.length-2;s>=0;--s){const o=a[s+1],l=a[s];for(const u of o)l.push(u)}return a}}function dx(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const vB={reduceIndex(e,t,{x1:n,x2:r}){return dx(n,r)}},yB={reduceIndex(e,t,{y1:n,y2:r}){return dx(n,r)}},bB={reduceIndex(e,t,{x1:n}){return n}},wB={reduceIndex(e,t,{x2:n}){return n}},xB={reduceIndex(e,t,{y1:n}){return n}},MB={reduceIndex(e,t,{y2:n}){return n}};function SB(e={}){return Eb(e)?e:{...e,x:Ht}}function kB(e={}){return Db(e)?e:{...e,y:Ht}}function $B(e={},t={}){arguments.length===1&&([e,t]=mx(e));const{y1:n,y:r=n,x:i,...a}=t,[s,o,l,u]=px(r,i,"y","x",e,a);return{...s,y1:n,y:o,x1:l,x2:u,x:Ff(l,u)}}function TB(e={},t={}){arguments.length===1&&([e,t]=mx(e));const{x1:n,x:r=n,y:i,...a}=t,[s,o,l,u]=px(r,i,"x","y",e,a);return{...s,x1:n,x:o,y1:l,y2:u,y:Ff(l,u)}}function CB({x:e,x1:t,x2:n,...r}={}){return r=Ih(r,"y"),t===void 0&&n===void 0?$B({x:e,...r}):([t,n]=zb(e,t,n),{...r,x1:t,x2:n})}function AB({y:e,y1:t,y2:n,...r}={}){return r=Ih(r,"x"),t===void 0&&n===void 0?TB({y:e,...r}):([t,n]=zb(e,t,n),{...r,y1:t,y2:n})}function mx(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const EB={length:!0};function px(e,t=pz,n,r,{offset:i,order:a,reverse:s},o){if(t===null)throw new Error(`stack requires ${r}`);const l=bz(o),[u,c]=Hr(e),[f,h]=Bf(t),[d,g]=Bf(t);return f.hint=d.hint=EB,i=DB(i),a=IB(a,i,r),[o5(o,(y,b,w)=>{const k=e==null?void 0:c(Nb(At(y,e),w==null?void 0:w[n])),E=At(y,t,Float64Array),$=At(y,l),A=a&&a(y,k,E,$),z=y.length,D=h(new Float64Array(z)),j=g(new Float64Array(z)),U=[];for(const S of b){const C=k?Array.from(S3(S,O=>k[O]).values()):[S];if(A)for(const O of C)O.sort(A);for(const O of C){let P=0,X=0;s&&O.reverse();for(const N of O){const W=E[N];W<0?P=j[N]=(D[N]=P)+W:W>0?X=j[N]=(D[N]=X)+W:j[N]=D[N]=X}}U.push(C)}return i&&i(U,D,j,$),{data:y,facets:b}}),u,f,d]}function DB(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return _B;case"center":case"silhouette":return zB;case"wiggle":return vx}throw new Error(`unknown offset: ${e}`)}}function gx(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function _B(e,t,n){for(const r of e)for(const i of r){const[a,s]=gx(i,n);for(const o of i){const l=1/(s-a||1);t[o]=l*(t[o]-a),n[o]=l*(n[o]-a)}}}function zB(e,t,n){for(const r of e){for(const i of r){const[a,s]=gx(i,n);for(const o of i){const l=(s+a)/2;t[o]-=l,n[o]-=l}}yx(r,t,n)}bx(e,t,n)}function vx(e,t,n,r){for(const i of e){const a=new Us;let s=0;for(const o of i){let l=-1;const u=o.map(d=>Math.abs(n[d]-t[d])),c=o.map(d=>{l=r?r[d]:++l;const g=n[d]-t[d],y=a.has(l)?g-a.get(l):0;return a.set(l,g),y}),f=[0,...JS(c)];for(const d of o)t[d]+=s,n[d]+=s;const h=W0(u);h&&(s-=W0(u,(d,g)=>(c[g]/2+f[g])*d)/h)}yx(i,t,n)}bx(e,t,n)}function yx(e,t,n){const r=n0(e,i=>n0(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function bx(e,t,n){const r=e.length;if(r===1)return;const i=e.map(o=>o.flat()),a=i.map(o=>(n0(o,l=>t[l])+br(o,l=>n[l]))/2),s=n0(a);for(let o=0;o<r;o++){const l=s-a[o];for(const u of i[o])t[u]+=l,n[u]+=l}}function IB(e,t,n){if(e===void 0&&t===vx)return z8(Qn);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?Nf:Qn;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return NB(i);case"z":return qB(i);case"sum":return BB(i);case"appearance":return FB(i);case"inside-out":return z8(i)}return I8(Cb(e))}if(typeof e=="function")return(e.length===1?I8:LB)(e);if(Array.isArray(e))return RB(e);throw new Error(`invalid order: ${e}`)}}function NB(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function qB(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function BB(e){return Bh(e,(t,n,r,i)=>$3(c0(t),a=>W0(a,s=>r[s]),a=>i[a]))}function FB(e){return Bh(e,(t,n,r,i)=>$3(c0(t),a=>n[J9(a,s=>r[s])],a=>i[a]))}function z8(e){return Bh(e,(t,n,r,i)=>{const a=c0(t),s=$3(a,f=>n[J9(f,h=>r[h])],f=>i[f]),o=Bo(a,f=>W0(f,h=>r[h]),f=>i[f]),l=[],u=[];let c=0;for(const f of s)c<0?(c+=o.get(f),l.push(f)):(c-=o.get(f),u.push(f));return u.reverse().concat(l)})}function I8(e){return t=>{const n=At(t,e);return(r,i)=>Qn(n[r],n[i])}}function LB(e){return t=>(n,r)=>e(t[n],t[r])}function RB(e){return Bh(Qn,()=>e)}function Bh(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new Us(t(n,r,i,a).map((o,l)=>[o,l]));return(o,l)=>e(s.get(a[o]),s.get(a[l]))}}class wx extends er{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:o=a,insetBottom:l=a,insetLeft:u=a,rx:c,ry:f}=r;this.insetTop=rt(s),this.insetRight=rt(o),this.insetBottom=rt(l),this.insetLeft=rt(u),this.rx=xt(c,"auto"),this.ry=xt(f,"auto")}render(t,n,r,i,a){const{rx:s,ry:o}=this;return Qt("svg:g",a).call(Q0,this,i,a).call(this._transform,this,n).call(l=>l.selectAll().data(t).enter().append("rect").call(K0,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(Ye,"rx",s).call(Ye,"ry",o).call(ro,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}}const PB={ariaLabel:"bar"};class OB extends wx{constructor(t,n={}){const{x1:r,x2:i,y:a}=n;super(t,{x1:{value:r,scale:"x"},x2:{value:i,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,PB)}_transform(t,n,{x:r}){t.call(d0,n,{x:r},0,0)}_x({x:t},{x1:n,x2:r},{marginLeft:i}){const{insetLeft:a}=this;return pr(t)?i+a:s=>Math.min(n[s],r[s])+a}_width({x:t},{x1:n,x2:r},{marginRight:i,marginLeft:a,width:s}){const{insetLeft:o,insetRight:l}=this;return pr(t)?s-i-a-o-l:u=>Math.max(0,Math.abs(r[u]-n[u])-o-l)}}function xx(e,t={}){return _b(t)||(t={...t,y:K3,x2:Ht}),new OB(e,CB(Ew(SB(t))))}const HB={ariaLabel:"cell"};class VB extends wx{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,HB)}_transform(t,n){t.call(d0,n,{},0,0)}}function UB(e,{x:t,y:n,...r}={}){return[t,n]=r5(t,n),new VB(e,{...r,x:t,y:n})}const jB={ariaLabel:"rect"};class WB extends er{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:o=0,insetTop:l=o,insetRight:u=o,insetBottom:c=o,insetLeft:f=o,rx:h,ry:d}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,jB),this.insetTop=rt(l),this.insetRight=rt(u),this.insetBottom=rt(c),this.insetLeft=rt(f),this.rx=xt(h,"auto"),this.ry=xt(d,"auto")}render(t,n,r,i,a){const{x:s,y:o}=n,{x1:l,y1:u,x2:c,y2:f}=r,{marginTop:h,marginRight:d,marginBottom:g,marginLeft:y,width:b,height:w}=i,{projection:k}=a,{insetTop:E,insetRight:$,insetBottom:A,insetLeft:z,rx:D,ry:j}=this;return Qt("svg:g",a).call(Q0,this,i,a).call(d0,this,{x:l&&c&&s,y:u&&f&&o},0,0).call(U=>U.selectAll().data(t).enter().append("rect").call(K0,this).attr("x",l&&c&&(k||!pr(s))?S=>Math.min(l[S],c[S])+z:y+z).attr("y",u&&f&&(k||!pr(o))?S=>Math.min(u[S],f[S])+E:h+E).attr("width",l&&c&&(k||!pr(s))?S=>Math.max(0,Math.abs(c[S]-l[S])-z-$):b-d-y-$-z).attr("height",u&&f&&(k||!pr(o))?S=>Math.max(0,Math.abs(u[S]-f[S])-E-A):w-h-g-E-A).call(Ye,"rx",D).call(Ye,"ry",j).call(ro,this,r)).node()}}function YB(e,t={}){return _b(t)||(t={...t,x:K3,y2:Ht,interval:1}),new WB(e,AB(BN(kB(t))))}function GB(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),ne(t).forEach(M),this.h()},h(){R(t,"role","img")},m(i,a){I(i,t,a),e[9](t),n||(r=yt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[9](null),n=!1,r()}}}function N8(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function XB(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:c="background: none;"}=t;function f(d){Vf.call(this,e,d)}function h(d){Yn[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,c=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:c}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let g=N8(a,o);s&&(g=g.concat(N8(s,o,"Quantized Weights (Q)")));let y;i&&(y=Mu({padding:0,grid:!0,x:{axis:null,label:"column",inset:30},y:{axis:null,label:"row"},color:{type:"diverging",scheme:"RdBu",legend:!0,style:"background:none;"},marks:[UB(g,{x:"i",y:"j",fx:"label",fill:"weight",inset:.5,tip:!0})],...r,facet:{label:null}}),i==null||i.append(y))}},[i,a,s,o,l,u,c,r,f,h]}class ZB extends Gt{constructor(t){super(),Xt(this,t,XB,GB,Yt,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function QB(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),ne(t).forEach(M),this.h()},h(){R(t,"role","img")},m(i,a){I(i,t,a),e[9](t),n||(r=yt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[9](null),n=!1,r()}}}function q8(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function KB(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:c="background: none;"}=t;function f(d){Vf.call(this,e,d)}function h(d){Yn[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,c=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:c}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let g=q8(a,o);s&&(g=g.concat(q8(s,o,"Quantized Weights (Q)"))),i==null||i.append(Mu({facet:{label:null},y:{grid:!0},color:{style:"background:none;",type:"diverging",scheme:"RdBu"},marks:[YB(g,aB({y:"count"},{x:"weight",fx:"label",fill:"weight"})),_w([0])],...r}))}},[i,a,s,o,l,u,c,r,f,h]}class JB extends Gt{constructor(t){super(),Xt(this,t,KB,QB,Yt,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function eF(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),ne(t).forEach(M),this.h()},h(){R(t,"role","img")},m(i,a){I(i,t,a),e[8](t),n||(r=yt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[8](null),n=!1,r()}}}function tF(e,t,n){let r,i,{data:a=[{error:0,label:"Operator Norm"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function c(h){Vf.call(this,e,h)}function f(h){Yn[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&99&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(Mu({marginLeft:80,marginRight:50,x:{domain:u},y:{label:null},marks:[xx(d,{y:"label",x:"error",fill:"darkgrey",fillOpacity:.5}),x5(d,{x:"error",y:"label",text:g=>g.error.toFixed(3),textAnchor:"start",dx:5,fontSize:14,fontStyle:"italic"})],...r}))}},[i,a,s,o,l,u,r,c,f]}class nF extends Gt{constructor(t){super(),Xt(this,t,tF,eF,Yt,{data:1,width:2,height:3,style:4,domain:5})}}function rF(e){const t=aF(e),n=z_(t);return iF(n)}function iF(e){const[t,n]=[e.rows,e.columns],r=Ke.$(t*n,[t,n],"f32");for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[r.index2D(i,a)]=e.data[i][a];return r}function aF(e){const[t,n]=e.shape,r=new ze(t,n);for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[i][a]=e.value2D(i,a);return r}function sF(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),ne(t).forEach(M),this.h()},h(){R(t,"role","img")},m(i,a){I(i,t,a),e[8](t),n||(r=yt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[8](null),n=!1,r()}}}function oF(e,t,n){let r,i,{data:a=[{size:2e3,label:"Original"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function c(h){Vf.call(this,e,h)}function f(h){Yn[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&67&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(Mu({marginLeft:80,marginRight:50,x:{},y:{label:null},marks:[xx(d,{y:"label",x:"size",fill:"darkgrey",fillOpacity:.5})],...r}))}},[i,a,s,o,l,u,r,c,f]}class lF extends Gt{constructor(t){super(),Xt(this,t,oF,sF,Yt,{data:1,width:2,height:3,style:4,domain:5})}}function W4(e){const t=e.slice(),n=t[3].reconstruct();return t[13]=n,t}function B8(e,t,n){const r=e.slice();return r[14]=t[n],r}function F8(e){let t,n=e[14]+"",r;return{c(){t=F("option"),r=K(n),this.h()},l(i){t=L(i,"OPTION",{});var a=ne(t);r=J(a,n),a.forEach(M),this.h()},h(){t.__value=e[14],Kr(t,t.__value)},m(i,a){I(i,t,a),_(t,r)},p:Xe,d(i){i&&M(t)}}}function L8(e){let t,n,r,i;return t=new ZB({props:{data:e[2].data,data2:e[13].data,shape:[Ll,Rl],height:200}}),r=new JB({props:{data:e[2].data,data2:e[13].data,shape:[Ll,Rl],height:200}}),{c(){ve(t.$$.fragment),n=Z(),ve(r.$$.fragment)},l(a){ye(t.$$.fragment,a),n=Q(a),ye(r.$$.fragment,a)},m(a,s){be(t,a,s),I(a,n,s),be(r,a,s),i=!0},p(a,s){const o={};s&4&&(o.data=a[2].data),s&8&&(o.data2=a[13].data),t.$set(o);const l={};s&4&&(l.data=a[2].data),s&8&&(l.data2=a[13].data),r.$set(l)},i(a){i||(fe(t.$$.fragment,a),fe(r.$$.fragment,a),i=!0)},o(a){de(t.$$.fragment,a),de(r.$$.fragment,a),i=!1},d(a){a&&M(n),we(t,a),we(r,a)}}}function uF(e){let t,n,r,i,a,s,o,l,u,c,f,h,d,g,y,b,w=e[4].toFixed(3)+"",k,E,$,A,z,D=(e[5]*e[4]).toFixed(3)+"",j,U,S,C,O=H0(Object.keys(e[6])),P=[];for(let N=0;N<O.length;N+=1)P[N]=F8(B8(e,O,N));let X=e[2]&&L8(W4(e));return c=new lF({props:{data:[{label:"W bytes",size:Oc(e[2])/8},{label:"Q bytes",size:Oc(e[3],e[1])/8}]}}),h=new nF({props:{data:[{label:"||W-Q||/||W||",error:e[5]}]}}),y=new _e({props:{text:"||W|| \\ ||W^[-1]||"}}),A=new _e({props:{text:"\\left(||W||| \\ |W^[-1]||\\right)\\left(||W-Q||/||W||\\right)"}}),{c(){t=F("select");for(let N=0;N<P.length;N+=1)P[N].c();n=Z(),r=F("input"),i=Z(),a=F("span"),s=K(e[1]),o=K(" bits"),l=Z(),X&&X.c(),u=Z(),ve(c.$$.fragment),f=Z(),ve(h.$$.fragment),d=Z(),g=F("div"),ve(y.$$.fragment),b=K(" as condition number = "),k=K(w),E=Z(),$=F("div"),ve(A.$$.fragment),z=K(` as
	combined error = `),j=K(D),this.h()},l(N){t=L(N,"SELECT",{});var W=ne(t);for(let ee=0;ee<P.length;ee+=1)P[ee].l(W);W.forEach(M),n=Q(N),r=L(N,"INPUT",{type:!0,min:!0,max:!0}),i=Q(N),a=L(N,"SPAN",{class:!0});var ae=ne(a);s=J(ae,e[1]),o=J(ae," bits"),ae.forEach(M),l=Q(N),X&&X.l(N),u=Q(N),ye(c.$$.fragment,N),f=Q(N),ye(h.$$.fragment,N),d=Q(N),g=L(N,"DIV",{class:!0});var ie=ne(g);ye(y.$$.fragment,ie),b=J(ie," as condition number = "),k=J(ie,w),ie.forEach(M),E=Q(N),$=L(N,"DIV",{class:!0});var le=ne($);ye(A.$$.fragment,le),z=J(le,` as
	combined error = `),j=J(le,D),le.forEach(M),this.h()},h(){e[0]===void 0&&$x(()=>e[7].call(t)),R(r,"type","range"),R(r,"min","1"),R(r,"max","8"),R(a,"class","label svelte-93sz7w"),R(g,"class","label svelte-93sz7w"),R($,"class","label svelte-93sz7w")},m(N,W){I(N,t,W);for(let ae=0;ae<P.length;ae+=1)P[ae]&&P[ae].m(t,null);U6(t,e[0],!0),I(N,n,W),I(N,r,W),Kr(r,e[1]),I(N,i,W),I(N,a,W),_(a,s),_(a,o),I(N,l,W),X&&X.m(N,W),I(N,u,W),be(c,N,W),I(N,f,W),be(h,N,W),I(N,d,W),I(N,g,W),be(y,g,null),_(g,b),_(g,k),I(N,E,W),I(N,$,W),be(A,$,null),_($,z),_($,j),U=!0,S||(C=[yt(t,"change",e[7]),yt(r,"change",e[8]),yt(r,"input",e[8])],S=!0)},p(N,[W]){if(W&64){O=H0(Object.keys(N[6]));let le;for(le=0;le<O.length;le+=1){const ee=B8(N,O,le);P[le]?P[le].p(ee,W):(P[le]=F8(ee),P[le].c(),P[le].m(t,null))}for(;le<P.length;le+=1)P[le].d(1);P.length=O.length}W&65&&U6(t,N[0]),W&2&&Kr(r,N[1]),(!U||W&2)&&on(s,N[1]),N[2]?X?(X.p(W4(N),W),W&4&&fe(X,1)):(X=L8(W4(N)),X.c(),fe(X,1),X.m(u.parentNode,u)):X&&(G8(),de(X,1,1,()=>{X=null}),X8());const ae={};W&14&&(ae.data=[{label:"W bytes",size:Oc(N[2])/8},{label:"Q bytes",size:Oc(N[3],N[1])/8}]),c.$set(ae);const ie={};W&32&&(ie.data=[{label:"||W-Q||/||W||",error:N[5]}]),h.$set(ie),(!U||W&16)&&w!==(w=N[4].toFixed(3)+"")&&on(k,w),(!U||W&48)&&D!==(D=(N[5]*N[4]).toFixed(3)+"")&&on(j,D)},i(N){U||(fe(X),fe(c.$$.fragment,N),fe(h.$$.fragment,N),fe(y.$$.fragment,N),fe(A.$$.fragment,N),U=!0)},o(N){de(X),de(c.$$.fragment,N),de(h.$$.fragment,N),de(y.$$.fragment,N),de(A.$$.fragment,N),U=!1},d(N){N&&(M(t),M(n),M(r),M(i),M(a),M(l),M(u),M(f),M(d),M(g),M(E),M($)),Uf(P,N),X&&X.d(N),we(c,N),we(h,N),we(y),we(A),S=!1,su(C)}}}const Ll=20,Rl=20;function Of(e){let t=-1/0;for(let n=0;n<e.shape[1];n++)for(let r=0;r<e.shape[0];r++){const i=Math.abs(e.value2D(r,n));i>t&&(t=i)}return t}function cF(e,t){return Of(e.sub(t,!0))/Of(e)}function fF(e){const t=e.dtype==="f32"?32:8;return e.shape[0]*e.shape[1]*t}function Oc(e,t=-1){const n=fF(e);if(t===-1)return n;{const r=2**t;return n+r*8}}function hF(e,t,n){let r,i,a,s;const o={uniform:Ke.randu([Ll,Rl],-2,2),normal:Ke.randn([Ll,Rl],0,1),outlier:h(Ke.randn([Ll,Rl],0,1),25,1)};let l="normal",u=1;const c={};function f(b,w,k){const E=`${b}-${k}`;return E in c||(c[E]=ez(w,k)),c[E]}function h(b,w=10,k=1){for(let E=0;E<k;E++){const $=w7(b.shape[0]-1)(),A=w7(b.shape[1]-1)();b.data[b.index2D($,A)]=w}return b}function d(b){return Of(b)*Of(rF(b))}function g(){l=Tx(this),n(0,l),n(6,o)}function y(){u=Hf(this.value),n(1,u)}return e.$$.update=()=>{e.$$.dirty&1&&n(2,r=o[l]),e.$$.dirty&7&&n(3,i=f(l,r,u)),e.$$.dirty&12&&n(5,a=cF(r,i)),e.$$.dirty&4&&n(4,s=d(r))},[l,u,r,i,s,a,o,g,y]}class dF extends Gt{constructor(t){super(),Xt(this,t,hF,uF,Yt,{})}}function R8(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function P8(e,t,n){const r=e.slice();return r[20]=t[n],r[19]=n,r}function O8(e,t,n){const r=e.slice();r[20]=t[n],r[28]=n;const i=Mx/l0;r[22]=i;const a=r[6][r[28]*l0+r[19]];r[23]=a;const s=`rgb(${r[23].R}, ${r[23].G}, ${r[23].B})`;r[24]=s;const o=r[22]/2;r[25]=o;const l=4;return r[26]=l,r}function mF(e){let t,n,r,i,a,s,o,l,u,c,f,h,d,g,y=e[6]&&H8(e),b=e[5]&&W8(e);return{c(){t=F("canvas"),n=Z(),r=Lt("svg"),i=Lt("rect"),a=Z(),s=F("div"),o=F("div"),l=K("Magnified"),u=Z(),c=Lt("svg"),y&&y.c(),f=K(`

		indexes into →

		`),h=F("div"),b&&b.c(),this.h()},l(w){t=L(w,"CANVAS",{width:!0,height:!0,class:!0}),ne(t).forEach(M),n=Q(w),r=Rt(w,"svg",{width:!0,height:!0,style:!0});var k=ne(r);i=Rt(k,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),ne(i).forEach(M),k.forEach(M),a=Q(w),s=L(w,"DIV",{});var E=ne(s);o=L(E,"DIV",{style:!0});var $=ne(o);l=J($,"Magnified"),$.forEach(M),u=Q(E),c=Rt(E,"svg",{width:!0,height:!0,style:!0});var A=ne(c);y&&y.l(A),A.forEach(M),E.forEach(M),f=J(w,`

		indexes into →

		`),h=L(w,"DIV",{});var z=ne(h);b&&b.l(z),z.forEach(M),this.h()},h(){R(t,"width",e[0]),R(t,"height",e[1]),R(t,"class","svelte-1jbpmen"),R(i,"x",e[2]),R(i,"y",e[3]),R(i,"width",l0),R(i,"height",l0),R(i,"fill","none"),R(i,"stroke",Y4),R(i,"stroke-width",2),R(r,"width",e[0]),R(r,"height",e[1]),Re(r,"position","absolute"),Re(r,"left","0"),Re(r,"top","0"),Re(r,"cursor","none"),Re(o,"color",Y4),Re(o,"margin-bottom","5px"),R(c,"width",Mx),R(c,"height",yF),Re(c,"outline",Y4+" solid 2px")},m(w,k){I(w,t,k),e[9](t),I(w,n,k),I(w,r,k),_(r,i),I(w,a,k),I(w,s,k),_(s,o),_(o,l),_(s,u),_(s,c),y&&y.m(c,null),I(w,f,k),I(w,h,k),b&&b.m(h,null),d||(g=yt(r,"mousemove",e[10]),d=!0)},p(w,k){k&1&&R(t,"width",w[0]),k&2&&R(t,"height",w[1]),k&4&&R(i,"x",w[2]),k&8&&R(i,"y",w[3]),k&1&&R(r,"width",w[0]),k&2&&R(r,"height",w[1]),w[6]?y?y.p(w,k):(y=H8(w),y.c(),y.m(c,null)):y&&(y.d(1),y=null),w[5]?b?b.p(w,k):(b=W8(w),b.c(),b.m(h,null)):b&&(b.d(1),b=null)},d(w){w&&(M(t),M(n),M(r),M(a),M(s),M(f),M(h)),e[9](null),y&&y.d(),b&&b.d(),d=!1,g()}}}function pF(e){let t,n=`<img src="not-working.gif" alt="each pixel indexes into shared colors"/> <div>For an interactive visualization, try a Chrome based browser
				instead. Fell back on GIF either because imageSmoothingEnabled
				not working or Canvas Pixelated CSS property not working.</div>`;return{c(){t=F("div"),t.innerHTML=n,this.h()},l(r){t=L(r,"DIV",{style:!0,"data-svelte-h":!0}),pe(t)!=="svelte-11kfj12"&&(t.innerHTML=n),this.h()},h(){Re(t,"color","red")},m(r,i){I(r,t,i)},p:Xe,d(r){r&&M(t)}}}function H8(e){let t,n=H0({length:l0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=j8(P8(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=un()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=un()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,t,a)},p(i,a){if(a&64){n=H0({length:l0});let s;for(s=0;s<n.length;s+=1){const o=P8(i,n,s);r[s]?r[s].p(o,a):(r[s]=j8(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&M(t),Uf(r,i)}}}function V8(e){let t,n,r,i=e[23].index+"",a;return{c(){t=Lt("rect"),r=Lt("text"),a=K(i),this.h()},l(s){t=Rt(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-opacity":!0}),ne(t).forEach(M),r=Rt(s,"text",{x:!0,y:!0,fill:!0,style:!0,"text-anchor":!0});var o=ne(r);a=J(o,i),o.forEach(M),this.h()},h(){R(t,"x",e[19]*e[22]),R(t,"y",e[28]*e[22]),R(t,"width",e[22]),R(t,"height",e[22]),R(t,"fill",n=e[24]),R(t,"stroke","white"),R(t,"stroke-width",1),R(t,"stroke-opacity",.2),R(r,"x",e[19]*e[22]+e[25]),R(r,"y",e[28]*e[22]+e[25]+e[26]),R(r,"fill","white"),Re(r,"font-size","11px"),Re(r,"font-family","var(--svp-code-font)"),Re(r,"font-weight","700"),R(r,"text-anchor","middle")},m(s,o){I(s,t,o),I(s,r,o),_(r,a)},p(s,o){o&64&&n!==(n=s[24])&&R(t,"fill",n),o&64&&i!==(i=s[23].index+"")&&on(a,i)},d(s){s&&(M(t),M(r))}}}function U8(e){let t,n=e[23].index!==-1&&V8(e);return{c(){n&&n.c(),t=un()},l(r){n&&n.l(r),t=un()},m(r,i){n&&n.m(r,i),I(r,t,i)},p(r,i){r[23].index!==-1?n?n.p(r,i):(n=V8(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&M(t),n&&n.d(r)}}}function j8(e){let t,n=H0({length:l0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=U8(O8(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=un()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=un()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,t,a)},p(i,a){if(a&64){n=H0({length:l0});let s;for(s=0;s<n.length;s+=1){const o=O8(i,n,s);r[s]?r[s].p(o,a):(r[s]=U8(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&M(t),Uf(r,i)}}}function W8(e){let t,n="Shared Weights",r,i,a,s,o=H0(Object.keys(e[5])),l=[];for(let u=0;u<o.length;u+=1)l[u]=Y8(R8(e,o,u));return{c(){t=F("b"),t.textContent=n,r=Z(),i=F("br"),a=Z();for(let u=0;u<l.length;u+=1)l[u].c();s=un()},l(u){t=L(u,"B",{"data-svelte-h":!0}),pe(t)!=="svelte-sl4iro"&&(t.textContent=n),r=Q(u),i=L(u,"BR",{}),a=Q(u);for(let c=0;c<l.length;c+=1)l[c].l(u);s=un()},m(u,c){I(u,t,c),I(u,r,c),I(u,i,c),I(u,a,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(u,c);I(u,s,c)},p(u,c){if(c&32){o=H0(Object.keys(u[5]));let f;for(f=0;f<o.length;f+=1){const h=R8(u,o,f);l[f]?l[f].p(h,c):(l[f]=Y8(h),l[f].c(),l[f].m(s.parentNode,s))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(u){u&&(M(t),M(r),M(i),M(a),M(s)),Uf(l,u)}}}function gF(e){let t,n,r=e[5][e[17]]+"",i,a,s,o=e[17]+"",l,u;return{c(){t=F("div"),n=F("span"),i=K(r),a=Z(),s=F("div"),l=K(o),u=Z(),this.h()},l(c){t=L(c,"DIV",{style:!0});var f=ne(t);n=L(f,"SPAN",{style:!0});var h=ne(n);i=J(h,r),h.forEach(M),a=Q(f),s=L(f,"DIV",{style:!0});var d=ne(s);l=J(d,o),d.forEach(M),u=Q(f),f.forEach(M),this.h()},h(){Re(n,"font-family","var(--svp-code-font)"),Re(n,"font-weight","800"),Re(s,"background",e[17]),Re(s,"color","white"),Re(s,"display","inline"),Re(t,"width","160px")},m(c,f){I(c,t,f),_(t,n),_(n,i),_(t,a),_(t,s),_(s,l),_(t,u)},p(c,f){f&32&&r!==(r=c[5][c[17]]+"")&&on(i,r),f&32&&o!==(o=c[17]+"")&&on(l,o),f&32&&Re(s,"background",c[17])},d(c){c&&M(t)}}}function Y8(e){let t,n=e[19]<8&&gF(e);return{c(){n&&n.c(),t=un()},l(r){n&&n.l(r),t=un()},m(r,i){n&&n.m(r,i),I(r,t,i)},p(r,i){r[19]<8&&n.p(r,i)},d(r){r&&M(t),n&&n.d(r)}}}function vF(e){let t;function n(a,s){return a[7]?pF:mF}let r=n(e),i=r(e);return{c(){t=F("div"),i.c(),this.h()},l(a){t=L(a,"DIV",{style:!0});var s=ne(t);i.l(s),s.forEach(M),this.h()},h(){Re(t,"position","relative"),Re(t,"display","flex"),Re(t,"gap","10px"),Re(t,"align-items","center")},m(a,s){I(a,t,s),i.m(t,null)},p(a,[s]){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t,null)))},i:Xe,o:Xe,d(a){a&&M(t),i.d()}}}let l0=8,Mx=125,yF=125,Y4="salmon";function bF(e){e.imageSmoothingEnabled=!1}function wF(e,t,n){const r=.6840909090909091;let{width:i=250}=t,{height:a=r*i}=t,s,o,l=200,u=85;function c($,A){return new Promise((D,j)=>{const U=new Image;U.src=A,U.onload=function(){$.drawImage(U,0,0,i,a),D()}})}let f=!1;e3(async()=>{o=s.getContext("2d",{willReadFrequently:!0}),bF(o),await c(o,"8.png"),d(o.getImageData(0,0,i,a).data),n(8,f=!0)});let h;function d($){n(5,h={});let A=0,z=[];for(let D=0;D<$.length;D+=4){const j=$[D],U=$[D+1],S=$[D+2],C=`rgb(${j},${U},${S})`;C in h||(n(5,h[C]=A,h),A++)}return z}let g;function y($){let A=[];for(let z=0;z<$.length;z+=4){const D=$[z],j=$[z+1],U=$[z+2],S=`rgb(${D},${j},${U})`,C=h[S]??-1;C>8&&n(7,w=!0),A.push({R:D,G:j,B:U,index:C})}return A}function b($,A,z=3){const D=o.getImageData($,A,z,z).data;n(6,g=y(D))}let w=!1;function k($){Yn[$?"unshift":"push"](()=>{s=$,n(4,s)})}const E=$=>{n(2,l=$.offsetX),n(3,u=$.offsetY)};return e.$$set=$=>{"width"in $&&n(0,i=$.width),"height"in $&&n(1,a=$.height)},e.$$.update=()=>{e.$$.dirty&268&&f&&l!==void 0&&u!==void 0&&b(l,u,l0)},[i,a,l,u,s,h,g,w,f,k,E]}class xF extends Gt{constructor(t){super(),Xt(this,t,wF,vF,Yt,{width:0,height:1})}}class Ls{constructor(t,n){this.weight=Ke.$(t*n,[n,t]),this.bias=Ke.$(n,[n,1])}forward(t){return t.matmul(this.weight.T).add(this.bias.T)}}class Hc{forward(t){return t.relu()}}class MF{forward(t){return t.sigmoid()}}class SF{constructor(...t){this.layers=t}forward(t){for(const n of this.layers)t=n.forward(t);return t}splitStateKey(t){const n=t.split(".");let r,i,a;return n.length===3?(r=+n[1],i=n[2]):n.length===4&&(r=+n[1],i=n[2],a=n[3],a==="weights"&&(a=void 0)),[r,i,a]}load(t,n,r=256){const[i,a,s]=this.splitStateKey(t),o=this.layers[+i];if(s){if(a==="weight"){if(s==="codebook")o.weight.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.weight.codebook;o.weight=Ke.$(n,[o.weight.shape[0],o.weight.shape[1]],"u8"),o.weight.codebook=l}}else if(a==="bias"){if(s==="codebook")o.bias.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.bias.codebook;o.bias=Ke.$(n,[o.bias.shape[0],o.bias.shape[1]],"u8"),o.bias.codebook=l}}}else a==="weight"?o.weight.data=new Float32Array(n):a==="bias"&&(o.bias.data=new Float32Array(n))}loadStateDict(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,a]=n[r];this.load(i,a.data)}return this}get bytes(){let t=0;for(const n of this.layers)n instanceof Ls&&(t+=n.weight.bytes+n.bias.bytes);return t}MB(){return this.bytes/1024**2}}function kF(e){let t,n,r,i,a,s;return{c(){t=Lt("svg"),n=Lt("path"),r=Lt("defs"),i=Lt("linearGradient"),a=Lt("stop"),s=Lt("stop"),this.h()},l(o){t=Rt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=ne(t);n=Rt(l,"path",{d:!0,stroke:!0,"stroke-width":!0}),ne(n).forEach(M),r=Rt(l,"defs",{});var u=ne(r);i=Rt(u,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var c=ne(i);a=Rt(c,"stop",{"stop-color":!0}),ne(a).forEach(M),s=Rt(c,"stop",{offset:!0,"stop-color":!0}),ne(s).forEach(M),c.forEach(M),u.forEach(M),l.forEach(M),this.h()},h(){R(n,"d","M511 323.648V10.3519C511 7.18199 507.489 5.27159 504.827 6.99341L10.1727 327.007C7.51126 328.728 4 326.818 4 323.648V10.3519C4 7.18199 7.51127 5.27159 10.1727 6.99341L504.827 327.007C507.489 328.728 511 326.818 511 323.648Z"),R(n,"stroke","url(#paint0_linear_19_2)"),R(n,"stroke-width","7"),R(a,"stop-color","#4682B4"),R(s,"offset","1"),R(s,"stop-color","#FA8171"),R(i,"id","paint0_linear_19_2"),R(i,"x1","4"),R(i,"y1","131.5"),R(i,"x2","511"),R(i,"y2","134.5"),R(i,"gradientUnits","userSpaceOnUse"),R(t,"width",e[0]),R(t,"height",e[1]),R(t,"viewBox","0 0 515 336"),R(t,"fill","none"),R(t,"xmlns","http://www.w3.org/2000/svg")},m(o,l){I(o,t,l),_(t,n),_(t,r),_(r,i),_(i,a),_(i,s)},p(o,[l]){l&1&&R(t,"width",o[0]),l&2&&R(t,"height",o[1])},i:Xe,o:Xe,d(o){o&&M(t)}}}function $F(e,t,n){let{width:r=250}=t,{height:i=170}=t;return e.$$set=a=>{"width"in a&&n(0,r=a.width),"height"in a&&n(1,i=a.height)},[r,i]}class TF extends Gt{constructor(t){super(),Xt(this,t,$F,kF,Yt,{width:0,height:1})}}function CF(e){let t,n,r,i,a,s,o,l,u,c,f="Input | You drag to draw!",h,d,g,y,b,w="Clear Canvas",k,E,$,A="Autoencoder",z,D,j,U,S,C="Output",O,P,X,N,W,ae,ie,le,ee=(e[6]/1048576).toFixed(3)+"",se,oe,re,Se,Ce,De=(e[7]/1024**2).toFixed(3)+"",ce,me,te,xe,Te;return D=new TF({props:{color:"steelblue"}}),{c(){t=F("div"),n=F("input"),r=Z(),i=F("span"),a=K(e[1]),s=K(" bits"),o=Z(),l=F("div"),u=F("div"),c=F("div"),c.textContent=f,h=Z(),d=F("div"),g=F("canvas"),y=Z(),b=F("button"),b.textContent=w,k=Z(),E=F("div"),$=F("div"),$.textContent=A,z=Z(),ve(D.$$.fragment),j=Z(),U=F("div"),S=F("div"),S.textContent=C,O=Z(),P=F("div"),X=F("canvas"),N=Z(),W=F("br"),ae=Z(),ie=F("div"),le=K("Original: "),se=K(ee),oe=K(" mega bytes"),re=Z(),Se=F("div"),Ce=K("Quantized: "),ce=K(De),me=K(" mega bytes"),this.h()},l(Y){t=L(Y,"DIV",{class:!0});var ke=ne(t);n=L(ke,"INPUT",{type:!0,min:!0,max:!0}),r=Q(ke),i=L(ke,"SPAN",{class:!0});var Ee=ne(i);a=J(Ee,e[1]),s=J(Ee," bits"),Ee.forEach(M),ke.forEach(M),o=Q(Y),l=L(Y,"DIV",{class:!0});var Be=ne(l);u=L(Be,"DIV",{});var Fe=ne(u);c=L(Fe,"DIV",{class:!0,"data-svelte-h":!0}),pe(c)!=="svelte-14bwmx0"&&(c.textContent=f),h=Q(Fe),d=L(Fe,"DIV",{});var Ge=ne(d);g=L(Ge,"CANVAS",{class:!0,width:!0,height:!0}),ne(g).forEach(M),Ge.forEach(M),y=Q(Fe),b=L(Fe,"BUTTON",{"data-svelte-h":!0}),pe(b)!=="svelte-1ts6e04"&&(b.textContent=w),Fe.forEach(M),k=Q(Be),E=L(Be,"DIV",{});var mt=ne(E);$=L(mt,"DIV",{class:!0,"data-svelte-h":!0}),pe($)!=="svelte-1dyqkas"&&($.textContent=A),z=Q(mt),ye(D.$$.fragment,mt),mt.forEach(M),j=Q(Be),U=L(Be,"DIV",{});var wt=ne(U);S=L(wt,"DIV",{class:!0,"data-svelte-h":!0}),pe(S)!=="svelte-w6dby0"&&(S.textContent=C),O=Q(wt),P=L(wt,"DIV",{});var Vt=ne(P);X=L(Vt,"CANVAS",{width:!0,height:!0,class:!0}),ne(X).forEach(M),Vt.forEach(M),wt.forEach(M),Be.forEach(M),N=Q(Y),W=L(Y,"BR",{}),ae=Q(Y),ie=L(Y,"DIV",{class:!0});var Kt=ne(ie);le=J(Kt,"Original: "),se=J(Kt,ee),oe=J(Kt," mega bytes"),Kt.forEach(M),re=Q(Y),Se=L(Y,"DIV",{class:!0});var Dt=ne(Se);Ce=J(Dt,"Quantized: "),ce=J(Dt,De),me=J(Dt," mega bytes"),Dt.forEach(M),this.h()},h(){R(n,"type","range"),R(n,"min","0"),R(n,"max",e[13].length-1),R(i,"class","label svelte-axyz63"),R(t,"class","container svelte-axyz63"),R(c,"class","label svelte-axyz63"),R(g,"class","input-canvas svelte-axyz63"),R(g,"width",e[10]),R(g,"height",e[11]),R($,"class","label svelte-axyz63"),R(S,"class","label svelte-axyz63"),R(X,"width",e[10]),R(X,"height",e[11]),R(X,"class","output-canvas svelte-axyz63"),R(l,"class","container svelte-axyz63"),R(ie,"class","label svelte-axyz63"),R(Se,"class","label svelte-axyz63")},m(Y,ke){I(Y,t,ke),_(t,n),Kr(n,e[0]),_(t,r),_(t,i),_(i,a),_(i,s),I(Y,o,ke),I(Y,l,ke),_(l,u),_(u,c),_(u,h),_(u,d),_(d,g),e[17](g),_(u,y),_(u,b),_(l,k),_(l,E),_(E,$),_(E,z),be(D,E,null),_(l,j),_(l,U),_(U,S),_(U,O),_(U,P),_(P,X),e[22](X),I(Y,N,ke),I(Y,W,ke),I(Y,ae,ke),I(Y,ie,ke),_(ie,le),_(ie,se),_(ie,oe),I(Y,re,ke),I(Y,Se,ke),_(Se,Ce),_(Se,ce),_(Se,me),te=!0,xe||(Te=[yt(n,"change",e[16]),yt(n,"input",e[16]),yt(g,"mousedown",e[18]),yt(g,"mouseup",e[19]),yt(g,"mousemove",e[20]),yt(b,"click",e[21])],xe=!0)},p(Y,[ke]){ke&1&&Kr(n,Y[0]),(!te||ke&2)&&on(a,Y[1]),(!te||ke&64)&&ee!==(ee=(Y[6]/1024**2).toFixed(3)+"")&&on(se,ee),(!te||ke&128)&&De!==(De=(Y[7]/1024**2).toFixed(3)+"")&&on(ce,De)},i(Y){te||(fe(D.$$.fragment,Y),te=!0)},o(Y){de(D.$$.fragment,Y),te=!1},d(Y){Y&&(M(t),M(o),M(l),M(N),M(W),M(ae),M(ie),M(re),M(Se)),e[17](null),we(D),e[22](null),xe=!1,su(Te)}}}let Ft=28;async function AF(e){return(await fetch(e)).json()}function EF(e,t,n){let r;function i(){return new SF(new Ls(Ft*Ft,1e3),new Hc,new Ls(1e3,256),new Hc,new Ls(256,256),new Hc,new Ls(256,1e3),new Hc,new Ls(1e3,Ft*Ft),new MF)}function a(ie,le=0){let ee=0,se=0;for(let oe=0;oe<ie.layers.length;oe++){const re=ie.layers[oe];if(re instanceof Ls){const Se=re.weight,Ce=2**le*32,De=Se.shape[0]*Se.shape[1]*8;ee+=Ce+De,se+=Se.shape[0]*Se.shape[1]*32}}return[se,ee]}async function s(ie){const le=z.map(se=>AF(`ae/q${se}.json`));return(await Promise.all(le)).map(se=>ie().loadStateDict(se))}let o,l,u=!1;e3(async()=>{o=await s(i),n(14,l=o.at(-1)),n(3,y=g.getContext("2d",{willReadFrequently:!0})),n(3,y.fillStyle="black",y),y.fillRect(0,0,k,E),w=b.getContext("2d"),w.fillStyle="black",w.fillRect(0,0,k,E),n(15,u=!0)});function c(ie,le,ee){ie.fillStyle="white",ie.fillRect(le,ee,$,$)}function f(ie,le,ee,se){const oe=Ke.$(Ft*Ft,[1,Ft*Ft],"f32");for(let re=0;re<Ft;re++)for(let Se=0;Se<Ft;Se++){const Ce=ie.getImageData(re*se,Se*se,se,se).data[0]/255;oe.data[Se*Ft+re]=Ce}return oe}function h(ie,le){ie.fillStyle="black",ie.fillRect(0,0,k,E);for(let ee=0;ee<Ft;ee++)for(let se=0;se<Ft;se++){const oe=le.data[se*Ft+ee],re=r0("hsl(0, 0%, "+oe*100+"%)");ie.fillStyle=re.toString(),ie.fillRect(ee*$,se*$,$,$)}}function d(){const ie=f(y,k,E,$),le=l.forward(ie);h(w,le)}let g,y,b,w,k=Ft*6,E=k,$=k/Ft,A=!1;const z=[1,2,3,4,5,6,7,8];let D=z.length-1;function j(ie){n(14,l=o[+ie]),d()}let U,S;function C(){D=Hf(this.value),n(0,D)}function O(ie){Yn[ie?"unshift":"push"](()=>{g=ie,n(2,g)})}const P=()=>{n(5,A=!0)},X=()=>{n(5,A=!1),d()},N=ie=>{if(A){let le=ie.offsetX,ee=ie.offsetY;le-=le%$,ee-=ee%$,c(y,le,ee)}},W=()=>{n(3,y.fillStyle="black",y),y.fillRect(0,0,k,E),d()};function ae(ie){Yn[ie?"unshift":"push"](()=>{b=ie,n(4,b)})}return e.$$.update=()=>{e.$$.dirty&1&&n(1,r=z[D]),e.$$.dirty&32769&&u&&j(D),e.$$.dirty&49154&&u&&n(6,[U,S]=a(l,+r),U,(n(7,S),n(15,u),n(14,l),n(1,r),n(0,D)))},[D,r,g,y,b,A,U,S,c,d,k,E,$,z,l,u,C,O,P,X,N,W,ae]}class DF extends Gt{constructor(t){super(),Xt(this,t,EF,CF,Yt,{})}}function _F(e){let t,n="<strong>Abstract:</strong> Often, the best models are the biggest. Too big for you or me to run. Luckily, with model compression we can drastically reduce the size of these models. This article runs through a simple way to compress neural network weights with k-means quantization. Through interactive visuals, I&#39;ll explore a simple approach as well as it&#39;s shortcomings (error).",r,i,a,s,o='<a href="#Introduction" class="svp-title-anchor" aria-label="Introduction"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Introduction',l,u,c="Modern deep learning is quite extraordinary. I don't need to convince you. You've likely seen the latest generative art models.",f,h,d,g,y,b,w,k,E,$,A,z,D,j,U,S="Size enables amazing capabilities, but also limits who can run the models. Most people don't have fast GPUs with lots of memory. To fit these models on our hardware, we must to reduce the size.",C,O,P,X,N='<a href="#Sharing-as-Compression" class="svp-title-anchor" aria-label="Sharing as Compression"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing as Compression',W,ae,ie,le,ee,se,oe,re="Suppose you owned 20 dogs. An army of golden retrievers. And also suppose you are on the market for dog toys.",Se,Ce,De="Should you buy 20 toys for all 20 dogs? That would be quite expensive! If each toy was $20, then you'd pay $400. (as you can tell I love the number 20)",ce,me,te="But you are a clever one you. You could reason that buying 5 toys would be totally fine. The dogs can share. Now your bill would only be $100 for the 5 toys.",xe,Te,Y="Not only that, but sharing might increase the amount of fun the dogs have! But sharing might also favor the more dominant and strong dogs. There is a tradeoff, but we're on a budget, so it's fine.",ke,Ee,Be="Morale of the short story: sharing under constraints is reasonable. More than that. It's a good idea. Don't pay for more than you need to if you're on a budget. But also don't delude yourself in thinking there aren't downsides because there are.",Fe,Ge,mt="In some sense we are compressing our budget through sharing.",wt,Vt,Kt,Dt,ao='<a href="#Sharing-Pixels" class="svp-title-anchor" aria-label="Sharing Pixels"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing Pixels',ti,Cr,Su="Images and neural network weights are held in similar data structures so let's first look at the more intuitive image use-case. It will be the same.",so,Jt,ll="For image compression, the goal is to reduce the memory footprint while maintaining what the original image looked like. In other words, the budget is the size.",tr,Ar,ku="As you know, images are made up of tons of small colored squares: pixels. I'll start with a 880 pixels wide by 602 pixels tall image of this cutest golden retriever you've ever seen.",oo,zt,nr,lo,en,Fh,ni,Lh,ri,T5="red",Rh,ii,C5="green",Ph,ai,A5="blue",Oh,$u,si,E5="Instead of each pixel having it's own unique color, why not pick the most important colors and force the pixels to share? Exactly like the previous example with buying toys. Instead of storing three numbers per every pixel, I can now just store a few colors that each pixel can index into.",Tu,oi,D5="First, I'll take an average over all the pixels to get the one most important color. Making all the pixels share that one pixel I get:",Cu,li,Au,ui,_5="It is significantly smaller in terms of memory, but looks nothing like the dog.",Eu,ci,z5="Now, let's share two colors instead of just one.",Du,fi,_u,hi,I5="Starting to look like a dog!",zu,di,N5="So what happens when we increase beyond two colors? Let's try!",Iu,m0,q5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider to increase the number of colors to share.</p></div>',Nu,mi,qu,pi,B5="After sharing just 256 colors, the images look remarkably similar. And we're only storing just 256 colors instead of nearly 5 million!",Bu,p0,gi,F5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',Er,uo,L5="I've left out some information on how to compute these multiple averages.",co,R5="<strong>For the purposes of this article, you can ignore how I compute the averages.</strong>",vi,Hh,yi,Vh,bi,Uh,wi,jh,Fu,xi,P5="Instead of storing three numbers per pixel, I store one that indexes into the shared important color pixels.",Lu,Mi,Ru,Mn,Wh,Si,O5="window",Yh,ki,Gh,$i,H5="window",Xh,Pu,Ti,Ou,Ci,V5='<a href="#Quantifying-Error" class="svp-title-anchor" aria-label="Quantifying Error"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Quantifying Error',Hu,Ai,U5="You get the point. We can indeed reduce our budget without losing the main use-case.",Vu,Ei,j5="You can apply this exact method to the weight matrix in a linear layer of a neural network! But in some ways, the problem is harder.",Uu,Di,W5="First, how do we know when we've compressed the weights adequately? With the image example, we could just view all the different quantizations and see which was closest. How would you do this for arbitrary numbers learned in a neural network? You can't just look at them and see if they look good.",ju,_i,Y5="Instead, we need a metric that tells us how good the compression is compared to the original.",Wu,zi,G5="Let's go back to the image case because it's more intuitive. I will assume that the image compression when the colors are far away from the true colors. In other words, the difference between the original pixels and the compressed pixels is how bad our error is.",Yu,g0,X5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider increase the number of colors quantized. Observe the pixels that are deep red for high error.</p></div>',Gu,Ii,Xu,Ni,Z5="As you can see, when the images look very similar, the red error is almost nonexistent. I can further summarize the error with an average into one number.",Zu,qi,Q5="This example shows it's entirely possible to attach a number to how good the compression is.",Qu,v0,Bi,K5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',y0,_t,Zh,Fi,Qh,Li,Kh,Ri,Jh,Pi,e2,Oi,t2,Hi,n2,hn,r2,Vi,i2,Ui,a2,ji,s2,Wi,o2,dn,l2,Yi,u2,Gi,c2,fo,J5="Average Error",f2,Xi,h2,Ku,Zi,Ju,Qi,e6='<a href="#Matrix-Multiplication" class="svp-title-anchor" aria-label="Matrix Multiplication"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Matrix Multiplication',e1,Ki,t6="Then, how do we attach a number to the compression error for neural networks? Again, we aren't viewing them as images. So what makes their compression good or not?",t1,tn,d2,Ji,m2,ea,p2,ta,g2,na,v2,n1,ra,n6="Just like image example, we must create a metric based on the use-case. Since almost all the operations on the weights are matrix multiplies, it might be a good idea to take this operation into account as the use-case. In other words, how does the approximate compressed weights differ after a matrix multiplication of the same input compared to the original/exact weights? It might be the case the the multiplies and adds amplify or even hide element-wise error!",r1,b0,r6='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 11 11"><path d="M6.62 8.5l3.11 1.55l-.45.89L5.5 9.06l-3.78 1.89l-.45-.89L4.38 8.5l-3.1-1.55l.45-.89L5.5 7.94l3.78-1.89l.44.9l-3.1 1.55zM8.5 3.21v.29l-1 1v1l-2 1l-2-1v-1l-1-1V3a2.9 2.9 0 0 1 3-3a3.09 3.09 0 0 1 3 3.21zm-3.79-.5a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79zM5 4.5h-.5v1H5v-1zm1.5 0H6v1h.5v-1zm1.36-1.79a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79z" fill="currentColor"></path></svg></span>MATH WARNING</div><div class="admonition-content"><p>Things are about to get mathematically dense for a small while.</p></div>',i1,pt,y2,ia,b2,aa,w2,sa,x2,oa,M2,la,S2,ua,k2,ca,$2,a1,nt,T2,fa,C2,ha,A2,da,E2,ma,D2,pa,_2,ga,z2,va,I2,ya,N2,ba,q2,wa,B2,s1,w0,xa,i6='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',ho,Ma,F2,Sa,L2,o1,Sn,R2,ka,P2,$a,O2,Ta,H2,l1,mo,Ca,u1,Aa,a6="simply by how I defined things. Nothing new yet.",c1,It,V2,Ea,U2,Da,j2,_a,W2,za,Y2,Ia,G2,f1,x0,Na,s6='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',M0,Dr,X2,qa,Z2,Ba,Q2,po,o6="I use the matrix operator norm because the vector norm of a matrix doesn't capture the important information. The matrix operator norm tells me how the matrix transforms vectors under matrix multiplication which is exactly what I need.",Fa,K2,La,J2,h1,kn,ed,Ra,td,Pa,nd,Oa,rd,d1,Ha,l6="Let's see what error looks like on some different weight matrices!",m1,S0,Va,u6='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN',_r,go,c6="Select a distribution for the weights and how much you'd like to quantize the weights by dragging the slider.",Ua,id,ja,ad,vo,f6="Then, observe the error terms and when the weights look similar.",yo,h6="You might also consider hovering over the weights to see the exact values.",p1,Wa,g1,Ya,d6="Unsurprisingly, the error drops drastically when we have enough weights to share. Additionally, the error gets close to zero and the quantization makes the weights 4 times smaller! That is a total win!",v1,Ga,m6="My second observation is that not all weight distributions have the same condition number. Additionally, it seems to be that k-means quantization does quite well, if not better, when the condition number is higher. How could this be? Surely this is wrong.",y1,Xa,p6="Yes I'm partially wrong. The condition number, which scales the error term, becomes very high with spiked values (outliers). This makes sense given small errors to these values would change the matrix multiply drastically. But at the very same time, k-means is known to be sensitive to outliers (to a fault). So k-means gives an entire shared weight to the outlier. Most of the time this is terrible for compression, but since k-means quantization is non-linear, it's a total win for this small example.",b1,Za,g6="This is a bit of a tangent, but k-means has a clear advantage over linear quantization schemes in terms of minimizing error depending on how large your weight matrix is.",w1,k0,v6='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE</div><div class="admonition-content"><p>Depending on the underlying distribution, it may be that k-means does not encode an entire value to the outlier point. So more analysis is needed here to minimize error or predict performance.</p></div>',x1,Qa,M1,Ka,y6='<a href="#More-layers" class="svp-title-anchor" aria-label="More layers"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>More layers',S1,Ja,b6="Okay, but what about more than just one weight matrix.",k1,es,w6="Instead of just one layer of weights, now I'll scale up to multiple layers with a real usable model.",$1,ts,x6='I&#39;ll use a simple autoencoder architecture takes takes images of handwritten digits<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup> (0 through 9) and attempts to reconstruct the image after a bottleneck.',T1,$0,sd,ns,od,C1,rs,$n,zr,M6=`<code><span class="line"><span style="color: #1E754F">import</span><span style="color: #393A34"> torch</span></span>
<span class="line"><span style="color: #393A34">model </span><span style="color: #AB5959">=</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sequential</span><span style="color: #999999">(</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sigmoid</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #999999">)</span></span></code>`,ld,Ir,S6=`<code><span class="line"><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> torch</span></span>
<span class="line"><span style="color: #D6DEEB">model </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> torch.nn.</span><span style="color: #B2CCD6">Sequential</span><span style="color: #D6DEEB">(</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Sigmoid</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #D6DEEB">)</span></span></code>`,ud,is,k6="python",cd,as,A1,rr,fd,ss,hd,os,dd,E1,T0,md,ls,pd,D1,C0,$6='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Draw on the left side blackboard a number and see how the model reconstructs your digit. Drag the slider to change the level of quantization.</p></div>',_1,us,z1,cs,T6="As you can see, with a small number of bits, the output reconstruction is terrible. But as you pass some threshold it becomes quite good and doesn't improve by too much. Very importantly, the quantized models are four times smaller than the original.",I1,A0,gd,fs,vd,N1,hs,Nt,ds,yd,ms,bd,Nr,C6=`<code><span class="line"><span style="color: #1E754F">import</span><span style="color: #393A34"> torch</span></span>
<span class="line"><span style="color: #AB5959">def</span><span style="color: #393A34"> </span><span style="color: #59873A">matrix_operator_norm1</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">):</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B56959AA">&quot;&quot;&quot;</span><span style="color: #B56959">||A||</span><span style="color: #B56959AA">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">linalg</span><span style="color: #999999">.</span><span style="color: #393A34">matrix_norm</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #AB5959">def</span><span style="color: #393A34"> </span><span style="color: #59873A">cond1</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">):</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B56959AA">&quot;&quot;&quot;</span><span style="color: #B56959">||A||||A^{-1}||</span><span style="color: #B56959AA">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #393A34">    A_inverse </span><span style="color: #AB5959">=</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">linalg</span><span style="color: #999999">.</span><span style="color: #393A34">pinv</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> matrix_operator_norm1</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">)</span><span style="color: #AB5959">*</span><span style="color: #393A34">matrix_operator_norm1</span><span style="color: #999999">(</span><span style="color: #393A34">A_inverse</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #999999">@</span><span style="color: #59873A">torch</span><span style="color: #999999">.</span><span style="color: #59873A">no_grad</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #AB5959">def</span><span style="color: #393A34"> </span><span style="color: #59873A">combined_cond</span><span style="color: #999999">(</span><span style="color: #393A34">model</span><span style="color: #999999">):</span><span style="color: #393A34"> </span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B56959AA">&quot;&quot;&quot;</span><span style="color: #B56959">max i ( ||W_i|||||W_i^{-1}|| )</span><span style="color: #B56959AA">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #393A34">    weights </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[</span><span style="color: #393A34">param </span><span style="color: #1E754F">for</span><span style="color: #393A34"> name</span><span style="color: #999999">,</span><span style="color: #393A34"> param </span><span style="color: #1E754F">in</span><span style="color: #393A34"> model</span><span style="color: #999999">.</span><span style="color: #393A34">named_parameters</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">weight</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #AB5959">in</span><span style="color: #393A34"> name</span><span style="color: #999999">]</span></span>
<span class="line"><span style="color: #393A34">    cond_nums </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[</span><span style="color: #393A34">cond1</span><span style="color: #999999">(</span><span style="color: #393A34">param</span><span style="color: #999999">).</span><span style="color: #393A34">item</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #1E754F">for</span><span style="color: #393A34"> param </span><span style="color: #1E754F">in</span><span style="color: #393A34"> weights</span><span style="color: #999999">]</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #998418">max</span><span style="color: #999999">(</span><span style="color: #393A34">cond_nums</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #998418">print</span><span style="color: #999999">(</span><span style="color: #393A34">combined_cond</span><span style="color: #999999">(</span><span style="color: #393A34">model</span><span style="color: #999999">))</span><span style="color: #393A34"> </span><span style="color: #A0ADA0"># 54168.84375</span></span></code>`,wd,qr,A6=`<code><span class="line"><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> torch</span></span>
<span class="line"><span style="color: #C792EA">def</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF; font-style: italic">matrix_operator_norm1</span><span style="color: #D9F5DD">(</span><span style="color: #7FDBCA">A</span><span style="color: #D9F5DD">)</span><span style="color: #D6DEEB">:</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #D9F5DD">&quot;&quot;&quot;</span><span style="color: #ECC48D">||A||</span><span style="color: #D9F5DD">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #C792EA; font-style: italic">return</span><span style="color: #D6DEEB"> torch.linalg.</span><span style="color: #B2CCD6">matrix_norm</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA">def</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF; font-style: italic">cond1</span><span style="color: #D9F5DD">(</span><span style="color: #7FDBCA">A</span><span style="color: #D9F5DD">)</span><span style="color: #D6DEEB">:</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #D9F5DD">&quot;&quot;&quot;</span><span style="color: #ECC48D">||A||||A^{-1}||</span><span style="color: #D9F5DD">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #D6DEEB">    A_inverse </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> torch.linalg.</span><span style="color: #B2CCD6">pinv</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #C792EA; font-style: italic">return</span><span style="color: #D6DEEB"> </span><span style="color: #B2CCD6">matrix_operator_norm1</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">*</span><span style="color: #B2CCD6">matrix_operator_norm1</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A_inverse</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C5E478">@</span><span style="color: #C5E478; font-style: italic">torch</span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">no_grad</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #C792EA">def</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF; font-style: italic">combined_cond</span><span style="color: #D9F5DD">(</span><span style="color: #7FDBCA">model</span><span style="color: #D9F5DD">)</span><span style="color: #D6DEEB">: </span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #D9F5DD">&quot;&quot;&quot;</span><span style="color: #ECC48D">max i ( ||W_i|||||W_i^{-1}|| )</span><span style="color: #D9F5DD">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #D6DEEB">    weights </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">[</span><span style="color: #D6DEEB">param </span><span style="color: #C792EA; font-style: italic">for</span><span style="color: #D6DEEB"> name, param </span><span style="color: #C792EA; font-style: italic">in</span><span style="color: #D6DEEB"> model.</span><span style="color: #B2CCD6">named_parameters</span><span style="color: #D6DEEB">() </span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">weight</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">in</span><span style="color: #D6DEEB"> name</span><span style="color: #D9F5DD">]</span></span>
<span class="line"><span style="color: #D6DEEB">    cond_nums </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">[</span><span style="color: #B2CCD6">cond1</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">param</span><span style="color: #D6DEEB">).</span><span style="color: #B2CCD6">item</span><span style="color: #D6DEEB">() </span><span style="color: #C792EA; font-style: italic">for</span><span style="color: #D6DEEB"> param </span><span style="color: #C792EA; font-style: italic">in</span><span style="color: #D6DEEB"> weights</span><span style="color: #D9F5DD">]</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #C792EA; font-style: italic">return</span><span style="color: #D6DEEB"> </span><span style="color: #C5E478">max</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">cond_nums</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C5E478">print</span><span style="color: #D6DEEB">(</span><span style="color: #B2CCD6">combined_cond</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">model</span><span style="color: #D6DEEB">)) </span><span style="color: #637777">#</span><span style="color: #637777; font-style: italic"> 54168.84375</span></span></code>`,xd,ps,E6="python",Md,gs,q1,E0,D6='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE</div><div class="admonition-content"><p>It may make more sense to take the product or sum of the condition numbers, but I don&#39;t exactly know how non-linearities in between would hide or amplify error so I chose not to complicate things.</p></div>',B1,vs,_6="Despite this neural network having a high maximum condition number of 54,168, the outputs look quite good after k-means quantization: the reconstruction is accurate.",F1,D0,Sd,ys,kd,L1,bs,R1,ws,z6='<a href="#Conclusion" class="svp-title-anchor" aria-label="Conclusion"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Conclusion',P1,xs,I6="Perhaps not a satisfying ending, but here we are. Overall, yes it's possible to quantize the vast majority of weights in your neural network with little error. But make sure you're using the right error metrics!",O1,Ms,N6="Also make sure to take into account how the weights are used so you know exactly how much you can compress. It may be that taking into account non-linearities and other architectures could further develop the operator norm and relative error into something very useful for neural networks.",H1,Ss,V1,ks,q6='<a href="#Acknowledgments" class="svp-title-anchor" aria-label="Acknowledgments"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Acknowledgments',U1,qt,Br,$d,$s,Td,Ts,Cd,Ad,bo,Ed,Cs,Dd,As,_d,Es,zd,Id,wo,Ds,Nd,qd,xo,_s,Bd,Fd,Mo,zs,Ld,j1,ir,_0,B6="Footnotes",Rd,ul,So,z0,Pd,Is,Od,ar,F6="↩",W1;return w=new gt({props:{to:"https://lexica.art/?q=cyberpunk+city",label:"Lexica"}}),z=new gt({props:{to:"https://stability.ai/stablediffusion",label:"Stable Diffusion XL"}}),le=new gt({props:{to:"https://arxiv.org/abs/1510.00149",label:"Deep Compression"}}),ni=new _e({props:{text:"880 \\cdot 602"}}),li=new Qd({props:{selected:0}}),fi=new Qd({props:{selected:1}}),mi=new Qd({props:{selected:1,showSlider:!0}}),yi=new gt({props:{to:"https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html",label:"k-means algorithm"}}),wi=new gt({props:{to:IF+"/blob/main/notebooks/image.ipynb",label:"image.ipynb"}}),Mi=new xF({}),ki=new _e({props:{text:"2^3"}}),Ii=new Vx({}),Fi=new _e({props:{text:"i"}}),Li=new _e({props:{text:"Q"}}),Ri=new _e({props:{text:"W"}}),Pi=new _e({props:{text:"(0,0,0)"}}),Oi=new _e({props:{text:"(255,255,255)"}}),Hi=new _e({props:{text:"|255-0| + |255-0| + |255-0| = 765"}}),Vi=new _e({props:{text:"E"}}),Ui=new _e({props:{text:"E_[i] = \\sum_[c=1]^[3] |W_[i, c] - Q_[i,c]| \\tag1",big:!0}}),ji=new _e({props:{text:"i"}}),Wi=new _e({props:{text:"c"}}),Yi=new _e({props:{text:"E"}}),Gi=new _e({props:{text:"(1)"}}),Xi=new _e({props:{text:"\\frac[1][N]\\sum_[i=1]^[N] E_i"}}),Ji=new _e({props:{text:"\\text[ReLU]\\left(\\text[ReLU]\\left(xW_1^T + b_1\\right)W_2^T + b_2\\right)W_3^T + b_3.\\tag[2]",big:!0}}),ea=new _e({props:{text:"W_i"}}),ta=new _e({props:{text:"b_i"}}),na=new _e({props:{text:"i"}}),ia=new _e({props:{text:"Wx = y"}}),aa=new _e({props:{text:"W"}}),sa=new _e({props:{text:"x"}}),oa=new _e({props:{text:"y"}}),la=new _e({props:{text:"W"}}),ua=new _e({props:{text:"x"}}),ca=new _e({props:{text:"y"}}),fa=new _e({props:{text:"W"}}),ha=new _e({props:{text:"Q"}}),da=new _e({props:{text:"Q"}}),ma=new _e({props:{text:"x"}}),pa=new _e({props:{text:"\\hat[y]"}}),ga=new _e({props:{text:"Q"}}),va=new _e({props:{text:"W"}}),ya=new _e({props:{text:"y"}}),ba=new _e({props:{text:"\\hat[y]"}}),wa=new _e({props:{text:"\\text[error] &:= \\frac[||y - \\hat[y]||][||y||]\\tag[3]",begin:"align*"}}),Sa=new _e({props:{text:"||\\cdot||"}}),ka=new _e({props:{text:"Wx = y"}}),$a=new _e({props:{text:"Qx = \\hat[y]"}}),Ta=new _e({props:{text:"(3)"}}),Ca=new _e({props:{text:`
\\frac[||y - \\hat[y]||][||y||] = \\frac[||Wx - Qx||][||Wx||]\\tag[4]\\\\
`,begin:"align*"}}),Ea=new _e({props:{text:"(4)"}}),Da=new _e({props:{text:"W"}}),_a=new _e({props:{text:"Q"}}),za=new _e({props:{text:"W"}}),Ia=new _e({props:{begin:"align*",text:`
\\frac[||Wx - Qx||][||Wx||] &= \\frac[||(W-Q)x||][||Wx||]\\\\
&= \\frac[||(W-Q)W^[-1]y||][||Wx||]&&\\text[since ] x = W^[-1]y\\\\
&\\leq \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||y||][||Wx||]&&\\text[since ] ||AB|| \\leq ||A|| \\ ||B||\\\\
&= \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||Wx||][||Wx||]&&\\text[since ] ||Wx|| = ||y||\\\\
&= ||W-Q|| \\ ||W^[-1]||\\\\
&= \\frac[||W||][||W||] \\ ||W-Q|| \\ ||W^[-1]||\\\\
&= \\left(||W|| \\ ||W^[-1]||\\right) \\left(\\frac[||W-Q||][||W||]\\right). \\tag[5]\\\\
`}}),qa=new _e({props:{text:"(5)"}}),Ba=new gt({props:{to:"https://www.cs.cornell.edu/~bindel/class/cs4220-s15/lec/2015-02-04-notes.pdf",label:"CS 4220 Numerical Analysis"}}),La=new gt({props:{to:"https://www.youtube.com/watch?v=G2RKg1pHApc",label:"good video"}}),Ra=new _e({props:{text:"W"}}),Pa=new _e({props:{text:"||W|| \\ ||W^[-1]||"}}),Oa=new _e({props:{text:"\\frac[||W-Q||][||W||]"}}),ja=new _e({props:{text:"2^[\\text[bits]]"}}),Wa=new dF({}),ns=new gt({props:{to:"https://pytorch.org/docs/stable/index.html",label:"PyTorch"}}),as=new j6({}),ss=new gt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/mnist_autoencoder.ipynb",label:"mnist_autoencoder.ipynb"}}),os=new gt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/quantized_mnist_autoencoder.ipynb",label:"quantized_mnist_autoencoder.ipynb"}}),ls=new gt({props:{to:"https://github.com/xnought/docs/blob/main/ui/src/components/tensor.js",label:"mini neural network library"}}),us=new DF({}),fs=new gt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/ae_cond.ipynb",label:"ae_cond.ipynb"}}),gs=new j6({}),ys=new _e({props:{text:"(5)"}}),$s=new gt({props:{to:"https://donnybertucci.com",label:"Donny Bertucci"}}),Ts=new gt({props:{to:"https://perer.org/",label:"Adam Perer"}}),Cs=new gt({props:{to:"https://venkatesh-sivaraman.github.io/",label:"Venkat Sivaraman"}}),Es=new gt({props:{to:"https://www.youtube.com/watch?v=AlASZb93rrc",label:"video"}}),Ds=new gt({props:{to:"https://observablehq.com/plot/",label:"Observable Plot"}}),_s=new gt({props:{to:"https://sveltepress.site/",label:"SveltePress"}}),zs=new gt({props:{to:"https://katex.org/",label:"KaTeX"}}),Is=new gt({props:{to:"https://pytorch.org/vision/stable/generated/torchvision.datasets.MNIST.html",label:"MNIST"}}),{c(){t=F("p"),t.innerHTML=n,r=Z(),i=F("div"),a=Z(),s=F("h2"),s.innerHTML=o,l=Z(),u=F("p"),u.textContent=c,f=Z(),h=F("div"),d=Z(),g=F("p"),y=F("em"),b=K("From "),ve(w.$$.fragment),k=K("'s Aperture Model."),E=Z(),$=F("p"),A=K("These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ve(z.$$.fragment),D=K(" transform your text and images with over 3 billion parameters into something awesome!"),j=Z(),U=F("p"),U.textContent=S,C=Z(),O=F("div"),P=Z(),X=F("h2"),X.innerHTML=N,W=Z(),ae=F("p"),ie=K("In this article I'll use the weight sharing scheme from "),ve(le.$$.fragment),ee=K(" to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),se=Z(),oe=F("p"),oe.textContent=re,Se=Z(),Ce=F("p"),Ce.textContent=De,ce=Z(),me=F("p"),me.textContent=te,xe=Z(),Te=F("p"),Te.textContent=Y,ke=Z(),Ee=F("p"),Ee.textContent=Be,Fe=Z(),Ge=F("p"),Ge.textContent=mt,wt=Z(),Vt=F("div"),Kt=Z(),Dt=F("h2"),Dt.innerHTML=ao,ti=Z(),Cr=F("p"),Cr.textContent=Su,so=Z(),Jt=F("p"),Jt.textContent=ll,tr=Z(),Ar=F("p"),Ar.textContent=ku,oo=Z(),zt=F("img"),lo=Z(),en=F("p"),Fh=K("In total, there are 4,824,160 colors in the image ("),ve(ni.$$.fragment),Lh=K("): one for each pixel. Each color is represented by three numbers: "),ri=F("span"),ri.textContent=T5,Rh=K(", "),ii=F("span"),ii.textContent=C5,Ph=K(", and "),ai=F("span"),ai.textContent=A5,Oh=K(" that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),$u=Z(),si=F("p"),si.textContent=E5,Tu=Z(),oi=F("p"),oi.textContent=D5,Cu=Z(),ve(li.$$.fragment),Au=Z(),ui=F("p"),ui.textContent=_5,Eu=Z(),ci=F("p"),ci.textContent=z5,Du=Z(),ve(fi.$$.fragment),_u=Z(),hi=F("p"),hi.textContent=I5,zu=Z(),di=F("p"),di.textContent=N5,Iu=Z(),m0=F("div"),m0.innerHTML=q5,Nu=Z(),ve(mi.$$.fragment),qu=Z(),pi=F("p"),pi.textContent=B5,Bu=Z(),p0=F("div"),gi=F("div"),gi.innerHTML=F5,Er=F("div"),uo=F("p"),uo.textContent=L5,co=F("p"),co.innerHTML=R5,vi=F("p"),Hh=K("However, if you must know: I use the "),ve(yi.$$.fragment),Vh=K(" on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),bi=F("p"),Uh=K("Check out "),ve(wi.$$.fragment),jh=K(" to see how I used k-means on the images."),Fu=Z(),xi=F("p"),xi.textContent=P5,Lu=Z(),ve(Mi.$$.fragment),Ru=Z(),Mn=F("p"),Wh=K("Above, the "),Si=F("span"),Si.textContent=O5,Yh=K(" shows a small portion of the pixels at eight (or three bit since "),ve(ki.$$.fragment),Gh=K(") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),$i=F("span"),$i.textContent=H5,Xh=K("!"),Pu=Z(),Ti=F("div"),Ou=Z(),Ci=F("h2"),Ci.innerHTML=V5,Hu=Z(),Ai=F("p"),Ai.textContent=U5,Vu=Z(),Ei=F("p"),Ei.textContent=j5,Uu=Z(),Di=F("p"),Di.textContent=W5,ju=Z(),_i=F("p"),_i.textContent=Y5,Wu=Z(),zi=F("p"),zi.textContent=G5,Yu=Z(),g0=F("div"),g0.innerHTML=X5,Gu=Z(),ve(Ii.$$.fragment),Xu=Z(),Ni=F("p"),Ni.textContent=Z5,Zu=Z(),qi=F("p"),qi.textContent=Q5,Qu=Z(),v0=F("div"),Bi=F("div"),Bi.innerHTML=K5,y0=F("div"),_t=F("p"),Zh=K("For each pixel at (location "),ve(Fi.$$.fragment),Qh=K(") I find the difference between the corresponding color channels of the compressed/quantized image "),ve(Li.$$.fragment),Kh=K(" and the original image "),ve(Ri.$$.fragment),Jh=K(". For example if the original color was black "),ve(Pi.$$.fragment),e2=K(" and the quantized color was white "),ve(Oi.$$.fragment),t2=K(", the summed error would be "),ve(Hi.$$.fragment),n2=K(" for that one pixel."),hn=F("p"),r2=K("I store each error term in this "),ve(Vi.$$.fragment),i2=K(" matrix where each number is the error "),ve(Ui.$$.fragment),a2=K(" such that "),ve(ji.$$.fragment),s2=K(" is the pixel index and "),ve(Wi.$$.fragment),o2=K(" is the color channel (one of rgb)."),dn=F("p"),l2=K("This error image "),ve(Yi.$$.fragment),u2=K(" is what you see in red above. Then I simply average over these error matrix values from "),ve(Gi.$$.fragment),c2=K(" to get the "),fo=F("strong"),fo.textContent=J5,f2=K(" as "),ve(Xi.$$.fragment),h2=K("."),Ku=Z(),Zi=F("div"),Ju=Z(),Qi=F("h2"),Qi.innerHTML=e6,e1=Z(),Ki=F("p"),Ki.textContent=t6,t1=Z(),tn=F("p"),d2=K("Take this three layer neural network "),ve(Ji.$$.fragment),m2=K(" where "),ve(ea.$$.fragment),p2=K(" are weights and "),ve(ta.$$.fragment),g2=K(" are biases at layer "),ve(na.$$.fragment),v2=K("."),n1=Z(),ra=F("p"),ra.textContent=n6,r1=Z(),b0=F("div"),b0.innerHTML=r6,i1=Z(),pt=F("p"),y2=K("With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the input vector. Namely, "),ve(ia.$$.fragment),b2=K(" where "),ve(aa.$$.fragment),w2=K(" is the matrix, "),ve(sa.$$.fragment),x2=K(" is the column vector, and "),ve(oa.$$.fragment),M2=K(" is the output of the matrix multiply. Alternatively, think of "),ve(la.$$.fragment),S2=K(" as transforming "),ve(ua.$$.fragment),k2=K(" into "),ve(ca.$$.fragment),$2=K("."),a1=Z(),nt=F("p"),T2=K("I can also define "),ve(fa.$$.fragment),C2=K(" compressed/quantized as "),ve(ha.$$.fragment),A2=K(". The "),ve(da.$$.fragment),E2=K(" matrix transforms the input "),ve(ma.$$.fragment),D2=K(" into some approximate output "),ve(pa.$$.fragment),_2=K(". Since "),ve(ga.$$.fragment),z2=K(" is an approximate "),ve(va.$$.fragment),I2=K(", the output would also be approximate. I can then express the differences between the outputs "),ve(ya.$$.fragment),N2=K(" and "),ve(ba.$$.fragment),q2=K(` in a single error term
`),ve(wa.$$.fragment),B2=K(" which is the size of how wrong the approximation is after the matrix multiply."),s1=Z(),w0=F("div"),xa=F("div"),xa.innerHTML=i6,ho=F("div"),Ma=F("p"),F2=K("I use the vector 1-norm here denoted by "),ve(Sa.$$.fragment),L2=K(" to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),o1=Z(),Sn=F("p"),R2=K("And since "),ve(ka.$$.fragment),P2=K(" and "),ve($a.$$.fragment),O2=K(" I can write the equation "),ve(Ta.$$.fragment),H2=K(" only in terms of the inputs as"),l1=Z(),mo=F("p"),ve(Ca.$$.fragment),u1=Z(),Aa=F("p"),Aa.textContent=a6,c1=Z(),It=F("p"),V2=K("As is turns out, I can factor the error term in "),ve(Ea.$$.fragment),U2=K(" into one term that only contains "),ve(Da.$$.fragment),j2=K(" and other term that contains both "),ve(_a.$$.fragment),W2=K(" and "),ve(za.$$.fragment),Y2=K(` through the steps
`),ve(Ia.$$.fragment),G2=K(" where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),f1=Z(),x0=F("div"),Na=F("div"),Na.innerHTML=s6,M0=F("div"),Dr=F("p"),X2=K("The above formulation "),ve(qa.$$.fragment),Z2=K(" was adapted from the lecture notes "),ve(Ba.$$.fragment),Q2=K("."),po=F("p"),po.textContent=o6,Fa=F("p"),K2=K("This is a "),ve(La.$$.fragment),J2=K(" on the matrix operator norm induced by the 2-norm for some intuition."),h1=Z(),kn=F("p"),ed=K("The first term "),ve(Ra.$$.fragment),td=K(" as "),ve(Pa.$$.fragment),nd=K(" is a very useful number in many applications for linear problems: the condition number. The second term "),ve(Oa.$$.fragment),rd=K(" looks quite similar to the image pixel error case. What's really important is that there is error inherent to the original matrix in the condition number. The condition number then scales the difference between original and compressed (the second term)."),d1=Z(),Ha=F("p"),Ha.textContent=l6,m1=Z(),S0=F("div"),Va=F("div"),Va.innerHTML=u6,_r=F("div"),go=F("p"),go.textContent=c6,Ua=F("p"),id=K("The bits is the level of quantization. Really this means we're sharing "),ve(ja.$$.fragment),ad=K(" values. I use the bits notation because that will be the size of our index number after quantization."),vo=F("p"),vo.textContent=f6,yo=F("p"),yo.textContent=h6,p1=Z(),ve(Wa.$$.fragment),g1=Z(),Ya=F("p"),Ya.textContent=d6,v1=Z(),Ga=F("p"),Ga.textContent=m6,y1=Z(),Xa=F("p"),Xa.textContent=p6,b1=Z(),Za=F("p"),Za.textContent=g6,w1=Z(),k0=F("div"),k0.innerHTML=v6,x1=Z(),Qa=F("div"),M1=Z(),Ka=F("h2"),Ka.innerHTML=y6,S1=Z(),Ja=F("p"),Ja.textContent=b6,k1=Z(),es=F("p"),es.textContent=w6,$1=Z(),ts=F("p"),ts.innerHTML=x6,T1=Z(),$0=F("p"),sd=K("In "),ve(ns.$$.fragment),od=K(" I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),C1=Z(),rs=F("div"),$n=F("div"),zr=F("pre"),zr.innerHTML=M6,ld=Z(),Ir=F("pre"),Ir.innerHTML=S6,ud=Z(),is=F("div"),is.textContent=k6,cd=Z(),ve(as.$$.fragment),A1=Z(),rr=F("p"),fd=K("The training and definitions are in "),ve(ss.$$.fragment),hd=K(" and the quantization is in "),ve(os.$$.fragment),dd=K(" if you're interested."),E1=Z(),T0=F("p"),md=K("I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ve(ls.$$.fragment),pd=K(" in JavaScript."),D1=Z(),C0=F("div"),C0.innerHTML=$6,_1=Z(),ve(us.$$.fragment),z1=Z(),cs=F("p"),cs.textContent=T6,I1=Z(),A0=F("p"),gd=K("To get a condition number and some semblance of error prediction, I iterated over each layer and took the max condition number. As shown below and in "),ve(fs.$$.fragment),vd=K("."),N1=Z(),hs=F("div"),Nt=F("div"),ds=F("div"),yd=Z(),ms=F("div"),bd=Z(),Nr=F("pre"),Nr.innerHTML=C6,wd=Z(),qr=F("pre"),qr.innerHTML=A6,xd=Z(),ps=F("div"),ps.textContent=E6,Md=Z(),ve(gs.$$.fragment),q1=Z(),E0=F("div"),E0.innerHTML=D6,B1=Z(),vs=F("p"),vs.textContent=_6,F1=Z(),D0=F("p"),Sd=K("I speculate again that with extra shared numbers to spare, k-means was sensitive to the outlier which caused the high condition number, thereby masking the large effects and driving down the entire error term from equation "),ve(ys.$$.fragment),kd=K("."),L1=Z(),bs=F("div"),R1=Z(),ws=F("h2"),ws.innerHTML=z6,P1=Z(),xs=F("p"),xs.textContent=I6,O1=Z(),Ms=F("p"),Ms.textContent=N6,H1=Z(),Ss=F("div"),V1=Z(),ks=F("h2"),ks.innerHTML=q6,U1=Z(),qt=F("ul"),Br=F("li"),$d=K("I thank myself "),ve($s.$$.fragment),Td=K(" for writing the article and "),ve(Ts.$$.fragment),Cd=K(" for discussing ideas and for valuable feedback"),Ad=Z(),bo=F("li"),Ed=K("My interest in model compression came from conversations with "),ve(Cs.$$.fragment),Dd=Z(),As=F("li"),_d=K("Inspiration to use k-means came from watching this "),ve(Es.$$.fragment),zd=K(" (which evidently is by the author of that Deep Compression Paper)"),Id=Z(),wo=F("li"),ve(Ds.$$.fragment),Nd=K(" was extremely useful"),qd=Z(),xo=F("li"),ve(_s.$$.fragment),Bd=K(" is really awesome out of the box"),Fd=Z(),Mo=F("li"),ve(zs.$$.fragment),Ld=K(" for math equations"),j1=Z(),ir=F("section"),_0=F("h2"),_0.textContent=B6,Rd=Z(),ul=F("ol"),So=F("li"),z0=F("p"),Pd=K("Chose "),ve(Is.$$.fragment),Od=K(" so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),ar=F("a"),ar.textContent=F6,this.h()},l(p){t=L(p,"P",{"data-svelte-h":!0}),pe(t)!=="svelte-1g21cvi"&&(t.innerHTML=n),r=Q(p),i=L(p,"DIV",{id:!0,class:!0}),ne(i).forEach(M),a=Q(p),s=L(p,"H2",{"data-svelte-h":!0}),pe(s)!=="svelte-ruhe6q"&&(s.innerHTML=o),l=Q(p),u=L(p,"P",{"data-svelte-h":!0}),pe(u)!=="svelte-s62896"&&(u.textContent=c),f=Q(p),h=L(p,"DIV",{style:!0,class:!0}),ne(h).forEach(M),d=Q(p),g=L(p,"P",{});var H=ne(g);y=L(H,"EM",{});var Y1=ne(y);b=J(Y1,"From "),ye(w.$$.fragment,Y1),k=J(Y1,"'s Aperture Model."),Y1.forEach(M),H.forEach(M),E=Q(p),$=L(p,"P",{});var G1=ne($);A=J(G1,"These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ye(z.$$.fragment,G1),D=J(G1," transform your text and images with over 3 billion parameters into something awesome!"),G1.forEach(M),j=Q(p),U=L(p,"P",{"data-svelte-h":!0}),pe(U)!=="svelte-c230rd"&&(U.textContent=S),C=Q(p),O=L(p,"DIV",{id:!0,class:!0}),ne(O).forEach(M),P=Q(p),X=L(p,"H2",{"data-svelte-h":!0}),pe(X)!=="svelte-13wc126"&&(X.innerHTML=N),W=Q(p),ae=L(p,"P",{});var X1=ne(ae);ie=J(X1,"In this article I'll use the weight sharing scheme from "),ye(le.$$.fragment,X1),ee=J(X1," to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),X1.forEach(M),se=Q(p),oe=L(p,"P",{"data-svelte-h":!0}),pe(oe)!=="svelte-jjbxih"&&(oe.textContent=re),Se=Q(p),Ce=L(p,"P",{"data-svelte-h":!0}),pe(Ce)!=="svelte-1dlvibq"&&(Ce.textContent=De),ce=Q(p),me=L(p,"P",{"data-svelte-h":!0}),pe(me)!=="svelte-1hz6bb9"&&(me.textContent=te),xe=Q(p),Te=L(p,"P",{"data-svelte-h":!0}),pe(Te)!=="svelte-4hvpcj"&&(Te.textContent=Y),ke=Q(p),Ee=L(p,"P",{"data-svelte-h":!0}),pe(Ee)!=="svelte-6rjtcm"&&(Ee.textContent=Be),Fe=Q(p),Ge=L(p,"P",{"data-svelte-h":!0}),pe(Ge)!=="svelte-j391qh"&&(Ge.textContent=mt),wt=Q(p),Vt=L(p,"DIV",{id:!0,class:!0}),ne(Vt).forEach(M),Kt=Q(p),Dt=L(p,"H2",{"data-svelte-h":!0}),pe(Dt)!=="svelte-z4t4s0"&&(Dt.innerHTML=ao),ti=Q(p),Cr=L(p,"P",{"data-svelte-h":!0}),pe(Cr)!=="svelte-jn7zu2"&&(Cr.textContent=Su),so=Q(p),Jt=L(p,"P",{"data-svelte-h":!0}),pe(Jt)!=="svelte-2eegx6"&&(Jt.textContent=ll),tr=Q(p),Ar=L(p,"P",{"data-svelte-h":!0}),pe(Ar)!=="svelte-hycxe9"&&(Ar.textContent=ku),oo=Q(p),zt=L(p,"IMG",{src:!0,style:!0,class:!0}),lo=Q(p),en=L(p,"P",{});var sr=ne(en);Fh=J(sr,"In total, there are 4,824,160 colors in the image ("),ye(ni.$$.fragment,sr),Lh=J(sr,"): one for each pixel. Each color is represented by three numbers: "),ri=L(sr,"SPAN",{style:!0,"data-svelte-h":!0}),pe(ri)!=="svelte-17efn44"&&(ri.textContent=T5),Rh=J(sr,", "),ii=L(sr,"SPAN",{style:!0,"data-svelte-h":!0}),pe(ii)!=="svelte-ixmvcs"&&(ii.textContent=C5),Ph=J(sr,", and "),ai=L(sr,"SPAN",{style:!0,"data-svelte-h":!0}),pe(ai)!=="svelte-yxcr95"&&(ai.textContent=A5),Oh=J(sr," that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),sr.forEach(M),$u=Q(p),si=L(p,"P",{"data-svelte-h":!0}),pe(si)!=="svelte-1s1w0ap"&&(si.textContent=E5),Tu=Q(p),oi=L(p,"P",{"data-svelte-h":!0}),pe(oi)!=="svelte-10fp00t"&&(oi.textContent=D5),Cu=Q(p),ye(li.$$.fragment,p),Au=Q(p),ui=L(p,"P",{"data-svelte-h":!0}),pe(ui)!=="svelte-191ux2d"&&(ui.textContent=_5),Eu=Q(p),ci=L(p,"P",{"data-svelte-h":!0}),pe(ci)!=="svelte-y7jh1z"&&(ci.textContent=z5),Du=Q(p),ye(fi.$$.fragment,p),_u=Q(p),hi=L(p,"P",{"data-svelte-h":!0}),pe(hi)!=="svelte-1mbtwn3"&&(hi.textContent=I5),zu=Q(p),di=L(p,"P",{"data-svelte-h":!0}),pe(di)!=="svelte-c0oqny"&&(di.textContent=N5),Iu=Q(p),m0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),pe(m0)!=="svelte-pvhyf7"&&(m0.innerHTML=q5),Nu=Q(p),ye(mi.$$.fragment,p),qu=Q(p),pi=L(p,"P",{"data-svelte-h":!0}),pe(pi)!=="svelte-1sqnw4i"&&(pi.textContent=B5),Bu=Q(p),p0=L(p,"DIV",{class:!0});var Hd=ne(p0);gi=L(Hd,"DIV",{class:!0,"data-svelte-h":!0}),pe(gi)!=="svelte-1cy0qbn"&&(gi.innerHTML=F5),Er=L(Hd,"DIV",{class:!0});var cl=ne(Er);uo=L(cl,"P",{"data-svelte-h":!0}),pe(uo)!=="svelte-1b2zkjk"&&(uo.textContent=L5),co=L(cl,"P",{"data-svelte-h":!0}),pe(co)!=="svelte-1pybshj"&&(co.innerHTML=R5),vi=L(cl,"P",{});var Z1=ne(vi);Hh=J(Z1,"However, if you must know: I use the "),ye(yi.$$.fragment,Z1),Vh=J(Z1," on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),Z1.forEach(M),bi=L(cl,"P",{});var Q1=ne(bi);Uh=J(Q1,"Check out "),ye(wi.$$.fragment,Q1),jh=J(Q1," to see how I used k-means on the images."),Q1.forEach(M),cl.forEach(M),Hd.forEach(M),Fu=Q(p),xi=L(p,"P",{"data-svelte-h":!0}),pe(xi)!=="svelte-10470hz"&&(xi.textContent=P5),Lu=Q(p),ye(Mi.$$.fragment,p),Ru=Q(p),Mn=L(p,"P",{});var I0=ne(Mn);Wh=J(I0,"Above, the "),Si=L(I0,"SPAN",{style:!0,"data-svelte-h":!0}),pe(Si)!=="svelte-18c939o"&&(Si.textContent=O5),Yh=J(I0," shows a small portion of the pixels at eight (or three bit since "),ye(ki.$$.fragment,I0),Gh=J(I0,") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),$i=L(I0,"SPAN",{style:!0,"data-svelte-h":!0}),pe($i)!=="svelte-18c939o"&&($i.textContent=H5),Xh=J(I0,"!"),I0.forEach(M),Pu=Q(p),Ti=L(p,"DIV",{id:!0,class:!0}),ne(Ti).forEach(M),Ou=Q(p),Ci=L(p,"H2",{"data-svelte-h":!0}),pe(Ci)!=="svelte-o0se0e"&&(Ci.innerHTML=V5),Hu=Q(p),Ai=L(p,"P",{"data-svelte-h":!0}),pe(Ai)!=="svelte-1293b40"&&(Ai.textContent=U5),Vu=Q(p),Ei=L(p,"P",{"data-svelte-h":!0}),pe(Ei)!=="svelte-14roup4"&&(Ei.textContent=j5),Uu=Q(p),Di=L(p,"P",{"data-svelte-h":!0}),pe(Di)!=="svelte-k48m7"&&(Di.textContent=W5),ju=Q(p),_i=L(p,"P",{"data-svelte-h":!0}),pe(_i)!=="svelte-1kk5d34"&&(_i.textContent=Y5),Wu=Q(p),zi=L(p,"P",{"data-svelte-h":!0}),pe(zi)!=="svelte-15vrspb"&&(zi.textContent=G5),Yu=Q(p),g0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),pe(g0)!=="svelte-gsmdzw"&&(g0.innerHTML=X5),Gu=Q(p),ye(Ii.$$.fragment,p),Xu=Q(p),Ni=L(p,"P",{"data-svelte-h":!0}),pe(Ni)!=="svelte-1cwra3o"&&(Ni.textContent=Z5),Zu=Q(p),qi=L(p,"P",{"data-svelte-h":!0}),pe(qi)!=="svelte-1fjd55h"&&(qi.textContent=Q5),Qu=Q(p),v0=L(p,"DIV",{class:!0});var Vd=ne(v0);Bi=L(Vd,"DIV",{class:!0,"data-svelte-h":!0}),pe(Bi)!=="svelte-1cy0qbn"&&(Bi.innerHTML=K5),y0=L(Vd,"DIV",{class:!0});var K1=ne(y0);_t=L(K1,"P",{});var nn=ne(_t);Zh=J(nn,"For each pixel at (location "),ye(Fi.$$.fragment,nn),Qh=J(nn,") I find the difference between the corresponding color channels of the compressed/quantized image "),ye(Li.$$.fragment,nn),Kh=J(nn," and the original image "),ye(Ri.$$.fragment,nn),Jh=J(nn,". For example if the original color was black "),ye(Pi.$$.fragment,nn),e2=J(nn," and the quantized color was white "),ye(Oi.$$.fragment,nn),t2=J(nn,", the summed error would be "),ye(Hi.$$.fragment,nn),n2=J(nn," for that one pixel."),nn.forEach(M),hn=L(K1,"P",{});var or=ne(hn);r2=J(or,"I store each error term in this "),ye(Vi.$$.fragment,or),i2=J(or," matrix where each number is the error "),ye(Ui.$$.fragment,or),a2=J(or," such that "),ye(ji.$$.fragment,or),s2=J(or," is the pixel index and "),ye(Wi.$$.fragment,or),o2=J(or," is the color channel (one of rgb)."),or.forEach(M),dn=L(K1,"P",{});var lr=ne(dn);l2=J(lr,"This error image "),ye(Yi.$$.fragment,lr),u2=J(lr," is what you see in red above. Then I simply average over these error matrix values from "),ye(Gi.$$.fragment,lr),c2=J(lr," to get the "),fo=L(lr,"STRONG",{"data-svelte-h":!0}),pe(fo)!=="svelte-po1o1d"&&(fo.textContent=J5),f2=J(lr," as "),ye(Xi.$$.fragment,lr),h2=J(lr,"."),lr.forEach(M),K1.forEach(M),Vd.forEach(M),Ku=Q(p),Zi=L(p,"DIV",{id:!0,class:!0}),ne(Zi).forEach(M),Ju=Q(p),Qi=L(p,"H2",{"data-svelte-h":!0}),pe(Qi)!=="svelte-1pnd2wq"&&(Qi.innerHTML=e6),e1=Q(p),Ki=L(p,"P",{"data-svelte-h":!0}),pe(Ki)!=="svelte-680tq2"&&(Ki.textContent=t6),t1=Q(p),tn=L(p,"P",{});var ur=ne(tn);d2=J(ur,"Take this three layer neural network "),ye(Ji.$$.fragment,ur),m2=J(ur," where "),ye(ea.$$.fragment,ur),p2=J(ur," are weights and "),ye(ta.$$.fragment,ur),g2=J(ur," are biases at layer "),ye(na.$$.fragment,ur),v2=J(ur,"."),ur.forEach(M),n1=Q(p),ra=L(p,"P",{"data-svelte-h":!0}),pe(ra)!=="svelte-5uai62"&&(ra.textContent=n6),r1=Q(p),b0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),pe(b0)!=="svelte-gg0y1z"&&(b0.innerHTML=r6),i1=Q(p),pt=L(p,"P",{});var Bt=ne(pt);y2=J(Bt,"With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the input vector. Namely, "),ye(ia.$$.fragment,Bt),b2=J(Bt," where "),ye(aa.$$.fragment,Bt),w2=J(Bt," is the matrix, "),ye(sa.$$.fragment,Bt),x2=J(Bt," is the column vector, and "),ye(oa.$$.fragment,Bt),M2=J(Bt," is the output of the matrix multiply. Alternatively, think of "),ye(la.$$.fragment,Bt),S2=J(Bt," as transforming "),ye(ua.$$.fragment,Bt),k2=J(Bt," into "),ye(ca.$$.fragment,Bt),$2=J(Bt,"."),Bt.forEach(M),a1=Q(p),nt=L(p,"P",{});var ut=ne(nt);T2=J(ut,"I can also define "),ye(fa.$$.fragment,ut),C2=J(ut," compressed/quantized as "),ye(ha.$$.fragment,ut),A2=J(ut,". The "),ye(da.$$.fragment,ut),E2=J(ut," matrix transforms the input "),ye(ma.$$.fragment,ut),D2=J(ut," into some approximate output "),ye(pa.$$.fragment,ut),_2=J(ut,". Since "),ye(ga.$$.fragment,ut),z2=J(ut," is an approximate "),ye(va.$$.fragment,ut),I2=J(ut,", the output would also be approximate. I can then express the differences between the outputs "),ye(ya.$$.fragment,ut),N2=J(ut," and "),ye(ba.$$.fragment,ut),q2=J(ut,` in a single error term
`),ye(wa.$$.fragment,ut),B2=J(ut," which is the size of how wrong the approximation is after the matrix multiply."),ut.forEach(M),s1=Q(p),w0=L(p,"DIV",{class:!0});var Ud=ne(w0);xa=L(Ud,"DIV",{class:!0,"data-svelte-h":!0}),pe(xa)!=="svelte-1cy0qbn"&&(xa.innerHTML=i6),ho=L(Ud,"DIV",{class:!0});var L6=ne(ho);Ma=L(L6,"P",{});var J1=ne(Ma);F2=J(J1,"I use the vector 1-norm here denoted by "),ye(Sa.$$.fragment,J1),L2=J(J1," to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),J1.forEach(M),L6.forEach(M),Ud.forEach(M),o1=Q(p),Sn=L(p,"P",{});var N0=ne(Sn);R2=J(N0,"And since "),ye(ka.$$.fragment,N0),P2=J(N0," and "),ye($a.$$.fragment,N0),O2=J(N0," I can write the equation "),ye(Ta.$$.fragment,N0),H2=J(N0," only in terms of the inputs as"),N0.forEach(M),l1=Q(p),mo=L(p,"P",{});var R6=ne(mo);ye(Ca.$$.fragment,R6),R6.forEach(M),u1=Q(p),Aa=L(p,"P",{"data-svelte-h":!0}),pe(Aa)!=="svelte-1g0yiop"&&(Aa.textContent=a6),c1=Q(p),It=L(p,"P",{});var Tn=ne(It);V2=J(Tn,"As is turns out, I can factor the error term in "),ye(Ea.$$.fragment,Tn),U2=J(Tn," into one term that only contains "),ye(Da.$$.fragment,Tn),j2=J(Tn," and other term that contains both "),ye(_a.$$.fragment,Tn),W2=J(Tn," and "),ye(za.$$.fragment,Tn),Y2=J(Tn,` through the steps
`),ye(Ia.$$.fragment,Tn),G2=J(Tn," where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),Tn.forEach(M),f1=Q(p),x0=L(p,"DIV",{class:!0});var jd=ne(x0);Na=L(jd,"DIV",{class:!0,"data-svelte-h":!0}),pe(Na)!=="svelte-1cy0qbn"&&(Na.innerHTML=s6),M0=L(jd,"DIV",{class:!0});var ec=ne(M0);Dr=L(ec,"P",{});var ko=ne(Dr);X2=J(ko,"The above formulation "),ye(qa.$$.fragment,ko),Z2=J(ko," was adapted from the lecture notes "),ye(Ba.$$.fragment,ko),Q2=J(ko,"."),ko.forEach(M),po=L(ec,"P",{"data-svelte-h":!0}),pe(po)!=="svelte-kkkuki"&&(po.textContent=o6),Fa=L(ec,"P",{});var tc=ne(Fa);K2=J(tc,"This is a "),ye(La.$$.fragment,tc),J2=J(tc," on the matrix operator norm induced by the 2-norm for some intuition."),tc.forEach(M),ec.forEach(M),jd.forEach(M),h1=Q(p),kn=L(p,"P",{});var q0=ne(kn);ed=J(q0,"The first term "),ye(Ra.$$.fragment,q0),td=J(q0," as "),ye(Pa.$$.fragment,q0),nd=J(q0," is a very useful number in many applications for linear problems: the condition number. The second term "),ye(Oa.$$.fragment,q0),rd=J(q0," looks quite similar to the image pixel error case. What's really important is that there is error inherent to the original matrix in the condition number. The condition number then scales the difference between original and compressed (the second term)."),q0.forEach(M),d1=Q(p),Ha=L(p,"P",{"data-svelte-h":!0}),pe(Ha)!=="svelte-12mmrko"&&(Ha.textContent=l6),m1=Q(p),S0=L(p,"DIV",{class:!0});var Wd=ne(S0);Va=L(Wd,"DIV",{class:!0,"data-svelte-h":!0}),pe(Va)!=="svelte-12o2pjt"&&(Va.innerHTML=u6),_r=L(Wd,"DIV",{class:!0});var fl=ne(_r);go=L(fl,"P",{"data-svelte-h":!0}),pe(go)!=="svelte-hfhk2z"&&(go.textContent=c6),Ua=L(fl,"P",{});var nc=ne(Ua);id=J(nc,"The bits is the level of quantization. Really this means we're sharing "),ye(ja.$$.fragment,nc),ad=J(nc," values. I use the bits notation because that will be the size of our index number after quantization."),nc.forEach(M),vo=L(fl,"P",{"data-svelte-h":!0}),pe(vo)!=="svelte-me62zw"&&(vo.textContent=f6),yo=L(fl,"P",{"data-svelte-h":!0}),pe(yo)!=="svelte-1dr614i"&&(yo.textContent=h6),fl.forEach(M),Wd.forEach(M),p1=Q(p),ye(Wa.$$.fragment,p),g1=Q(p),Ya=L(p,"P",{"data-svelte-h":!0}),pe(Ya)!=="svelte-1p3fkjh"&&(Ya.textContent=d6),v1=Q(p),Ga=L(p,"P",{"data-svelte-h":!0}),pe(Ga)!=="svelte-4mfrmk"&&(Ga.textContent=m6),y1=Q(p),Xa=L(p,"P",{"data-svelte-h":!0}),pe(Xa)!=="svelte-15yii5i"&&(Xa.textContent=p6),b1=Q(p),Za=L(p,"P",{"data-svelte-h":!0}),pe(Za)!=="svelte-tg7qqj"&&(Za.textContent=g6),w1=Q(p),k0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),pe(k0)!=="svelte-1qtqrka"&&(k0.innerHTML=v6),x1=Q(p),Qa=L(p,"DIV",{id:!0,class:!0}),ne(Qa).forEach(M),M1=Q(p),Ka=L(p,"H2",{"data-svelte-h":!0}),pe(Ka)!=="svelte-lt4h7y"&&(Ka.innerHTML=y6),S1=Q(p),Ja=L(p,"P",{"data-svelte-h":!0}),pe(Ja)!=="svelte-ajbibf"&&(Ja.textContent=b6),k1=Q(p),es=L(p,"P",{"data-svelte-h":!0}),pe(es)!=="svelte-1aq8px0"&&(es.textContent=w6),$1=Q(p),ts=L(p,"P",{"data-svelte-h":!0}),pe(ts)!=="svelte-muq9ia"&&(ts.innerHTML=x6),T1=Q(p),$0=L(p,"P",{});var rc=ne($0);sd=J(rc,"In "),ye(ns.$$.fragment,rc),od=J(rc," I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),rc.forEach(M),C1=Q(p),rs=L(p,"DIV",{class:!0});var P6=ne(rs);$n=L(P6,"DIV",{class:!0});var B0=ne($n);zr=L(B0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),pe(zr)!=="svelte-2kshyc"&&(zr.innerHTML=M6),ld=Q(B0),Ir=L(B0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),pe(Ir)!=="svelte-1xjekbd"&&(Ir.innerHTML=S6),ud=Q(B0),is=L(B0,"DIV",{class:!0,"data-svelte-h":!0}),pe(is)!=="svelte-lxlwao"&&(is.textContent=k6),cd=Q(B0),ye(as.$$.fragment,B0),B0.forEach(M),P6.forEach(M),A1=Q(p),rr=L(p,"P",{});var $o=ne(rr);fd=J($o,"The training and definitions are in "),ye(ss.$$.fragment,$o),hd=J($o," and the quantization is in "),ye(os.$$.fragment,$o),dd=J($o," if you're interested."),$o.forEach(M),E1=Q(p),T0=L(p,"P",{});var ic=ne(T0);md=J(ic,"I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ye(ls.$$.fragment,ic),pd=J(ic," in JavaScript."),ic.forEach(M),D1=Q(p),C0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),pe(C0)!=="svelte-jqajp3"&&(C0.innerHTML=$6),_1=Q(p),ye(us.$$.fragment,p),z1=Q(p),cs=L(p,"P",{"data-svelte-h":!0}),pe(cs)!=="svelte-jsjnm2"&&(cs.textContent=T6),I1=Q(p),A0=L(p,"P",{});var ac=ne(A0);gd=J(ac,"To get a condition number and some semblance of error prediction, I iterated over each layer and took the max condition number. As shown below and in "),ye(fs.$$.fragment,ac),vd=J(ac,"."),ac.forEach(M),N1=Q(p),hs=L(p,"DIV",{class:!0});var O6=ne(hs);Nt=L(O6,"DIV",{class:!0});var Cn=ne(Nt);ds=L(Cn,"DIV",{class:!0,style:!0}),ne(ds).forEach(M),yd=Q(Cn),ms=L(Cn,"DIV",{class:!0,style:!0}),ne(ms).forEach(M),bd=Q(Cn),Nr=L(Cn,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),pe(Nr)!=="svelte-eyyql7"&&(Nr.innerHTML=C6),wd=Q(Cn),qr=L(Cn,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),pe(qr)!=="svelte-xw97p1"&&(qr.innerHTML=A6),xd=Q(Cn),ps=L(Cn,"DIV",{class:!0,"data-svelte-h":!0}),pe(ps)!=="svelte-lxlwao"&&(ps.textContent=E6),Md=Q(Cn),ye(gs.$$.fragment,Cn),Cn.forEach(M),O6.forEach(M),q1=Q(p),E0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),pe(E0)!=="svelte-n8xncb"&&(E0.innerHTML=D6),B1=Q(p),vs=L(p,"P",{"data-svelte-h":!0}),pe(vs)!=="svelte-17olnyj"&&(vs.textContent=_6),F1=Q(p),D0=L(p,"P",{});var sc=ne(D0);Sd=J(sc,"I speculate again that with extra shared numbers to spare, k-means was sensitive to the outlier which caused the high condition number, thereby masking the large effects and driving down the entire error term from equation "),ye(ys.$$.fragment,sc),kd=J(sc,"."),sc.forEach(M),L1=Q(p),bs=L(p,"DIV",{id:!0,class:!0}),ne(bs).forEach(M),R1=Q(p),ws=L(p,"H2",{"data-svelte-h":!0}),pe(ws)!=="svelte-nbmqct"&&(ws.innerHTML=z6),P1=Q(p),xs=L(p,"P",{"data-svelte-h":!0}),pe(xs)!=="svelte-1rz4nwx"&&(xs.textContent=I6),O1=Q(p),Ms=L(p,"P",{"data-svelte-h":!0}),pe(Ms)!=="svelte-j5mea2"&&(Ms.textContent=N6),H1=Q(p),Ss=L(p,"DIV",{id:!0,class:!0}),ne(Ss).forEach(M),V1=Q(p),ks=L(p,"H2",{"data-svelte-h":!0}),pe(ks)!=="svelte-1hcknps"&&(ks.innerHTML=q6),U1=Q(p),qt=L(p,"UL",{});var An=ne(qt);Br=L(An,"LI",{});var To=ne(Br);$d=J(To,"I thank myself "),ye($s.$$.fragment,To),Td=J(To," for writing the article and "),ye(Ts.$$.fragment,To),Cd=J(To," for discussing ideas and for valuable feedback"),To.forEach(M),Ad=Q(An),bo=L(An,"LI",{});var Yd=ne(bo);Ed=J(Yd,"My interest in model compression came from conversations with "),ye(Cs.$$.fragment,Yd),Yd.forEach(M),Dd=Q(An),As=L(An,"LI",{});var oc=ne(As);_d=J(oc,"Inspiration to use k-means came from watching this "),ye(Es.$$.fragment,oc),zd=J(oc," (which evidently is by the author of that Deep Compression Paper)"),oc.forEach(M),Id=Q(An),wo=L(An,"LI",{});var Gd=ne(wo);ye(Ds.$$.fragment,Gd),Nd=J(Gd," was extremely useful"),Gd.forEach(M),qd=Q(An),xo=L(An,"LI",{});var Xd=ne(xo);ye(_s.$$.fragment,Xd),Bd=J(Xd," is really awesome out of the box"),Xd.forEach(M),Fd=Q(An),Mo=L(An,"LI",{});var Zd=ne(Mo);ye(zs.$$.fragment,Zd),Ld=J(Zd," for math equations"),Zd.forEach(M),An.forEach(M),j1=Q(p),ir=L(p,"SECTION",{"data-footnotes":!0,class:!0});var lc=ne(ir);_0=L(lc,"H2",{class:!0,id:!0,"data-svelte-h":!0}),pe(_0)!=="svelte-lkgpaz"&&(_0.textContent=B6),Rd=Q(lc),ul=L(lc,"OL",{});var H6=ne(ul);So=L(H6,"LI",{id:!0});var V6=ne(So);z0=L(V6,"P",{});var hl=ne(z0);Pd=J(hl,"Chose "),ye(Is.$$.fragment,hl),Od=J(hl," so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),ar=L(hl,"A",{href:!0,"data-footnote-backref":!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),pe(ar)!=="svelte-1ge09vi"&&(ar.textContent=F6),hl.forEach(M),V6.forEach(M),H6.forEach(M),lc.forEach(M),this.h()},h(){R(i,"id","Introduction"),R(i,"class","svp-anchor-item"),Re(h,"background-image","url(cyber.jpg)"),Re(h,"height","50px"),Re(h,"margin-bottom","-12px"),R(h,"class","thumb svelte-1erdxyx"),R(O,"id","Sharing-as-Compression"),R(O,"class","svp-anchor-item"),R(Vt,"id","Sharing-Pixels"),R(Vt,"class","svp-anchor-item"),Vc(zt.src,nr="dog.png")||R(zt,"src",nr),Re(zt,"width","300px"),R(zt,"class","svelte-1erdxyx"),Re(ri,"color","rgb(255, 0, 0)"),Re(ii,"color","rgb(0, 255, 0)"),Re(ai,"color","rgb(0, 0, 255)"),R(m0,"class","admonition admonition-important"),R(gi,"class","admonition-heading"),R(Er,"class","admonition-content"),R(p0,"class","admonition admonition-note"),Re(Si,"color","salmon"),Re($i,"color","salmon"),R(Ti,"id","Quantifying-Error"),R(Ti,"class","svp-anchor-item"),R(g0,"class","admonition admonition-important"),R(Bi,"class","admonition-heading"),R(y0,"class","admonition-content"),R(v0,"class","admonition admonition-note"),R(Zi,"id","Matrix-Multiplication"),R(Zi,"class","svp-anchor-item"),R(b0,"class","admonition admonition-warning"),R(xa,"class","admonition-heading"),R(ho,"class","admonition-content"),R(w0,"class","admonition admonition-note"),R(Na,"class","admonition-heading"),R(M0,"class","admonition-content"),R(x0,"class","admonition admonition-note"),R(Va,"class","admonition-heading"),R(_r,"class","admonition-content"),R(S0,"class","admonition admonition-important"),R(k0,"class","admonition admonition-note"),R(Qa,"id","More-layers"),R(Qa,"class","svp-anchor-item"),R(zr,"class","shiki vitesse-light"),Re(zr,"background-color","#ffffff"),R(zr,"tabindex","0"),R(Ir,"class","shiki night-owl"),Re(Ir,"background-color","#011627"),R(Ir,"tabindex","0"),R(is,"class","svp-code-block--lang"),R($n,"class","svp-code-block"),R(rs,"class","svp-code-block-wrapper"),R(C0,"class","admonition admonition-important"),R(ds,"class","svp-code-block--focus"),Re(ds,"top","0"),Re(ds,"height","calc(12px + 13.5em)"),R(ms,"class","svp-code-block--focus"),Re(ms,"top","calc(12px + 22.5em)"),Re(ms,"height","calc(12px + 0em)"),R(Nr,"class","shiki vitesse-light"),Re(Nr,"background-color","#ffffff"),R(Nr,"tabindex","0"),R(qr,"class","shiki night-owl"),Re(qr,"background-color","#011627"),R(qr,"tabindex","0"),R(ps,"class","svp-code-block--lang"),R(Nt,"class","svp-code-block"),R(hs,"class","svp-code-block-wrapper"),R(E0,"class","admonition admonition-note"),R(bs,"id","Conclusion"),R(bs,"class","svp-anchor-item"),R(Ss,"id","Acknowledgments"),R(Ss,"class","svp-anchor-item"),R(_0,"class","sr-only"),R(_0,"id","footnote-label"),R(ar,"href","#user-content-fnref-1"),R(ar,"data-footnote-backref",""),R(ar,"class","data-footnote-backref"),R(ar,"aria-label","Back to content"),R(So,"id","user-content-fn-1"),R(ir,"data-footnotes",""),R(ir,"class","footnotes")},m(p,H){I(p,t,H),I(p,r,H),I(p,i,H),I(p,a,H),I(p,s,H),I(p,l,H),I(p,u,H),I(p,f,H),I(p,h,H),I(p,d,H),I(p,g,H),_(g,y),_(y,b),be(w,y,null),_(y,k),I(p,E,H),I(p,$,H),_($,A),be(z,$,null),_($,D),I(p,j,H),I(p,U,H),I(p,C,H),I(p,O,H),I(p,P,H),I(p,X,H),I(p,W,H),I(p,ae,H),_(ae,ie),be(le,ae,null),_(ae,ee),I(p,se,H),I(p,oe,H),I(p,Se,H),I(p,Ce,H),I(p,ce,H),I(p,me,H),I(p,xe,H),I(p,Te,H),I(p,ke,H),I(p,Ee,H),I(p,Fe,H),I(p,Ge,H),I(p,wt,H),I(p,Vt,H),I(p,Kt,H),I(p,Dt,H),I(p,ti,H),I(p,Cr,H),I(p,so,H),I(p,Jt,H),I(p,tr,H),I(p,Ar,H),I(p,oo,H),I(p,zt,H),I(p,lo,H),I(p,en,H),_(en,Fh),be(ni,en,null),_(en,Lh),_(en,ri),_(en,Rh),_(en,ii),_(en,Ph),_(en,ai),_(en,Oh),I(p,$u,H),I(p,si,H),I(p,Tu,H),I(p,oi,H),I(p,Cu,H),be(li,p,H),I(p,Au,H),I(p,ui,H),I(p,Eu,H),I(p,ci,H),I(p,Du,H),be(fi,p,H),I(p,_u,H),I(p,hi,H),I(p,zu,H),I(p,di,H),I(p,Iu,H),I(p,m0,H),I(p,Nu,H),be(mi,p,H),I(p,qu,H),I(p,pi,H),I(p,Bu,H),I(p,p0,H),_(p0,gi),_(p0,Er),_(Er,uo),_(Er,co),_(Er,vi),_(vi,Hh),be(yi,vi,null),_(vi,Vh),_(Er,bi),_(bi,Uh),be(wi,bi,null),_(bi,jh),I(p,Fu,H),I(p,xi,H),I(p,Lu,H),be(Mi,p,H),I(p,Ru,H),I(p,Mn,H),_(Mn,Wh),_(Mn,Si),_(Mn,Yh),be(ki,Mn,null),_(Mn,Gh),_(Mn,$i),_(Mn,Xh),I(p,Pu,H),I(p,Ti,H),I(p,Ou,H),I(p,Ci,H),I(p,Hu,H),I(p,Ai,H),I(p,Vu,H),I(p,Ei,H),I(p,Uu,H),I(p,Di,H),I(p,ju,H),I(p,_i,H),I(p,Wu,H),I(p,zi,H),I(p,Yu,H),I(p,g0,H),I(p,Gu,H),be(Ii,p,H),I(p,Xu,H),I(p,Ni,H),I(p,Zu,H),I(p,qi,H),I(p,Qu,H),I(p,v0,H),_(v0,Bi),_(v0,y0),_(y0,_t),_(_t,Zh),be(Fi,_t,null),_(_t,Qh),be(Li,_t,null),_(_t,Kh),be(Ri,_t,null),_(_t,Jh),be(Pi,_t,null),_(_t,e2),be(Oi,_t,null),_(_t,t2),be(Hi,_t,null),_(_t,n2),_(y0,hn),_(hn,r2),be(Vi,hn,null),_(hn,i2),be(Ui,hn,null),_(hn,a2),be(ji,hn,null),_(hn,s2),be(Wi,hn,null),_(hn,o2),_(y0,dn),_(dn,l2),be(Yi,dn,null),_(dn,u2),be(Gi,dn,null),_(dn,c2),_(dn,fo),_(dn,f2),be(Xi,dn,null),_(dn,h2),I(p,Ku,H),I(p,Zi,H),I(p,Ju,H),I(p,Qi,H),I(p,e1,H),I(p,Ki,H),I(p,t1,H),I(p,tn,H),_(tn,d2),be(Ji,tn,null),_(tn,m2),be(ea,tn,null),_(tn,p2),be(ta,tn,null),_(tn,g2),be(na,tn,null),_(tn,v2),I(p,n1,H),I(p,ra,H),I(p,r1,H),I(p,b0,H),I(p,i1,H),I(p,pt,H),_(pt,y2),be(ia,pt,null),_(pt,b2),be(aa,pt,null),_(pt,w2),be(sa,pt,null),_(pt,x2),be(oa,pt,null),_(pt,M2),be(la,pt,null),_(pt,S2),be(ua,pt,null),_(pt,k2),be(ca,pt,null),_(pt,$2),I(p,a1,H),I(p,nt,H),_(nt,T2),be(fa,nt,null),_(nt,C2),be(ha,nt,null),_(nt,A2),be(da,nt,null),_(nt,E2),be(ma,nt,null),_(nt,D2),be(pa,nt,null),_(nt,_2),be(ga,nt,null),_(nt,z2),be(va,nt,null),_(nt,I2),be(ya,nt,null),_(nt,N2),be(ba,nt,null),_(nt,q2),be(wa,nt,null),_(nt,B2),I(p,s1,H),I(p,w0,H),_(w0,xa),_(w0,ho),_(ho,Ma),_(Ma,F2),be(Sa,Ma,null),_(Ma,L2),I(p,o1,H),I(p,Sn,H),_(Sn,R2),be(ka,Sn,null),_(Sn,P2),be($a,Sn,null),_(Sn,O2),be(Ta,Sn,null),_(Sn,H2),I(p,l1,H),I(p,mo,H),be(Ca,mo,null),I(p,u1,H),I(p,Aa,H),I(p,c1,H),I(p,It,H),_(It,V2),be(Ea,It,null),_(It,U2),be(Da,It,null),_(It,j2),be(_a,It,null),_(It,W2),be(za,It,null),_(It,Y2),be(Ia,It,null),_(It,G2),I(p,f1,H),I(p,x0,H),_(x0,Na),_(x0,M0),_(M0,Dr),_(Dr,X2),be(qa,Dr,null),_(Dr,Z2),be(Ba,Dr,null),_(Dr,Q2),_(M0,po),_(M0,Fa),_(Fa,K2),be(La,Fa,null),_(Fa,J2),I(p,h1,H),I(p,kn,H),_(kn,ed),be(Ra,kn,null),_(kn,td),be(Pa,kn,null),_(kn,nd),be(Oa,kn,null),_(kn,rd),I(p,d1,H),I(p,Ha,H),I(p,m1,H),I(p,S0,H),_(S0,Va),_(S0,_r),_(_r,go),_(_r,Ua),_(Ua,id),be(ja,Ua,null),_(Ua,ad),_(_r,vo),_(_r,yo),I(p,p1,H),be(Wa,p,H),I(p,g1,H),I(p,Ya,H),I(p,v1,H),I(p,Ga,H),I(p,y1,H),I(p,Xa,H),I(p,b1,H),I(p,Za,H),I(p,w1,H),I(p,k0,H),I(p,x1,H),I(p,Qa,H),I(p,M1,H),I(p,Ka,H),I(p,S1,H),I(p,Ja,H),I(p,k1,H),I(p,es,H),I(p,$1,H),I(p,ts,H),I(p,T1,H),I(p,$0,H),_($0,sd),be(ns,$0,null),_($0,od),I(p,C1,H),I(p,rs,H),_(rs,$n),_($n,zr),_($n,ld),_($n,Ir),_($n,ud),_($n,is),_($n,cd),be(as,$n,null),I(p,A1,H),I(p,rr,H),_(rr,fd),be(ss,rr,null),_(rr,hd),be(os,rr,null),_(rr,dd),I(p,E1,H),I(p,T0,H),_(T0,md),be(ls,T0,null),_(T0,pd),I(p,D1,H),I(p,C0,H),I(p,_1,H),be(us,p,H),I(p,z1,H),I(p,cs,H),I(p,I1,H),I(p,A0,H),_(A0,gd),be(fs,A0,null),_(A0,vd),I(p,N1,H),I(p,hs,H),_(hs,Nt),_(Nt,ds),_(Nt,yd),_(Nt,ms),_(Nt,bd),_(Nt,Nr),_(Nt,wd),_(Nt,qr),_(Nt,xd),_(Nt,ps),_(Nt,Md),be(gs,Nt,null),I(p,q1,H),I(p,E0,H),I(p,B1,H),I(p,vs,H),I(p,F1,H),I(p,D0,H),_(D0,Sd),be(ys,D0,null),_(D0,kd),I(p,L1,H),I(p,bs,H),I(p,R1,H),I(p,ws,H),I(p,P1,H),I(p,xs,H),I(p,O1,H),I(p,Ms,H),I(p,H1,H),I(p,Ss,H),I(p,V1,H),I(p,ks,H),I(p,U1,H),I(p,qt,H),_(qt,Br),_(Br,$d),be($s,Br,null),_(Br,Td),be(Ts,Br,null),_(Br,Cd),_(qt,Ad),_(qt,bo),_(bo,Ed),be(Cs,bo,null),_(qt,Dd),_(qt,As),_(As,_d),be(Es,As,null),_(As,zd),_(qt,Id),_(qt,wo),be(Ds,wo,null),_(wo,Nd),_(qt,qd),_(qt,xo),be(_s,xo,null),_(xo,Bd),_(qt,Fd),_(qt,Mo),be(zs,Mo,null),_(Mo,Ld),I(p,j1,H),I(p,ir,H),_(ir,_0),_(ir,Rd),_(ir,ul),_(ul,So),_(So,z0),_(z0,Pd),be(Is,z0,null),_(z0,Od),_(z0,ar),W1=!0},p:Xe,i(p){W1||(fe(w.$$.fragment,p),fe(z.$$.fragment,p),fe(le.$$.fragment,p),fe(ni.$$.fragment,p),fe(li.$$.fragment,p),fe(fi.$$.fragment,p),fe(mi.$$.fragment,p),fe(yi.$$.fragment,p),fe(wi.$$.fragment,p),fe(Mi.$$.fragment,p),fe(ki.$$.fragment,p),fe(Ii.$$.fragment,p),fe(Fi.$$.fragment,p),fe(Li.$$.fragment,p),fe(Ri.$$.fragment,p),fe(Pi.$$.fragment,p),fe(Oi.$$.fragment,p),fe(Hi.$$.fragment,p),fe(Vi.$$.fragment,p),fe(Ui.$$.fragment,p),fe(ji.$$.fragment,p),fe(Wi.$$.fragment,p),fe(Yi.$$.fragment,p),fe(Gi.$$.fragment,p),fe(Xi.$$.fragment,p),fe(Ji.$$.fragment,p),fe(ea.$$.fragment,p),fe(ta.$$.fragment,p),fe(na.$$.fragment,p),fe(ia.$$.fragment,p),fe(aa.$$.fragment,p),fe(sa.$$.fragment,p),fe(oa.$$.fragment,p),fe(la.$$.fragment,p),fe(ua.$$.fragment,p),fe(ca.$$.fragment,p),fe(fa.$$.fragment,p),fe(ha.$$.fragment,p),fe(da.$$.fragment,p),fe(ma.$$.fragment,p),fe(pa.$$.fragment,p),fe(ga.$$.fragment,p),fe(va.$$.fragment,p),fe(ya.$$.fragment,p),fe(ba.$$.fragment,p),fe(wa.$$.fragment,p),fe(Sa.$$.fragment,p),fe(ka.$$.fragment,p),fe($a.$$.fragment,p),fe(Ta.$$.fragment,p),fe(Ca.$$.fragment,p),fe(Ea.$$.fragment,p),fe(Da.$$.fragment,p),fe(_a.$$.fragment,p),fe(za.$$.fragment,p),fe(Ia.$$.fragment,p),fe(qa.$$.fragment,p),fe(Ba.$$.fragment,p),fe(La.$$.fragment,p),fe(Ra.$$.fragment,p),fe(Pa.$$.fragment,p),fe(Oa.$$.fragment,p),fe(ja.$$.fragment,p),fe(Wa.$$.fragment,p),fe(ns.$$.fragment,p),fe(as.$$.fragment,p),fe(ss.$$.fragment,p),fe(os.$$.fragment,p),fe(ls.$$.fragment,p),fe(us.$$.fragment,p),fe(fs.$$.fragment,p),fe(gs.$$.fragment,p),fe(ys.$$.fragment,p),fe($s.$$.fragment,p),fe(Ts.$$.fragment,p),fe(Cs.$$.fragment,p),fe(Es.$$.fragment,p),fe(Ds.$$.fragment,p),fe(_s.$$.fragment,p),fe(zs.$$.fragment,p),fe(Is.$$.fragment,p),W1=!0)},o(p){de(w.$$.fragment,p),de(z.$$.fragment,p),de(le.$$.fragment,p),de(ni.$$.fragment,p),de(li.$$.fragment,p),de(fi.$$.fragment,p),de(mi.$$.fragment,p),de(yi.$$.fragment,p),de(wi.$$.fragment,p),de(Mi.$$.fragment,p),de(ki.$$.fragment,p),de(Ii.$$.fragment,p),de(Fi.$$.fragment,p),de(Li.$$.fragment,p),de(Ri.$$.fragment,p),de(Pi.$$.fragment,p),de(Oi.$$.fragment,p),de(Hi.$$.fragment,p),de(Vi.$$.fragment,p),de(Ui.$$.fragment,p),de(ji.$$.fragment,p),de(Wi.$$.fragment,p),de(Yi.$$.fragment,p),de(Gi.$$.fragment,p),de(Xi.$$.fragment,p),de(Ji.$$.fragment,p),de(ea.$$.fragment,p),de(ta.$$.fragment,p),de(na.$$.fragment,p),de(ia.$$.fragment,p),de(aa.$$.fragment,p),de(sa.$$.fragment,p),de(oa.$$.fragment,p),de(la.$$.fragment,p),de(ua.$$.fragment,p),de(ca.$$.fragment,p),de(fa.$$.fragment,p),de(ha.$$.fragment,p),de(da.$$.fragment,p),de(ma.$$.fragment,p),de(pa.$$.fragment,p),de(ga.$$.fragment,p),de(va.$$.fragment,p),de(ya.$$.fragment,p),de(ba.$$.fragment,p),de(wa.$$.fragment,p),de(Sa.$$.fragment,p),de(ka.$$.fragment,p),de($a.$$.fragment,p),de(Ta.$$.fragment,p),de(Ca.$$.fragment,p),de(Ea.$$.fragment,p),de(Da.$$.fragment,p),de(_a.$$.fragment,p),de(za.$$.fragment,p),de(Ia.$$.fragment,p),de(qa.$$.fragment,p),de(Ba.$$.fragment,p),de(La.$$.fragment,p),de(Ra.$$.fragment,p),de(Pa.$$.fragment,p),de(Oa.$$.fragment,p),de(ja.$$.fragment,p),de(Wa.$$.fragment,p),de(ns.$$.fragment,p),de(as.$$.fragment,p),de(ss.$$.fragment,p),de(os.$$.fragment,p),de(ls.$$.fragment,p),de(us.$$.fragment,p),de(fs.$$.fragment,p),de(gs.$$.fragment,p),de(ys.$$.fragment,p),de($s.$$.fragment,p),de(Ts.$$.fragment,p),de(Cs.$$.fragment,p),de(Es.$$.fragment,p),de(Ds.$$.fragment,p),de(_s.$$.fragment,p),de(zs.$$.fragment,p),de(Is.$$.fragment,p),W1=!1},d(p){p&&(M(t),M(r),M(i),M(a),M(s),M(l),M(u),M(f),M(h),M(d),M(g),M(E),M($),M(j),M(U),M(C),M(O),M(P),M(X),M(W),M(ae),M(se),M(oe),M(Se),M(Ce),M(ce),M(me),M(xe),M(Te),M(ke),M(Ee),M(Fe),M(Ge),M(wt),M(Vt),M(Kt),M(Dt),M(ti),M(Cr),M(so),M(Jt),M(tr),M(Ar),M(oo),M(zt),M(lo),M(en),M($u),M(si),M(Tu),M(oi),M(Cu),M(Au),M(ui),M(Eu),M(ci),M(Du),M(_u),M(hi),M(zu),M(di),M(Iu),M(m0),M(Nu),M(qu),M(pi),M(Bu),M(p0),M(Fu),M(xi),M(Lu),M(Ru),M(Mn),M(Pu),M(Ti),M(Ou),M(Ci),M(Hu),M(Ai),M(Vu),M(Ei),M(Uu),M(Di),M(ju),M(_i),M(Wu),M(zi),M(Yu),M(g0),M(Gu),M(Xu),M(Ni),M(Zu),M(qi),M(Qu),M(v0),M(Ku),M(Zi),M(Ju),M(Qi),M(e1),M(Ki),M(t1),M(tn),M(n1),M(ra),M(r1),M(b0),M(i1),M(pt),M(a1),M(nt),M(s1),M(w0),M(o1),M(Sn),M(l1),M(mo),M(u1),M(Aa),M(c1),M(It),M(f1),M(x0),M(h1),M(kn),M(d1),M(Ha),M(m1),M(S0),M(p1),M(g1),M(Ya),M(v1),M(Ga),M(y1),M(Xa),M(b1),M(Za),M(w1),M(k0),M(x1),M(Qa),M(M1),M(Ka),M(S1),M(Ja),M(k1),M(es),M($1),M(ts),M(T1),M($0),M(C1),M(rs),M(A1),M(rr),M(E1),M(T0),M(D1),M(C0),M(_1),M(z1),M(cs),M(I1),M(A0),M(N1),M(hs),M(q1),M(E0),M(B1),M(vs),M(F1),M(D0),M(L1),M(bs),M(R1),M(ws),M(P1),M(xs),M(O1),M(Ms),M(H1),M(Ss),M(V1),M(ks),M(U1),M(qt),M(j1),M(ir)),we(w),we(z),we(le),we(ni),we(li,p),we(fi,p),we(mi,p),we(yi),we(wi),we(Mi,p),we(ki),we(Ii,p),we(Fi),we(Li),we(Ri),we(Pi),we(Oi),we(Hi),we(Vi),we(Ui),we(ji),we(Wi),we(Yi),we(Gi),we(Xi),we(Ji),we(ea),we(ta),we(na),we(ia),we(aa),we(sa),we(oa),we(la),we(ua),we(ca),we(fa),we(ha),we(da),we(ma),we(pa),we(ga),we(va),we(ya),we(ba),we(wa),we(Sa),we(ka),we($a),we(Ta),we(Ca),we(Ea),we(Da),we(_a),we(za),we(Ia),we(qa),we(Ba),we(La),we(Ra),we(Pa),we(Oa),we(ja),we(Wa,p),we(ns),we(as),we(ss),we(os),we(ls),we(us,p),we(fs),we(gs),we(ys),we($s),we(Ts),we(Cs),we(Es),we(Ds),we(_s),we(zs),we(Is)}}}function zF(e){let t,n;return t=new Cx({props:{fm:e[0],$$slots:{default:[_F]},$$scope:{ctx:e}}}),{c(){ve(t.$$.fragment)},l(r){ye(t.$$.fragment,r)},m(r,i){be(t,r,i),n=!0},p(r,[i]){const a={};i&2&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(fe(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){we(t,r)}}}const IF="https://github.com/xnought/docs";function NF(e){return[{pageType:"md",lastUpdate:"August 2023",title:"Compressing Neural Network Weights",anchors:[{slugId:"Introduction",title:"Introduction",depth:2},{slugId:"Sharing-as-Compression",title:"Sharing as Compression",depth:2},{slugId:"Sharing-Pixels",title:"Sharing Pixels",depth:2},{slugId:"Quantifying-Error",title:"Quantifying Error",depth:2},{slugId:"Matrix-Multiplication",title:"Matrix Multiplication",depth:2},{slugId:"More-layers",title:"More layers",depth:2},{slugId:"Conclusion",title:"Conclusion",depth:2},{slugId:"Acknowledgments",title:"Acknowledgments",depth:2}]}]}class PF extends Gt{constructor(t){super(),Xt(this,t,NF,zF,Yt,{})}}export{PF as component};

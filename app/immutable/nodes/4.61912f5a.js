import{s as cn,w as Fn,x as Ln,h as ue,d as k,j as G,i as N,r as q,u as Ke,e as K1,p as Pr,f as V,g as U,F as St,J as vl,a as J,c as ee,Y as we,M as V1,k as xn,l as ie,m as ae,Z as Vr,n as an,_ as Vf,o as Q7,K as $b,L as Tb,$ as kd,V as Cb,a0 as r5,C as Ab,a1 as Eb}from"../chunks/scheduler.655c61ae.js";import{S as hn,i as dn,g as K7,t as be,c as J7,a as ge,b as xe,d as Me,m as Se,e as ke}from"../chunks/index.9e10714d.js";import{P as zb}from"../chunks/CopyCode.svelte_svelte_type_style_lang.0cedbbfb.js";import{e as i5}from"../chunks/Link.svelte_svelte_type_style_lang.54de5421.js";import{L as _t}from"../chunks/Link.6535a73e.js";function Db(e){let t,n,r;return{c(){t=Fn("svg"),n=Fn("path"),r=Fn("path"),this.h()},l(i){t=Ln(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=ue(t);n=Ln(a,"path",{fill:!0,d:!0}),ue(n).forEach(k),r=Ln(a,"path",{fill:!0,d:!0}),ue(r).forEach(k),a.forEach(k),this.h()},h(){G(n,"fill","currentColor"),G(n,"d","M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"),G(r,"fill","currentColor"),G(r,"d","M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"width","1em"),G(t,"height","1em"),G(t,"viewBox","0 0 24 24")},m(i,a){N(i,t,a),q(t,n),q(t,r)},p:Ke,i:Ke,o:Ke,d(i){i&&k(t)}}}class _b extends hn{constructor(t){super(),dn(this,t,null,Db,cn,{})}}function Ib(e){let t,n;return{c(){t=Fn("svg"),n=Fn("path"),this.h()},l(r){t=Ln(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=ue(t);n=Ln(i,"path",{fill:!0,d:!0}),ue(n).forEach(k),i.forEach(k),this.h()},h(){G(n,"fill","currentColor"),G(n,"d","M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4L9 16.2z"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"width","1em"),G(t,"height","1em"),G(t,"viewBox","0 0 24 24")},m(r,i){N(r,t,i),q(t,n)},p:Ke,i:Ke,o:Ke,d(r){r&&k(t)}}}class Nb extends hn{constructor(t){super(),dn(this,t,null,Ib,cn,{})}}function qb(e){let t,n,r,i,a;return n=new _b({}),{c(){t=V("div"),xe(n.$$.fragment),this.h()},l(s){t=U(s,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var o=ue(t);Me(n.$$.fragment,o),o.forEach(k),this.h()},h(){G(t,"class","svp-code-bock--copy-code"),G(t,"role","button"),G(t,"tabindex","0"),G(t,"aria-label","Copy code")},m(s,o){N(s,t,o),Se(n,t,null),e[3](t),r=!0,i||(a=[St(t,"click",e[2]),St(t,"keyup",e[2])],i=!0)},p:Ke,i(s){r||(ge(n.$$.fragment,s),r=!0)},o(s){be(n.$$.fragment,s),r=!1},d(s){s&&k(t),ke(n),e[3](null),i=!1,vl(a)}}}function Bb(e){let t,n,r;return n=new Nb({}),{c(){t=V("div"),xe(n.$$.fragment),this.h()},l(i){t=U(i,"DIV",{class:!0});var a=ue(t);Me(n.$$.fragment,a),a.forEach(k),this.h()},h(){G(t,"class","svp-code-bock--copy-code")},m(i,a){N(i,t,a),Se(n,t,null),r=!0},p:Ke,i(i){r||(ge(n.$$.fragment,i),r=!0)},o(i){be(n.$$.fragment,i),r=!1},d(i){i&&k(t),ke(n)}}}function Fb(e){let t,n,r,i;const a=[Bb,qb],s=[];function o(l,u){return l[1]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=K1()},l(l){n.l(l),r=K1()},m(l,u){s[t].m(l,u),N(l,r,u),i=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(K7(),be(s[f],1,1,()=>{s[f]=null}),J7(),n=s[t],n?n.p(l,u):(n=s[t]=a[t](l),n.c()),ge(n,1),n.m(r.parentNode,r))},i(l){i||(ge(n),i=!0)},o(l){be(n),i=!1},d(l){l&&k(r),s[t].d(l)}}}function Lb(e,t,n){let r,i=!1;function a(){var l,u;const o=((u=(l=r==null?void 0:r.parentElement)==null?void 0:l.querySelector(".shiki"))==null?void 0:u.textContent)||"";navigator.clipboard.writeText(o),n(1,i=!0),setTimeout(()=>{n(1,i=!1)},2e3)}function s(o){Pr[o?"unshift":"push"](()=>{r=o,n(0,r)})}return[r,i,a,s]}class Rb extends hn{constructor(t){super(),dn(this,t,Lb,Fb,cn,{})}}function a5(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=V("input"),n=J(),r=V("span"),a=ie(i),s=ie(" colors"),this.h()},l(u){t=U(u,"INPUT",{type:!0,min:!0,max:!0}),n=ee(u),r=U(u,"SPAN",{class:!0});var f=ue(r);a=ae(f,i),s=ae(f," colors"),f.forEach(k),this.h()},h(){G(t,"type","range"),G(t,"min","0"),G(t,"max",e[3].length-1),G(r,"class","label svelte-qipmvq")},m(u,f){N(u,t,f),Vr(t,e[0]),N(u,n,f),N(u,r,f),q(r,a),q(r,s),o||(l=[St(t,"change",e[4]),St(t,"input",e[4])],o=!0)},p(u,f){f&1&&Vr(t,u[0]),f&1&&i!==(i=2**u[0]+"")&&an(a,i)},d(u){u&&(k(t),k(n),k(r)),o=!1,vl(l)}}}function Pb(e){let t=2**e[0]+"",n,r;return{c(){n=ie(t),r=ie(" colors")},l(i){n=ae(i,t),r=ae(i," colors")},m(i,a){N(i,n,a),N(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&an(n,t)},d(i){i&&(k(n),k(r))}}}function Ob(e){let t=2**e[0]+"",n,r;return{c(){n=ie(t),r=ie(" color")},l(i){n=ae(i,t),r=ae(i," color")},m(i,a){N(i,n,a),N(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&an(n,t)},d(i){i&&(k(n),k(r))}}}function Hb(e){let t,n,r,i,a="Compressed",s,o,l,u,f,c,h,d,p,y="Original",b,x,$,E,T,A,D="4,824,160 colors",z=e[2]&&a5(e);function j(C,B){return C[0]===0?Ob:Pb}let O=j(e),M=O(e);return{c(){z&&z.c(),t=J(),n=V("div"),r=V("div"),i=V("div"),i.textContent=a,s=J(),o=V("div"),l=V("img"),f=J(),c=V("div"),M.c(),h=J(),d=V("div"),p=V("div"),p.textContent=y,b=J(),x=V("div"),$=V("img"),T=J(),A=V("div"),A.textContent=D,this.h()},l(C){z&&z.l(C),t=ee(C),n=U(C,"DIV",{id:!0,class:!0});var B=ue(n);r=U(B,"DIV",{id:!0,class:!0});var L=ue(r);i=U(L,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-gr914o"&&(i.textContent=a),s=ee(L),o=U(L,"DIV",{});var X=ue(o);l=U(X,"IMG",{id:!0,src:!0,style:!0,class:!0}),X.forEach(k),f=ee(L),c=U(L,"DIV",{class:!0});var H=ue(c);M.l(H),H.forEach(k),L.forEach(k),h=ee(B),d=U(B,"DIV",{id:!0,class:!0});var Q=ue(d);p=U(Q,"DIV",{class:!0,"data-svelte-h":!0}),we(p)!=="svelte-1go56d2"&&(p.textContent=y),b=ee(Q),x=U(Q,"DIV",{});var oe=ue(x);$=U(oe,"IMG",{id:!0,src:!0,style:!0,class:!0}),oe.forEach(k),T=ee(Q),A=U(Q,"DIV",{class:!0,"data-svelte-h":!0}),we(A)!=="svelte-b5me6g"&&(A.textContent=D),Q.forEach(k),B.forEach(k),this.h()},h(){G(i,"class","label svelte-qipmvq"),G(l,"id","compressed"),V1(l.src,u=e[3][e[0]])||G(l,"src",u),xn(l,"width",e[1]+"px"),G(l,"class","svelte-qipmvq"),G(c,"class","label svelte-qipmvq"),G(r,"id","k"),G(r,"class","svelte-qipmvq"),G(p,"class","label svelte-qipmvq"),G($,"id","original"),V1($.src,E="dog.png")||G($,"src",E),xn($,"width",e[1]+"px"),G($,"class","svelte-qipmvq"),G(A,"class","label svelte-qipmvq"),G(d,"id","og"),G(d,"class","svelte-qipmvq"),G(n,"id","kmeans-container"),G(n,"class","svelte-qipmvq")},m(C,B){z&&z.m(C,B),N(C,t,B),N(C,n,B),q(n,r),q(r,i),q(r,s),q(r,o),q(o,l),q(r,f),q(r,c),M.m(c,null),q(n,h),q(n,d),q(d,p),q(d,b),q(d,x),q(x,$),q(d,T),q(d,A)},p(C,[B]){C[2]?z?z.p(C,B):(z=a5(C),z.c(),z.m(t.parentNode,t)):z&&(z.d(1),z=null),B&1&&!V1(l.src,u=C[3][C[0]])&&G(l,"src",u),B&2&&xn(l,"width",C[1]+"px"),O===(O=j(C))&&M?M.p(C,B):(M.d(1),M=O(C),M&&(M.c(),M.m(c,null))),B&2&&xn($,"width",C[1]+"px")},i:Ke,o:Ke,d(C){C&&(k(t),k(n)),z&&z.d(C),M.d()}}}function Vb(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(l=>`${l}.png`);let{selected:i=2}=t,{width:a=300}=t,{showSlider:s=!1}=t;function o(){i=Vf(this.value),n(0,i)}return e.$$set=l=>{"selected"in l&&n(0,i=l.selected),"width"in l&&n(1,a=l.width),"showSlider"in l&&n(2,s=l.showSlider)},[i,a,s,r,o]}class M2 extends hn{constructor(t){super(),dn(this,t,Vb,Hb,cn,{selected:0,width:1,showSlider:2})}}function s5(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=V("input"),n=J(),r=V("span"),a=ie(i),s=ie(" colors"),this.h()},l(u){t=U(u,"INPUT",{type:!0,min:!0,max:!0}),n=ee(u),r=U(u,"SPAN",{class:!0});var f=ue(r);a=ae(f,i),s=ae(f," colors"),f.forEach(k),this.h()},h(){G(t,"type","range"),G(t,"min","0"),G(t,"max",e[6].length-1),G(r,"class","label svelte-1y3a1uz")},m(u,f){N(u,t,f),Vr(t,e[0]),N(u,n,f),N(u,r,f),q(r,a),q(r,s),o||(l=[St(t,"change",e[8]),St(t,"input",e[8])],o=!0)},p(u,f){f&1&&Vr(t,u[0]),f&1&&i!==(i=2**u[0]+"")&&an(a,i)},d(u){u&&(k(t),k(n),k(r)),o=!1,vl(l)}}}function Ub(e){let t,n,r,i,a="Compressed",s,o,l,u,f,c,h="Original",d,p,y,b,x,$,E,T,A=e[4].toFixed(2)+"",D,z,j,O=e[2]&&s5(e);return{c(){O&&O.c(),t=J(),n=V("div"),r=V("div"),i=V("div"),i.textContent=a,s=J(),o=V("div"),l=V("canvas"),u=J(),f=V("div"),c=V("div"),c.textContent=h,d=J(),p=V("div"),y=V("canvas"),b=J(),x=V("div"),$=V("div"),E=V("b"),T=ie("Average Error: "),D=ie(A),z=J(),j=V("canvas"),this.h()},l(M){O&&O.l(M),t=ee(M),n=U(M,"DIV",{id:!0,class:!0});var C=ue(n);r=U(C,"DIV",{id:!0,class:!0});var B=ue(r);i=U(B,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-gr914o"&&(i.textContent=a),s=ee(B),o=U(B,"DIV",{});var L=ue(o);l=U(L,"CANVAS",{width:!0,height:!0,class:!0}),ue(l).forEach(k),L.forEach(k),B.forEach(k),u=ee(C),f=U(C,"DIV",{id:!0,class:!0});var X=ue(f);c=U(X,"DIV",{class:!0,"data-svelte-h":!0}),we(c)!=="svelte-1go56d2"&&(c.textContent=h),d=ee(X),p=U(X,"DIV",{});var H=ue(p);y=U(H,"CANVAS",{width:!0,height:!0,class:!0}),ue(y).forEach(k),H.forEach(k),X.forEach(k),b=ee(C),x=U(C,"DIV",{});var Q=ue(x);$=U(Q,"DIV",{class:!0});var oe=ue($);E=U(oe,"B",{});var re=ue(E);T=ae(re,"Average Error: "),D=ae(re,A),re.forEach(k),oe.forEach(k),z=ee(Q),j=U(Q,"CANVAS",{width:!0,height:!0,class:!0}),ue(j).forEach(k),Q.forEach(k),C.forEach(k),this.h()},h(){G(i,"class","label svelte-1y3a1uz"),G(l,"width",e[1]),G(l,"height",e[3]),G(l,"class","svelte-1y3a1uz"),G(r,"id","k"),G(r,"class","svelte-1y3a1uz"),G(c,"class","label svelte-1y3a1uz"),G(y,"width",e[1]),G(y,"height",e[3]),G(y,"class","svelte-1y3a1uz"),G(f,"id","og"),G(f,"class","svelte-1y3a1uz"),G($,"class","label svelte-1y3a1uz"),G(j,"width",e[1]),G(j,"height",e[3]),G(j,"class","svelte-1y3a1uz"),G(n,"id","kmeans-container"),G(n,"class","svelte-1y3a1uz")},m(M,C){O&&O.m(M,C),N(M,t,C),N(M,n,C),q(n,r),q(r,i),q(r,s),q(r,o),q(o,l),e[9](l),q(n,u),q(n,f),q(f,c),q(f,d),q(f,p),q(p,y),e[10](y),q(n,b),q(n,x),q(x,$),q($,E),q(E,T),q(E,D),q(x,z),q(x,j),e[11](j)},p(M,[C]){M[2]?O?O.p(M,C):(O=s5(M),O.c(),O.m(t.parentNode,t)):O&&(O.d(1),O=null),C&2&&G(l,"width",M[1]),C&8&&G(l,"height",M[3]),C&2&&G(y,"width",M[1]),C&8&&G(y,"height",M[3]),C&16&&A!==(A=M[4].toFixed(2)+"")&&an(D,A),C&2&&G(j,"width",M[1]),C&8&&G(j,"height",M[3])},i:Ke,o:Ke,d(M){M&&(k(t),k(n)),O&&O.d(M),e[9](null),e[10](null),e[11](null)}}}const jb="dog.png";function Wb(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(A=>`${A}.png`);let{selected:i=0}=t,a=r[i],{width:s=230}=t,{showSlider:o=!0}=t,{height:l=150}=t,u=0,f={original:void 0,image:void 0,diff:void 0},c={original:void 0,image:void 0,diff:void 0};function h(A,D){return new Promise((j,O)=>{const M=new Image;M.src=D,M.onload=function(){A.drawImage(M,0,0,s,l),j()}})}function d(A,D,z){const j=new Uint8ClampedArray(s*l*4);n(4,u=0);for(let M=0;M<s*l*4;M+=4){const C=Math.abs(D[M]-z[M]),B=Math.abs(D[M+1]-z[M+1]),L=Math.abs(D[M+2]-z[M+2]),X=255*3,H=C+B+L,Q=H/X;j[M]=255,j[M+3]=Math.round(Q*255),n(4,u+=H)}const O=new ImageData(s,l,{colorSpace:"srgb"});O.data.set(j),A.diff.putImageData(O,0,0),n(4,u/=s*l)}let p,y;Q7(async()=>{c.original=f.original.getContext("2d"),c.image=f.image.getContext("2d",{willReadFrequently:!0}),c.diff=f.diff.getContext("2d"),await Promise.allSettled([h(c.image,a),h(c.original,jb)]).then(()=>{p=c.image.getImageData(0,0,s,l),y=c.original.getImageData(0,0,s,l),d(c,p.data,y.data)})});async function b(A){c.diff&&y&&await h(c.image,A).then(()=>{p=c.image.getImageData(0,0,s,l),d(c,p.data,y.data)})}function x(){i=Vf(this.value),n(0,i)}function $(A){Pr[A?"unshift":"push"](()=>{f.image=A,n(5,f)})}function E(A){Pr[A?"unshift":"push"](()=>{f.original=A,n(5,f)})}function T(A){Pr[A?"unshift":"push"](()=>{f.diff=A,n(5,f)})}return e.$$set=A=>{"selected"in A&&n(0,i=A.selected),"width"in A&&n(1,s=A.width),"showSlider"in A&&n(2,o=A.showSlider),"height"in A&&n(3,l=A.height)},e.$$.update=()=>{e.$$.dirty&129&&(n(7,a=r[i]),b(a))},[i,s,o,l,u,f,r,a,x,$,E,T]}class Yb extends hn{constructor(t){super(),dn(this,t,Wb,Ub,cn,{selected:0,width:1,showSlider:2,height:3})}}class nn{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new nn(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class lr{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new lr(n,nn.range(this,t))}}class me{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var f;a+15<o.length?f=o.slice(a,a+15)+"…":f=o.slice(a),r+=u+l+f}var c=new Error(r);return c.name="ParseError",c.__proto__=me.prototype,c.position=i,i!=null&&a!=null&&(c.length=a-i),c.rawMessage=t,c}}me.prototype.__proto__=Error.prototype;var Gb=function(t,n){return t.indexOf(n)!==-1},Xb=function(t,n){return t===void 0?n:t},Zb=/([A-Z])/g,Qb=function(t){return t.replace(Zb,"-$1").toLowerCase()},Kb={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Jb=/[&><"']/g;function ew(e){return String(e).replace(Jb,t=>Kb[t])}var ep=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},tw=function(t){var n=ep(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},nw=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},rw=function(t){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return n!=null?n[1]:"_relative"},Fe={contains:Gb,deflt:Xb,escape:ew,hyphenate:Qb,getBaseElem:ep,isCharacterBox:tw,protocolFromUrl:rw},U1={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function iw(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class $d{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in U1)if(U1.hasOwnProperty(n)){var r=U1[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:iw(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new me("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=Fe.protocolFromUrl(t.url));var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class b0{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return nr[aw[this.id]]}sub(){return nr[sw[this.id]]}fracNum(){return nr[ow[this.id]]}fracDen(){return nr[lw[this.id]]}cramp(){return nr[uw[this.id]]}text(){return nr[fw[this.id]]}isTight(){return this.size>=2}}var Td=0,J1=1,Ys=2,Or=3,Qo=4,Sn=5,Js=6,Ot=7,nr=[new b0(Td,0,!1),new b0(J1,0,!0),new b0(Ys,1,!1),new b0(Or,1,!0),new b0(Qo,2,!1),new b0(Sn,2,!0),new b0(Js,3,!1),new b0(Ot,3,!0)],aw=[Qo,Sn,Qo,Sn,Js,Ot,Js,Ot],sw=[Sn,Sn,Sn,Sn,Ot,Ot,Ot,Ot],ow=[Ys,Or,Qo,Sn,Js,Ot,Js,Ot],lw=[Or,Or,Sn,Sn,Ot,Ot,Ot,Ot],uw=[J1,J1,Or,Or,Sn,Sn,Ot,Ot],fw=[Td,J1,Ys,Or,Ys,Or,Ys,Or],_e={DISPLAY:nr[Td],TEXT:nr[Ys],SCRIPT:nr[Qo],SCRIPTSCRIPT:nr[Js]},y4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function cw(e){for(var t=0;t<y4.length;t++)for(var n=y4[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var j1=[];y4.forEach(e=>e.blocks.forEach(t=>j1.push(...t)));function tp(e){for(var t=0;t<j1.length;t+=2)if(e>=j1[t]&&e<=j1[t+1])return!0;return!1}var Rs=80,hw=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},dw=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},mw=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},pw=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},gw=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},vw=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},yw=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},bw=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=hw(n,Rs);break;case"sqrtSize1":i=dw(n,Rs);break;case"sqrtSize2":i=mw(n,Rs);break;case"sqrtSize3":i=pw(n,Rs);break;case"sqrtSize4":i=gw(n,Rs);break;case"sqrtTall":i=yw(n,Rs,r)}return i},ww=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},o5={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},xw=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class yl{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return Fe.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var ar={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},u1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},l5={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Mw(e,t){ar[e]=t}function Cd(e,t,n){if(!ar[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=ar[t][r];if(!i&&e[0]in l5&&(r=l5[e[0]].charCodeAt(0),i=ar[t][r]),!i&&n==="text"&&tp(r)&&(i=ar[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var S2={};function Sw(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!S2[t]){var n=S2[t]={cssEmPerMu:u1.quad[t]/18};for(var r in u1)u1.hasOwnProperty(r)&&(n[r]=u1[r][t])}return S2[t]}var kw=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],u5=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],f5=function(t,n){return n.size<2?t:kw[t-1][n.size-1]};class Nr{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Nr.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=u5[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Nr(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:f5(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:u5[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=f5(Nr.BASESIZE,t);return this.size===n&&this.textSize===Nr.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Nr.BASESIZE?["sizing","reset-size"+this.size,"size"+Nr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Sw(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Nr.BASESIZE=6;var b4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},$w={ex:!0,em:!0,mu:!0},np=function(t){return typeof t!="string"&&(t=t.unit),t in b4||t in $w||t==="ex"},st=function(t,n){var r;if(t.unit in b4)r=b4[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new me("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},ve=function(t){return+t.toFixed(4)+"em"},k0=function(t){return t.filter(n=>n).join(" ")},rp=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},ip=function(t){var n=document.createElement(t);n.className=k0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},ap=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Fe.escape(k0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Fe.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Fe.escape(r)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(n+=" "+a+'="'+Fe.escape(this.attributes[a])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class bl{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,rp.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return Fe.contains(this.classes,t)}toNode(){return ip.call(this,"span")}toMarkup(){return ap.call(this,"span")}}class Ad{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,rp.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return Fe.contains(this.classes,t)}toNode(){return ip.call(this,"a")}toMarkup(){return ap.call(this,"a")}}class Tw{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return Fe.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Fe.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+Fe.escape(n)+'"'),t+="'/>",t}}var Cw={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class An{constructor(t,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=cw(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Cw[this.text])}hasClass(t){return Fe.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ve(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=k0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Fe.escape(k0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Fe.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+Fe.escape(r)+'"');var a=Fe.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class Ur{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class $0{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",o5[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+o5[this.pathName]+"'/>"}}class w4{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");return t+="/>",t}}function c5(e){if(e instanceof An)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Aw(e){if(e instanceof bl)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var Ew={bin:1,close:1,inner:1,open:1,punct:1,rel:1},zw={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},nt={math:{},text:{}};function m(e,t,n,r,i,a){nt[e][i]={font:t,group:n,replace:r},a&&r&&(nt[e][r]=nt[e][i])}var g="math",fe="text",w="main",_="ams",rt="accent-token",Ee="bin",Ht="close",ho="inner",Ie="mathord",gt="op-token",mn="open",Uf="punct",I="rel",Jr="spacing",R="textord";m(g,w,I,"≡","\\equiv",!0);m(g,w,I,"≺","\\prec",!0);m(g,w,I,"≻","\\succ",!0);m(g,w,I,"∼","\\sim",!0);m(g,w,I,"⊥","\\perp");m(g,w,I,"⪯","\\preceq",!0);m(g,w,I,"⪰","\\succeq",!0);m(g,w,I,"≃","\\simeq",!0);m(g,w,I,"∣","\\mid",!0);m(g,w,I,"≪","\\ll",!0);m(g,w,I,"≫","\\gg",!0);m(g,w,I,"≍","\\asymp",!0);m(g,w,I,"∥","\\parallel");m(g,w,I,"⋈","\\bowtie",!0);m(g,w,I,"⌣","\\smile",!0);m(g,w,I,"⊑","\\sqsubseteq",!0);m(g,w,I,"⊒","\\sqsupseteq",!0);m(g,w,I,"≐","\\doteq",!0);m(g,w,I,"⌢","\\frown",!0);m(g,w,I,"∋","\\ni",!0);m(g,w,I,"∝","\\propto",!0);m(g,w,I,"⊢","\\vdash",!0);m(g,w,I,"⊣","\\dashv",!0);m(g,w,I,"∋","\\owns");m(g,w,Uf,".","\\ldotp");m(g,w,Uf,"⋅","\\cdotp");m(g,w,R,"#","\\#");m(fe,w,R,"#","\\#");m(g,w,R,"&","\\&");m(fe,w,R,"&","\\&");m(g,w,R,"ℵ","\\aleph",!0);m(g,w,R,"∀","\\forall",!0);m(g,w,R,"ℏ","\\hbar",!0);m(g,w,R,"∃","\\exists",!0);m(g,w,R,"∇","\\nabla",!0);m(g,w,R,"♭","\\flat",!0);m(g,w,R,"ℓ","\\ell",!0);m(g,w,R,"♮","\\natural",!0);m(g,w,R,"♣","\\clubsuit",!0);m(g,w,R,"℘","\\wp",!0);m(g,w,R,"♯","\\sharp",!0);m(g,w,R,"♢","\\diamondsuit",!0);m(g,w,R,"ℜ","\\Re",!0);m(g,w,R,"♡","\\heartsuit",!0);m(g,w,R,"ℑ","\\Im",!0);m(g,w,R,"♠","\\spadesuit",!0);m(g,w,R,"§","\\S",!0);m(fe,w,R,"§","\\S");m(g,w,R,"¶","\\P",!0);m(fe,w,R,"¶","\\P");m(g,w,R,"†","\\dag");m(fe,w,R,"†","\\dag");m(fe,w,R,"†","\\textdagger");m(g,w,R,"‡","\\ddag");m(fe,w,R,"‡","\\ddag");m(fe,w,R,"‡","\\textdaggerdbl");m(g,w,Ht,"⎱","\\rmoustache",!0);m(g,w,mn,"⎰","\\lmoustache",!0);m(g,w,Ht,"⟯","\\rgroup",!0);m(g,w,mn,"⟮","\\lgroup",!0);m(g,w,Ee,"∓","\\mp",!0);m(g,w,Ee,"⊖","\\ominus",!0);m(g,w,Ee,"⊎","\\uplus",!0);m(g,w,Ee,"⊓","\\sqcap",!0);m(g,w,Ee,"∗","\\ast");m(g,w,Ee,"⊔","\\sqcup",!0);m(g,w,Ee,"◯","\\bigcirc",!0);m(g,w,Ee,"∙","\\bullet",!0);m(g,w,Ee,"‡","\\ddagger");m(g,w,Ee,"≀","\\wr",!0);m(g,w,Ee,"⨿","\\amalg");m(g,w,Ee,"&","\\And");m(g,w,I,"⟵","\\longleftarrow",!0);m(g,w,I,"⇐","\\Leftarrow",!0);m(g,w,I,"⟸","\\Longleftarrow",!0);m(g,w,I,"⟶","\\longrightarrow",!0);m(g,w,I,"⇒","\\Rightarrow",!0);m(g,w,I,"⟹","\\Longrightarrow",!0);m(g,w,I,"↔","\\leftrightarrow",!0);m(g,w,I,"⟷","\\longleftrightarrow",!0);m(g,w,I,"⇔","\\Leftrightarrow",!0);m(g,w,I,"⟺","\\Longleftrightarrow",!0);m(g,w,I,"↦","\\mapsto",!0);m(g,w,I,"⟼","\\longmapsto",!0);m(g,w,I,"↗","\\nearrow",!0);m(g,w,I,"↩","\\hookleftarrow",!0);m(g,w,I,"↪","\\hookrightarrow",!0);m(g,w,I,"↘","\\searrow",!0);m(g,w,I,"↼","\\leftharpoonup",!0);m(g,w,I,"⇀","\\rightharpoonup",!0);m(g,w,I,"↙","\\swarrow",!0);m(g,w,I,"↽","\\leftharpoondown",!0);m(g,w,I,"⇁","\\rightharpoondown",!0);m(g,w,I,"↖","\\nwarrow",!0);m(g,w,I,"⇌","\\rightleftharpoons",!0);m(g,_,I,"≮","\\nless",!0);m(g,_,I,"","\\@nleqslant");m(g,_,I,"","\\@nleqq");m(g,_,I,"⪇","\\lneq",!0);m(g,_,I,"≨","\\lneqq",!0);m(g,_,I,"","\\@lvertneqq");m(g,_,I,"⋦","\\lnsim",!0);m(g,_,I,"⪉","\\lnapprox",!0);m(g,_,I,"⊀","\\nprec",!0);m(g,_,I,"⋠","\\npreceq",!0);m(g,_,I,"⋨","\\precnsim",!0);m(g,_,I,"⪹","\\precnapprox",!0);m(g,_,I,"≁","\\nsim",!0);m(g,_,I,"","\\@nshortmid");m(g,_,I,"∤","\\nmid",!0);m(g,_,I,"⊬","\\nvdash",!0);m(g,_,I,"⊭","\\nvDash",!0);m(g,_,I,"⋪","\\ntriangleleft");m(g,_,I,"⋬","\\ntrianglelefteq",!0);m(g,_,I,"⊊","\\subsetneq",!0);m(g,_,I,"","\\@varsubsetneq");m(g,_,I,"⫋","\\subsetneqq",!0);m(g,_,I,"","\\@varsubsetneqq");m(g,_,I,"≯","\\ngtr",!0);m(g,_,I,"","\\@ngeqslant");m(g,_,I,"","\\@ngeqq");m(g,_,I,"⪈","\\gneq",!0);m(g,_,I,"≩","\\gneqq",!0);m(g,_,I,"","\\@gvertneqq");m(g,_,I,"⋧","\\gnsim",!0);m(g,_,I,"⪊","\\gnapprox",!0);m(g,_,I,"⊁","\\nsucc",!0);m(g,_,I,"⋡","\\nsucceq",!0);m(g,_,I,"⋩","\\succnsim",!0);m(g,_,I,"⪺","\\succnapprox",!0);m(g,_,I,"≆","\\ncong",!0);m(g,_,I,"","\\@nshortparallel");m(g,_,I,"∦","\\nparallel",!0);m(g,_,I,"⊯","\\nVDash",!0);m(g,_,I,"⋫","\\ntriangleright");m(g,_,I,"⋭","\\ntrianglerighteq",!0);m(g,_,I,"","\\@nsupseteqq");m(g,_,I,"⊋","\\supsetneq",!0);m(g,_,I,"","\\@varsupsetneq");m(g,_,I,"⫌","\\supsetneqq",!0);m(g,_,I,"","\\@varsupsetneqq");m(g,_,I,"⊮","\\nVdash",!0);m(g,_,I,"⪵","\\precneqq",!0);m(g,_,I,"⪶","\\succneqq",!0);m(g,_,I,"","\\@nsubseteqq");m(g,_,Ee,"⊴","\\unlhd");m(g,_,Ee,"⊵","\\unrhd");m(g,_,I,"↚","\\nleftarrow",!0);m(g,_,I,"↛","\\nrightarrow",!0);m(g,_,I,"⇍","\\nLeftarrow",!0);m(g,_,I,"⇏","\\nRightarrow",!0);m(g,_,I,"↮","\\nleftrightarrow",!0);m(g,_,I,"⇎","\\nLeftrightarrow",!0);m(g,_,I,"△","\\vartriangle");m(g,_,R,"ℏ","\\hslash");m(g,_,R,"▽","\\triangledown");m(g,_,R,"◊","\\lozenge");m(g,_,R,"Ⓢ","\\circledS");m(g,_,R,"®","\\circledR");m(fe,_,R,"®","\\circledR");m(g,_,R,"∡","\\measuredangle",!0);m(g,_,R,"∄","\\nexists");m(g,_,R,"℧","\\mho");m(g,_,R,"Ⅎ","\\Finv",!0);m(g,_,R,"⅁","\\Game",!0);m(g,_,R,"‵","\\backprime");m(g,_,R,"▲","\\blacktriangle");m(g,_,R,"▼","\\blacktriangledown");m(g,_,R,"■","\\blacksquare");m(g,_,R,"⧫","\\blacklozenge");m(g,_,R,"★","\\bigstar");m(g,_,R,"∢","\\sphericalangle",!0);m(g,_,R,"∁","\\complement",!0);m(g,_,R,"ð","\\eth",!0);m(fe,w,R,"ð","ð");m(g,_,R,"╱","\\diagup");m(g,_,R,"╲","\\diagdown");m(g,_,R,"□","\\square");m(g,_,R,"□","\\Box");m(g,_,R,"◊","\\Diamond");m(g,_,R,"¥","\\yen",!0);m(fe,_,R,"¥","\\yen",!0);m(g,_,R,"✓","\\checkmark",!0);m(fe,_,R,"✓","\\checkmark");m(g,_,R,"ℶ","\\beth",!0);m(g,_,R,"ℸ","\\daleth",!0);m(g,_,R,"ℷ","\\gimel",!0);m(g,_,R,"ϝ","\\digamma",!0);m(g,_,R,"ϰ","\\varkappa");m(g,_,mn,"┌","\\@ulcorner",!0);m(g,_,Ht,"┐","\\@urcorner",!0);m(g,_,mn,"└","\\@llcorner",!0);m(g,_,Ht,"┘","\\@lrcorner",!0);m(g,_,I,"≦","\\leqq",!0);m(g,_,I,"⩽","\\leqslant",!0);m(g,_,I,"⪕","\\eqslantless",!0);m(g,_,I,"≲","\\lesssim",!0);m(g,_,I,"⪅","\\lessapprox",!0);m(g,_,I,"≊","\\approxeq",!0);m(g,_,Ee,"⋖","\\lessdot");m(g,_,I,"⋘","\\lll",!0);m(g,_,I,"≶","\\lessgtr",!0);m(g,_,I,"⋚","\\lesseqgtr",!0);m(g,_,I,"⪋","\\lesseqqgtr",!0);m(g,_,I,"≑","\\doteqdot");m(g,_,I,"≓","\\risingdotseq",!0);m(g,_,I,"≒","\\fallingdotseq",!0);m(g,_,I,"∽","\\backsim",!0);m(g,_,I,"⋍","\\backsimeq",!0);m(g,_,I,"⫅","\\subseteqq",!0);m(g,_,I,"⋐","\\Subset",!0);m(g,_,I,"⊏","\\sqsubset",!0);m(g,_,I,"≼","\\preccurlyeq",!0);m(g,_,I,"⋞","\\curlyeqprec",!0);m(g,_,I,"≾","\\precsim",!0);m(g,_,I,"⪷","\\precapprox",!0);m(g,_,I,"⊲","\\vartriangleleft");m(g,_,I,"⊴","\\trianglelefteq");m(g,_,I,"⊨","\\vDash",!0);m(g,_,I,"⊪","\\Vvdash",!0);m(g,_,I,"⌣","\\smallsmile");m(g,_,I,"⌢","\\smallfrown");m(g,_,I,"≏","\\bumpeq",!0);m(g,_,I,"≎","\\Bumpeq",!0);m(g,_,I,"≧","\\geqq",!0);m(g,_,I,"⩾","\\geqslant",!0);m(g,_,I,"⪖","\\eqslantgtr",!0);m(g,_,I,"≳","\\gtrsim",!0);m(g,_,I,"⪆","\\gtrapprox",!0);m(g,_,Ee,"⋗","\\gtrdot");m(g,_,I,"⋙","\\ggg",!0);m(g,_,I,"≷","\\gtrless",!0);m(g,_,I,"⋛","\\gtreqless",!0);m(g,_,I,"⪌","\\gtreqqless",!0);m(g,_,I,"≖","\\eqcirc",!0);m(g,_,I,"≗","\\circeq",!0);m(g,_,I,"≜","\\triangleq",!0);m(g,_,I,"∼","\\thicksim");m(g,_,I,"≈","\\thickapprox");m(g,_,I,"⫆","\\supseteqq",!0);m(g,_,I,"⋑","\\Supset",!0);m(g,_,I,"⊐","\\sqsupset",!0);m(g,_,I,"≽","\\succcurlyeq",!0);m(g,_,I,"⋟","\\curlyeqsucc",!0);m(g,_,I,"≿","\\succsim",!0);m(g,_,I,"⪸","\\succapprox",!0);m(g,_,I,"⊳","\\vartriangleright");m(g,_,I,"⊵","\\trianglerighteq");m(g,_,I,"⊩","\\Vdash",!0);m(g,_,I,"∣","\\shortmid");m(g,_,I,"∥","\\shortparallel");m(g,_,I,"≬","\\between",!0);m(g,_,I,"⋔","\\pitchfork",!0);m(g,_,I,"∝","\\varpropto");m(g,_,I,"◀","\\blacktriangleleft");m(g,_,I,"∴","\\therefore",!0);m(g,_,I,"∍","\\backepsilon");m(g,_,I,"▶","\\blacktriangleright");m(g,_,I,"∵","\\because",!0);m(g,_,I,"⋘","\\llless");m(g,_,I,"⋙","\\gggtr");m(g,_,Ee,"⊲","\\lhd");m(g,_,Ee,"⊳","\\rhd");m(g,_,I,"≂","\\eqsim",!0);m(g,w,I,"⋈","\\Join");m(g,_,I,"≑","\\Doteq",!0);m(g,_,Ee,"∔","\\dotplus",!0);m(g,_,Ee,"∖","\\smallsetminus");m(g,_,Ee,"⋒","\\Cap",!0);m(g,_,Ee,"⋓","\\Cup",!0);m(g,_,Ee,"⩞","\\doublebarwedge",!0);m(g,_,Ee,"⊟","\\boxminus",!0);m(g,_,Ee,"⊞","\\boxplus",!0);m(g,_,Ee,"⋇","\\divideontimes",!0);m(g,_,Ee,"⋉","\\ltimes",!0);m(g,_,Ee,"⋊","\\rtimes",!0);m(g,_,Ee,"⋋","\\leftthreetimes",!0);m(g,_,Ee,"⋌","\\rightthreetimes",!0);m(g,_,Ee,"⋏","\\curlywedge",!0);m(g,_,Ee,"⋎","\\curlyvee",!0);m(g,_,Ee,"⊝","\\circleddash",!0);m(g,_,Ee,"⊛","\\circledast",!0);m(g,_,Ee,"⋅","\\centerdot");m(g,_,Ee,"⊺","\\intercal",!0);m(g,_,Ee,"⋒","\\doublecap");m(g,_,Ee,"⋓","\\doublecup");m(g,_,Ee,"⊠","\\boxtimes",!0);m(g,_,I,"⇢","\\dashrightarrow",!0);m(g,_,I,"⇠","\\dashleftarrow",!0);m(g,_,I,"⇇","\\leftleftarrows",!0);m(g,_,I,"⇆","\\leftrightarrows",!0);m(g,_,I,"⇚","\\Lleftarrow",!0);m(g,_,I,"↞","\\twoheadleftarrow",!0);m(g,_,I,"↢","\\leftarrowtail",!0);m(g,_,I,"↫","\\looparrowleft",!0);m(g,_,I,"⇋","\\leftrightharpoons",!0);m(g,_,I,"↶","\\curvearrowleft",!0);m(g,_,I,"↺","\\circlearrowleft",!0);m(g,_,I,"↰","\\Lsh",!0);m(g,_,I,"⇈","\\upuparrows",!0);m(g,_,I,"↿","\\upharpoonleft",!0);m(g,_,I,"⇃","\\downharpoonleft",!0);m(g,w,I,"⊶","\\origof",!0);m(g,w,I,"⊷","\\imageof",!0);m(g,_,I,"⊸","\\multimap",!0);m(g,_,I,"↭","\\leftrightsquigarrow",!0);m(g,_,I,"⇉","\\rightrightarrows",!0);m(g,_,I,"⇄","\\rightleftarrows",!0);m(g,_,I,"↠","\\twoheadrightarrow",!0);m(g,_,I,"↣","\\rightarrowtail",!0);m(g,_,I,"↬","\\looparrowright",!0);m(g,_,I,"↷","\\curvearrowright",!0);m(g,_,I,"↻","\\circlearrowright",!0);m(g,_,I,"↱","\\Rsh",!0);m(g,_,I,"⇊","\\downdownarrows",!0);m(g,_,I,"↾","\\upharpoonright",!0);m(g,_,I,"⇂","\\downharpoonright",!0);m(g,_,I,"⇝","\\rightsquigarrow",!0);m(g,_,I,"⇝","\\leadsto");m(g,_,I,"⇛","\\Rrightarrow",!0);m(g,_,I,"↾","\\restriction");m(g,w,R,"‘","`");m(g,w,R,"$","\\$");m(fe,w,R,"$","\\$");m(fe,w,R,"$","\\textdollar");m(g,w,R,"%","\\%");m(fe,w,R,"%","\\%");m(g,w,R,"_","\\_");m(fe,w,R,"_","\\_");m(fe,w,R,"_","\\textunderscore");m(g,w,R,"∠","\\angle",!0);m(g,w,R,"∞","\\infty",!0);m(g,w,R,"′","\\prime");m(g,w,R,"△","\\triangle");m(g,w,R,"Γ","\\Gamma",!0);m(g,w,R,"Δ","\\Delta",!0);m(g,w,R,"Θ","\\Theta",!0);m(g,w,R,"Λ","\\Lambda",!0);m(g,w,R,"Ξ","\\Xi",!0);m(g,w,R,"Π","\\Pi",!0);m(g,w,R,"Σ","\\Sigma",!0);m(g,w,R,"Υ","\\Upsilon",!0);m(g,w,R,"Φ","\\Phi",!0);m(g,w,R,"Ψ","\\Psi",!0);m(g,w,R,"Ω","\\Omega",!0);m(g,w,R,"A","Α");m(g,w,R,"B","Β");m(g,w,R,"E","Ε");m(g,w,R,"Z","Ζ");m(g,w,R,"H","Η");m(g,w,R,"I","Ι");m(g,w,R,"K","Κ");m(g,w,R,"M","Μ");m(g,w,R,"N","Ν");m(g,w,R,"O","Ο");m(g,w,R,"P","Ρ");m(g,w,R,"T","Τ");m(g,w,R,"X","Χ");m(g,w,R,"¬","\\neg",!0);m(g,w,R,"¬","\\lnot");m(g,w,R,"⊤","\\top");m(g,w,R,"⊥","\\bot");m(g,w,R,"∅","\\emptyset");m(g,_,R,"∅","\\varnothing");m(g,w,Ie,"α","\\alpha",!0);m(g,w,Ie,"β","\\beta",!0);m(g,w,Ie,"γ","\\gamma",!0);m(g,w,Ie,"δ","\\delta",!0);m(g,w,Ie,"ϵ","\\epsilon",!0);m(g,w,Ie,"ζ","\\zeta",!0);m(g,w,Ie,"η","\\eta",!0);m(g,w,Ie,"θ","\\theta",!0);m(g,w,Ie,"ι","\\iota",!0);m(g,w,Ie,"κ","\\kappa",!0);m(g,w,Ie,"λ","\\lambda",!0);m(g,w,Ie,"μ","\\mu",!0);m(g,w,Ie,"ν","\\nu",!0);m(g,w,Ie,"ξ","\\xi",!0);m(g,w,Ie,"ο","\\omicron",!0);m(g,w,Ie,"π","\\pi",!0);m(g,w,Ie,"ρ","\\rho",!0);m(g,w,Ie,"σ","\\sigma",!0);m(g,w,Ie,"τ","\\tau",!0);m(g,w,Ie,"υ","\\upsilon",!0);m(g,w,Ie,"ϕ","\\phi",!0);m(g,w,Ie,"χ","\\chi",!0);m(g,w,Ie,"ψ","\\psi",!0);m(g,w,Ie,"ω","\\omega",!0);m(g,w,Ie,"ε","\\varepsilon",!0);m(g,w,Ie,"ϑ","\\vartheta",!0);m(g,w,Ie,"ϖ","\\varpi",!0);m(g,w,Ie,"ϱ","\\varrho",!0);m(g,w,Ie,"ς","\\varsigma",!0);m(g,w,Ie,"φ","\\varphi",!0);m(g,w,Ee,"∗","*",!0);m(g,w,Ee,"+","+");m(g,w,Ee,"−","-",!0);m(g,w,Ee,"⋅","\\cdot",!0);m(g,w,Ee,"∘","\\circ",!0);m(g,w,Ee,"÷","\\div",!0);m(g,w,Ee,"±","\\pm",!0);m(g,w,Ee,"×","\\times",!0);m(g,w,Ee,"∩","\\cap",!0);m(g,w,Ee,"∪","\\cup",!0);m(g,w,Ee,"∖","\\setminus",!0);m(g,w,Ee,"∧","\\land");m(g,w,Ee,"∨","\\lor");m(g,w,Ee,"∧","\\wedge",!0);m(g,w,Ee,"∨","\\vee",!0);m(g,w,R,"√","\\surd");m(g,w,mn,"⟨","\\langle",!0);m(g,w,mn,"∣","\\lvert");m(g,w,mn,"∥","\\lVert");m(g,w,Ht,"?","?");m(g,w,Ht,"!","!");m(g,w,Ht,"⟩","\\rangle",!0);m(g,w,Ht,"∣","\\rvert");m(g,w,Ht,"∥","\\rVert");m(g,w,I,"=","=");m(g,w,I,":",":");m(g,w,I,"≈","\\approx",!0);m(g,w,I,"≅","\\cong",!0);m(g,w,I,"≥","\\ge");m(g,w,I,"≥","\\geq",!0);m(g,w,I,"←","\\gets");m(g,w,I,">","\\gt",!0);m(g,w,I,"∈","\\in",!0);m(g,w,I,"","\\@not");m(g,w,I,"⊂","\\subset",!0);m(g,w,I,"⊃","\\supset",!0);m(g,w,I,"⊆","\\subseteq",!0);m(g,w,I,"⊇","\\supseteq",!0);m(g,_,I,"⊈","\\nsubseteq",!0);m(g,_,I,"⊉","\\nsupseteq",!0);m(g,w,I,"⊨","\\models");m(g,w,I,"←","\\leftarrow",!0);m(g,w,I,"≤","\\le");m(g,w,I,"≤","\\leq",!0);m(g,w,I,"<","\\lt",!0);m(g,w,I,"→","\\rightarrow",!0);m(g,w,I,"→","\\to");m(g,_,I,"≱","\\ngeq",!0);m(g,_,I,"≰","\\nleq",!0);m(g,w,Jr," ","\\ ");m(g,w,Jr," ","\\space");m(g,w,Jr," ","\\nobreakspace");m(fe,w,Jr," ","\\ ");m(fe,w,Jr," "," ");m(fe,w,Jr," ","\\space");m(fe,w,Jr," ","\\nobreakspace");m(g,w,Jr,null,"\\nobreak");m(g,w,Jr,null,"\\allowbreak");m(g,w,Uf,",",",");m(g,w,Uf,";",";");m(g,_,Ee,"⊼","\\barwedge",!0);m(g,_,Ee,"⊻","\\veebar",!0);m(g,w,Ee,"⊙","\\odot",!0);m(g,w,Ee,"⊕","\\oplus",!0);m(g,w,Ee,"⊗","\\otimes",!0);m(g,w,R,"∂","\\partial",!0);m(g,w,Ee,"⊘","\\oslash",!0);m(g,_,Ee,"⊚","\\circledcirc",!0);m(g,_,Ee,"⊡","\\boxdot",!0);m(g,w,Ee,"△","\\bigtriangleup");m(g,w,Ee,"▽","\\bigtriangledown");m(g,w,Ee,"†","\\dagger");m(g,w,Ee,"⋄","\\diamond");m(g,w,Ee,"⋆","\\star");m(g,w,Ee,"◃","\\triangleleft");m(g,w,Ee,"▹","\\triangleright");m(g,w,mn,"{","\\{");m(fe,w,R,"{","\\{");m(fe,w,R,"{","\\textbraceleft");m(g,w,Ht,"}","\\}");m(fe,w,R,"}","\\}");m(fe,w,R,"}","\\textbraceright");m(g,w,mn,"{","\\lbrace");m(g,w,Ht,"}","\\rbrace");m(g,w,mn,"[","\\lbrack",!0);m(fe,w,R,"[","\\lbrack",!0);m(g,w,Ht,"]","\\rbrack",!0);m(fe,w,R,"]","\\rbrack",!0);m(g,w,mn,"(","\\lparen",!0);m(g,w,Ht,")","\\rparen",!0);m(fe,w,R,"<","\\textless",!0);m(fe,w,R,">","\\textgreater",!0);m(g,w,mn,"⌊","\\lfloor",!0);m(g,w,Ht,"⌋","\\rfloor",!0);m(g,w,mn,"⌈","\\lceil",!0);m(g,w,Ht,"⌉","\\rceil",!0);m(g,w,R,"\\","\\backslash");m(g,w,R,"∣","|");m(g,w,R,"∣","\\vert");m(fe,w,R,"|","\\textbar",!0);m(g,w,R,"∥","\\|");m(g,w,R,"∥","\\Vert");m(fe,w,R,"∥","\\textbardbl");m(fe,w,R,"~","\\textasciitilde");m(fe,w,R,"\\","\\textbackslash");m(fe,w,R,"^","\\textasciicircum");m(g,w,I,"↑","\\uparrow",!0);m(g,w,I,"⇑","\\Uparrow",!0);m(g,w,I,"↓","\\downarrow",!0);m(g,w,I,"⇓","\\Downarrow",!0);m(g,w,I,"↕","\\updownarrow",!0);m(g,w,I,"⇕","\\Updownarrow",!0);m(g,w,gt,"∐","\\coprod");m(g,w,gt,"⋁","\\bigvee");m(g,w,gt,"⋀","\\bigwedge");m(g,w,gt,"⨄","\\biguplus");m(g,w,gt,"⋂","\\bigcap");m(g,w,gt,"⋃","\\bigcup");m(g,w,gt,"∫","\\int");m(g,w,gt,"∫","\\intop");m(g,w,gt,"∬","\\iint");m(g,w,gt,"∭","\\iiint");m(g,w,gt,"∏","\\prod");m(g,w,gt,"∑","\\sum");m(g,w,gt,"⨂","\\bigotimes");m(g,w,gt,"⨁","\\bigoplus");m(g,w,gt,"⨀","\\bigodot");m(g,w,gt,"∮","\\oint");m(g,w,gt,"∯","\\oiint");m(g,w,gt,"∰","\\oiiint");m(g,w,gt,"⨆","\\bigsqcup");m(g,w,gt,"∫","\\smallint");m(fe,w,ho,"…","\\textellipsis");m(g,w,ho,"…","\\mathellipsis");m(fe,w,ho,"…","\\ldots",!0);m(g,w,ho,"…","\\ldots",!0);m(g,w,ho,"⋯","\\@cdots",!0);m(g,w,ho,"⋱","\\ddots",!0);m(g,w,R,"⋮","\\varvdots");m(g,w,rt,"ˊ","\\acute");m(g,w,rt,"ˋ","\\grave");m(g,w,rt,"¨","\\ddot");m(g,w,rt,"~","\\tilde");m(g,w,rt,"ˉ","\\bar");m(g,w,rt,"˘","\\breve");m(g,w,rt,"ˇ","\\check");m(g,w,rt,"^","\\hat");m(g,w,rt,"⃗","\\vec");m(g,w,rt,"˙","\\dot");m(g,w,rt,"˚","\\mathring");m(g,w,Ie,"","\\@imath");m(g,w,Ie,"","\\@jmath");m(g,w,R,"ı","ı");m(g,w,R,"ȷ","ȷ");m(fe,w,R,"ı","\\i",!0);m(fe,w,R,"ȷ","\\j",!0);m(fe,w,R,"ß","\\ss",!0);m(fe,w,R,"æ","\\ae",!0);m(fe,w,R,"œ","\\oe",!0);m(fe,w,R,"ø","\\o",!0);m(fe,w,R,"Æ","\\AE",!0);m(fe,w,R,"Œ","\\OE",!0);m(fe,w,R,"Ø","\\O",!0);m(fe,w,rt,"ˊ","\\'");m(fe,w,rt,"ˋ","\\`");m(fe,w,rt,"ˆ","\\^");m(fe,w,rt,"˜","\\~");m(fe,w,rt,"ˉ","\\=");m(fe,w,rt,"˘","\\u");m(fe,w,rt,"˙","\\.");m(fe,w,rt,"¸","\\c");m(fe,w,rt,"˚","\\r");m(fe,w,rt,"ˇ","\\v");m(fe,w,rt,"¨",'\\"');m(fe,w,rt,"˝","\\H");m(fe,w,rt,"◯","\\textcircled");var sp={"--":!0,"---":!0,"``":!0,"''":!0};m(fe,w,R,"–","--",!0);m(fe,w,R,"–","\\textendash");m(fe,w,R,"—","---",!0);m(fe,w,R,"—","\\textemdash");m(fe,w,R,"‘","`",!0);m(fe,w,R,"‘","\\textquoteleft");m(fe,w,R,"’","'",!0);m(fe,w,R,"’","\\textquoteright");m(fe,w,R,"“","``",!0);m(fe,w,R,"“","\\textquotedblleft");m(fe,w,R,"”","''",!0);m(fe,w,R,"”","\\textquotedblright");m(g,w,R,"°","\\degree",!0);m(fe,w,R,"°","\\degree");m(fe,w,R,"°","\\textdegree",!0);m(g,w,R,"£","\\pounds");m(g,w,R,"£","\\mathsterling",!0);m(fe,w,R,"£","\\pounds");m(fe,w,R,"£","\\textsterling",!0);m(g,_,R,"✠","\\maltese");m(fe,_,R,"✠","\\maltese");var h5='0123456789/@."';for(var k2=0;k2<h5.length;k2++){var d5=h5.charAt(k2);m(g,w,R,d5,d5)}var m5='0123456789!@*()-=+";:?/.,';for(var $2=0;$2<m5.length;$2++){var p5=m5.charAt($2);m(fe,w,R,p5,p5)}var ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var T2=0;T2<ef.length;T2++){var f1=ef.charAt(T2);m(g,w,Ie,f1,f1),m(fe,w,R,f1,f1)}m(g,_,R,"C","ℂ");m(fe,_,R,"C","ℂ");m(g,_,R,"H","ℍ");m(fe,_,R,"H","ℍ");m(g,_,R,"N","ℕ");m(fe,_,R,"N","ℕ");m(g,_,R,"P","ℙ");m(fe,_,R,"P","ℙ");m(g,_,R,"Q","ℚ");m(fe,_,R,"Q","ℚ");m(g,_,R,"R","ℝ");m(fe,_,R,"R","ℝ");m(g,_,R,"Z","ℤ");m(fe,_,R,"Z","ℤ");m(g,w,Ie,"h","ℎ");m(fe,w,Ie,"h","ℎ");var Le="";for(var Yt=0;Yt<ef.length;Yt++){var pt=ef.charAt(Yt);Le=String.fromCharCode(55349,56320+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56372+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56424+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56580+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56736+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56788+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56840+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56944+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Yt<26&&(Le=String.fromCharCode(55349,56632+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le),Le=String.fromCharCode(55349,56476+Yt),m(g,w,Ie,pt,Le),m(fe,w,R,pt,Le))}Le=String.fromCharCode(55349,56668);m(g,w,Ie,"k",Le);m(fe,w,R,"k",Le);for(var Ka=0;Ka<10;Ka++){var w0=Ka.toString();Le=String.fromCharCode(55349,57294+Ka),m(g,w,Ie,w0,Le),m(fe,w,R,w0,Le),Le=String.fromCharCode(55349,57314+Ka),m(g,w,Ie,w0,Le),m(fe,w,R,w0,Le),Le=String.fromCharCode(55349,57324+Ka),m(g,w,Ie,w0,Le),m(fe,w,R,w0,Le),Le=String.fromCharCode(55349,57334+Ka),m(g,w,Ie,w0,Le),m(fe,w,R,w0,Le)}var x4="ÐÞþ";for(var C2=0;C2<x4.length;C2++){var c1=x4.charAt(C2);m(g,w,Ie,c1,c1),m(fe,w,R,c1,c1)}var h1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],g5=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Dw=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[h1[o][2],h1[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[g5[l][2],g5[l][s]]}else{if(a===120485||a===120486)return[h1[0][2],h1[0][s]];if(120486<a&&a<120782)return["",""];throw new me("Unsupported character: "+t)}},jf=function(t,n,r){return nt[r][t]&&nt[r][t].replace&&(t=nt[r][t].replace),{value:t,metrics:Cd(t,n,r)}},Bn=function(t,n,r,i,a){var s=jf(t,n,r),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new An(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),l=new An(t,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var f=i.getColor();f&&(l.style.color=f)}return l},_w=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&jf(t,"Main-Bold",n).metrics?Bn(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||nt[n][t].font==="main"?Bn(t,"Main-Regular",n,r,i):Bn(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},Iw=function(t,n,r,i,a){return a!=="textord"&&jf(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Nw=function(t,n,r){var i=t.mode,a=t.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily;if(a.charCodeAt(0)===55349){var[u,f]=Dw(a,i);return Bn(a,u,i,n,s.concat(f))}else if(l){var c,h;if(l==="boldsymbol"){var d=Iw(a,i,n,s,r);c=d.fontName,h=[d.fontClass]}else o?(c=up[l].fontName,h=[l]):(c=d1(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(jf(a,c,i).metrics)return Bn(a,c,i,n,s.concat(h));if(sp.hasOwnProperty(a)&&c.slice(0,10)==="Typewriter"){for(var p=[],y=0;y<a.length;y++)p.push(Bn(a[y],c,i,n,s.concat(h)));return lp(p)}}if(r==="mathord")return Bn(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var b=nt[i][a]&&nt[i][a].font;if(b==="ams"){var x=d1("amsrm",n.fontWeight,n.fontShape);return Bn(a,x,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(b==="main"||!b){var $=d1("textrm",n.fontWeight,n.fontShape);return Bn(a,$,i,n,s.concat(n.fontWeight,n.fontShape))}else{var E=d1(b,n.fontWeight,n.fontShape);return Bn(a,E,i,n,s.concat(E,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},qw=(e,t)=>{if(k0(e.classes)!==k0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},Bw=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof An&&r instanceof An&&qw(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},Ed=function(t){for(var n=0,r=0,i=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},Gt=function(t,n,r,i){var a=new bl(t,n,r,i);return Ed(a),a},op=(e,t,n,r)=>new bl(e,t,n,r),Fw=function(t,n,r){var i=Gt([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ve(i.height),i.maxFontSize=1,i},Lw=function(t,n,r,i){var a=new Ad(t,n,r,i);return Ed(a),a},lp=function(t){var n=new yl(t);return Ed(n),n},Rw=function(t,n){return t instanceof yl?Gt([],[t],n):t},Pw=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var f=t.positionData,c=0;c<t.children.length;c++){var h=t.children[c];f-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=f}else if(t.positionType==="bottom")u=-t.positionData;else{var d=t.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-d.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},Ow=function(t,n){for(var{children:r,depth:i}=Pw(t),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=Gt(["pstrut"],[]);u.style.height=ve(a);for(var f=[],c=i,h=i,d=i,p=0;p<r.length;p++){var y=r[p];if(y.type==="kern")d+=y.size;else{var b=y.elem,x=y.wrapperClasses||[],$=y.wrapperStyle||{},E=Gt(x,[u,b],void 0,$);E.style.top=ve(-a-d-b.depth),y.marginLeft&&(E.style.marginLeft=y.marginLeft),y.marginRight&&(E.style.marginRight=y.marginRight),f.push(E),d+=b.height+b.depth}c=Math.min(c,d),h=Math.max(h,d)}var T=Gt(["vlist"],f);T.style.height=ve(h);var A;if(c<0){var D=Gt([],[]),z=Gt(["vlist"],[D]);z.style.height=ve(-c);var j=Gt(["vlist-s"],[new An("​")]);A=[Gt(["vlist-r"],[T,j]),Gt(["vlist-r"],[z])]}else A=[Gt(["vlist-r"],[T])];var O=Gt(["vlist-t"],A);return A.length===2&&O.classes.push("vlist-t2"),O.height=h,O.depth=-c,O},Hw=(e,t)=>{var n=Gt(["mspace"],[],t),r=st(e,t);return n.style.marginRight=ve(r),n},d1=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},up={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},fp={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Vw=function(t,n){var[r,i,a]=fp[t],s=new $0(r),o=new Ur([s],{width:ve(i),height:ve(a),style:"width:"+ve(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=op(["overlay"],[o],n);return l.height=a,l.style.height=ve(a),l.style.width=ve(i),l},Y={fontMap:up,makeSymbol:Bn,mathsym:_w,makeSpan:Gt,makeSvgSpan:op,makeLineSpan:Fw,makeAnchor:Lw,makeFragment:lp,wrapFragment:Rw,makeVList:Ow,makeOrd:Nw,makeGlue:Hw,staticSvg:Vw,svgData:fp,tryCombineChars:Bw},at={number:3,unit:"mu"},Ja={number:4,unit:"mu"},Cr={number:5,unit:"mu"},Uw={mord:{mop:at,mbin:Ja,mrel:Cr,minner:at},mop:{mord:at,mop:at,mrel:Cr,minner:at},mbin:{mord:Ja,mop:Ja,mopen:Ja,minner:Ja},mrel:{mord:Cr,mop:Cr,mopen:Cr,minner:Cr},mopen:{},mclose:{mop:at,mbin:Ja,mrel:Cr,minner:at},mpunct:{mord:at,mop:at,mrel:Cr,mopen:at,mclose:at,mpunct:at,minner:at},minner:{mord:at,mop:at,mbin:Ja,mrel:Cr,mopen:at,mpunct:at,minner:at}},jw={mord:{mop:at},mop:{mord:at,mop:at},mbin:{},mrel:{},mopen:{},mclose:{mop:at},mpunct:{},minner:{mop:at}},cp={},tf={},nf={};function Te(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)cp[n[l]]=o;t&&(a&&(tf[t]=a),s&&(nf[t]=s))}function gs(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;Te({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var rf=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ht=function(t){return t.type==="ordgroup"?t.body:[t]},jr=Y.makeSpan,Ww=["leftmost","mbin","mopen","mrel","mop","mpunct"],Yw=["rightmost","mrel","mclose","mpunct"],Gw={display:_e.DISPLAY,text:_e.TEXT,script:_e.SCRIPT,scriptscript:_e.SCRIPTSCRIPT},Xw={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},yt=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=Ye(t[s],n);if(o instanceof yl){var l=o.children;a.push(...l)}else a.push(o)}if(Y.tryCombineChars(a),!r)return a;var u=n;if(t.length===1){var f=t[0];f.type==="sizing"?u=n.havingSize(f.size):f.type==="styling"&&(u=n.havingStyle(Gw[f.style]))}var c=jr([i[0]||"leftmost"],[],n),h=jr([i[1]||"rightmost"],[],n),d=r==="root";return v5(a,(p,y)=>{var b=y.classes[0],x=p.classes[0];b==="mbin"&&Fe.contains(Yw,x)?y.classes[0]="mord":x==="mbin"&&Fe.contains(Ww,b)&&(p.classes[0]="mord")},{node:c},h,d),v5(a,(p,y)=>{var b=M4(y),x=M4(p),$=b&&x?p.hasClass("mtight")?jw[b][x]:Uw[b][x]:null;if($)return Y.makeGlue($,u)},{node:c},h,d),a},v5=function e(t,n,r,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var o=t[s],l=hp(o);if(l){e(l.children,n,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var f=n(o,r.node);f&&(r.insertAfter?r.insertAfter(f):(t.unshift(f),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=jr(["leftmost"])),r.insertAfter=(c=>h=>{t.splice(c+1,0,h),s++})(s)}i&&t.pop()},hp=function(t){return t instanceof yl||t instanceof Ad||t instanceof bl&&t.hasClass("enclosing")?t:null},Zw=function e(t,n){var r=hp(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},M4=function(t,n){return t?(n&&(t=Zw(t,n)),Xw[t.classes[0]]||null):null},Ko=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return jr(n.concat(r))},Ye=function(t,n,r){if(!t)return jr();if(tf[t.type]){var i=tf[t.type](t,n);if(r&&n.size!==r.size){i=jr(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new me("Got group of unknown type: '"+t.type+"'")};function m1(e,t){var n=jr(["base"],e,t),r=jr(["strut"]);return r.style.height=ve(n.height+n.depth),n.depth&&(r.style.verticalAlign=ve(-n.depth)),n.children.unshift(r),n}function S4(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=yt(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(m1(s,t)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(m1(s,t)),s=[]),a.push(r[o]));s.length>0&&a.push(m1(s,t));var u;n?(u=m1(yt(n,t,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var f=jr(["katex-html"],a);if(f.setAttribute("aria-hidden","true"),u){var c=u.children[0];c.style.height=ve(f.height+f.depth),f.depth&&(c.style.verticalAlign=ve(-f.depth))}return f}function dp(e){return new yl(e)}class Mn{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=k0(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Fe.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Fe.escape(k0(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Ho{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Fe.escape(this.toText())}toText(){return this.text}}class Qw{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ve(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ve(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var he={MathNode:Mn,TextNode:Ho,SpaceNode:Qw,newDocumentFragment:dp},En=function(t,n,r){return nt[n][t]&&nt[n][t].replace&&t.charCodeAt(0)!==55349&&!(sp.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=nt[n][t].replace),new he.TextNode(t)},zd=function(t){return t.length===1?t[0]:new he.MathNode("mrow",t)},Dd=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=t.text;if(Fe.contains(["\\imath","\\jmath"],a))return null;nt[i][a]&&nt[i][a].replace&&(a=nt[i][a].replace);var s=Y.fontMap[r].fontName;return Cd(a,s,i)?Y.fontMap[r].variant:null},Kt=function(t,n,r){if(t.length===1){var i=Je(t[0],n);return r&&i instanceof Mn&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<t.length;o++){var l=Je(t[o],n);if(l instanceof Mn&&s instanceof Mn){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof Ho&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var f=s.children[0];if(f instanceof Ho&&f.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var c=l.children[0];c instanceof Ho&&c.text.length>0&&(c.text=c.text.slice(0,1)+"̸"+c.text.slice(1),a.pop())}}}a.push(l),s=l}return a},T0=function(t,n,r){return zd(Kt(t,n,r))},Je=function(t,n){if(!t)return new he.MathNode("mrow");if(nf[t.type]){var r=nf[t.type](t,n);return r}else throw new me("Got group of unknown type: '"+t.type+"'")};function y5(e,t,n,r,i){var a=Kt(e,n),s;a.length===1&&a[0]instanceof Mn&&Fe.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new he.MathNode("mrow",a);var o=new he.MathNode("annotation",[new he.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new he.MathNode("semantics",[s,o]),u=new he.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var f=i?"katex":"katex-mathml";return Y.makeSpan([f],[u])}var mp=function(t){return new Nr({style:t.displayMode?_e.DISPLAY:_e.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},pp=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=Y.makeSpan(r,[t])}return t},Kw=function(t,n,r){var i=mp(r),a;if(r.output==="mathml")return y5(t,n,i,r.displayMode,!0);if(r.output==="html"){var s=S4(t,i);a=Y.makeSpan(["katex"],[s])}else{var o=y5(t,n,i,r.displayMode,!1),l=S4(t,i);a=Y.makeSpan(["katex"],[o,l])}return pp(a,r)},Jw=function(t,n,r){var i=mp(r),a=S4(t,i),s=Y.makeSpan(["katex"],[a]);return pp(s,r)},ex={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},tx=function(t){var n=new he.MathNode("mo",[new he.TextNode(ex[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},nx={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},rx=function(t){return t.type==="ordgroup"?t.body.length:1},ix=function(t,n){function r(){var o=4e5,l=t.label.slice(1);if(Fe.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,f=rx(u.base),c,h,d;if(f>5)l==="widehat"||l==="widecheck"?(c=420,o=2364,d=.42,h=l+"4"):(c=312,o=2340,d=.34,h="tilde4");else{var p=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][p],c=[0,239,300,360,420][p],d=[0,.24,.3,.3,.36,.42][p],h=l+p):(o=[0,600,1033,2339,2340][p],c=[0,260,286,306,312][p],d=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var y=new $0(h),b=new Ur([y],{width:"100%",height:ve(d),viewBox:"0 0 "+o+" "+c,preserveAspectRatio:"none"});return{span:Y.makeSvgSpan([],[b],n),minWidth:0,height:d}}else{var x=[],$=nx[l],[E,T,A]=$,D=A/1e3,z=E.length,j,O;if(z===1){var M=$[3];j=["hide-tail"],O=[M]}else if(z===2)j=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else if(z===3)j=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+z+" children.");for(var C=0;C<z;C++){var B=new $0(E[C]),L=new Ur([B],{width:"400em",height:ve(D),viewBox:"0 0 "+o+" "+A,preserveAspectRatio:O[C]+" slice"}),X=Y.makeSvgSpan([j[C]],[L],n);if(z===1)return{span:X,minWidth:T,height:D};X.style.height=ve(D),x.push(X)}return{span:Y.makeSpan(["stretchy"],x,n),minWidth:T,height:D}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=ve(s),a>0&&(i.style.minWidth=ve(a)),i},ax=function(t,n,r,i,a){var s,o=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=Y.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new w4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new w4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new Ur(u,{width:"100%",height:ve(o)});s=Y.makeSvgSpan([],[f],a)}return s.height=o,s.style.height=ve(o),s},Wr={encloseSpan:ax,mathMLnode:tx,svgSpan:ix};function Oe(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function _d(e){var t=Wf(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Wf(e){return e&&(e.type==="atom"||zw.hasOwnProperty(e.type))?e:null}var Id=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=Oe(e.base,"accent"),n=r.base,e.base=n,i=Aw(Ye(e,t)),e.base=r):(r=Oe(e,"accent"),n=r.base);var a=Ye(n,t.havingCrampedStyle()),s=r.isShifty&&Fe.isCharacterBox(n),o=0;if(s){var l=Fe.getBaseElem(n),u=Ye(l,t.havingCrampedStyle());o=c5(u).skew}var f=r.label==="\\c",c=f?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=Wr.svgSpan(r,t),h=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ve(2*o)+")",marginLeft:ve(2*o)}:void 0}]},t);else{var d,p;r.label==="\\vec"?(d=Y.staticSvg("vec",t),p=Y.svgData.vec[1]):(d=Y.makeOrd({mode:r.mode,text:r.label},t,"textord"),d=c5(d),d.italic=0,p=d.width,f&&(c+=d.depth)),h=Y.makeSpan(["accent-body"],[d]);var y=r.label==="\\textcircled";y&&(h.classes.push("accent-full"),c=a.height);var b=o;y||(b-=p/2),h.style.left=ve(b),r.label==="\\textcircled"&&(h.style.top=".2em"),h=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-c},{type:"elem",elem:h}]},t)}var x=Y.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=x,i.height=Math.max(x.height,i.height),i.classes[0]="mord",i):x},gp=(e,t)=>{var n=e.isStretchy?Wr.mathMLnode(e.label):new he.MathNode("mo",[En(e.label,e.mode)]),r=new he.MathNode("mover",[Je(e.base,t),n]);return r.setAttribute("accent","true"),r},sx=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Te({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=rf(t[0]),r=!sx.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Id,mathmlBuilder:gp});Te({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Id,mathmlBuilder:gp});Te({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Ye(e.base,t),r=Wr.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=Y.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return Y.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=Wr.mathMLnode(e.label),r=new he.MathNode("munder",[Je(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var p1=e=>{var t=new he.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Te({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=Y.wrapFragment(Ye(e.body,r,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(r=t.havingStyle(n.sub()),s=Y.wrapFragment(Ye(e.below,r,t),t),s.classes.push(a+"-arrow-pad"));var o=Wr.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var f;if(s){var c=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;f=Y.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:c}]},t)}else f=Y.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),Y.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(e,t){var n=Wr.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=p1(Je(e.body,t));if(e.below){var a=p1(Je(e.below,t));r=new he.MathNode("munderover",[n,a,i])}else r=new he.MathNode("mover",[n,i])}else if(e.below){var s=p1(Je(e.below,t));r=new he.MathNode("munder",[n,s])}else r=p1(),r=new he.MathNode("mover",[n,r]);return r}});var ox=Y.makeSpan;function vp(e,t){var n=yt(e.body,t,!0);return ox([e.mclass],n,t)}function yp(e,t){var n,r=Kt(e.body,t);return e.mclass==="minner"?n=new he.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new he.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new he.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Te({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:ht(i),isCharacterBox:Fe.isCharacterBox(i)}},htmlBuilder:vp,mathmlBuilder:yp});var Yf=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Te({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Yf(t[0]),body:ht(t[1]),isCharacterBox:Fe.isCharacterBox(t[1])}}});Te({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],a=t[0],s;r!=="\\stackrel"?s=Yf(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:ht(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:Fe.isCharacterBox(l)}},htmlBuilder:vp,mathmlBuilder:yp});Te({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Yf(t[0]),body:ht(t[0])}},htmlBuilder(e,t){var n=yt(e.body,t,!0),r=Y.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=Kt(e.body,t),r=new he.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var lx={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},b5=()=>({type:"styling",body:[],mode:"math",style:"display"}),w5=e=>e.type==="textord"&&e.text==="@",ux=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function fx(e,t,n){var r=lx[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function cx(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new me("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],a=0;a<t.length;a++){for(var s=t[a],o=b5(),l=0;l<s.length;l++)if(!w5(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=_d(s[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var c=0;c<2;c++){for(var h=!0,d=l+1;d<s.length;d++){if(ux(s[d],u)){h=!1,l=d;break}if(w5(s[d]))throw new me("Missing a "+u+" character to complete a CD arrow.",s[d]);f[c].body.push(s[d])}if(h)throw new me("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new me('Expected one of "<>AV=|." after @',s[l]);var p=fx(u,f,e),y={type:"styling",body:[p],mode:"math",style:"display"};r.push(y),o=b5()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Te({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=Y.wrapFragment(Ye(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=ve(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new he.MathNode("mrow",[Je(e.label,t)]);return n=new he.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new he.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Te({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Y.wrapFragment(Ye(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new he.MathNode("mrow",[Je(e.fragment,t)])}});Te({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Oe(t[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=Oe(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new me("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new me("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var bp=(e,t)=>{var n=yt(e.body,t.withColor(e.color),!1);return Y.makeFragment(n)},wp=(e,t)=>{var n=Kt(e.body,t.withColor(e.color)),r=new he.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};Te({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Oe(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:ht(i)}},htmlBuilder:bp,mathmlBuilder:wp});Te({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=Oe(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:bp,mathmlBuilder:wp});Te({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&Oe(i,"size").value}},htmlBuilder(e,t){var n=Y.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=ve(st(e.size,t)))),n},mathmlBuilder(e,t){var n=new he.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",ve(st(e.size,t)))),n}});var k4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},xp=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new me("Expected a control sequence",e);return t},hx=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},Mp=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};Te({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(k4[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=k4[r.text]),Oe(t.parseFunction(),"internal");throw new me("Invalid token after macro prefix",r)}});Te({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new me("Expected a control sequence",r);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new me('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new me('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new me("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===k4[n]),{type:"internal",mode:t.mode}}});Te({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=xp(t.gullet.popToken());t.gullet.consumeSpaces();var i=hx(t);return Mp(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Te({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=xp(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return Mp(t,r,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var _o=function(t,n,r){var i=nt.math[t]&&nt.math[t].replace,a=Cd(i||t,n,r);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},Nd=function(t,n,r,i){var a=r.havingBaseStyle(n),s=Y.makeSpan(i.concat(a.sizingClasses(r)),[t],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},Sp=function(t,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ve(a),t.height-=a,t.depth+=a},dx=function(t,n,r,i,a,s){var o=Y.makeSymbol(t,"Main-Regular",a,i),l=Nd(o,n,i,s);return r&&Sp(l,i,n),l},mx=function(t,n,r,i){return Y.makeSymbol(t,"Size"+n+"-Regular",r,i)},kp=function(t,n,r,i,a,s){var o=mx(t,n,a,i),l=Nd(Y.makeSpan(["delimsizing","size"+n],[o],i),_e.TEXT,i,s);return r&&Sp(l,i,_e.TEXT),l},A2=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=Y.makeSpan(["delimsizinginner",i],[Y.makeSpan([],[Y.makeSymbol(t,n,r)])]);return{type:"elem",elem:a}},E2=function(t,n,r){var i=ar["Size4-Regular"][t.charCodeAt(0)]?ar["Size4-Regular"][t.charCodeAt(0)][4]:ar["Size1-Regular"][t.charCodeAt(0)][4],a=new $0("inner",ww(t,Math.round(1e3*n))),s=new Ur([a],{width:ve(i),height:ve(n),style:"width:"+ve(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=Y.makeSvgSpan([],[s],r);return o.height=n,o.style.height=ve(n),o.style.width=ve(i),{type:"elem",elem:o}},$4=.008,g1={type:"kern",size:-1*$4},px=["|","\\lvert","\\rvert","\\vert"],gx=["\\|","\\lVert","\\rVert","\\Vert"],$p=function(t,n,r,i,a,s){var o,l,u,f,c="",h=0;o=u=f=t,l=null;var d="Size1-Regular";t==="\\uparrow"?u=f="⏐":t==="\\Uparrow"?u=f="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",f="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",f="\\Downarrow"):Fe.contains(px,t)?(u="∣",c="vert",h=333):Fe.contains(gx,t)?(u="∥",c="doublevert",h=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",f="⎣",d="Size4-Regular",c="lbrack",h=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",f="⎦",d="Size4-Regular",c="rbrack",h=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",f="⎣",d="Size4-Regular",c="lfloor",h=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=f="⎢",d="Size4-Regular",c="lceil",h=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",f="⎦",d="Size4-Regular",c="rfloor",h=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=f="⎥",d="Size4-Regular",c="rceil",h=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",f="⎝",d="Size4-Regular",c="lparen",h=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",f="⎠",d="Size4-Regular",c="rparen",h=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",f="⎩",u="⎪",d="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",f="⎭",u="⎪",d="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",f="⎩",u="⎪",d="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",f="⎭",u="⎪",d="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",f="⎭",u="⎪",d="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",f="⎩",u="⎪",d="Size4-Regular");var p=_o(o,d,a),y=p.height+p.depth,b=_o(u,d,a),x=b.height+b.depth,$=_o(f,d,a),E=$.height+$.depth,T=0,A=1;if(l!==null){var D=_o(l,d,a);T=D.height+D.depth,A=2}var z=y+E+T,j=Math.max(0,Math.ceil((n-z)/(A*x))),O=z+j*A*x,M=i.fontMetrics().axisHeight;r&&(M*=i.sizeMultiplier);var C=O/2-M,B=[];if(c.length>0){var L=O-y-E,X=Math.round(O*1e3),H=xw(c,Math.round(L*1e3)),Q=new $0(c,H),oe=(h/1e3).toFixed(3)+"em",re=(X/1e3).toFixed(3)+"em",de=new Ur([Q],{width:oe,height:re,viewBox:"0 0 "+h+" "+X}),K=Y.makeSvgSpan([],[de],i);K.height=X/1e3,K.style.width=oe,K.style.height=re,B.push({type:"elem",elem:K})}else{if(B.push(A2(f,d,a)),B.push(g1),l===null){var ne=O-y-E+2*$4;B.push(E2(u,ne,i))}else{var te=(O-y-E-T)/2+2*$4;B.push(E2(u,te,i)),B.push(g1),B.push(A2(l,d,a)),B.push(g1),B.push(E2(u,te,i))}B.push(g1),B.push(A2(o,d,a))}var F=i.havingBaseStyle(_e.TEXT),se=Y.makeVList({positionType:"bottom",positionData:C,children:B},F);return Nd(Y.makeSpan(["delimsizing","mult"],[se],F),_e.TEXT,i,s)},z2=80,D2=.08,_2=function(t,n,r,i,a){var s=bw(t,i,r),o=new $0(t,s),l=new Ur([o],{width:"400em",height:ve(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Y.makeSvgSpan(["hide-tail"],[l],a)},vx=function(t,n){var r=n.havingBaseSizing(),i=Ep("\\surd",t*r.sizeMultiplier,Ap,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,f=0,c;return i.type==="small"?(f=1e3+1e3*s+z2,t<1?a=1:t<1.4&&(a=.7),l=(1+s+D2)/a,u=(1+s)/a,o=_2("sqrtMain",l,f,s,n),o.style.minWidth="0.853em",c=.833/a):i.type==="large"?(f=(1e3+z2)*Vo[i.size],u=(Vo[i.size]+s)/a,l=(Vo[i.size]+s+D2)/a,o=_2("sqrtSize"+i.size,l,f,s,n),o.style.minWidth="1.02em",c=1/a):(l=t+s+D2,u=t+s,f=Math.floor(1e3*t+s)+z2,o=_2("sqrtTall",l,f,s,n),o.style.minWidth="0.742em",c=1.056),o.height=u,o.style.height=ve(l),{span:o,advanceWidth:c,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},Tp=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],yx=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Cp=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Vo=[0,1.2,1.8,2.4,3],bx=function(t,n,r,i,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),Fe.contains(Tp,t)||Fe.contains(Cp,t))return kp(t,n,!1,r,i,a);if(Fe.contains(yx,t))return $p(t,Vo[n],!1,r,i,a);throw new me("Illegal delimiter: '"+t+"'")},wx=[{type:"small",style:_e.SCRIPTSCRIPT},{type:"small",style:_e.SCRIPT},{type:"small",style:_e.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],xx=[{type:"small",style:_e.SCRIPTSCRIPT},{type:"small",style:_e.SCRIPT},{type:"small",style:_e.TEXT},{type:"stack"}],Ap=[{type:"small",style:_e.SCRIPTSCRIPT},{type:"small",style:_e.SCRIPT},{type:"small",style:_e.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Mx=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},Ep=function(t,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=_o(t,Mx(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},zp=function(t,n,r,i,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;Fe.contains(Cp,t)?o=wx:Fe.contains(Tp,t)?o=Ap:o=xx;var l=Ep(t,n,o,i);return l.type==="small"?dx(t,l.style,r,i,a,s):l.type==="large"?kp(t,l.size,r,i,a,s):$p(t,n,r,i,a,s)},Sx=function(t,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,f=Math.max(n-o,r+o),c=Math.max(f/500*l,2*f-u);return zp(t,c,!0,i,a,s)},Hr={sqrtImage:vx,sizedDelim:bx,sizeToMaxHeight:Vo,customSizedDelim:zp,leftRightDelim:Sx},x5={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},kx=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Gf(e,t){var n=Wf(e);if(n&&Fe.contains(kx,n.text))return n;throw n?new me("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new me("Invalid delimiter type '"+e.type+"'",e)}Te({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Gf(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:x5[e.funcName].size,mclass:x5[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?Y.makeSpan([e.mclass]):Hr.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(En(e.delim,e.mode));var n=new he.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ve(Hr.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function M5(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Te({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new me("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Gf(t[0],e).text,color:n}}});Te({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Gf(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=Oe(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{M5(e);for(var n=yt(e.body,t,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var o;if(e.left==="."?o=Ko(t,["mopen"]):o=Hr.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var u=n[l],f=u.isMiddle;f&&(n[l]=Hr.leftRightDelim(f.delim,r,i,f.options,e.mode,[]))}var c;if(e.right===".")c=Ko(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;c=Hr.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(c),Y.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{M5(e);var n=Kt(e.body,t);if(e.left!=="."){var r=new he.MathNode("mo",[En(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new he.MathNode("mo",[En(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return zd(n)}});Te({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Gf(t[0],e);if(!e.parser.leftrightDepth)throw new me("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Ko(t,[]);else{n=Hr.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?En("|","text"):En(e.delim,e.mode),r=new he.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var qd=(e,t)=>{var n=Y.wrapFragment(Ye(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,s=0,o=Fe.isCharacterBox(e.body);if(r==="sout")a=Y.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var l=st({number:.6,unit:"pt"},t),u=st({number:.35,unit:"ex"},t),f=t.havingBaseSizing();i=i/f.sizeMultiplier;var c=n.height+n.depth+l+u;n.style.paddingLeft=ve(c/2+l);var h=Math.floor(1e3*c*i),d=vw(h),p=new Ur([new $0("phase",d)],{width:"400em",height:ve(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});a=Y.makeSvgSpan(["hide-tail"],[p],t),a.style.height=ve(c),s=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,b=0,x=0;/box/.test(r)?(x=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(r==="colorbox"?0:x),b=y):r==="angl"?(x=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*x,b=Math.max(0,.25-n.depth)):(y=o?.2:0,b=y),a=Wr.encloseSpan(n,r,y,b,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=ve(x)):r==="angl"&&x!==.049&&(a.style.borderTopWidth=ve(x),a.style.borderRightWidth=ve(x)),s=n.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var $;if(e.backgroundColor)$=Y.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var E=/cancel|phase/.test(r)?["svg-align"]:[];$=Y.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:E}]},t)}return/cancel/.test(r)&&($.height=n.height,$.depth=n.depth),/cancel/.test(r)&&!o?Y.makeSpan(["mord","cancel-lap"],[$],t):Y.makeSpan(["mord"],[$],t)},Bd=(e,t)=>{var n=0,r=new he.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Je(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};Te({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Oe(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:qd,mathmlBuilder:Bd});Te({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Oe(t[0],"color-token").color,s=Oe(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:qd,mathmlBuilder:Bd});Te({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Te({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:qd,mathmlBuilder:Bd});Te({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var Dp={};function dr(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)Dp[n[l]]=o;a&&(tf[t]=a),s&&(nf[t]=s)}var _p={};function S(e,t){_p[e]=t}function S5(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Xf=e=>{var t=e.parser.settings;if(!t.displayMode)throw new me("{"+e.envName+"} can be used only in display mode.")};function Fd(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function E0(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:c,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=e.gullet.expandMacroAsText("\\arraystretch");if(d==null)s=1;else if(s=parseFloat(d),!s||s<0)throw new me("Invalid \\arraystretch: "+d)}e.gullet.beginGroup();var p=[],y=[p],b=[],x=[],$=l!=null?[]:void 0;function E(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function T(){$&&(e.gullet.macros.get("\\df@tag")?($.push(e.subparse([new lr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):$.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(E(),x.push(S5(e));;){var A=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},n&&(A={type:"styling",mode:e.mode,style:n,body:[A]}),p.push(A);var D=e.fetch().text;if(D==="&"){if(c&&p.length===c){if(u||o)throw new me("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(D==="\\end"){T(),p.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(y.length>1||!f)&&y.pop(),x.length<y.length+1&&x.push([]);break}else if(D==="\\\\"){e.consume();var z=void 0;e.gullet.future().text!==" "&&(z=e.parseSizeGroup(!0)),b.push(z?z.value:null),T(),x.push(S5(e)),p=[],y.push(p),E()}else throw new me("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:r,hLinesBeforeRow:x,colSeparationType:o,tags:$,leqno:h}}function Ld(e){return e.slice(0,1)==="d"?"display":"text"}var mr=function(t,n){var r,i,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],f=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),c=1/n.fontMetrics().ptPerEm,h=5*c;if(t.colSeparationType&&t.colSeparationType==="small"){var d=n.havingStyle(_e.SCRIPT).sizeMultiplier;h=.2778*(d/n.sizeMultiplier)}var p=t.colSeparationType==="CD"?st({number:3,unit:"ex"},n):12*c,y=3*c,b=t.arraystretch*p,x=.7*b,$=.3*b,E=0;function T(ot){for(var lt=0;lt<ot.length;++lt)lt>0&&(E+=.25),u.push({pos:E,isDashed:ot[lt]})}for(T(s[0]),r=0;r<t.body.length;++r){var A=t.body[r],D=x,z=$;o<A.length&&(o=A.length);var j=new Array(A.length);for(i=0;i<A.length;++i){var O=Ye(A[i],n);z<O.depth&&(z=O.depth),D<O.height&&(D=O.height),j[i]=O}var M=t.rowGaps[r],C=0;M&&(C=st(M,n),C>0&&(C+=$,z<C&&(z=C),C=0)),t.addJot&&(z+=y),j.height=D,j.depth=z,E+=D,j.pos=E,E+=z+C,l[r]=j,T(s[r+1])}var B=E/2+n.fontMetrics().axisHeight,L=t.cols||[],X=[],H,Q,oe=[];if(t.tags&&t.tags.some(ot=>ot))for(r=0;r<a;++r){var re=l[r],de=re.pos-B,K=t.tags[r],ne=void 0;K===!0?ne=Y.makeSpan(["eqn-num"],[],n):K===!1?ne=Y.makeSpan([],[],n):ne=Y.makeSpan([],yt(K,n,!0),n),ne.depth=re.depth,ne.height=re.height,oe.push({type:"elem",elem:ne,shift:de})}for(i=0,Q=0;i<o||Q<L.length;++i,++Q){for(var te=L[Q]||{},F=!0;te.type==="separator";){if(F||(H=Y.makeSpan(["arraycolsep"],[]),H.style.width=ve(n.fontMetrics().doubleRuleSep),X.push(H)),te.separator==="|"||te.separator===":"){var se=te.separator==="|"?"solid":"dashed",ye=Y.makeSpan(["vertical-separator"],[],n);ye.style.height=ve(E),ye.style.borderRightWidth=ve(f),ye.style.borderRightStyle=se,ye.style.margin="0 "+ve(-f/2);var Ce=E-B;Ce&&(ye.style.verticalAlign=ve(-Ce)),X.push(ye)}else throw new me("Invalid separator type: "+te.separator);Q++,te=L[Q]||{},F=!1}if(!(i>=o)){var le=void 0;(i>0||t.hskipBeforeAndAfter)&&(le=Fe.deflt(te.pregap,h),le!==0&&(H=Y.makeSpan(["arraycolsep"],[]),H.style.width=ve(le),X.push(H)));var ce=[];for(r=0;r<a;++r){var Z=l[r],pe=Z[i];if(pe){var Ae=Z.pos-B;pe.depth=Z.depth,pe.height=Z.height,ce.push({type:"elem",elem:pe,shift:Ae})}}ce=Y.makeVList({positionType:"individualShift",children:ce},n),ce=Y.makeSpan(["col-align-"+(te.align||"c")],[ce]),X.push(ce),(i<o-1||t.hskipBeforeAndAfter)&&(le=Fe.deflt(te.postgap,h),le!==0&&(H=Y.makeSpan(["arraycolsep"],[]),H.style.width=ve(le),X.push(H)))}}if(l=Y.makeSpan(["mtable"],X),u.length>0){for(var W=Y.makeLineSpan("hline",n,f),$e=Y.makeLineSpan("hdashline",n,f),ze=[{type:"elem",elem:l,shift:0}];u.length>0;){var qe=u.pop(),Ne=qe.pos-B;qe.isDashed?ze.push({type:"elem",elem:$e,shift:Ne}):ze.push({type:"elem",elem:W,shift:Ne})}l=Y.makeVList({positionType:"individualShift",children:ze},n)}if(oe.length===0)return Y.makeSpan(["mord"],[l],n);var Ze=Y.makeVList({positionType:"individualShift",children:oe},n);return Ze=Y.makeSpan(["tag"],[Ze],n),Y.makeFragment([l,Ze])},$x={c:"center ",l:"left ",r:"right "},pr=function(t,n){for(var r=[],i=new he.MathNode("mtd",[],["mtr-glue"]),a=new he.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new he.MathNode("mtd",[Je(o[u],n)]));t.tags&&t.tags[s]&&(l.unshift(i),l.push(i),t.leqno?l.unshift(a):l.push(a)),r.push(new he.MathNode("mtr",l))}var f=new he.MathNode("mtable",r),c=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",ve(c));var h="",d="";if(t.cols&&t.cols.length>0){var p=t.cols,y="",b=!1,x=0,$=p.length;p[0].type==="separator"&&(h+="top ",x=1),p[p.length-1].type==="separator"&&(h+="bottom ",$-=1);for(var E=x;E<$;E++)p[E].type==="align"?(d+=$x[p[E].align],b&&(y+="none "),b=!0):p[E].type==="separator"&&b&&(y+=p[E].separator==="|"?"solid ":"dashed ",b=!1);f.setAttribute("columnalign",d.trim()),/[sd]/.test(y)&&f.setAttribute("columnlines",y.trim())}if(t.colSeparationType==="align"){for(var T=t.cols||[],A="",D=1;D<T.length;D++)A+=D%2?"0em ":"1em ";f.setAttribute("columnspacing",A.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var z="",j=t.hLinesBeforeRow;h+=j[0].length>0?"left ":"",h+=j[j.length-1].length>0?"right ":"";for(var O=1;O<j.length-1;O++)z+=j[O].length===0?"none ":j[O][0]?"dashed ":"solid ";return/[sd]/.test(z)&&f.setAttribute("rowlines",z.trim()),h!==""&&(f=new he.MathNode("menclose",[f]),f.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(f=new he.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},Ip=function(t,n){t.envName.indexOf("ed")===-1&&Xf(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=E0(t.parser,{cols:r,addJot:!0,autoTag:a?void 0:Fd(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var f="",c=0;c<n[0].body.length;c++){var h=Oe(n[0].body[c],"textord");f+=h.text}o=Number(f),l=o*2}var d=!l;s.body.forEach(function(x){for(var $=1;$<x.length;$+=2){var E=Oe(x[$],"styling"),T=Oe(E.body[0],"ordgroup");T.body.unshift(u)}if(d)l<x.length&&(l=x.length);else{var A=x.length/2;if(o<A)throw new me("Too many math in a row: "+("expected "+o+", but got "+A),x[0])}});for(var p=0;p<l;++p){var y="r",b=0;p%2===1?y="l":p>0&&d&&(b=1),r[p]={type:"align",align:y,pregap:b,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};dr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=Wf(t[0]),r=n?[t[0]]:Oe(t[0],"ordgroup").body,i=r.map(function(s){var o=_d(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new me("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return E0(e.parser,a,Ld(e.envName))},htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new me("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=E0(e.parser,r,Ld(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=E0(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=Wf(t[0]),r=n?[t[0]]:Oe(t[0],"ordgroup").body,i=r.map(function(s){var o=_d(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new me("Unknown column alignment: "+l,s)});if(i.length>1)throw new me("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=E0(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new me("{subarray} can contain only one column");return a},htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=E0(e.parser,t,Ld(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Ip,htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Fe.contains(["gather","gather*"],e.envName)&&Xf(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Fd(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return E0(e.parser,t,"display")},htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Ip,htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Xf(e);var t={autoTag:Fd(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return E0(e.parser,t,"display")},htmlBuilder:mr,mathmlBuilder:pr});dr({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Xf(e),cx(e.parser)},htmlBuilder:mr,mathmlBuilder:pr});S("\\nonumber","\\gdef\\@eqnsw{0}");S("\\notag","\\nonumber");Te({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new me(e.funcName+" valid only within array environment")}});var k5=Dp;Te({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new me("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Oe(i.body[s],"textord").text;if(r==="\\begin"){if(!k5.hasOwnProperty(a))throw new me("No such environment: "+a,i);var o=k5[a],{args:l,optArgs:u}=n.parseArguments("\\begin{"+a+"}",o),f={mode:n.mode,envName:a,parser:n},c=o.handler(f,l,u);n.expect("\\end",!1);var h=n.nextToken,d=Oe(n.parseFunction(),"environment");if(d.name!==a)throw new me("Mismatch: \\begin{"+a+"} matched by \\end{"+d.name+"}",h);return c}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var Np=(e,t)=>{var n=e.font,r=t.withFont(n);return Ye(e.body,r)},qp=(e,t)=>{var n=e.font,r=t.withFont(n);return Je(e.body,r)},$5={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Te({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=rf(t[0]),a=r;return a in $5&&(a=$5[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:Np,mathmlBuilder:qp});Te({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=Fe.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Yf(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Te({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:Np,mathmlBuilder:qp});var Bp=(e,t)=>{var n=t;return e==="display"?n=n.id>=_e.SCRIPT.id?n.text():_e.DISPLAY:e==="text"&&n.size===_e.DISPLAY.size?n=_e.TEXT:e==="script"?n=_e.SCRIPT:e==="scriptscript"&&(n=_e.SCRIPTSCRIPT),n},Rd=(e,t)=>{var n=Bp(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a;a=t.havingStyle(r);var s=Ye(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(i);var u=Ye(e.denom,a,t),f,c,h;e.hasBarLine?(e.barSize?(c=st(e.barSize,t),f=Y.makeLineSpan("frac-line",t,c)):f=Y.makeLineSpan("frac-line",t),c=f.height,h=f.height):(f=null,c=0,h=t.fontMetrics().defaultRuleThickness);var d,p,y;n.size===_e.DISPLAY.size||e.size==="display"?(d=t.fontMetrics().num1,c>0?p=3*h:p=7*h,y=t.fontMetrics().denom1):(c>0?(d=t.fontMetrics().num2,p=h):(d=t.fontMetrics().num3,p=3*h),y=t.fontMetrics().denom2);var b;if(f){var $=t.fontMetrics().axisHeight;d-s.depth-($+.5*c)<p&&(d+=p-(d-s.depth-($+.5*c))),$-.5*c-(u.height-y)<p&&(y+=p-($-.5*c-(u.height-y)));var E=-($-.5*c);b=Y.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:f,shift:E},{type:"elem",elem:s,shift:-d}]},t)}else{var x=d-s.depth-(u.height-y);x<p&&(d+=.5*(p-x),y+=.5*(p-x)),b=Y.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:s,shift:-d}]},t)}a=t.havingStyle(n),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var T;n.size===_e.DISPLAY.size?T=t.fontMetrics().delim1:n.size===_e.SCRIPTSCRIPT.size?T=t.havingStyle(_e.SCRIPT).fontMetrics().delim2:T=t.fontMetrics().delim2;var A,D;return e.leftDelim==null?A=Ko(t,["mopen"]):A=Hr.customSizedDelim(e.leftDelim,T,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?D=Y.makeSpan([]):e.rightDelim==null?D=Ko(t,["mclose"]):D=Hr.customSizedDelim(e.rightDelim,T,!0,t.havingStyle(n),e.mode,["mclose"]),Y.makeSpan(["mord"].concat(a.sizingClasses(t)),[A,Y.makeSpan(["mfrac"],[b]),D],t)},Pd=(e,t)=>{var n=new he.MathNode("mfrac",[Je(e.numer,t),Je(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=st(e.barSize,t);n.setAttribute("linethickness",ve(r))}var i=Bp(e.size,t.style);if(i.size!==t.style.size){n=new he.MathNode("mstyle",[n]);var a=i.size===_e.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new he.MathNode("mo",[new he.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),e.rightDelim!=null){var l=new he.MathNode("mo",[new he.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return zd(s)}return n};Te({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:Rd,mathmlBuilder:Pd});Te({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Te({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var T5=["display","text","script","scriptscript"],C5=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Te({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],a=rf(t[0]),s=a.type==="atom"&&a.family==="open"?C5(a.text):null,o=rf(t[1]),l=o.type==="atom"&&o.family==="close"?C5(o.text):null,u=Oe(t[2],"size"),f,c=null;u.isBlank?f=!0:(c=u.value,f=c.number>0);var h="auto",d=t[3];if(d.type==="ordgroup"){if(d.body.length>0){var p=Oe(d.body[0],"textord");h=T5[Number(p.text)]}}else d=Oe(d,"textord"),h=T5[Number(d.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:f,barSize:c,leftDelim:s,rightDelim:l,size:h}},htmlBuilder:Rd,mathmlBuilder:Pd});Te({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Oe(t[0],"size").value,token:i}}});Te({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=nw(Oe(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Rd,mathmlBuilder:Pd});var Fp=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?Ye(e.sup,t.havingStyle(n.sup()),t):Ye(e.sub,t.havingStyle(n.sub()),t),i=Oe(e.base,"horizBrace")):i=Oe(e,"horizBrace");var a=Ye(i.base,t.havingBaseStyle(_e.DISPLAY)),s=Wr.svgSpan(i,t),o;if(i.isOver?(o=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Y.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=Y.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);i.isOver?o=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):o=Y.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Y.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)},Tx=(e,t)=>{var n=Wr.mathMLnode(e.label);return new he.MathNode(e.isOver?"mover":"munder",[Je(e.base,t),n])};Te({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:Fp,mathmlBuilder:Tx});Te({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=Oe(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:ht(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=yt(e.body,t,!1);return Y.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=T0(e.body,t);return n instanceof Mn||(n=new Mn("mrow",[n])),n.setAttribute("href",e.href),n}});Te({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Oe(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:ht(o)}}});Te({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ht(t[0])}},htmlBuilder(e,t){var n=yt(e.body,t,!1);return Y.makeFragment(n)},mathmlBuilder(e,t){return new he.MathNode("mrow",Kt(e.body,t))}});Te({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,a=Oe(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),f=0;f<u.length;f++){var c=u[f].split("=");if(c.length!==2)throw new me("Error parsing key-value for \\htmlData");l["data-"+c[0].trim()]=c[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:ht(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=yt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=Y.makeSpan(r,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>T0(e.body,t)});Te({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ht(t[0]),mathml:ht(t[1])}},htmlBuilder:(e,t)=>{var n=yt(e.html,t,!1);return Y.makeFragment(n)},mathmlBuilder:(e,t)=>T0(e.mathml,t)});var I2=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new me("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!np(r))throw new me("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Te({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=Oe(n[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var c=u[f].split("=");if(c.length===2){var h=c[1].trim();switch(c[0].trim()){case"alt":o=h;break;case"width":i=I2(h);break;case"height":a=I2(h);break;case"totalheight":s=I2(h);break;default:throw new me("Invalid key: '"+c[0]+"' in \\includegraphics.")}}}var d=Oe(t[0],"url").url;return o===""&&(o=d,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=st(e.height,t),r=0;e.totalheight.number>0&&(r=st(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=st(e.width,t));var a={height:ve(n+r)};i>0&&(a.width=ve(i)),r>0&&(a.verticalAlign=ve(-r));var s=new Tw(e.src,e.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new he.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=st(e.height,t),i=0;if(e.totalheight.number>0&&(i=st(e.totalheight,t)-r,n.setAttribute("valign",ve(-i))),n.setAttribute("height",ve(r+i)),e.width.number>0){var a=st(e.width,t);n.setAttribute("width",ve(a))}return n.setAttribute("src",e.src),n}});Te({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=Oe(t[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return Y.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=st(e.dimension,t);return new he.SpaceNode(n)}});Te({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=Y.makeSpan([],[Ye(e.body,t)]),n=Y.makeSpan(["inner"],[n],t)):n=Y.makeSpan(["inner"],[Ye(e.body,t)]);var r=Y.makeSpan(["fix"],[]),i=Y.makeSpan([e.alignment],[n,r],t),a=Y.makeSpan(["strut"]);return a.style.height=ve(i.height+i.depth),i.depth&&(a.style.verticalAlign=ve(-i.depth)),i.children.unshift(a),i=Y.makeSpan(["thinbox"],[i],t),Y.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new he.MathNode("mpadded",[Je(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Te({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});Te({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new me("Mismatched "+e.funcName)}});var A5=(e,t)=>{switch(t.style.size){case _e.DISPLAY.size:return e.display;case _e.TEXT.size:return e.text;case _e.SCRIPT.size:return e.script;case _e.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Te({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ht(t[0]),text:ht(t[1]),script:ht(t[2]),scriptscript:ht(t[3])}},htmlBuilder:(e,t)=>{var n=A5(e,t),r=yt(n,t,!1);return Y.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=A5(e,t);return T0(n,t)}});var Lp=(e,t,n,r,i,a,s)=>{e=Y.makeSpan([],[e]);var o=n&&Fe.isCharacterBox(n),l,u;if(t){var f=Ye(t,r.havingStyle(i.sup()),r);u={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-f.depth)}}if(n){var c=Ye(n,r.havingStyle(i.sub()),r);l={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-c.height)}}var h;if(u&&l){var d=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+s;h=Y.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ve(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ve(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=e.height-s;h=Y.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ve(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},r)}else if(u){var y=e.depth+s;h=Y.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ve(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var b=[h];if(l&&a!==0&&!o){var x=Y.makeSpan(["mspace"],[],r);x.style.marginRight=ve(a),b.unshift(x)}return Y.makeSpan(["mop","op-limits"],b,r)},Rp=["\\smallint"],mo=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Oe(e.base,"op"),i=!0):a=Oe(e,"op");var s=t.style,o=!1;s.size===_e.DISPLAY.size&&a.symbol&&!Fe.contains(Rp,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",f="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(f=a.name.slice(1),a.name=f==="oiint"?"\\iint":"\\iiint"),l=Y.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),f.length>0){var c=l.italic,h=Y.staticSvg(f+"Size"+(o?"2":"1"),t);l=Y.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},t),a.name="\\"+f,l.classes.unshift("mop"),l.italic=c}}else if(a.body){var d=yt(a.body,t,!0);d.length===1&&d[0]instanceof An?(l=d[0],l.classes[0]="mop"):l=Y.makeSpan(["mop"],d,t)}else{for(var p=[],y=1;y<a.name.length;y++)p.push(Y.mathsym(a.name[y],a.mode,t));l=Y.makeSpan(["mop"],p,t)}var b=0,x=0;return(l instanceof An||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(l.height-l.depth)/2-t.fontMetrics().axisHeight,x=l.italic),i?Lp(l,n,r,t,s,x,b):(b&&(l.style.position="relative",l.style.top=ve(b)),l)},wl=(e,t)=>{var n;if(e.symbol)n=new Mn("mo",[En(e.name,e.mode)]),Fe.contains(Rp,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Mn("mo",Kt(e.body,t));else{n=new Mn("mi",[new Ho(e.name.slice(1))]);var r=new Mn("mo",[En("⁡","text")]);e.parentIsSupSub?n=new Mn("mrow",[n,r]):n=dp([n,r])}return n},Cx={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Te({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=Cx[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:mo,mathmlBuilder:wl});Te({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ht(r)}},htmlBuilder:mo,mathmlBuilder:wl});var Ax={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Te({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:mo,mathmlBuilder:wl});Te({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:mo,mathmlBuilder:wl});Te({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=Ax[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:mo,mathmlBuilder:wl});var Pp=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Oe(e.base,"operatorname"),i=!0):a=Oe(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(c=>{var h=c.text;return typeof h=="string"?{type:"textord",mode:c.mode,text:h}:c}),l=yt(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof An&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Y.makeSpan(["mop"],l,t)}else s=Y.makeSpan(["mop"],[],t);return i?Lp(s,n,r,t,t.style,0,0):s},Ex=(e,t)=>{for(var n=Kt(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof he.SpaceNode))if(a instanceof he.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof he.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(f=>f.toText()).join("");n=[new he.TextNode(o)]}var l=new he.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new he.MathNode("mo",[En("⁡","text")]);return e.parentIsSupSub?new he.MathNode("mrow",[l,u]):he.newDocumentFragment([l,u])};Te({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:ht(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Pp,mathmlBuilder:Ex});S("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");gs({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Y.makeFragment(yt(e.body,t,!1)):Y.makeSpan(["mord"],yt(e.body,t,!0),t)},mathmlBuilder(e,t){return T0(e.body,t,!0)}});Te({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=Ye(e.body,t.havingCrampedStyle()),r=Y.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return Y.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new he.MathNode("mo",[new he.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new he.MathNode("mover",[Je(e.body,t),n]);return r.setAttribute("accent","true"),r}});Te({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:ht(r)}},htmlBuilder:(e,t)=>{var n=yt(e.body,t.withPhantom(),!1);return Y.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Kt(e.body,t);return new he.MathNode("mphantom",n)}});Te({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Y.makeSpan([],[Ye(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Y.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Kt(ht(e.body),t),r=new he.MathNode("mphantom",n),i=new he.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Te({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Y.makeSpan(["inner"],[Ye(e.body,t.withPhantom())]),r=Y.makeSpan(["fix"],[]);return Y.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=Kt(ht(e.body),t),r=new he.MathNode("mphantom",n),i=new he.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Te({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Oe(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Ye(e.body,t),r=st(e.dy,t);return Y.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new he.MathNode("mpadded",[Je(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});Te({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Te({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],a=Oe(t[0],"size"),s=Oe(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&Oe(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var n=Y.makeSpan(["mord","rule"],[],t),r=st(e.width,t),i=st(e.height,t),a=e.shift?st(e.shift,t):0;return n.style.borderRightWidth=ve(r),n.style.borderTopWidth=ve(i),n.style.bottom=ve(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=st(e.width,t),r=st(e.height,t),i=e.shift?st(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new he.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",ve(n)),s.setAttribute("height",ve(r));var o=new he.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",ve(i)):(o.setAttribute("height",ve(i)),o.setAttribute("depth",ve(-i))),o.setAttribute("voffset",ve(i)),o}});function Op(e,t,n){for(var r=yt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,t.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+t.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return Y.makeFragment(r)}var E5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],zx=(e,t)=>{var n=t.havingSize(e.size);return Op(e.body,n,t)};Te({type:"sizing",names:E5,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:E5.indexOf(r)+1,body:a}},htmlBuilder:zx,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=Kt(e.body,n),i=new he.MathNode("mstyle",r);return i.setAttribute("mathsize",ve(n.sizeMultiplier)),i}});Te({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,a=!1,s=n[0]&&Oe(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var f=t[0];return{type:"smash",mode:r.mode,body:f,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var n=Y.makeSpan([],[Ye(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Y.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new he.MathNode("mpadded",[Je(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});Te({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],a=t[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(e,t){var n=Ye(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=Y.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,a=i;t.style.id<_e.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:f}=Hr.sqrtImage(o,t),c=l.height-u;c>n.height+n.depth+s&&(s=(s+c-n.height-n.depth)/2);var h=l.height-n.height-s-u;n.style.paddingLeft=ve(f);var d=Y.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var p=t.havingStyle(_e.SCRIPTSCRIPT),y=Ye(e.index,p,t),b=.6*(d.height-d.depth),x=Y.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),$=Y.makeSpan(["root"],[x]);return Y.makeSpan(["mord","sqrt"],[$,d],t)}else return Y.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new he.MathNode("mroot",[Je(n,t),Je(r,t)]):new he.MathNode("msqrt",[Je(n,t)])}});var z5={display:_e.DISPLAY,text:_e.TEXT,script:_e.SCRIPT,scriptscript:_e.SCRIPTSCRIPT};Te({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var n=z5[e.style],r=t.havingStyle(n).withFont("");return Op(e.body,r,t)},mathmlBuilder(e,t){var n=z5[e.style],r=t.havingStyle(n),i=Kt(e.body,r),a=new he.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var Dx=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===_e.DISPLAY.size||r.alwaysHandleSupSub);return i?mo:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===_e.DISPLAY.size||r.limits);return a?Pp:null}else{if(r.type==="accent")return Fe.isCharacterBox(r.base)?Id:null;if(r.type==="horizBrace"){var s=!t.sub;return s===r.isOver?Fp:null}else return null}else return null};gs({type:"supsub",htmlBuilder(e,t){var n=Dx(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:a}=e,s=Ye(r,t),o,l,u=t.fontMetrics(),f=0,c=0,h=r&&Fe.isCharacterBox(r);if(i){var d=t.havingStyle(t.style.sup());o=Ye(i,d,t),h||(f=s.height-d.fontMetrics().supDrop*d.sizeMultiplier/t.sizeMultiplier)}if(a){var p=t.havingStyle(t.style.sub());l=Ye(a,p,t),h||(c=s.depth+p.fontMetrics().subDrop*p.sizeMultiplier/t.sizeMultiplier)}var y;t.style===_e.DISPLAY?y=u.sup1:t.style.cramped?y=u.sup3:y=u.sup2;var b=t.sizeMultiplier,x=ve(.5/u.ptPerEm/b),$=null;if(l){var E=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof An||E)&&($=ve(-s.italic))}var T;if(o&&l){f=Math.max(f,y,o.depth+.25*u.xHeight),c=Math.max(c,u.sub2);var A=u.defaultRuleThickness,D=4*A;if(f-o.depth-(l.height-c)<D){c=D-(f-o.depth)+l.height;var z=.8*u.xHeight-(f-o.depth);z>0&&(f+=z,c-=z)}var j=[{type:"elem",elem:l,shift:c,marginRight:x,marginLeft:$},{type:"elem",elem:o,shift:-f,marginRight:x}];T=Y.makeVList({positionType:"individualShift",children:j},t)}else if(l){c=Math.max(c,u.sub1,l.height-.8*u.xHeight);var O=[{type:"elem",elem:l,marginLeft:$,marginRight:x}];T=Y.makeVList({positionType:"shift",positionData:c,children:O},t)}else if(o)f=Math.max(f,y,o.depth+.25*u.xHeight),T=Y.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:o,marginRight:x}]},t);else throw new Error("supsub must have either sup or sub.");var M=M4(s,"right")||"mord";return Y.makeSpan([M],[s,Y.makeSpan(["msupsub"],[T])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[Je(e.base,t)];e.sub&&a.push(Je(e.sub,t)),e.sup&&a.push(Je(e.sup,t));var s;if(n)s=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===_e.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===_e.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===_e.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===_e.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===_e.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===_e.DISPLAY)?s="mover":s="msup"}return new he.MathNode(s,a)}});gs({type:"atom",htmlBuilder(e,t){return Y.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new he.MathNode("mo",[En(e.text,e.mode)]);if(e.family==="bin"){var r=Dd(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var Hp={mi:"italic",mn:"normal",mtext:"normal"};gs({type:"mathord",htmlBuilder(e,t){return Y.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new he.MathNode("mi",[En(e.text,e.mode,t)]),r=Dd(e,t)||"italic";return r!==Hp[n.type]&&n.setAttribute("mathvariant",r),n}});gs({type:"textord",htmlBuilder(e,t){return Y.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=En(e.text,e.mode,t),r=Dd(e,t)||"normal",i;return e.mode==="text"?i=new he.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new he.MathNode("mn",[n]):e.text==="\\prime"?i=new he.MathNode("mo",[n]):i=new he.MathNode("mi",[n]),r!==Hp[i.type]&&i.setAttribute("mathvariant",r),i}});var N2={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},q2={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};gs({type:"spacing",htmlBuilder(e,t){if(q2.hasOwnProperty(e.text)){var n=q2[e.text].className||"";if(e.mode==="text"){var r=Y.makeOrd(e,t,"textord");return r.classes.push(n),r}else return Y.makeSpan(["mspace",n],[Y.mathsym(e.text,e.mode,t)],t)}else{if(N2.hasOwnProperty(e.text))return Y.makeSpan(["mspace",N2[e.text]],[],t);throw new me('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(q2.hasOwnProperty(e.text))n=new he.MathNode("mtext",[new he.TextNode(" ")]);else{if(N2.hasOwnProperty(e.text))return new he.MathNode("mspace");throw new me('Unknown type of space "'+e.text+'"')}return n}});var D5=()=>{var e=new he.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};gs({type:"tag",mathmlBuilder(e,t){var n=new he.MathNode("mtable",[new he.MathNode("mtr",[D5(),new he.MathNode("mtd",[T0(e.body,t)]),D5(),new he.MathNode("mtd",[T0(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var _5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},I5={"\\textbf":"textbf","\\textmd":"textmd"},_x={"\\textit":"textit","\\textup":"textup"},N5=(e,t)=>{var n=e.font;return n?_5[n]?t.withTextFontFamily(_5[n]):I5[n]?t.withTextFontWeight(I5[n]):t.withTextFontShape(_x[n]):t};Te({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:ht(i),font:r}},htmlBuilder(e,t){var n=N5(e,t),r=yt(e.body,n,!0);return Y.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=N5(e,t);return T0(e.body,n)}});Te({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ye(e.body,t),r=Y.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Y.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return Y.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new he.MathNode("mo",[new he.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new he.MathNode("munder",[Je(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});Te({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ye(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return Y.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new he.MathNode("mpadded",[Je(e.body,t)],["vcenter"])}});Te({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new me("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=q5(e),r=[],i=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(Y.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Y.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Y.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new he.TextNode(q5(e)),r=new he.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var q5=e=>e.body.replace(/ /g,e.star?"␣":" "),M0=cp,Vp=`[ \r
	]`,Ix="\\\\[a-zA-Z@]+",Nx="\\\\[^\uD800-\uDFFF]",qx="("+Ix+")"+Vp+"*",Bx=`\\\\(
|[ \r	]+
?)[ \r	]*`,T4="[̀-ͯ]",Fx=new RegExp(T4+"+$"),Lx="("+Vp+"+)|"+(Bx+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(T4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(T4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+qx)+("|"+Nx+")");class B5{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(Lx,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new lr("EOF",new nn(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new me("Unexpected character: '"+t[n]+"'",new lr(t[n],new nn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new lr(i,new nn(this,n,this.tokenRegex.lastIndex))}}class Rx{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new me("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var Px=_p;S("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});S("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});S("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});S("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});S("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});S("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");S("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var F5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};S("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new me("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=F5[t.text],r==null||r>=n)throw new me("Invalid base-"+n+" digit "+t.text);for(var i;(i=F5[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var Od=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new me("\\newcommand's first argument must be a macro name");var i=r[0].text,a=e.isDefined(i);if(a&&!t)throw new me("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!n)throw new me("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new me("Invalid number of arguments: "+o);s=parseInt(o),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:s}),""};S("\\newcommand",e=>Od(e,!1,!0));S("\\renewcommand",e=>Od(e,!0,!1));S("\\providecommand",e=>Od(e,!0,!0));S("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});S("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});S("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),M0[n],nt.math[n],nt.text[n]),""});S("\\bgroup","{");S("\\egroup","}");S("~","\\nobreakspace");S("\\lq","`");S("\\rq","'");S("\\aa","\\r a");S("\\AA","\\r A");S("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");S("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");S("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");S("ℬ","\\mathscr{B}");S("ℰ","\\mathscr{E}");S("ℱ","\\mathscr{F}");S("ℋ","\\mathscr{H}");S("ℐ","\\mathscr{I}");S("ℒ","\\mathscr{L}");S("ℳ","\\mathscr{M}");S("ℛ","\\mathscr{R}");S("ℭ","\\mathfrak{C}");S("ℌ","\\mathfrak{H}");S("ℨ","\\mathfrak{Z}");S("\\Bbbk","\\Bbb{k}");S("·","\\cdotp");S("\\llap","\\mathllap{\\textrm{#1}}");S("\\rlap","\\mathrlap{\\textrm{#1}}");S("\\clap","\\mathclap{\\textrm{#1}}");S("\\mathstrut","\\vphantom{(}");S("\\underbar","\\underline{\\text{#1}}");S("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');S("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");S("\\ne","\\neq");S("≠","\\neq");S("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");S("∉","\\notin");S("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");S("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");S("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");S("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");S("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");S("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");S("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");S("⟂","\\perp");S("‼","\\mathclose{!\\mkern-0.8mu!}");S("∌","\\notni");S("⌜","\\ulcorner");S("⌝","\\urcorner");S("⌞","\\llcorner");S("⌟","\\lrcorner");S("©","\\copyright");S("®","\\textregistered");S("️","\\textregistered");S("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');S("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');S("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');S("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');S("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");S("⋮","\\vdots");S("\\varGamma","\\mathit{\\Gamma}");S("\\varDelta","\\mathit{\\Delta}");S("\\varTheta","\\mathit{\\Theta}");S("\\varLambda","\\mathit{\\Lambda}");S("\\varXi","\\mathit{\\Xi}");S("\\varPi","\\mathit{\\Pi}");S("\\varSigma","\\mathit{\\Sigma}");S("\\varUpsilon","\\mathit{\\Upsilon}");S("\\varPhi","\\mathit{\\Phi}");S("\\varPsi","\\mathit{\\Psi}");S("\\varOmega","\\mathit{\\Omega}");S("\\substack","\\begin{subarray}{c}#1\\end{subarray}");S("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");S("\\boxed","\\fbox{$\\displaystyle{#1}$}");S("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");S("\\implies","\\DOTSB\\;\\Longrightarrow\\;");S("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var L5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};S("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in L5?t=L5[n]:(n.slice(0,4)==="\\not"||n in nt.math&&Fe.contains(["bin","rel"],nt.math[n].group))&&(t="\\dotsb"),t});var Hd={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};S("\\dotso",function(e){var t=e.future().text;return t in Hd?"\\ldots\\,":"\\ldots"});S("\\dotsc",function(e){var t=e.future().text;return t in Hd&&t!==","?"\\ldots\\,":"\\ldots"});S("\\cdots",function(e){var t=e.future().text;return t in Hd?"\\@cdots\\,":"\\@cdots"});S("\\dotsb","\\cdots");S("\\dotsm","\\cdots");S("\\dotsi","\\!\\cdots");S("\\dotsx","\\ldots\\,");S("\\DOTSI","\\relax");S("\\DOTSB","\\relax");S("\\DOTSX","\\relax");S("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");S("\\,","\\tmspace+{3mu}{.1667em}");S("\\thinspace","\\,");S("\\>","\\mskip{4mu}");S("\\:","\\tmspace+{4mu}{.2222em}");S("\\medspace","\\:");S("\\;","\\tmspace+{5mu}{.2777em}");S("\\thickspace","\\;");S("\\!","\\tmspace-{3mu}{.1667em}");S("\\negthinspace","\\!");S("\\negmedspace","\\tmspace-{4mu}{.2222em}");S("\\negthickspace","\\tmspace-{5mu}{.277em}");S("\\enspace","\\kern.5em ");S("\\enskip","\\hskip.5em\\relax");S("\\quad","\\hskip1em\\relax");S("\\qquad","\\hskip2em\\relax");S("\\tag","\\@ifstar\\tag@literal\\tag@paren");S("\\tag@paren","\\tag@literal{({#1})}");S("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new me("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});S("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");S("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");S("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");S("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");S("\\newline","\\\\\\relax");S("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Up=ve(ar["Main-Regular"]["T".charCodeAt(0)][1]-.7*ar["Main-Regular"]["A".charCodeAt(0)][1]);S("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Up+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");S("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Up+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");S("\\hspace","\\@ifstar\\@hspacer\\@hspace");S("\\@hspace","\\hskip #1\\relax");S("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");S("\\ordinarycolon",":");S("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");S("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');S("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');S("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');S("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');S("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');S("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');S("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');S("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');S("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');S("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');S("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');S("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');S("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');S("∷","\\dblcolon");S("∹","\\eqcolon");S("≔","\\coloneqq");S("≕","\\eqqcolon");S("⩴","\\Coloneqq");S("\\ratio","\\vcentcolon");S("\\coloncolon","\\dblcolon");S("\\colonequals","\\coloneqq");S("\\coloncolonequals","\\Coloneqq");S("\\equalscolon","\\eqqcolon");S("\\equalscoloncolon","\\Eqqcolon");S("\\colonminus","\\coloneq");S("\\coloncolonminus","\\Coloneq");S("\\minuscolon","\\eqcolon");S("\\minuscoloncolon","\\Eqcolon");S("\\coloncolonapprox","\\Colonapprox");S("\\coloncolonsim","\\Colonsim");S("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");S("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");S("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");S("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");S("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");S("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");S("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");S("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");S("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");S("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");S("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");S("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");S("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");S("\\nleqq","\\html@mathml{\\@nleqq}{≰}");S("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");S("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");S("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");S("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");S("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");S("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");S("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");S("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");S("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");S("\\imath","\\html@mathml{\\@imath}{ı}");S("\\jmath","\\html@mathml{\\@jmath}{ȷ}");S("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");S("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");S("⟦","\\llbracket");S("⟧","\\rrbracket");S("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");S("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");S("⦃","\\lBrace");S("⦄","\\rBrace");S("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");S("⦵","\\minuso");S("\\darr","\\downarrow");S("\\dArr","\\Downarrow");S("\\Darr","\\Downarrow");S("\\lang","\\langle");S("\\rang","\\rangle");S("\\uarr","\\uparrow");S("\\uArr","\\Uparrow");S("\\Uarr","\\Uparrow");S("\\N","\\mathbb{N}");S("\\R","\\mathbb{R}");S("\\Z","\\mathbb{Z}");S("\\alef","\\aleph");S("\\alefsym","\\aleph");S("\\Alpha","\\mathrm{A}");S("\\Beta","\\mathrm{B}");S("\\bull","\\bullet");S("\\Chi","\\mathrm{X}");S("\\clubs","\\clubsuit");S("\\cnums","\\mathbb{C}");S("\\Complex","\\mathbb{C}");S("\\Dagger","\\ddagger");S("\\diamonds","\\diamondsuit");S("\\empty","\\emptyset");S("\\Epsilon","\\mathrm{E}");S("\\Eta","\\mathrm{H}");S("\\exist","\\exists");S("\\harr","\\leftrightarrow");S("\\hArr","\\Leftrightarrow");S("\\Harr","\\Leftrightarrow");S("\\hearts","\\heartsuit");S("\\image","\\Im");S("\\infin","\\infty");S("\\Iota","\\mathrm{I}");S("\\isin","\\in");S("\\Kappa","\\mathrm{K}");S("\\larr","\\leftarrow");S("\\lArr","\\Leftarrow");S("\\Larr","\\Leftarrow");S("\\lrarr","\\leftrightarrow");S("\\lrArr","\\Leftrightarrow");S("\\Lrarr","\\Leftrightarrow");S("\\Mu","\\mathrm{M}");S("\\natnums","\\mathbb{N}");S("\\Nu","\\mathrm{N}");S("\\Omicron","\\mathrm{O}");S("\\plusmn","\\pm");S("\\rarr","\\rightarrow");S("\\rArr","\\Rightarrow");S("\\Rarr","\\Rightarrow");S("\\real","\\Re");S("\\reals","\\mathbb{R}");S("\\Reals","\\mathbb{R}");S("\\Rho","\\mathrm{P}");S("\\sdot","\\cdot");S("\\sect","\\S");S("\\spades","\\spadesuit");S("\\sub","\\subset");S("\\sube","\\subseteq");S("\\supe","\\supseteq");S("\\Tau","\\mathrm{T}");S("\\thetasym","\\vartheta");S("\\weierp","\\wp");S("\\Zeta","\\mathrm{Z}");S("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");S("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");S("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");S("\\bra","\\mathinner{\\langle{#1}|}");S("\\ket","\\mathinner{|{#1}\\rangle}");S("\\braket","\\mathinner{\\langle{#1}\\rangle}");S("\\Bra","\\left\\langle#1\\right|");S("\\Ket","\\left|#1\\right\\rangle");var jp=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=c=>h=>{e&&(h.macros.set("|",s),i.length&&h.macros.set("\\|",o));var d=c;if(!c&&i.length){var p=h.future();p.text==="|"&&(h.popToken(),d=!0)}return{tokens:d?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,f=t.expandTokens([...a,...u,...n]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};S("\\bra@ket",jp(!1));S("\\bra@set",jp(!0));S("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");S("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");S("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");S("\\angln","{\\angl n}");S("\\blue","\\textcolor{##6495ed}{#1}");S("\\orange","\\textcolor{##ffa500}{#1}");S("\\pink","\\textcolor{##ff00af}{#1}");S("\\red","\\textcolor{##df0030}{#1}");S("\\green","\\textcolor{##28ae7b}{#1}");S("\\gray","\\textcolor{gray}{#1}");S("\\purple","\\textcolor{##9d38bd}{#1}");S("\\blueA","\\textcolor{##ccfaff}{#1}");S("\\blueB","\\textcolor{##80f6ff}{#1}");S("\\blueC","\\textcolor{##63d9ea}{#1}");S("\\blueD","\\textcolor{##11accd}{#1}");S("\\blueE","\\textcolor{##0c7f99}{#1}");S("\\tealA","\\textcolor{##94fff5}{#1}");S("\\tealB","\\textcolor{##26edd5}{#1}");S("\\tealC","\\textcolor{##01d1c1}{#1}");S("\\tealD","\\textcolor{##01a995}{#1}");S("\\tealE","\\textcolor{##208170}{#1}");S("\\greenA","\\textcolor{##b6ffb0}{#1}");S("\\greenB","\\textcolor{##8af281}{#1}");S("\\greenC","\\textcolor{##74cf70}{#1}");S("\\greenD","\\textcolor{##1fab54}{#1}");S("\\greenE","\\textcolor{##0d923f}{#1}");S("\\goldA","\\textcolor{##ffd0a9}{#1}");S("\\goldB","\\textcolor{##ffbb71}{#1}");S("\\goldC","\\textcolor{##ff9c39}{#1}");S("\\goldD","\\textcolor{##e07d10}{#1}");S("\\goldE","\\textcolor{##a75a05}{#1}");S("\\redA","\\textcolor{##fca9a9}{#1}");S("\\redB","\\textcolor{##ff8482}{#1}");S("\\redC","\\textcolor{##f9685d}{#1}");S("\\redD","\\textcolor{##e84d39}{#1}");S("\\redE","\\textcolor{##bc2612}{#1}");S("\\maroonA","\\textcolor{##ffbde0}{#1}");S("\\maroonB","\\textcolor{##ff92c6}{#1}");S("\\maroonC","\\textcolor{##ed5fa6}{#1}");S("\\maroonD","\\textcolor{##ca337c}{#1}");S("\\maroonE","\\textcolor{##9e034e}{#1}");S("\\purpleA","\\textcolor{##ddd7ff}{#1}");S("\\purpleB","\\textcolor{##c6b9fc}{#1}");S("\\purpleC","\\textcolor{##aa87ff}{#1}");S("\\purpleD","\\textcolor{##7854ab}{#1}");S("\\purpleE","\\textcolor{##543b78}{#1}");S("\\mintA","\\textcolor{##f5f9e8}{#1}");S("\\mintB","\\textcolor{##edf2df}{#1}");S("\\mintC","\\textcolor{##e0e5cc}{#1}");S("\\grayA","\\textcolor{##f6f7f7}{#1}");S("\\grayB","\\textcolor{##f0f1f2}{#1}");S("\\grayC","\\textcolor{##e3e5e6}{#1}");S("\\grayD","\\textcolor{##d6d8da}{#1}");S("\\grayE","\\textcolor{##babec2}{#1}");S("\\grayF","\\textcolor{##888d93}{#1}");S("\\grayG","\\textcolor{##626569}{#1}");S("\\grayH","\\textcolor{##3b3e40}{#1}");S("\\grayI","\\textcolor{##21242c}{#1}");S("\\kaBlue","\\textcolor{##314453}{#1}");S("\\kaGreen","\\textcolor{##71B307}{#1}");var Wp={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ox{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new Rx(Px,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new B5(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new lr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new me("Extra }",a)}else if(a.text==="EOF")throw new me("Unexpected end of input in a macro argument, expected '"+(t&&r?t[o]:"}")+"'",a);if(t&&r)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new me("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new me("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new me("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new me("Too many expansions: infinite loop or need to increase maxExpand setting");var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new me("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new me("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new lr(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new B5(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var f={tokens:l,numArgs:a};return f}return i}isDefined(t){return this.macros.has(t)||M0.hasOwnProperty(t)||nt.math.hasOwnProperty(t)||nt.text.hasOwnProperty(t)||Wp.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:M0.hasOwnProperty(t)&&!M0[t].primitive}}var R5=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,v1=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),B2={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},P5={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Jo{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ox(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new me("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new lr("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Jo.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&M0[i.text]&&M0[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new me("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var a,s,o=t.slice(0,n),l=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,t[n],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new me("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new me("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new me("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new me("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new me("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(v1[a.text]){var u=v1[a.text],f=R5.test(a.text);for(this.consume();;){var c=this.fetch().text;if(!v1[c]||R5.test(c)!==f)break;this.consume(),u+=v1[c]}var h=new Jo(u,this.settings).parse();f?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,a=M0[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new me("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new me("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new me("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,t)}callFunction(t,n,r,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},o=M0[t];if(o&&o.handler)return o.handler(s,n,r);throw new me("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new me("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new me("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new me("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new me("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new me("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new me("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new me("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!np(a))throw new me("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(t,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:nn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!Wp.hasOwnProperty(i)){if(this.settings.throwOnError)throw new me("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],a=i.text;a==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:nn.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:nn.range(i,t[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[r+1].text===a&&(t.splice(r,2,{type:"textord",mode:"text",loc:nn.range(i,t[r+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new me(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}P5.hasOwnProperty(n[0])&&!nt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=P5[n[0]]+n.slice(1));var a=Fx.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var s;if(nt[this.mode][n]){this.settings.strict&&this.mode==="math"&&x4.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=nt[this.mode][n].group,l=nn.range(t),u;if(Ew.hasOwnProperty(o)){var f=o;u={type:"atom",mode:this.mode,family:f,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(tp(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:nn.range(t),text:n};else return null;if(this.consume(),a)for(var c=0;c<a[0].length;c++){var h=a[0][c];if(!B2[h])throw new me("Unknown accent ' "+h+"'",t);var d=B2[h][this.mode]||B2[h].text;if(!d)throw new me("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:nn.range(t),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}Jo.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Vd=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Jo(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new me("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new lr("\\df@tag")])}]}return i},Yp=function(t,n,r){n.textContent="";var i=Ud(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Yp=function(){throw new me("KaTeX doesn't work in quirks mode.")});var Hx=function(t,n){var r=Ud(t,n).toMarkup();return r},Vx=function(t,n){var r=new $d(n);return Vd(t,r)},Gp=function(t,n,r){if(r.throwOnError||!(t instanceof me))throw t;var i=Y.makeSpan(["katex-error"],[new An(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},Ud=function(t,n){var r=new $d(n);try{var i=Vd(t,r);return Kw(i,t,r)}catch(a){return Gp(a,t,r)}},Ux=function(t,n){var r=new $d(n);try{var i=Vd(t,r);return Jw(i,t,r)}catch(a){return Gp(a,t,r)}},jx={version:"0.16.8",render:Yp,renderToString:Hx,ParseError:me,SETTINGS_SCHEMA:U1,__parse:Vx,__renderToDomTree:Ud,__renderToHTMLTree:Ux,__setFontMetrics:Mw,__defineSymbol:m,__defineFunction:Te,__defineMacro:S,__domTree:{Span:bl,Anchor:Ad,SymbolNode:An,SvgNode:Ur,PathNode:$0,LineNode:w4}};function Wx(e){let t,n;return{c(){t=new $b(!1),n=K1(),this.h()},l(r){t=Tb(r,!1),n=K1(),this.h()},h(){t.a=n},m(r,i){t.m(e[0],r,i),N(r,n,i)},p(r,[i]){i&1&&t.p(r[0])},i:Ke,o:Ke,d(r){r&&(k(n),t.d())}}}function Yx(e,t,n){let r="",{big:i=!1}=t,{text:a="c = \\pm\\sqrt{a^2 + b^2}"}=t,{begin:s=""}=t;return e.$$set=o=>{"big"in o&&n(1,i=o.big),"text"in o&&n(2,a=o.text),"begin"in o&&n(3,s=o.begin)},e.$$.update=()=>{if(e.$$.dirty&14){let o=a;s.length>0&&(o=`\\begin{${s}}`+o+`\\end{${s}}`),n(0,r=jx.renderToString(o.replaceAll("[","{").replaceAll("]","}"),{throwOnError:!1,displayMode:i||s.length>0}))}},[r,i,a,s]}class Be extends hn{constructor(t){super(),dn(this,t,Yx,Wx,cn,{big:1,text:2,begin:3})}}function Zt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xl(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function el(e){let t,n,r;e.length!==2?(t=Zt,n=(o,l)=>Zt(e(o),l),r=(o,l)=>e(o)-l):(t=e===Zt||e===xl?e:Gx,n=e,r=e);function i(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function s(o,l,u=0,f=o.length){const c=i(o,l,u,f-1);return c>u&&r(o[c-1],l)>-r(o[c],l)?c-1:c}return{left:i,center:s,right:a}}function Gx(){return 0}function Xp(e){return e===null?NaN:+e}function*Xx(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Zx=el(Zt),Qx=Zx.right;el(Xp).center;const Zf=Qx;function jd(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function Kx(e){return e.length|0}function Jx(e){return!(e>0)}function eM(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function tM(e){return t=>e(...t)}function nM(...e){const t=typeof e[e.length-1]=="function"&&tM(e.pop());e=e.map(eM);const n=e.map(Kx),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Jx))return a;for(;;){a.push(i.map((o,l)=>e[l][o]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function rM(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Zp(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function Qp(e,t){const n=Zp(e,t);return n&&Math.sqrt(n)}function On(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class os{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class ls extends Map{constructor(t,n=e8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(C4(this,t))}has(t){return super.has(C4(this,t))}set(t,n){return super.set(Kp(this,t),n)}delete(t){return super.delete(Jp(this,t))}}class Wd extends Set{constructor(t,n=e8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(C4(this,t))}add(t){return super.add(Kp(this,t))}delete(t){return super.delete(Jp(this,t))}}function C4({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Kp({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Jp({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function e8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function A4(e){return e}function Yd(e,...t){return Gd(e,A4,A4,t)}function Gs(e,t,...n){return Gd(e,A4,t,n)}function iM(e,t,...n){return Gd(e,Array.from,t,n)}function Gd(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const o=new ls,l=r[s++];let u=-1;for(const f of a){const c=l(f,++u,a),h=o.get(c);h?h.push(f):o.set(c,[f])}for(const[f,c]of o)o.set(f,i(c,s));return t(o)}(e,0)}function aM(e,t){return Array.from(t,n=>e[n])}function tl(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const o=af(s[i],s[a]);if(o)return o}})):(n=e.map(n),r.sort((i,a)=>af(n[i],n[a]))),aM(e,r)}return e.sort(t8(n))}function t8(e=Zt){if(e===Zt)return af;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function af(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Xd(e,t,n){return(t.length!==2?tl(Gs(e,t,n),([r,i],[a,s])=>Zt(i,s)||Zt(r,a)):tl(Yd(e,n),([r,i],[a,s])=>t(i,s)||Zt(r,a))).map(([r])=>r)}const sM=Math.sqrt(50),oM=Math.sqrt(10),lM=Math.sqrt(2);function sf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=sM?10:a>=oM?5:a>=lM?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?sf(e,t,n*2):[o,l,u]}function nl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?sf(t,e,n):sf(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function of(e,t,n){return t=+t,e=+e,n=+n,sf(e,t,n)[2]}function E4(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?of(t,e,n):of(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function uM(e){return Math.max(1,Math.ceil(Math.log(jd(e))/Math.LN2)+1)}function cr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function fM(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Yr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function cM(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function n8(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?af:t8(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(t-u*c/l+h)),p=Math.min(r,Math.floor(t+(l-u)*c/l+h));n8(e,t,d,p,i)}const a=e[t];let s=n,o=r;for(ko(e,n,t),i(e[r],a)>0&&ko(e,n,r);s<o;){for(ko(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?ko(e,n,o):(++o,ko(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function ko(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function r8(e,t=Zt){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?Zt(s,i)>0:Zt(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function eo(e,t,n){if(e=Float64Array.from(Xx(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Yr(e);if(t>=1)return cr(e);var r,i=(r-1)*t,a=Math.floor(i),s=cr(n8(e,a).subarray(0,a+1)),o=Yr(e.subarray(a+1));return s+(o-s)*(i-a)}}function hM(e,t,n=Xp){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function dM(e,t,n){const r=jd(e),i=eo(e,.75)-eo(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function i8(e,t,n){const r=jd(e),i=Qp(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function mM(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function lf(e,t){return eo(e,.5,t)}function*pM(e){for(const t of e)yield*t}function a8(e){return Array.from(pM(e))}function gM(e,t){const n=new ls;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function vM(e,t=yM){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function yM(e,t){return[e,t]}function z4(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function C0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function uf(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function bM(e){return e}var F2=1,L2=2,D4=3,y1=4,O5=1e-6;function wM(e){return"translate("+e+",0)"}function xM(e){return"translate(0,"+e+")"}function MM(e){return t=>+e(t)}function SM(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function kM(){return!this.__axis}function $M(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===F2||e===y1?-1:1,f=e===y1||e===L2?"x":"y",c=e===F2||e===D4?wM:xM;function h(d){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,n):bM),b=Math.max(a,0)+o,x=t.range(),$=+x[0]+l,E=+x[x.length-1]+l,T=(t.bandwidth?SM:MM)(t.copy(),l),A=d.selection?d.selection():d,D=A.selectAll(".domain").data([null]),z=A.selectAll(".tick").data(p,t).order(),j=z.exit(),O=z.enter().append("g").attr("class","tick"),M=z.select("line"),C=z.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(O),M=M.merge(O.append("line").attr("stroke","currentColor").attr(f+"2",u*a)),C=C.merge(O.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",e===F2?"0em":e===D4?"0.71em":"0.32em")),d!==A&&(D=D.transition(d),z=z.transition(d),M=M.transition(d),C=C.transition(d),j=j.transition(d).attr("opacity",O5).attr("transform",function(B){return isFinite(B=T(B))?c(B+l):this.getAttribute("transform")}),O.attr("opacity",O5).attr("transform",function(B){var L=this.parentNode.__axis;return c((L&&isFinite(L=L(B))?L:T(B))+l)})),j.remove(),D.attr("d",e===y1||e===L2?s?"M"+u*s+","+$+"H"+l+"V"+E+"H"+u*s:"M"+l+","+$+"V"+E:s?"M"+$+","+u*s+"V"+l+"H"+E+"V"+u*s:"M"+$+","+l+"H"+E),z.attr("opacity",1).attr("transform",function(B){return c(T(B)+l)}),M.attr(f+"2",u*a),C.attr(f,u*b).text(y),A.filter(kM).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===L2?"start":e===y1?"end":"middle"),A.each(function(){this.__axis=T})}return h.scale=function(d){return arguments.length?(t=d,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=s=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(o=+d,h):o},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function TM(e){return $M(D4,e)}var CM={value:()=>{}};function s8(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new W1(n)}function W1(e){this._=e}function AM(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}W1.prototype=s8.prototype={constructor:W1,on:function(e,t){var n=this._,r=AM(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=EM(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=H5(n[i],e.name,t);else if(t==null)for(i in n)n[i]=H5(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new W1(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function EM(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function H5(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=CM,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var _4="http://www.w3.org/1999/xhtml";const to={svg:"http://www.w3.org/2000/svg",xhtml:_4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),to.hasOwnProperty(t)?{space:to[t],local:e}:e}function zM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_4&&t.documentElement.namespaceURI===_4?t.createElement(e):t.createElementNS(n,e)}}function DM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Kf(e){var t=Qf(e);return(t.local?DM:zM)(t)}function _M(){}function Zd(e){return e==null?_M:function(){return this.querySelector(e)}}function IM(e){typeof e!="function"&&(e=Zd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=new Array(s),l,u,f=0;f<s;++f)(l=a[f])&&(u=e.call(l,l.__data__,f,a))&&("__data__"in l&&(u.__data__=l.__data__),o[f]=u);return new ln(r,this._parents)}function NM(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function qM(){return[]}function o8(e){return e==null?qM:function(){return this.querySelectorAll(e)}}function BM(e){return function(){return NM(e.apply(this,arguments))}}function FM(e){typeof e=="function"?e=BM(e):e=o8(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new ln(r,i)}function l8(e){return function(){return this.matches(e)}}function u8(e){return function(t){return t.matches(e)}}var LM=Array.prototype.find;function RM(e){return function(){return LM.call(this.children,e)}}function PM(){return this.firstElementChild}function OM(e){return this.select(e==null?PM:RM(typeof e=="function"?e:u8(e)))}var HM=Array.prototype.filter;function VM(){return Array.from(this.children)}function UM(e){return function(){return HM.call(this.children,e)}}function jM(e){return this.selectAll(e==null?VM:UM(typeof e=="function"?e:u8(e)))}function WM(e){typeof e!="function"&&(e=l8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new ln(r,this._parents)}function f8(e){return new Array(e.length)}function YM(){return new ln(this._enter||this._groups.map(f8),this._parents)}function ff(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ff.prototype={constructor:ff,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function GM(e){return function(){return e}}function XM(e,t,n,r,i,a){for(var s=0,o,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new ff(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function ZM(e,t,n,r,i,a,s){var o,l,u=new Map,f=t.length,c=a.length,h=new Array(f),d;for(o=0;o<f;++o)(l=t[o])&&(h[o]=d=s.call(l,l.__data__,o,t)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<c;++o)d=s.call(e,a[o],o,a)+"",(l=u.get(d))?(r[o]=l,l.__data__=a[o],u.delete(d)):n[o]=new ff(e,a[o]);for(o=0;o<f;++o)(l=t[o])&&u.get(h[o])===l&&(i[o]=l)}function QM(e){return e.__data__}function KM(e,t){if(!arguments.length)return Array.from(this,QM);var n=t?ZM:XM,r=this._parents,i=this._groups;typeof e!="function"&&(e=GM(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var f=r[u],c=i[u],h=c.length,d=JM(e.call(f,f&&f.__data__,u,r)),p=d.length,y=o[u]=new Array(p),b=s[u]=new Array(p),x=l[u]=new Array(h);n(f,c,y,b,x,d,t);for(var $=0,E=0,T,A;$<p;++$)if(T=y[$]){for($>=E&&(E=$+1);!(A=b[E])&&++E<p;);T._next=A||null}}return s=new ln(s,r),s._enter=o,s._exit=l,s}function JM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eS(){return new ln(this._exit||this._groups.map(f8),this._parents)}function tS(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function nS(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],f=r[l],c=u.length,h=o[l]=new Array(c),d,p=0;p<c;++p)(d=u[p]||f[p])&&(h[p]=d);for(;l<i;++l)o[l]=n[l];return new ln(o,this._parents)}function rS(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function iS(e){e||(e=aS);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,f=0;f<o;++f)(u=s[f])&&(l[f]=u);l.sort(t)}return new ln(i,this._parents).order()}function aS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function oS(){return Array.from(this)}function lS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function uS(){let e=0;for(const t of this)++e;return e}function fS(){return!this.node()}function cS(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function hS(e){return function(){this.removeAttribute(e)}}function dS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mS(e,t){return function(){this.setAttribute(e,t)}}function pS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function gS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yS(e,t){var n=Qf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?dS:hS:typeof t=="function"?n.local?vS:gS:n.local?pS:mS)(n,t))}function c8(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bS(e){return function(){this.style.removeProperty(e)}}function wS(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xS(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function MS(e,t,n){return arguments.length>1?this.each((t==null?bS:typeof t=="function"?xS:wS)(e,t,n??"")):no(this.node(),e)}function no(e,t){return e.style.getPropertyValue(t)||c8(e).getComputedStyle(e,null).getPropertyValue(t)}function SS(e){return function(){delete this[e]}}function kS(e,t){return function(){this[e]=t}}function $S(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function TS(e,t){return arguments.length>1?this.each((t==null?SS:typeof t=="function"?$S:kS)(e,t)):this.node()[e]}function h8(e){return e.trim().split(/^|\s+/)}function Qd(e){return e.classList||new d8(e)}function d8(e){this._node=e,this._names=h8(e.getAttribute("class")||"")}d8.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function m8(e,t){for(var n=Qd(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function p8(e,t){for(var n=Qd(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function CS(e){return function(){m8(this,e)}}function AS(e){return function(){p8(this,e)}}function ES(e,t){return function(){(t.apply(this,arguments)?m8:p8)(this,e)}}function zS(e,t){var n=h8(e+"");if(arguments.length<2){for(var r=Qd(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?ES:t?CS:AS)(n,t))}function DS(){this.textContent=""}function _S(e){return function(){this.textContent=e}}function IS(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function NS(e){return arguments.length?this.each(e==null?DS:(typeof e=="function"?IS:_S)(e)):this.node().textContent}function qS(){this.innerHTML=""}function BS(e){return function(){this.innerHTML=e}}function FS(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function LS(e){return arguments.length?this.each(e==null?qS:(typeof e=="function"?FS:BS)(e)):this.node().innerHTML}function RS(){this.nextSibling&&this.parentNode.appendChild(this)}function PS(){return this.each(RS)}function OS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HS(){return this.each(OS)}function VS(e){var t=typeof e=="function"?e:Kf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function US(){return null}function jS(e,t){var n=typeof e=="function"?e:Kf(e),r=t==null?US:typeof t=="function"?t:Zd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function WS(){var e=this.parentNode;e&&e.removeChild(this)}function YS(){return this.each(WS)}function GS(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XS(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZS(e){return this.select(e?XS:GS)}function QS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function KS(e){return function(t){e.call(this,t,this.__data__)}}function JS(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ek(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function tk(e,t,n){return function(){var r=this.__on,i,a=KS(t);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function nk(e,t,n){var r=JS(e+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,f;l<u;++l)for(i=0,f=o[l];i<a;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(o=t?tk:ek,i=0;i<a;++i)this.each(o(r[i],t,n));return this}function g8(e,t,n){var r=c8(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function rk(e,t){return function(){return g8(this,e,t)}}function ik(e,t){return function(){return g8(this,e,t.apply(this,arguments))}}function ak(e,t){return this.each((typeof t=="function"?ik:rk)(e,t))}function*sk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var v8=[null];function ln(e,t){this._groups=e,this._parents=t}function Ml(){return new ln([[document.documentElement]],v8)}function ok(){return this}ln.prototype=Ml.prototype={constructor:ln,select:IM,selectAll:FM,selectChild:OM,selectChildren:jM,filter:WM,data:KM,enter:YM,exit:eS,join:tS,merge:nS,selection:ok,order:rS,sort:iS,call:sS,nodes:oS,node:lS,size:uS,empty:fS,each:cS,attr:yS,style:MS,property:TS,classed:zS,text:NS,html:LS,raise:PS,lower:HS,append:VS,insert:jS,remove:YS,clone:ZS,datum:QS,on:nk,dispatch:ak,[Symbol.iterator]:sk};function Uo(e){return typeof e=="string"?new ln([[document.querySelector(e)]],[document.documentElement]):new ln([[e]],v8)}function lk(e){let t;for(;t=e.sourceEvent;)e=t;return e}function uk(e,t){if(e=lk(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function po(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Sl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function z0(){}var us=.7,ro=1/us,Xs="\\s*([+-]?\\d+)\\s*",rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fk=/^#([0-9a-f]{3,8})$/,ck=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),hk=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),dk=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${rl}\\)$`),mk=new RegExp(`^rgba\\(${ur},${ur},${ur},${rl}\\)$`),pk=new RegExp(`^hsl\\(${rl},${ur},${ur}\\)$`),gk=new RegExp(`^hsla\\(${rl},${ur},${ur},${rl}\\)$`),V5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};po(z0,Gr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:U5,formatHex:U5,formatHex8:vk,formatHsl:yk,formatRgb:j5,toString:j5});function U5(){return this.rgb().formatHex()}function vk(){return this.rgb().formatHex8()}function yk(){return y8(this).formatHsl()}function j5(){return this.rgb().formatRgb()}function Gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?W5(t):n===3?new kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?b1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?b1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ck.exec(e))?new kt(t[1],t[2],t[3],1):(t=hk.exec(e))?new kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dk.exec(e))?b1(t[1],t[2],t[3],t[4]):(t=mk.exec(e))?b1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pk.exec(e))?X5(t[1],t[2]/100,t[3]/100,1):(t=gk.exec(e))?X5(t[1],t[2]/100,t[3]/100,t[4]):V5.hasOwnProperty(e)?W5(V5[e]):e==="transparent"?new kt(NaN,NaN,NaN,0):null}function W5(e){return new kt(e>>16&255,e>>8&255,e&255,1)}function b1(e,t,n,r){return r<=0&&(e=t=n=NaN),new kt(e,t,n,r)}function Kd(e){return e instanceof z0||(e=Gr(e)),e?(e=e.rgb(),new kt(e.r,e.g,e.b,e.opacity)):new kt}function A0(e,t,n,r){return arguments.length===1?Kd(e):new kt(e,t,n,r??1)}function kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}po(kt,A0,Sl(z0,{brighter(e){return e=e==null?ro:Math.pow(ro,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?us:Math.pow(us,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kt(as(this.r),as(this.g),as(this.b),cf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y5,formatHex:Y5,formatHex8:bk,formatRgb:G5,toString:G5}));function Y5(){return`#${is(this.r)}${is(this.g)}${is(this.b)}`}function bk(){return`#${is(this.r)}${is(this.g)}${is(this.b)}${is((isNaN(this.opacity)?1:this.opacity)*255)}`}function G5(){const e=cf(this.opacity);return`${e===1?"rgb(":"rgba("}${as(this.r)}, ${as(this.g)}, ${as(this.b)}${e===1?")":`, ${e})`}`}function cf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function as(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function is(e){return e=as(e),(e<16?"0":"")+e.toString(16)}function X5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Rn(e,t,n,r)}function y8(e){if(e instanceof Rn)return new Rn(e.h,e.s,e.l,e.opacity);if(e instanceof z0||(e=Gr(e)),!e)return new Rn;if(e instanceof Rn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Rn(s,o,l,e.opacity)}function I4(e,t,n,r){return arguments.length===1?y8(e):new Rn(e,t,n,r??1)}function Rn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}po(Rn,I4,Sl(z0,{brighter(e){return e=e==null?ro:Math.pow(ro,e),new Rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?us:Math.pow(us,e),new Rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new kt(R2(e>=240?e-240:e+120,i,r),R2(e,i,r),R2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Rn(Z5(this.h),w1(this.s),w1(this.l),cf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cf(this.opacity);return`${e===1?"hsl(":"hsla("}${Z5(this.h)}, ${w1(this.s)*100}%, ${w1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z5(e){return e=(e||0)%360,e<0?e+360:e}function w1(e){return Math.max(0,Math.min(1,e||0))}function R2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const b8=Math.PI/180,w8=180/Math.PI,hf=18,x8=.96422,M8=1,S8=.82521,k8=4/29,Zs=6/29,$8=3*Zs*Zs,wk=Zs*Zs*Zs;function T8(e){if(e instanceof fr)return new fr(e.l,e.a,e.b,e.opacity);if(e instanceof Br)return C8(e);e instanceof kt||(e=Kd(e));var t=V2(e.r),n=V2(e.g),r=V2(e.b),i=P2((.2225045*t+.7168786*n+.0606169*r)/M8),a,s;return t===n&&n===r?a=s=i:(a=P2((.4360747*t+.3850649*n+.1430804*r)/x8),s=P2((.0139322*t+.0971045*n+.7141733*r)/S8)),new fr(116*i-16,500*(a-i),200*(i-s),e.opacity)}function N4(e,t,n,r){return arguments.length===1?T8(e):new fr(e,t,n,r??1)}function fr(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}po(fr,N4,Sl(z0,{brighter(e){return new fr(this.l+hf*(e??1),this.a,this.b,this.opacity)},darker(e){return new fr(this.l-hf*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=x8*O2(t),e=M8*O2(e),n=S8*O2(n),new kt(H2(3.1338561*t-1.6168667*e-.4906146*n),H2(-.9787684*t+1.9161415*e+.033454*n),H2(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function P2(e){return e>wk?Math.pow(e,1/3):e/$8+k8}function O2(e){return e>Zs?e*e*e:$8*(e-k8)}function H2(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function V2(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xk(e){if(e instanceof Br)return new Br(e.h,e.c,e.l,e.opacity);if(e instanceof fr||(e=T8(e)),e.a===0&&e.b===0)return new Br(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*w8;return new Br(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function q4(e,t,n,r){return arguments.length===1?xk(e):new Br(e,t,n,r??1)}function Br(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function C8(e){if(isNaN(e.h))return new fr(e.l,0,0,e.opacity);var t=e.h*b8;return new fr(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}po(Br,q4,Sl(z0,{brighter(e){return new Br(this.h,this.c,this.l+hf*(e??1),this.opacity)},darker(e){return new Br(this.h,this.c,this.l-hf*(e??1),this.opacity)},rgb(){return C8(this).rgb()}}));var A8=-.14861,Jd=1.78277,em=-.29227,Jf=-.90649,il=1.97294,Q5=il*Jf,K5=il*Jd,J5=Jd*em-Jf*A8;function Mk(e){if(e instanceof ss)return new ss(e.h,e.s,e.l,e.opacity);e instanceof kt||(e=Kd(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(J5*r+Q5*t-K5*n)/(J5+Q5-K5),a=r-i,s=(il*(n-i)-em*a)/Jf,o=Math.sqrt(s*s+a*a)/(il*i*(1-i)),l=o?Math.atan2(s,a)*w8-120:NaN;return new ss(l<0?l+360:l,o,i,e.opacity)}function hr(e,t,n,r){return arguments.length===1?Mk(e):new ss(e,t,n,r??1)}function ss(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}po(ss,hr,Sl(z0,{brighter(e){return e=e==null?ro:Math.pow(ro,e),new ss(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?us:Math.pow(us,e),new ss(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*b8,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new kt(255*(t+n*(A8*r+Jd*i)),255*(t+n*(em*r+Jf*i)),255*(t+n*(il*r)),this.opacity)}}));function Sk(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function kk(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return Sk((n-r/t)*t,s,i,a,o)}}const ec=e=>()=>e;function E8(e,t){return function(n){return e+n*t}}function $k(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tm(e,t){var n=t-e;return n?E8(e,n>180||n<-180?n-360*Math.round(n/360):n):ec(isNaN(e)?t:e)}function Tk(e){return(e=+e)==1?qt:function(t,n){return n-t?$k(t,n,e):ec(isNaN(t)?n:t)}}function qt(e,t){var n=t-e;return n?E8(e,n):ec(isNaN(e)?t:e)}const fs=function e(t){var n=Tk(t);function r(i,a){var s=n((i=A0(i)).r,(a=A0(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=qt(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Ck(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=A0(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var Ak=Ck(kk);function Ek(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function zk(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dk(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=kl(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function _k(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ik(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=kl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var B4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U2=new RegExp(B4.source,"g");function Nk(e){return function(){return e}}function qk(e){return function(t){return e(t)+""}}function z8(e,t){var n=B4.lastIndex=U2.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=B4.exec(e))&&(i=U2.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Nt(r,i)})),n=U2.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?qk(l[0].x):Nk(t):(t=l.length,function(u){for(var f=0,c;f<t;++f)o[(c=l[f]).i]=c.x(u);return o.join("")})}function kl(e,t){var n=typeof t,r;return t==null||n==="boolean"?ec(t):(n==="number"?Nt:n==="string"?(r=Gr(t))?(t=r,fs):z8:t instanceof Gr?fs:t instanceof Date?_k:zk(t)?Ek:Array.isArray(t)?Dk:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ik:Nt)(e,t)}function nm(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var e6=180/Math.PI,F4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function D8(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*e6,skewX:Math.atan(l)*e6,scaleX:s,scaleY:o}}var x1;function Bk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?F4:D8(t.a,t.b,t.c,t.d,t.e,t.f)}function Fk(e){return e==null||(x1||(x1=document.createElementNS("http://www.w3.org/2000/svg","g")),x1.setAttribute("transform",e),!(e=x1.transform.baseVal.consolidate()))?F4:(e=e.matrix,D8(e.a,e.b,e.c,e.d,e.e,e.f))}function _8(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,f,c,h,d,p){if(u!==c||f!==h){var y=d.push("translate(",null,t,null,n);p.push({i:y-4,x:Nt(u,c)},{i:y-2,x:Nt(f,h)})}else(c||h)&&d.push("translate("+c+t+h+n)}function s(u,f,c,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Nt(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function o(u,f,c,h){u!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Nt(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function l(u,f,c,h,d,p){if(u!==c||f!==h){var y=d.push(i(d)+"scale(",null,",",null,")");p.push({i:y-4,x:Nt(u,c)},{i:y-2,x:Nt(f,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(u,f){var c=[],h=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,c,h),s(u.rotate,f.rotate,c,h),o(u.skewX,f.skewX,c,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,h),u=f=null,function(d){for(var p=-1,y=h.length,b;++p<y;)c[(b=h[p]).i]=b.x(d);return c.join("")}}}var Lk=_8(Bk,"px, ","px)","deg)"),Rk=_8(Fk,", ",")",")");function Pk(e){return function(t,n){var r=e((t=I4(t)).h,(n=I4(n)).h),i=qt(t.s,n.s),a=qt(t.l,n.l),s=qt(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const Ok=Pk(tm);function Hk(e,t){var n=qt((e=N4(e)).l,(t=N4(t)).l),r=qt(e.a,t.a),i=qt(e.b,t.b),a=qt(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function Vk(e){return function(t,n){var r=e((t=q4(t)).h,(n=q4(n)).h),i=qt(t.c,n.c),a=qt(t.l,n.l),s=qt(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const Uk=Vk(tm);function I8(e){return function t(n){n=+n;function r(i,a){var s=e((i=hr(i)).h,(a=hr(a)).h),o=qt(i.s,a.s),l=qt(i.l,a.l),u=qt(i.opacity,a.opacity);return function(f){return i.h=s(f),i.s=o(f),i.l=l(Math.pow(f,n)),i.opacity=u(f),i+""}}return r.gamma=t,r}(1)}I8(tm);var rm=I8(qt);function tc(e,t){t===void 0&&(t=e,e=kl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Hn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var io=0,Io=0,$o=0,N8=1e3,df,No,mf=0,cs=0,nc=0,al=typeof performance=="object"&&performance.now?performance:Date,q8=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function im(){return cs||(q8(jk),cs=al.now()+nc)}function jk(){cs=0}function pf(){this._call=this._time=this._next=null}pf.prototype=B8.prototype={constructor:pf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?im():+n)+(t==null?0:+t),!this._next&&No!==this&&(No?No._next=this:df=this,No=this),this._call=e,this._time=n,L4()},stop:function(){this._call&&(this._call=null,this._time=1/0,L4())}};function B8(e,t,n){var r=new pf;return r.restart(e,t,n),r}function Wk(){im(),++io;for(var e=df,t;e;)(t=cs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--io}function t6(){cs=(mf=al.now())+nc,io=Io=0;try{Wk()}finally{io=0,Gk(),cs=0}}function Yk(){var e=al.now(),t=e-mf;t>N8&&(nc-=t,mf=e)}function Gk(){for(var e,t=df,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:df=n);No=e,L4(r)}function L4(e){if(!io){Io&&(Io=clearTimeout(Io));var t=e-cs;t>24?(e<1/0&&(Io=setTimeout(t6,e-al.now()-nc)),$o&&($o=clearInterval($o))):($o||(mf=al.now(),$o=setInterval(Yk,N8)),io=1,q8(t6))}}function n6(e,t,n){var r=new pf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Xk=s8("start","end","cancel","interrupt"),Zk=[],F8=0,r6=1,R4=2,Y1=3,i6=4,P4=5,G1=6;function rc(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Qk(e,n,{name:t,index:r,group:i,on:Xk,tween:Zk,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:F8})}function am(e,t){var n=Yn(e,t);if(n.state>F8)throw new Error("too late; already scheduled");return n}function gr(e,t){var n=Yn(e,t);if(n.state>Y1)throw new Error("too late; already running");return n}function Yn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qk(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=B8(a,0,n.time);function a(u){n.state=r6,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,h,d;if(n.state!==r6)return l();for(f in r)if(d=r[f],d.name===n.name){if(d.state===Y1)return n6(s);d.state===i6?(d.state=G1,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[f]):+f<t&&(d.state=G1,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[f])}if(n6(function(){n.state===Y1&&(n.state=i6,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=R4,n.on.call("start",e,e.__data__,n.index,n.group),n.state===R4){for(n.state=Y1,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(d=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=d);i.length=c+1}}function o(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=P4,1),c=-1,h=i.length;++c<h;)i[c].call(e,f);n.state===P4&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=G1,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Kk(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>R4&&r.state<P4,r.state=G1,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function Jk(e){return this.each(function(){Kk(this,e)})}function e$(e,t){var n,r;return function(){var i=gr(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function t$(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=gr(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function n$(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Yn(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?e$:t$)(n,e,t))}function sm(e,t,n){var r=e._id;return e.each(function(){var i=gr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Yn(i,r).value[t]}}function L8(e,t){var n;return(typeof t=="number"?Nt:t instanceof Gr?fs:(n=Gr(t))?(t=n,fs):z8)(e,t)}function r$(e){return function(){this.removeAttribute(e)}}function i$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a$(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function s$(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function o$(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function l$(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function u$(e,t){var n=Qf(e),r=n==="transform"?Rk:L8;return this.attrTween(e,typeof t=="function"?(n.local?l$:o$)(n,r,sm(this,"attr."+e,t)):t==null?(n.local?i$:r$)(n):(n.local?s$:a$)(n,r,t))}function f$(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function c$(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function h$(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&c$(e,a)),n}return i._value=t,i}function d$(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&f$(e,a)),n}return i._value=t,i}function m$(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Qf(e);return this.tween(n,(r.local?h$:d$)(r,t))}function p$(e,t){return function(){am(this,e).delay=+t.apply(this,arguments)}}function g$(e,t){return t=+t,function(){am(this,e).delay=t}}function v$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?p$:g$)(t,e)):Yn(this.node(),t).delay}function y$(e,t){return function(){gr(this,e).duration=+t.apply(this,arguments)}}function b$(e,t){return t=+t,function(){gr(this,e).duration=t}}function w$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?y$:b$)(t,e)):Yn(this.node(),t).duration}function x$(e,t){if(typeof t!="function")throw new Error;return function(){gr(this,e).ease=t}}function M$(e){var t=this._id;return arguments.length?this.each(x$(t,e)):Yn(this.node(),t).ease}function S$(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;gr(this,e).ease=n}}function k$(e){if(typeof e!="function")throw new Error;return this.each(S$(this._id,e))}function $$(e){typeof e!="function"&&(e=l8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new Xr(r,this._parents,this._name,this._id)}function T$(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=t[o],u=n[o],f=l.length,c=s[o]=new Array(f),h,d=0;d<f;++d)(h=l[d]||u[d])&&(c[d]=h);for(;o<r;++o)s[o]=t[o];return new Xr(s,this._parents,this._name,this._id)}function C$(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function A$(e,t,n){var r,i,a=C$(t)?am:gr;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}function E$(e,t){var n=this._id;return arguments.length<2?Yn(this.node(),n).on.on(e):this.each(A$(n,e,t))}function z$(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function D$(){return this.on("end.remove",z$(this._id))}function _$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zd(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),f,c,h=0;h<l;++h)(f=o[h])&&(c=e.call(f,f.__data__,h,o))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c,rc(u[h],t,n,h,u,Yn(f,n)));return new Xr(a,this._parents,t,n)}function I$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=o8(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,f,c=0;c<u;++c)if(f=l[c]){for(var h=e.call(f,f.__data__,c,l),d,p=Yn(f,n),y=0,b=h.length;y<b;++y)(d=h[y])&&rc(d,t,n,y,h,p);a.push(h),s.push(f)}return new Xr(a,s,t,n)}var N$=Ml.prototype.constructor;function q$(){return new N$(this._groups,this._parents)}function B$(e,t){var n,r,i;return function(){var a=no(this,e),s=(this.style.removeProperty(e),no(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function R8(e){return function(){this.style.removeProperty(e)}}function F$(e,t,n){var r,i=n+"",a;return function(){var s=no(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function L$(e,t,n){var r,i,a;return function(){var s=no(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),no(this,e))),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}function R$(e,t){var n,r,i,a="style."+t,s="end."+a,o;return function(){var l=gr(this,e),u=l.on,f=l.value[a]==null?o||(o=R8(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(s,i=f),l.on=r}}function P$(e,t,n){var r=(e+="")=="transform"?Lk:L8;return t==null?this.styleTween(e,B$(e,r)).on("end.style."+e,R8(e)):typeof t=="function"?this.styleTween(e,L$(e,r,sm(this,"style."+e,t))).each(R$(this._id,e)):this.styleTween(e,F$(e,r,t),n).on("end.style."+e,null)}function O$(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function H$(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&O$(e,s,n)),r}return a._value=t,a}function V$(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,H$(e,t,n??""))}function U$(e){return function(){this.textContent=e}}function j$(e){return function(){var t=e(this);this.textContent=t??""}}function W$(e){return this.tween("text",typeof e=="function"?j$(sm(this,"text",e)):U$(e==null?"":e+""))}function Y$(e){return function(t){this.textContent=e.call(this,t)}}function G$(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Y$(i)),t}return r._value=e,r}function X$(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,G$(e))}function Z$(){for(var e=this._name,t=this._id,n=P8(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var f=Yn(l,t);rc(l,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Xr(r,this._parents,e,n)}function Q$(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=gr(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&a()})}var K$=0;function Xr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function P8(){return++K$}var Ar=Ml.prototype;Xr.prototype={constructor:Xr,select:_$,selectAll:I$,selectChild:Ar.selectChild,selectChildren:Ar.selectChildren,filter:$$,merge:T$,selection:q$,transition:Z$,call:Ar.call,nodes:Ar.nodes,node:Ar.node,size:Ar.size,empty:Ar.empty,each:Ar.each,on:E$,attr:u$,attrTween:m$,style:P$,styleTween:V$,text:W$,textTween:X$,remove:D$,tween:n$,delay:v$,duration:w$,ease:M$,easeVarying:k$,end:Q$,[Symbol.iterator]:Ar[Symbol.iterator]};function J$(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var eT={time:null,delay:0,duration:250,ease:J$};function tT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function nT(e){var t,n;e instanceof Xr?(t=e._id,e=e._name):(t=P8(),(n=eT).time=im(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&rc(l,e,t,u,s,n||tT(l,t));return new Xr(r,this._parents,e,t)}Ml.prototype.interrupt=Jk;Ml.prototype.transition=nT;const O4=Math.PI,H4=2*O4,ts=1e-6,rT=H4-ts;function O8(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function iT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return O8;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aT{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?O8:iT(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,f=s-t,c=o-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ts)if(!(Math.abs(c*l-u*f)>ts)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,p=i-o,y=l*l+u*u,b=d*d+p*p,x=Math.sqrt(y),$=Math.sqrt(h),E=a*Math.tan((O4-Math.acos((y+h-b)/(2*x*$)))/2),T=E/$,A=E/x;Math.abs(T-1)>ts&&this._append`L${t+T*f},${n+T*c}`,this._append`A${a},${a},0,0,${+(c*d>f*p)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,f=n+l,c=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ts||Math.abs(this._y1-f)>ts)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%H4+H4),h>rT?this._append`A${r},${r},0,1,${c},${t-o},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>ts&&this._append`A${r},${r},0,${+(h>=O4)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function V4(e=3){return new aT(+e)}function sT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ao(e){return e=gf(Math.abs(e)),e?e[1]:NaN}function oT(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function lT(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sl(e){if(!(t=uT.exec(e)))throw new Error("invalid format: "+e);var t;return new om({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sl.prototype=om.prototype;function om(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}om.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fT(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var H8;function cT(e,t){var n=gf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(H8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gf(e,Math.max(0,t+a-1))[0]}function a6(e,t){var n=gf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const s6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a6(e*100,t),r:a6,s:cT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function o6(e){return e}var l6=Array.prototype.map,u6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hT(e){var t=e.grouping===void 0||e.thousands===void 0?o6:oT(l6.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?o6:lT(l6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(c){c=sl(c);var h=c.fill,d=c.align,p=c.sign,y=c.symbol,b=c.zero,x=c.width,$=c.comma,E=c.precision,T=c.trim,A=c.type;A==="n"?($=!0,A="g"):s6[A]||(E===void 0&&(E=12),T=!0,A="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var D=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",z=y==="$"?r:/[%p]/.test(A)?s:"",j=s6[A],O=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function M(C){var B=D,L=z,X,H,Q;if(A==="c")L=j(C)+L,C="";else{C=+C;var oe=C<0||1/C<0;if(C=isNaN(C)?l:j(Math.abs(C),E),T&&(C=fT(C)),oe&&+C==0&&p!=="+"&&(oe=!1),B=(oe?p==="("?p:o:p==="-"||p==="("?"":p)+B,L=(A==="s"?u6[8+H8/3]:"")+L+(oe&&p==="("?")":""),O){for(X=-1,H=C.length;++X<H;)if(Q=C.charCodeAt(X),48>Q||Q>57){L=(Q===46?i+C.slice(X+1):C.slice(X))+L,C=C.slice(0,X);break}}}$&&!b&&(C=t(C,1/0));var re=B.length+C.length+L.length,de=re<x?new Array(x-re+1).join(h):"";switch($&&b&&(C=t(de+C,de.length?x-L.length:1/0),de=""),d){case"<":C=B+C+L+de;break;case"=":C=B+de+C+L;break;case"^":C=de.slice(0,re=de.length>>1)+B+C+L+de.slice(re);break;default:C=de+B+C+L;break}return a(C)}return M.toString=function(){return c+""},M}function f(c,h){var d=u((c=sl(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(ao(h)/3)))*3,y=Math.pow(10,-p),b=u6[8+p/3];return function(x){return d(y*x)+b}}return{format:u,formatPrefix:f}}var M1,$l,V8;dT({thousands:",",grouping:[3],currency:["$",""]});function dT(e){return M1=hT(e),$l=M1.format,V8=M1.formatPrefix,M1}function mT(e){return Math.max(0,-ao(Math.abs(e)))}function pT(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ao(t)/3)))*3-ao(Math.abs(e)))}function gT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ao(t)-ao(e))+1}var Pe=1e-6,U8=1e-12,je=Math.PI,ft=je/2,f6=je/4,un=je*2,Rt=180/je,ut=je/180,Qe=Math.abs,go=Math.atan,Zr=Math.atan2,Ve=Math.cos,j8=Math.exp,vf=Math.log,j2=Math.pow,Re=Math.sin,kn=Math.sign||function(e){return e>0?1:e<0?-1:0},Qt=Math.sqrt,lm=Math.tan;function W8(e){return e>1?0:e<-1?je:Math.acos(e)}function zn(e){return e>1?ft:e<-1?-ft:Math.asin(e)}function $n(){}function yf(e,t){e&&h6.hasOwnProperty(e.type)&&h6[e.type](e,t)}var c6={Feature:function(e,t){yf(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)yf(n[r].geometry,t)}},h6={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){U4(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)U4(n[r],t,0)},Polygon:function(e,t){d6(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)d6(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)yf(n[r],t)}};function U4(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function d6(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)U4(e[n],t,1);t.polygonEnd()}function rs(e,t){e&&c6.hasOwnProperty(e.type)?c6[e.type](e,t):yf(e,t)}function j4(e){return[Zr(e[1],e[0]),zn(e[2])]}function so(e){var t=e[0],n=e[1],r=Ve(n);return[r*Ve(t),r*Re(t),Re(n)]}function S1(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function bf(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function W2(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function k1(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function W4(e){var t=Qt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Y4(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function G4(e,t){return Qe(e)>je&&(e-=Math.round(e/un)*un),[e,t]}G4.invert=G4;function Y8(e,t,n){return(e%=un)?t||n?Y4(p6(e),g6(t,n)):p6(e):t||n?g6(t,n):G4}function m6(e){return function(t,n){return t+=e,Qe(t)>je&&(t-=Math.round(t/un)*un),[t,n]}}function p6(e){var t=m6(e);return t.invert=m6(-e),t}function g6(e,t){var n=Ve(e),r=Re(e),i=Ve(t),a=Re(t);function s(o,l){var u=Ve(l),f=Ve(o)*u,c=Re(o)*u,h=Re(l),d=h*n+f*r;return[Zr(c*i-d*a,f*n-h*r),zn(d*i+c*a)]}return s.invert=function(o,l){var u=Ve(l),f=Ve(o)*u,c=Re(o)*u,h=Re(l),d=h*i-c*a;return[Zr(c*i+h*a,f*n+d*r),zn(d*n-f*r)]},s}function vT(e){e=Y8(e[0]*ut,e[1]*ut,e.length>2?e[2]*ut:0);function t(n){return n=e(n[0]*ut,n[1]*ut),n[0]*=Rt,n[1]*=Rt,n}return t.invert=function(n){return n=e.invert(n[0]*ut,n[1]*ut),n[0]*=Rt,n[1]*=Rt,n},t}function yT(e,t,n,r,i,a){if(n){var s=Ve(t),o=Re(t),l=r*n;i==null?(i=t+r*un,a=t-l/2):(i=v6(s,i),a=v6(s,a),(r>0?i<a:i>a)&&(i+=r*un));for(var u,f=i;r>0?f>a:f<a;f-=l)u=j4([s,-o*Ve(f),-o*Re(f)]),e.point(u[0],u[1])}}function v6(e,t){t=so(t),t[0]-=e,W4(t);var n=W8(-t[1]);return((-t[2]<0?-n:n)+un-Pe)%un}function G8(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:$n,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function X1(e,t){return Qe(e[0]-t[0])<Pe&&Qe(e[1]-t[1])<Pe}function $1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function X8(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(p){if(!((y=p.length-1)<=0)){var y,b=p[0],x=p[y],$;if(X1(b,x)){if(!b[2]&&!x[2]){for(i.lineStart(),o=0;o<y;++o)i.point((b=p[o])[0],b[1]);i.lineEnd();return}x[0]+=2*Pe}a.push($=new $1(b,p,null,!0)),s.push($.o=new $1(b,null,$,!1)),a.push($=new $1(x,p,null,!1)),s.push($.o=new $1(x,null,$,!0))}}),!!a.length){for(s.sort(t),y6(a),y6(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var u=a[0],f,c;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=f.length;o<l;++o)i.point((c=f[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((c=f[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,d=!d}while(!h.v);i.lineEnd()}}}function y6(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Y2(e){return Qe(e[0])<=je?e[0]:kn(e[0])*((Qe(e[0])+je)%un-je)}function bT(e,t){var n=Y2(t),r=t[1],i=Re(r),a=[Re(n),-Ve(n),0],s=0,o=0,l=new os;i===1?r=ft+Pe:i===-1&&(r=-ft-Pe);for(var u=0,f=e.length;u<f;++u)if(h=(c=e[u]).length)for(var c,h,d=c[h-1],p=Y2(d),y=d[1]/2+f6,b=Re(y),x=Ve(y),$=0;$<h;++$,p=T,b=D,x=z,d=E){var E=c[$],T=Y2(E),A=E[1]/2+f6,D=Re(A),z=Ve(A),j=T-p,O=j>=0?1:-1,M=O*j,C=M>je,B=b*D;if(l.add(Zr(B*O*Re(M),x*z+B*Ve(M))),s+=C?j+O*un:j,C^p>=n^T>=n){var L=bf(so(d),so(E));W4(L);var X=bf(a,L);W4(X);var H=(C^j>=0?-1:1)*zn(X[2]);(r>H||r===H&&(L[0]||L[1]))&&(o+=C^j>=0?1:-1)}}return(s<-Pe||s<Pe&&l<-U8)^o&1}function Z8(e,t,n,r){return function(i){var a=t(i),s=G8(),o=t(s),l=!1,u,f,c,h={point:d,lineStart:y,lineEnd:b,polygonStart:function(){h.point=x,h.lineStart=$,h.lineEnd=E,f=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=y,h.lineEnd=b,f=a8(f);var T=bT(u,r);f.length?(l||(i.polygonStart(),l=!0),X8(f,xT,T,n,i)):T&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(T,A){e(T,A)&&i.point(T,A)}function p(T,A){a.point(T,A)}function y(){h.point=p,a.lineStart()}function b(){h.point=d,a.lineEnd()}function x(T,A){c.push([T,A]),o.point(T,A)}function $(){o.lineStart(),c=[]}function E(){x(c[0][0],c[0][1]),o.lineEnd();var T=o.clean(),A=s.result(),D,z=A.length,j,O,M;if(c.pop(),u.push(c),c=null,!!z){if(T&1){if(O=A[0],(j=O.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),D=0;D<j;++D)i.point((M=O[D])[0],M[1]);i.lineEnd()}return}z>1&&T&2&&A.push(A.pop().concat(A.shift())),f.push(A.filter(wT))}}return h}}function wT(e){return e.length>1}function xT(e,t){return((e=e.x)[0]<0?e[1]-ft-Pe:ft-e[1])-((t=t.x)[0]<0?t[1]-ft-Pe:ft-t[1])}const b6=Z8(function(){return!0},MT,kT,[-je,-ft]);function MT(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?je:-je,l=Qe(a-t);Qe(l-je)<Pe?(e.point(t,n=(n+s)/2>0?ft:-ft),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=je&&(Qe(t-r)<Pe&&(t-=r*Pe),Qe(a-o)<Pe&&(a-=o*Pe),n=ST(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function ST(e,t,n,r){var i,a,s=Re(e-n);return Qe(s)>Pe?go((Re(t)*(a=Ve(r))*Re(n)-Re(r)*(i=Ve(t))*Re(e))/(i*a*s)):(t+r)/2}function kT(e,t,n,r){var i;if(e==null)i=n*ft,r.point(-je,i),r.point(0,i),r.point(je,i),r.point(je,0),r.point(je,-i),r.point(0,-i),r.point(-je,-i),r.point(-je,0),r.point(-je,i);else if(Qe(e[0]-t[0])>Pe){var a=e[0]<t[0]?je:-je;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function $T(e){var t=Ve(e),n=6*ut,r=t>0,i=Qe(t)>Pe;function a(f,c,h,d){yT(d,e,n,h,f,c)}function s(f,c){return Ve(f)*Ve(c)>t}function o(f){var c,h,d,p,y;return{lineStart:function(){p=d=!1,y=1},point:function(b,x){var $=[b,x],E,T=s(b,x),A=r?T?0:u(b,x):T?u(b+(b<0?je:-je),x):0;if(!c&&(p=d=T)&&f.lineStart(),T!==d&&(E=l(c,$),(!E||X1(c,E)||X1($,E))&&($[2]=1)),T!==d)y=0,T?(f.lineStart(),E=l($,c),f.point(E[0],E[1])):(E=l(c,$),f.point(E[0],E[1],2),f.lineEnd()),c=E;else if(i&&c&&r^T){var D;!(A&h)&&(D=l($,c,!0))&&(y=0,r?(f.lineStart(),f.point(D[0][0],D[0][1]),f.point(D[1][0],D[1][1]),f.lineEnd()):(f.point(D[1][0],D[1][1]),f.lineEnd(),f.lineStart(),f.point(D[0][0],D[0][1],3)))}T&&(!c||!X1(c,$))&&f.point($[0],$[1]),c=$,d=T,h=A},lineEnd:function(){d&&f.lineEnd(),c=null},clean:function(){return y|(p&&d)<<1}}}function l(f,c,h){var d=so(f),p=so(c),y=[1,0,0],b=bf(d,p),x=S1(b,b),$=b[0],E=x-$*$;if(!E)return!h&&f;var T=t*x/E,A=-t*$/E,D=bf(y,b),z=k1(y,T),j=k1(b,A);W2(z,j);var O=D,M=S1(z,O),C=S1(O,O),B=M*M-C*(S1(z,z)-1);if(!(B<0)){var L=Qt(B),X=k1(O,(-M-L)/C);if(W2(X,z),X=j4(X),!h)return X;var H=f[0],Q=c[0],oe=f[1],re=c[1],de;Q<H&&(de=H,H=Q,Q=de);var K=Q-H,ne=Qe(K-je)<Pe,te=ne||K<Pe;if(!ne&&re<oe&&(de=oe,oe=re,re=de),te?ne?oe+re>0^X[1]<(Qe(X[0]-H)<Pe?oe:re):oe<=X[1]&&X[1]<=re:K>je^(H<=X[0]&&X[0]<=Q)){var F=k1(O,(-M+L)/C);return W2(F,z),[X,j4(F)]}}}function u(f,c){var h=r?e:je-e,d=0;return f<-h?d|=1:f>h&&(d|=2),c<-h?d|=4:c>h&&(d|=8),d}return Z8(s,o,a,r?[0,-e]:[-je,e-je])}function TT(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],u=t[1],f=0,c=1,h=l-s,d=u-o,p;if(p=n-s,!(!h&&p>0)){if(p/=h,h<0){if(p<f)return;p<c&&(c=p)}else if(h>0){if(p>c)return;p>f&&(f=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>c)return;p>f&&(f=p)}else if(h>0){if(p<f)return;p<c&&(c=p)}if(p=r-o,!(!d&&p>0)){if(p/=d,d<0){if(p<f)return;p<c&&(c=p)}else if(d>0){if(p>c)return;p>f&&(f=p)}if(p=a-o,!(!d&&p<0)){if(p/=d,d<0){if(p>c)return;p>f&&(f=p)}else if(d>0){if(p<f)return;p<c&&(c=p)}return f>0&&(e[0]=s+f*h,e[1]=o+f*d),c<1&&(t[0]=s+c*h,t[1]=o+c*d),!0}}}}}var qo=1e9,T1=-qo;function Q8(e,t,n,r){function i(u,f){return e<=u&&u<=n&&t<=f&&f<=r}function a(u,f,c,h){var d=0,p=0;if(u==null||(d=s(u,c))!==(p=s(f,c))||l(u,f)<0^c>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+c+4)%4)!==p);else h.point(f[0],f[1])}function s(u,f){return Qe(u[0]-e)<Pe?f>0?0:3:Qe(u[0]-n)<Pe?f>0?2:1:Qe(u[1]-t)<Pe?f>0?1:0:f>0?3:2}function o(u,f){return l(u.x,f.x)}function l(u,f){var c=s(u,1),h=s(f,1);return c!==h?c-h:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=G8(),h,d,p,y,b,x,$,E,T,A,D,z={point:j,lineStart:B,lineEnd:L,polygonStart:M,polygonEnd:C};function j(H,Q){i(H,Q)&&f.point(H,Q)}function O(){for(var H=0,Q=0,oe=d.length;Q<oe;++Q)for(var re=d[Q],de=1,K=re.length,ne=re[0],te,F,se=ne[0],ye=ne[1];de<K;++de)te=se,F=ye,ne=re[de],se=ne[0],ye=ne[1],F<=r?ye>r&&(se-te)*(r-F)>(ye-F)*(e-te)&&++H:ye<=r&&(se-te)*(r-F)<(ye-F)*(e-te)&&--H;return H}function M(){f=c,h=[],d=[],D=!0}function C(){var H=O(),Q=D&&H,oe=(h=a8(h)).length;(Q||oe)&&(u.polygonStart(),Q&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),oe&&X8(h,o,H,a,u),u.polygonEnd()),f=u,h=d=p=null}function B(){z.point=X,d&&d.push(p=[]),A=!0,T=!1,$=E=NaN}function L(){h&&(X(y,b),x&&T&&c.rejoin(),h.push(c.result())),z.point=j,T&&f.lineEnd()}function X(H,Q){var oe=i(H,Q);if(d&&p.push([H,Q]),A)y=H,b=Q,x=oe,A=!1,oe&&(f.lineStart(),f.point(H,Q));else if(oe&&T)f.point(H,Q);else{var re=[$=Math.max(T1,Math.min(qo,$)),E=Math.max(T1,Math.min(qo,E))],de=[H=Math.max(T1,Math.min(qo,H)),Q=Math.max(T1,Math.min(qo,Q))];TT(re,de,e,t,n,r)?(T||(f.lineStart(),f.point(re[0],re[1])),f.point(de[0],de[1]),oe||f.lineEnd(),D=!1):oe&&(f.lineStart(),f.point(H,Q),D=!1)}$=H,E=Q,T=oe}return z}}const X4=e=>e;var G2=new os,Z4=new os,K8,J8,Q4,K4,x0={point:$n,lineStart:$n,lineEnd:$n,polygonStart:function(){x0.lineStart=CT,x0.lineEnd=ET},polygonEnd:function(){x0.lineStart=x0.lineEnd=x0.point=$n,G2.add(Qe(Z4)),Z4=new os},result:function(){var e=G2/2;return G2=new os,e}};function CT(){x0.point=AT}function AT(e,t){x0.point=e9,K8=Q4=e,J8=K4=t}function e9(e,t){Z4.add(K4*e-Q4*t),Q4=e,K4=t}function ET(){e9(K8,J8)}const w6=x0;var oo=1/0,wf=oo,ol=-oo,xf=ol,zT={point:DT,lineStart:$n,lineEnd:$n,polygonStart:$n,polygonEnd:$n,result:function(){var e=[[oo,wf],[ol,xf]];return ol=xf=-(wf=oo=1/0),e}};function DT(e,t){e<oo&&(oo=e),e>ol&&(ol=e),t<wf&&(wf=t),t>xf&&(xf=t)}const Mf=zT;var J4=0,ed=0,Bo=0,Sf=0,kf=0,Ws=0,td=0,nd=0,Fo=0,t9,n9,rr,ir,Pn={point:hs,lineStart:x6,lineEnd:M6,polygonStart:function(){Pn.lineStart=NT,Pn.lineEnd=qT},polygonEnd:function(){Pn.point=hs,Pn.lineStart=x6,Pn.lineEnd=M6},result:function(){var e=Fo?[td/Fo,nd/Fo]:Ws?[Sf/Ws,kf/Ws]:Bo?[J4/Bo,ed/Bo]:[NaN,NaN];return J4=ed=Bo=Sf=kf=Ws=td=nd=Fo=0,e}};function hs(e,t){J4+=e,ed+=t,++Bo}function x6(){Pn.point=_T}function _T(e,t){Pn.point=IT,hs(rr=e,ir=t)}function IT(e,t){var n=e-rr,r=t-ir,i=Qt(n*n+r*r);Sf+=i*(rr+e)/2,kf+=i*(ir+t)/2,Ws+=i,hs(rr=e,ir=t)}function M6(){Pn.point=hs}function NT(){Pn.point=BT}function qT(){r9(t9,n9)}function BT(e,t){Pn.point=r9,hs(t9=rr=e,n9=ir=t)}function r9(e,t){var n=e-rr,r=t-ir,i=Qt(n*n+r*r);Sf+=i*(rr+e)/2,kf+=i*(ir+t)/2,Ws+=i,i=ir*e-rr*t,td+=i*(rr+e),nd+=i*(ir+t),Fo+=i*3,hs(rr=e,ir=t)}const S6=Pn;function i9(e){this._context=e}i9.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,un);break}}},result:$n};var rd=new os,X2,a9,s9,Lo,Ro,$f={point:$n,lineStart:function(){$f.point=FT},lineEnd:function(){X2&&o9(a9,s9),$f.point=$n},polygonStart:function(){X2=!0},polygonEnd:function(){X2=null},result:function(){var e=+rd;return rd=new os,e}};function FT(e,t){$f.point=o9,a9=Lo=e,s9=Ro=t}function o9(e,t){Lo-=e,Ro-=t,rd.add(Qt(Lo*Lo+Ro*Ro)),Lo=e,Ro=t}const k6=$f;let $6,Tf,T6,C6;class A6{constructor(t){this._append=t==null?l9:LT(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==T6||this._append!==Tf){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,T6=r,Tf=this._append,C6=this._,this._=i}this._+=C6;break}}}result(){const t=this._;return this._="",t.length?t:null}}function l9(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function LT(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return l9;if(t!==$6){const n=10**t;$6=t,Tf=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Tf}function u9(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),rs(o,i(a))),a.result()}return s.area=function(o){return rs(o,i(w6)),w6.result()},s.measure=function(o){return rs(o,i(k6)),k6.result()},s.bounds=function(o){return rs(o,i(Mf)),Mf.result()},s.centroid=function(o){return rs(o,i(S6)),S6.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,X4):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new A6(n)):new i9(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(a=new A6(n)),s},s.projection(e).digits(n).context(t)}function id(e){return{stream:ic(e)}}function ic(e){return function(t){var n=new ad;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ad(){}ad.prototype={constructor:ad,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function um(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),rs(n,e.stream(Mf)),t(Mf.result()),r!=null&&e.clipExtent(r),e}function fm(e,t,n){return um(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,l])},n)}function f9(e,t,n){return fm(e,[[0,0],t],n)}function c9(e,t,n){return um(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function h9(e,t,n){return um(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var E6=16,RT=Ve(30*ut);function z6(e,t){return+t?OT(e,t):PT(e)}function PT(e){return ic({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function OT(e,t){function n(r,i,a,s,o,l,u,f,c,h,d,p,y,b){var x=u-r,$=f-i,E=x*x+$*$;if(E>4*t&&y--){var T=s+h,A=o+d,D=l+p,z=Qt(T*T+A*A+D*D),j=zn(D/=z),O=Qe(Qe(D)-1)<Pe||Qe(a-c)<Pe?(a+c)/2:Zr(A,T),M=e(O,j),C=M[0],B=M[1],L=C-r,X=B-i,H=$*L-x*X;(H*H/E>t||Qe((x*L+$*X)/E-.5)>.3||s*h+o*d+l*p<RT)&&(n(r,i,a,s,o,l,C,B,O,T/=z,A/=z,D,y,b),b.point(C,B),n(C,B,O,T,A,D,u,f,c,h,d,p,y,b))}}return function(r){var i,a,s,o,l,u,f,c,h,d,p,y,b={point:x,lineStart:$,lineEnd:T,polygonStart:function(){r.polygonStart(),b.lineStart=A},polygonEnd:function(){r.polygonEnd(),b.lineStart=$}};function x(j,O){j=e(j,O),r.point(j[0],j[1])}function $(){c=NaN,b.point=E,r.lineStart()}function E(j,O){var M=so([j,O]),C=e(j,O);n(c,h,f,d,p,y,c=C[0],h=C[1],f=j,d=M[0],p=M[1],y=M[2],E6,r),r.point(c,h)}function T(){b.point=x,r.lineEnd()}function A(){$(),b.point=D,b.lineEnd=z}function D(j,O){E(i=j,O),a=c,s=h,o=d,l=p,u=y,b.point=E}function z(){n(c,h,f,d,p,y,a,s,i,o,l,u,E6,r),b.lineEnd=T,T()}return b}}var HT=ic({point:function(e,t){this.stream.point(e*ut,t*ut)}});function VT(e){return ic({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function UT(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function D6(e,t,n,r,i,a){if(!a)return UT(e,t,n,r,i);var s=Ve(a),o=Re(a),l=s*e,u=o*e,f=s/e,c=o/e,h=(o*n-s*t)/e,d=(o*t+s*n)/e;function p(y,b){return y*=r,b*=i,[l*y-u*b+t,n-u*y-l*b]}return p.invert=function(y,b){return[r*(f*y-c*b+h),i*(d-c*y-f*b)]},p}function D0(e){return d9(function(){return e})()}function d9(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,l=0,u=0,f,c=0,h=1,d=1,p=null,y=b6,b=null,x,$,E,T=X4,A=.5,D,z,j,O,M;function C(H){return j(H[0]*ut,H[1]*ut)}function B(H){return H=j.invert(H[0],H[1]),H&&[H[0]*Rt,H[1]*Rt]}C.stream=function(H){return O&&M===H?O:O=HT(VT(f)(y(D(T(M=H)))))},C.preclip=function(H){return arguments.length?(y=H,p=void 0,X()):y},C.postclip=function(H){return arguments.length?(T=H,b=x=$=E=null,X()):T},C.clipAngle=function(H){return arguments.length?(y=+H?$T(p=H*ut):(p=null,b6),X()):p*Rt},C.clipExtent=function(H){return arguments.length?(T=H==null?(b=x=$=E=null,X4):Q8(b=+H[0][0],x=+H[0][1],$=+H[1][0],E=+H[1][1]),X()):b==null?null:[[b,x],[$,E]]},C.scale=function(H){return arguments.length?(n=+H,L()):n},C.translate=function(H){return arguments.length?(r=+H[0],i=+H[1],L()):[r,i]},C.center=function(H){return arguments.length?(a=H[0]%360*ut,s=H[1]%360*ut,L()):[a*Rt,s*Rt]},C.rotate=function(H){return arguments.length?(o=H[0]%360*ut,l=H[1]%360*ut,u=H.length>2?H[2]%360*ut:0,L()):[o*Rt,l*Rt,u*Rt]},C.angle=function(H){return arguments.length?(c=H%360*ut,L()):c*Rt},C.reflectX=function(H){return arguments.length?(h=H?-1:1,L()):h<0},C.reflectY=function(H){return arguments.length?(d=H?-1:1,L()):d<0},C.precision=function(H){return arguments.length?(D=z6(z,A=H*H),X()):Qt(A)},C.fitExtent=function(H,Q){return fm(C,H,Q)},C.fitSize=function(H,Q){return f9(C,H,Q)},C.fitWidth=function(H,Q){return c9(C,H,Q)},C.fitHeight=function(H,Q){return h9(C,H,Q)};function L(){var H=D6(n,0,0,h,d,c).apply(null,t(a,s)),Q=D6(n,r-H[0],i-H[1],h,d,c);return f=Y8(o,l,u),z=Y4(t,Q),j=Y4(f,z),D=z6(z,A),X()}function X(){return O=M=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&B,L()}}function cm(e){var t=0,n=je/3,r=d9(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*ut,n=a[1]*ut):[t*Rt,n*Rt]},i}function jT(e){var t=Ve(e);function n(r,i){return[r*t,Re(i)/t]}return n.invert=function(r,i){return[r/t,zn(i*t)]},n}function WT(e,t){var n=Re(e),r=(n+Re(t))/2;if(Qe(r)<Pe)return jT(e);var i=1+n*(2*r-n),a=Qt(i)/r;function s(o,l){var u=Qt(i-2*r*Re(l))/r;return[u*Re(o*=r),a-u*Ve(o)]}return s.invert=function(o,l){var u=a-l,f=Zr(o,Qe(u))*kn(u);return u*r<0&&(f-=je*kn(o)*kn(u)),[f/r,zn((i-(o*o+u*u)*r*r)/(2*r))]},s}function Cf(){return cm(WT).scale(155.424).center([0,33.6442])}function m9(){return Cf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function YT(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function GT(){var e,t,n=m9(),r,i=Cf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Cf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(h,d){l=[h,d]}};function f(h){var d=h[0],p=h[1];return l=null,r.point(d,p),l||(a.point(d,p),l)||(o.point(d,p),l)}f.invert=function(h){var d=n.scale(),p=n.translate(),y=(h[0]-p[0])/d,b=(h[1]-p[1])/d;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?i:b>=.166&&b<.234&&y>=-.214&&y<-.115?s:n).invert(h)},f.stream=function(h){return e&&t===h?e:e=YT([n.stream(t=h),i.stream(h),s.stream(h)])},f.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),c()):n.precision()},f.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),f.translate(n.translate())):n.scale()},f.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),p=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[p-.455*d,y-.238*d],[p+.455*d,y+.238*d]]).stream(u),a=i.translate([p-.307*d,y+.201*d]).clipExtent([[p-.425*d+Pe,y+.12*d+Pe],[p-.214*d-Pe,y+.234*d-Pe]]).stream(u),o=s.translate([p-.205*d,y+.212*d]).clipExtent([[p-.214*d+Pe,y+.166*d+Pe],[p-.115*d-Pe,y+.234*d-Pe]]).stream(u),c()},f.fitExtent=function(h,d){return fm(f,h,d)},f.fitSize=function(h,d){return f9(f,h,d)},f.fitWidth=function(h,d){return c9(f,h,d)},f.fitHeight=function(h,d){return h9(f,h,d)};function c(){return e=t=null,f}return f.scale(1070)}function p9(e){return function(t,n){var r=Ve(t),i=Ve(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Re(t),a*Re(n)]}}function Tl(e){return function(t,n){var r=Qt(t*t+n*n),i=e(r),a=Re(i),s=Ve(i);return[Zr(t*a,r*s),zn(r&&n*a/r)]}}var g9=p9(function(e){return Qt(2/(1+e))});g9.invert=Tl(function(e){return 2*zn(e/2)});function XT(){return D0(g9).scale(124.75).clipAngle(180-.001)}var v9=p9(function(e){return(e=W8(e))&&e/Re(e)});v9.invert=Tl(function(e){return e});function ZT(){return D0(v9).scale(79.4188).clipAngle(180-.001)}function ac(e,t){return[e,vf(lm((ft+t)/2))]}ac.invert=function(e,t){return[e,2*go(j8(t))-ft]};function QT(){return y9(ac).scale(961/un)}function y9(e){var t=D0(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,u;t.scale=function(c){return arguments.length?(r(c),f()):r()},t.translate=function(c){return arguments.length?(i(c),f()):i()},t.center=function(c){return arguments.length?(n(c),f()):n()},t.clipExtent=function(c){return arguments.length?(c==null?s=o=l=u=null:(s=+c[0][0],o=+c[0][1],l=+c[1][0],u=+c[1][1]),f()):s==null?null:[[s,o],[l,u]]};function f(){var c=je*r(),h=t(vT(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:e===ac?[[Math.max(h[0]-c,s),o],[Math.min(h[0]+c,l),u]]:[[s,Math.max(h[1]-c,o)],[l,Math.min(h[1]+c,u)]])}return f()}function C1(e){return lm((ft+e)/2)}function KT(e,t){var n=Ve(e),r=e===t?Re(e):vf(n/Ve(t))/vf(C1(t)/C1(e)),i=n*j2(C1(e),r)/r;if(!r)return ac;function a(s,o){i>0?o<-ft+Pe&&(o=-ft+Pe):o>ft-Pe&&(o=ft-Pe);var l=i/j2(C1(o),r);return[l*Re(r*s),i-l*Ve(r*s)]}return a.invert=function(s,o){var l=i-o,u=kn(r)*Qt(s*s+l*l),f=Zr(s,Qe(l))*kn(l);return l*r<0&&(f-=je*kn(s)*kn(l)),[f/r,2*go(j2(i/u,1/r))-ft]},a}function JT(){return cm(KT).scale(109.5).parallels([30,30])}function Af(e,t){return[e,t]}Af.invert=Af;function eC(){return D0(Af).scale(152.63)}function tC(e,t){var n=Ve(e),r=e===t?Re(e):(n-Ve(t))/(t-e),i=n/r+e;if(Qe(r)<Pe)return Af;function a(s,o){var l=i-o,u=r*s;return[l*Re(u),i-l*Ve(u)]}return a.invert=function(s,o){var l=i-o,u=Zr(s,Qe(l))*kn(l);return l*r<0&&(u-=je*kn(s)*kn(l)),[u/r,i-kn(r)*Qt(s*s+l*l)]},a}function nC(){return cm(tC).scale(131.154).center([0,13.9389])}var jo=1.340264,Wo=-.081106,Yo=893e-6,Go=.003796,Ef=Qt(3)/2,rC=12;function b9(e,t){var n=zn(Ef*Re(t)),r=n*n,i=r*r*r;return[e*Ve(n)/(Ef*(jo+3*Wo*r+i*(7*Yo+9*Go*r))),n*(jo+Wo*r+i*(Yo+Go*r))]}b9.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,l;a<rC&&(o=n*(jo+Wo*r+i*(Yo+Go*r))-t,l=jo+3*Wo*r+i*(7*Yo+9*Go*r),n-=s=o/l,r=n*n,i=r*r*r,!(Qe(s)<U8));++a);return[Ef*e*(jo+3*Wo*r+i*(7*Yo+9*Go*r))/Ve(n),zn(Re(n)/Ef)]};function iC(){return D0(b9).scale(177.158)}function w9(e,t){var n=Ve(t),r=Ve(e)*n;return[n*Re(e)/r,Re(t)/r]}w9.invert=Tl(go);function aC(){return D0(w9).scale(144.049).clipAngle(60)}function x9(e,t){return[Ve(t)*Re(e),Re(t)]}x9.invert=Tl(zn);function sC(){return D0(x9).scale(249.5).clipAngle(90+Pe)}function M9(e,t){var n=Ve(t),r=1+Ve(e)*n;return[n*Re(e)/r,Re(t)/r]}M9.invert=Tl(function(e){return 2*go(e)});function oC(){return D0(M9).scale(250).clipAngle(142)}function S9(e,t){return[vf(lm((ft+t)/2)),-e]}S9.invert=function(e,t){return[-t,2*go(j8(e))-ft]};function lC(){var e=y9(S9),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const hm=Math.random,uC=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(hm),_6=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(hm),fC=function e(t){function n(r,i){var a,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var o;if(a!=null)o=a,a=null;else do a=t()*2-1,o=t()*2-1,s=a*a+o*o;while(!s||s>1);return r+i*o*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(hm);function vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sd=Symbol("implicit");function dm(){var e=new ls,t=[],n=[],r=sd;function i(a){let s=e.get(a);if(s===void 0){if(r!==sd)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ls;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dm(t,n).unknown(r)},vr.apply(i,arguments),i}function oc(){var e=dm().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,f=.5;delete e.unknown;function c(){var h=t().length,d=i<r,p=d?i:r,y=d?r:i;a=(y-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(y-p-a*(h-l))*f,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var b=z4(h).map(function(x){return p+a*x});return n(d?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),c()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,c()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},e.copy=function(){return oc(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(f)},vr.apply(c(),arguments)}function k9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return k9(t())},e}function cC(){return k9(oc.apply(null,arguments).paddingInner(1))}function hC(e){return function(){return e}}function od(e){return+e}var I6=[0,1];function Tn(e){return e}function ld(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hC(isNaN(t)?NaN:.5)}function dC(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function mC(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=ld(i,r),a=n(s,a)):(r=ld(r,i),a=n(a,s)),function(o){return a(r(o))}}function pC(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=ld(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Zf(e,o,1,r)-1;return a[l](i[l](o))}}function Cl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lc(){var e=I6,t=I6,n=kl,r,i,a,s=Tn,o,l,u;function f(){var h=Math.min(e.length,t.length);return s!==Tn&&(s=dC(e[0],e[h-1])),o=h>2?pC:mC,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return c.invert=function(h){return s(i((u||(u=o(t,e.map(r),Nt)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,od),f()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=nm,f()},c.clamp=function(h){return arguments.length?(s=h?!0:Tn,f()):s!==Tn},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,d){return r=h,i=d,f()}}function $9(){return lc()(Tn,Tn)}function gC(e,t,n,r){var i=E4(e,t,n),a;switch(r=sl(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=pT(i,s))&&(r.precision=a),V8(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=gT(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=mT(i))&&(r.precision=a-(r.type==="%")*2);break}}return $l(r)}function Al(e){var t=e.domain;return e.ticks=function(n){var r=t();return nl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return gC(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,f=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);f-- >0;){if(u=of(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function mm(){var e=$9();return e.copy=function(){return Cl(e,mm())},vr.apply(e,arguments),Al(e)}function T9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,od),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return T9(e).unknown(t)},e=arguments.length?Array.from(e,od):[0,1],Al(n)}function C9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function N6(e){return Math.log(e)}function q6(e){return Math.exp(e)}function vC(e){return-Math.log(-e)}function yC(e){return-Math.exp(-e)}function bC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wC(e){return e===10?bC:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xC(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B6(e){return(t,n)=>-e(-t,n)}function A9(e){const t=e(N6,q6),n=t.domain;let r=10,i,a;function s(){return i=xC(r),a=wC(r),n()[0]<0?(i=B6(i),a=B6(a),e(vC,yC)):e(N6,q6),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=i(u),d=i(f),p,y;const b=o==null?10:+o;let x=[];if(!(r%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(p=1;p<r;++p)if(y=h<0?p/a(-h):p*a(h),!(y<u)){if(y>f)break;x.push(y)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(y=h>0?p/a(-h):p*a(h),!(y<u)){if(y>f)break;x.push(y)}x.length*2<b&&(x=nl(u,f,b))}else x=nl(h,d,Math.min(d-h,b)).map(a);return c?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=sl(l)).precision==null&&(l.trim=!0),l=$l(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},t.nice=()=>n(C9(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function E9(){const e=A9(lc()).domain([1,10]);return e.copy=()=>Cl(e,E9()).base(e.base()),vr.apply(e,arguments),e}function F6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function L6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function z9(e){var t=1,n=e(F6(t),L6(t));return n.constant=function(r){return arguments.length?e(F6(t=+r),L6(t)):t},Al(n)}function D9(){var e=z9(lc());return e.copy=function(){return Cl(e,D9()).constant(e.constant())},vr.apply(e,arguments)}function R6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function MC(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SC(e){return e<0?-e*e:e*e}function _9(e){var t=e(Tn,Tn),n=1;function r(){return n===1?e(Tn,Tn):n===.5?e(MC,SC):e(R6(n),R6(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Al(t)}function I9(){var e=_9(lc());return e.copy=function(){return Cl(e,I9()).exponent(e.exponent())},vr.apply(e,arguments),e}function N9(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=hM(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Zf(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Zt),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return N9().domain(e).range(t).unknown(r)},vr.apply(a,arguments)}function q9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Zf(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return q9().domain(e).range(t).unknown(n)},vr.apply(i,arguments)}const Z2=new Date,Q2=new Date;function wt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>wt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Z2.setTime(+a),Q2.setTime(+s),e(Z2),e(Q2),Math.floor(n(Z2,Q2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const zf=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zf);zf.range;const Fr=1e3,Cn=Fr*60,Lr=Cn*60,Qr=Lr*24,pm=Qr*7,P6=Qr*30,K2=Qr*365,Rr=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getUTCSeconds());Rr.range;const uc=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fr)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getMinutes());uc.range;const fc=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getUTCMinutes());fc.range;const cc=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fr-e.getMinutes()*Cn)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getHours());cc.range;const hc=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCHours());hc.range;const vo=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cn)/Qr,e=>e.getDate()-1);vo.range;const dc=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>e.getUTCDate()-1);dc.range;const gm=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>Math.floor(e/Qr));gm.range;function vs(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cn)/pm)}const lo=vs(0),ll=vs(1),B9=vs(2),F9=vs(3),ds=vs(4),L9=vs(5),R9=vs(6);lo.range;ll.range;B9.range;F9.range;ds.range;L9.range;R9.range;function ys(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/pm)}const uo=ys(0),ul=ys(1),P9=ys(2),O9=ys(3),ms=ys(4),H9=ys(5),V9=ys(6);uo.range;ul.range;P9.range;O9.range;ms.range;H9.range;V9.range;const mc=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mc.range;const pc=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pc.range;const Vn=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Vn.range;const Un=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Un.range;function U9(e,t,n,r,i,a){const s=[[Rr,1,Fr],[Rr,5,5*Fr],[Rr,15,15*Fr],[Rr,30,30*Fr],[a,1,Cn],[a,5,5*Cn],[a,15,15*Cn],[a,30,30*Cn],[i,1,Lr],[i,3,3*Lr],[i,6,6*Lr],[i,12,12*Lr],[r,1,Qr],[r,2,2*Qr],[n,1,pm],[t,1,P6],[t,3,3*P6],[e,1,K2]];function o(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const d=c&&typeof c.range=="function"?c:l(u,f,c),p=d?d.range(u,+f+1):[];return h?p.reverse():p}function l(u,f,c){const h=Math.abs(f-u)/c,d=el(([,,b])=>b).right(s,h);if(d===s.length)return e.every(E4(u/K2,f/K2,c));if(d===0)return zf.every(Math.max(E4(u,f,c),1));const[p,y]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return p.every(y)}return[o,l]}const[kC,j9]=U9(Un,pc,uo,gm,hc,fc),[$C,TC]=U9(Vn,mc,lo,vo,cc,uc);function J2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function To(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function CC(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Co(i),f=Ao(i),c=Co(a),h=Ao(a),d=Co(s),p=Ao(s),y=Co(o),b=Ao(o),x=Co(l),$=Ao(l),E={a:oe,A:re,b:de,B:K,c:null,d:W6,e:W6,f:ZC,g:sA,G:lA,H:YC,I:GC,j:XC,L:W9,m:QC,M:KC,p:ne,q:te,Q:X6,s:Z6,S:JC,u:eA,U:tA,V:nA,w:rA,W:iA,x:null,X:null,y:aA,Y:oA,Z:uA,"%":G6},T={a:F,A:se,b:ye,B:Ce,c:null,d:Y6,e:Y6,f:dA,g:SA,G:$A,H:fA,I:cA,j:hA,L:G9,m:mA,M:pA,p:le,q:ce,Q:X6,s:Z6,S:gA,u:vA,U:yA,V:bA,w:wA,W:xA,x:null,X:null,y:MA,Y:kA,Z:TA,"%":G6},A={a:M,A:C,b:B,B:L,c:X,d:U6,e:U6,f:VC,g:V6,G:H6,H:j6,I:j6,j:RC,L:HC,m:LC,M:PC,p:O,q:FC,Q:jC,s:WC,S:OC,u:_C,U:IC,V:NC,w:DC,W:qC,x:H,X:Q,y:V6,Y:H6,Z:BC,"%":UC};E.x=D(n,E),E.X=D(r,E),E.c=D(t,E),T.x=D(n,T),T.X=D(r,T),T.c=D(t,T);function D(Z,pe){return function(Ae){var W=[],$e=-1,ze=0,qe=Z.length,Ne,Ze,ot;for(Ae instanceof Date||(Ae=new Date(+Ae));++$e<qe;)Z.charCodeAt($e)===37&&(W.push(Z.slice(ze,$e)),(Ze=O6[Ne=Z.charAt(++$e)])!=null?Ne=Z.charAt(++$e):Ze=Ne==="e"?" ":"0",(ot=pe[Ne])&&(Ne=ot(Ae,Ze)),W.push(Ne),ze=$e+1);return W.push(Z.slice(ze,$e)),W.join("")}}function z(Z,pe){return function(Ae){var W=To(1900,void 0,1),$e=j(W,Z,Ae+="",0),ze,qe;if($e!=Ae.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(pe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ze=e4(To(W.y,0,1)),qe=ze.getUTCDay(),ze=qe>4||qe===0?ul.ceil(ze):ul(ze),ze=dc.offset(ze,(W.V-1)*7),W.y=ze.getUTCFullYear(),W.m=ze.getUTCMonth(),W.d=ze.getUTCDate()+(W.w+6)%7):(ze=J2(To(W.y,0,1)),qe=ze.getDay(),ze=qe>4||qe===0?ll.ceil(ze):ll(ze),ze=vo.offset(ze,(W.V-1)*7),W.y=ze.getFullYear(),W.m=ze.getMonth(),W.d=ze.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),qe="Z"in W?e4(To(W.y,0,1)).getUTCDay():J2(To(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(qe+5)%7:W.w+W.U*7-(qe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,e4(W)):J2(W)}}function j(Z,pe,Ae,W){for(var $e=0,ze=pe.length,qe=Ae.length,Ne,Ze;$e<ze;){if(W>=qe)return-1;if(Ne=pe.charCodeAt($e++),Ne===37){if(Ne=pe.charAt($e++),Ze=A[Ne in O6?pe.charAt($e++):Ne],!Ze||(W=Ze(Z,Ae,W))<0)return-1}else if(Ne!=Ae.charCodeAt(W++))return-1}return W}function O(Z,pe,Ae){var W=u.exec(pe.slice(Ae));return W?(Z.p=f.get(W[0].toLowerCase()),Ae+W[0].length):-1}function M(Z,pe,Ae){var W=d.exec(pe.slice(Ae));return W?(Z.w=p.get(W[0].toLowerCase()),Ae+W[0].length):-1}function C(Z,pe,Ae){var W=c.exec(pe.slice(Ae));return W?(Z.w=h.get(W[0].toLowerCase()),Ae+W[0].length):-1}function B(Z,pe,Ae){var W=x.exec(pe.slice(Ae));return W?(Z.m=$.get(W[0].toLowerCase()),Ae+W[0].length):-1}function L(Z,pe,Ae){var W=y.exec(pe.slice(Ae));return W?(Z.m=b.get(W[0].toLowerCase()),Ae+W[0].length):-1}function X(Z,pe,Ae){return j(Z,t,pe,Ae)}function H(Z,pe,Ae){return j(Z,n,pe,Ae)}function Q(Z,pe,Ae){return j(Z,r,pe,Ae)}function oe(Z){return s[Z.getDay()]}function re(Z){return a[Z.getDay()]}function de(Z){return l[Z.getMonth()]}function K(Z){return o[Z.getMonth()]}function ne(Z){return i[+(Z.getHours()>=12)]}function te(Z){return 1+~~(Z.getMonth()/3)}function F(Z){return s[Z.getUTCDay()]}function se(Z){return a[Z.getUTCDay()]}function ye(Z){return l[Z.getUTCMonth()]}function Ce(Z){return o[Z.getUTCMonth()]}function le(Z){return i[+(Z.getUTCHours()>=12)]}function ce(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var pe=D(Z+="",E);return pe.toString=function(){return Z},pe},parse:function(Z){var pe=z(Z+="",!1);return pe.toString=function(){return Z},pe},utcFormat:function(Z){var pe=D(Z+="",T);return pe.toString=function(){return Z},pe},utcParse:function(Z){var pe=z(Z+="",!0);return pe.toString=function(){return Z},pe}}}var O6={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,AC=/^%/,EC=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function zC(e){return e.replace(EC,"\\$&")}function Co(e){return new RegExp("^(?:"+e.map(zC).join("|")+")","i")}function Ao(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function DC(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _C(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function IC(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function NC(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qC(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function H6(e,t,n){var r=Tt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function V6(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function BC(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FC(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function LC(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function U6(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function RC(e,t,n){var r=Tt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function j6(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function PC(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function OC(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function HC(e,t,n){var r=Tt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function VC(e,t,n){var r=Tt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UC(e,t,n){var r=AC.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function jC(e,t,n){var r=Tt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function WC(e,t,n){var r=Tt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function W6(e,t){return Ge(e.getDate(),t,2)}function YC(e,t){return Ge(e.getHours(),t,2)}function GC(e,t){return Ge(e.getHours()%12||12,t,2)}function XC(e,t){return Ge(1+vo.count(Vn(e),e),t,3)}function W9(e,t){return Ge(e.getMilliseconds(),t,3)}function ZC(e,t){return W9(e,t)+"000"}function QC(e,t){return Ge(e.getMonth()+1,t,2)}function KC(e,t){return Ge(e.getMinutes(),t,2)}function JC(e,t){return Ge(e.getSeconds(),t,2)}function eA(e){var t=e.getDay();return t===0?7:t}function tA(e,t){return Ge(lo.count(Vn(e)-1,e),t,2)}function Y9(e){var t=e.getDay();return t>=4||t===0?ds(e):ds.ceil(e)}function nA(e,t){return e=Y9(e),Ge(ds.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function rA(e){return e.getDay()}function iA(e,t){return Ge(ll.count(Vn(e)-1,e),t,2)}function aA(e,t){return Ge(e.getFullYear()%100,t,2)}function sA(e,t){return e=Y9(e),Ge(e.getFullYear()%100,t,2)}function oA(e,t){return Ge(e.getFullYear()%1e4,t,4)}function lA(e,t){var n=e.getDay();return e=n>=4||n===0?ds(e):ds.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function uA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function Y6(e,t){return Ge(e.getUTCDate(),t,2)}function fA(e,t){return Ge(e.getUTCHours(),t,2)}function cA(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function hA(e,t){return Ge(1+dc.count(Un(e),e),t,3)}function G9(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function dA(e,t){return G9(e,t)+"000"}function mA(e,t){return Ge(e.getUTCMonth()+1,t,2)}function pA(e,t){return Ge(e.getUTCMinutes(),t,2)}function gA(e,t){return Ge(e.getUTCSeconds(),t,2)}function vA(e){var t=e.getUTCDay();return t===0?7:t}function yA(e,t){return Ge(uo.count(Un(e)-1,e),t,2)}function X9(e){var t=e.getUTCDay();return t>=4||t===0?ms(e):ms.ceil(e)}function bA(e,t){return e=X9(e),Ge(ms.count(Un(e),e)+(Un(e).getUTCDay()===4),t,2)}function wA(e){return e.getUTCDay()}function xA(e,t){return Ge(ul.count(Un(e)-1,e),t,2)}function MA(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function SA(e,t){return e=X9(e),Ge(e.getUTCFullYear()%100,t,2)}function kA(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function $A(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ms(e):ms.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function TA(){return"+0000"}function G6(){return"%"}function X6(e){return+e}function Z6(e){return Math.floor(+e/1e3)}var Ps,gc,fl;CA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CA(e){return Ps=CC(e),gc=Ps.format,Ps.parse,fl=Ps.utcFormat,Ps.utcParse,Ps}function AA(e){return new Date(e)}function EA(e){return e instanceof Date?+e:+new Date(+e)}function vm(e,t,n,r,i,a,s,o,l,u){var f=$9(),c=f.invert,h=f.domain,d=u(".%L"),p=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),$=u("%b %d"),E=u("%B"),T=u("%Y");function A(D){return(l(D)<D?d:o(D)<D?p:s(D)<D?y:a(D)<D?b:r(D)<D?i(D)<D?x:$:n(D)<D?E:T)(D)}return f.invert=function(D){return new Date(c(D))},f.domain=function(D){return arguments.length?h(Array.from(D,EA)):h().map(AA)},f.ticks=function(D){var z=h();return e(z[0],z[z.length-1],D??10)},f.tickFormat=function(D,z){return z==null?A:u(z)},f.nice=function(D){var z=h();return(!D||typeof D.range!="function")&&(D=t(z[0],z[z.length-1],D??10)),D?h(C9(z,D)):f},f.copy=function(){return Cl(f,vm(e,t,n,r,i,a,s,o,l,u))},f}function zA(){return vr.apply(vm($C,TC,Vn,mc,lo,vo,cc,uc,Rr,gc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DA(){return vr.apply(vm(kC,j9,Un,pc,uo,dc,hc,fc,Rr,fl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yc(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Tn,f,c=!1,h;function d(y){return isNaN(y=+y)?h:(y=.5+((y=+f(y))-a)*(r*y<r*a?o:l),u(c?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([e,t,n]=y,i=f(e=+e),a=f(t=+t),s=f(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(y){return arguments.length?(c=!!y,d):c},d.interpolator=function(y){return arguments.length?(u=y,d):u};function p(y){return function(b){var x,$,E;return arguments.length?([x,$,E]=b,u=tc(y,[x,$,E]),d):[u(0),u(.5),u(1)]}}return d.range=p(kl),d.rangeRound=p(nm),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return f=y,i=y(e),a=y(t),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d}}function Z9(){var e=Al(yc()(Tn));return e.copy=function(){return vc(e,Z9())},sc.apply(e,arguments)}function Q9(){var e=A9(yc()).domain([.1,1,10]);return e.copy=function(){return vc(e,Q9()).base(e.base())},sc.apply(e,arguments)}function K9(){var e=z9(yc());return e.copy=function(){return vc(e,K9()).constant(e.constant())},sc.apply(e,arguments)}function J9(){var e=_9(yc());return e.copy=function(){return vc(e,J9()).exponent(e.exponent())},sc.apply(e,arguments)}function He(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const _A=He("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),IA=He("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),NA=He("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),qA=He("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),BA=He("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),FA=He("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),LA=He("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),RA=He("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),PA=He("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),OA=He("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),et=e=>Ak(e[e.length-1]);var eg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(He);const tg=et(eg);var ng=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(He);const rg=et(ng);var ig=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(He);const ag=et(ig);var sg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(He);const og=et(sg);var ud=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(He);const Df=et(ud);var lg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(He);const ug=et(lg);var fd=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(He);const _f=et(fd);var fg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(He);const cg=et(fg);var hg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(He);const dg=et(hg);var mg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(He);const pg=et(mg);var gg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(He);const vg=et(gg);var yg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(He);const bg=et(yg);var wg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(He);const xg=et(wg);var Mg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(He);const Sg=et(Mg);var kg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(He);const $g=et(kg);var Tg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(He);const Cg=et(Tg);var Ag=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(He);const Eg=et(Ag);var zg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(He);const Dg=et(zg);var _g=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(He);const Ig=et(_g);var Ng=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(He);const qg=et(Ng);var Bg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(He);const Fg=et(Bg);var Lg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(He);const Rg=et(Lg);var Pg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(He);const Og=et(Pg);var Hg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(He);const Vg=et(Hg);var Ug=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(He);const jg=et(Ug);var Wg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(He);const Yg=et(Wg);var Gg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(He);const Xg=et(Gg);function Zg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Qg=rm(hr(300,.5,0),hr(-240,.5,1));var Kg=rm(hr(-100,.75,.35),hr(80,1.5,.8)),Jg=rm(hr(260,.75,.35),hr(80,1.5,.8)),A1=hr();function ev(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return A1.h=360*e-100,A1.s=1.5-1.5*t,A1.l=.8-.9*t,A1+""}var E1=A0(),HA=Math.PI/3,VA=Math.PI*2/3;function tv(e){var t;return e=(.5-e)*Math.PI,E1.r=255*(t=Math.sin(e))*t,E1.g=255*(t=Math.sin(e+HA))*t,E1.b=255*(t=Math.sin(e+VA))*t,E1+""}function nv(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function bc(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const rv=bc(He("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var iv=bc(He("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),av=bc(He("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),sv=bc(He("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const ov=Math.cos,ym=Math.min,If=Math.sin,xt=Math.sqrt,Nf=Math.PI,wc=2*Nf,UA=xt(3),lv={draw(e,t){const n=xt(t+ym(t/28,.75))*.59436,r=n/2,i=r*UA;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},bm={draw(e,t){const n=xt(t/Nf);e.moveTo(n,0),e.arc(0,0,n,0,wc)}},uv={draw(e,t){const n=xt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},fv=xt(1/3),jA=fv*2,cv={draw(e,t){const n=xt(t/jA),r=n*fv;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},hv={draw(e,t){const n=xt(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},dv={draw(e,t){const n=xt(t-ym(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},mv={draw(e,t){const n=xt(t),r=-n/2;e.rect(r,r,n,n)}},pv={draw(e,t){const n=xt(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},WA=.8908130915292852,gv=If(Nf/10)/If(7*Nf/10),YA=If(wc/10)*gv,GA=-ov(wc/10)*gv,vv={draw(e,t){const n=xt(t*WA),r=YA*n,i=GA*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=wc*a/5,o=ov(s),l=If(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},t4=xt(3),yv={draw(e,t){const n=-xt(t/(t4*3));e.moveTo(0,n*2),e.lineTo(-t4*n,-n),e.lineTo(t4*n,-n),e.closePath()}},XA=xt(3),bv={draw(e,t){const n=xt(t)*.6824,r=n/2,i=n*XA/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},bn=-.5,wn=xt(3)/2,cd=1/xt(12),ZA=(cd/2+1)*3,wv={draw(e,t){const n=xt(t/ZA),r=n/2,i=n*cd,a=r,s=n*cd+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(bn*r-wn*i,wn*r+bn*i),e.lineTo(bn*a-wn*s,wn*a+bn*s),e.lineTo(bn*o-wn*l,wn*o+bn*l),e.lineTo(bn*r+wn*i,bn*i-wn*r),e.lineTo(bn*a+wn*s,bn*s-wn*a),e.lineTo(bn*o+wn*l,bn*l-wn*o),e.closePath()}},xv={draw(e,t){const n=xt(t-ym(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},QA=[bm,uv,cv,mv,vv,yv,wv],KA=[bm,dv,xv,bv,lv,pv,hv];function Po(e,t,n){this.k=e,this.x=t,this.y=n}Po.prototype={constructor:Po,scale:function(e){return e===1?this:new Po(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Po(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Po.prototype;const z1={f32:Float32Array,u8:Uint8Array};class Xe{constructor(t,n,r="f32",i=!1){this.data=t,this.shape=n,this.strides=[n[1],1],this.offset=0,this.codebook=void 0,this.dtype=r,this.transposed=i}get bytes(){const t=this.data.byteLength/this.data.length;return this.shape[0]*this.shape[1]*t}static totalBytes(...t){let n=0;for(const r of t)n+=r.bytes+(r.codebook?r.codebook.bytes:0);return n}static GB(...t){return Xe.totalBytes(...t)/1024**3}static MB(...t){return Xe.totalBytes(...t)/1024**2}static KB(...t){return Xe.totalBytes(...t)/1024}relu(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.data[this.index2D(t,n)];this.data[this.index2D(t,n)]=r>0?r:0}return this}sigmoid(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.index2D(t,n),i=this.data[r];this.data[r]=1/(1+Math.exp(-i))}return this}tanh(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.offset+t*this.strides[0]+n*this.strides[1],i=this.data[r],a=Math.exp(i),s=Math.exp(-i);this.data[r]=(a-s)/(a+s)}return this}print({round:t=3,showBytes:n=!1}={}){let r="";for(let i=0;i<this.shape[0];i++){let a="|";for(let s=0;s<this.shape[1];s++){let o=this.data[this.index2D(i,s)];this.dtype[0]==="u"&&(t=0),a+=" "+o.toFixed(t)}a+=" |",r+=a+`
`}console.log(r,this.dtype),n&&console.log(`${this.bytes} bytes`)}get T(){const t=this.shallowCopy();return t.shape=[this.shape[1],this.shape[0]],t.transposed=!t.transposed,t}shallowCopy(){const t=new Xe(this.data,n4(this.shape,Array),this.dtype);return t.codebook=this.codebook,t}deepCopy(){return new Xe(n4(this.data,z1[this.dtype]),n4(this.shape,Array),this.dtype)}self(t,n=!0){return t?this.deepCopy():this}sub(t,n=!1){const r=this.self(n);let i=[t.strides[0],t.strides[1]];r.shape[0]>t.shape[0]&&(t.strides[0]=0),r.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let a=0;a<r.shape[0];a++)for(let s=0;s<r.shape[1];s++)r.data[r.index2D(a,s)]-=t.value2D(a,s);return t.strides[0]=i[0],t.strides[1]=i[1],r}add(t){let n=[t.strides[0],t.strides[1]];this.shape[0]>t.shape[0]&&(t.strides[0]=0),this.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let r=0;r<this.shape[0];r++)for(let i=0;i<this.shape[1];i++)this.data[this.index2D(r,i)]+=t.value2D(r,i);return t.strides[0]=n[0],t.strides[1]=n[1],this}index2D(t,n){return this.transposed&&([t,n]=[n,t]),this.offset+this.strides[0]*t+this.strides[1]*n}value2D(t,n){const r=this.data[this.index2D(t,n)];return this.codebook?this.codebook.data[r]:r}matmul(t){const n=this.shape[0],r=this.shape[1],i=t.shape[1];Q6(r===t.shape[0],"must have same inner dimensions");const a=Xe.zeros([n,i],"f32");for(let s=0;s<n;s++)for(let o=0;o<i;o++)for(let l=0;l<r;l++)a.data[a.index2D(s,o)]+=this.value2D(s,l)*t.value2D(l,o);return a}static zeros(t,n){return new Xe(Array(t[0]*t[1]).fill(0),t,n)}static arange(t,n="f32"){let r=new Array(t[0]*t[1]);for(let i=0;i<r.length;i++)r[i]=i;return new Xe(r,t,n)}static randrng(t,n,r){const i=Xe.$(t[0]*t[1],[t[0],t[1]],r);for(let a=0;a<i.data.length;a++)i.data[a]=n();return i}static randu(t,n=0,r=1,i="f32"){return Xe.randrng(t,uC(n,r),i)}static randn(t,n=0,r=1,i="f32"){return Xe.randrng(t,fC(n,r),i)}round(){for(let t=0;t<this.data.length;t++)this.data[t]=Math.round(this.data[t]);return this}to(t){this.dtype=t;const n=new z1[t](this.data.length);for(let r=0;r<this.data.length;r++)n[r]=this.data[r];return this.data=n,this}static $(t,n,r="f32"){return Q6(r in z1,"type must be f32 or u8"),new Xe(new z1[r](t),n,r)}reconstruct(){const t=Xe.zeros([this.shape[0],this.shape[1]]);for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t.data[t.index2D(n,r)]=this.value2D(n,r);return t}sum(){let t=0;for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t+=this.value2D(n,r);return t}}function Q6(e,t=""){if(!e)throw Error(t)}function n4(e,t){const n=new t(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}function xc(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}const r4={distanceFunction:xc};function JA(e,t,n=r4){const r=n.distanceFunction||r4.distanceFunction,i=n.similarityFunction||r4.similarityFunction;let a=-1;if(typeof i=="function"){let s=Number.MIN_VALUE;for(let o=0;o<e.length;o++){const l=i(t,e[o]);l>s&&(s=l,a=o)}}else if(typeof r=="function"){let s=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const l=r(t,e[o]);l<s&&(s=l,a=o)}}else throw new Error("A similarity or distance function it's required");return a}function eE(e,t){let n=new Array(e.length);for(let r=0;r<e.length;++r)for(let i=r;i<e.length;++i){n[r]||(n[r]=new Array(e.length)),n[i]||(n[i]=new Array(e.length));const a=t(e[r],e[i]);n[r][i]=a,n[i][r]=a}return n}function Mv(e,t,n,r){for(let i=0;i<e.length;i++)n[i]=JA(t,e[i],{distanceFunction:r});return n}function tE(e,t,n,r){const i=t[0].length;let a=new Array(r),s=new Array(r);for(let o=0;o<r;o++){a[o]=new Array(i),s[o]=0;for(let l=0;l<i;l++)a[o][l]=0}for(let o=0;o<t.length;o++){s[n[o]]++;for(let l=0;l<i;l++)a[n[o]][l]+=t[o][l]}for(let o=0;o<r;o++)for(let l=0;l<i;l++)s[o]?a[o][l]/=s[o]:a[o][l]=e[o][l];return a}function nE(e,t,n,r){for(let i=0;i<e.length;i++)if(n(e[i],t[i])>r)return!1;return!0}class rE{constructor(t,n,r,i,a){this.clusters=t,this.centroids=n,this.converged=r,this.iterations=i,this.distance=a}nearest(t){const n=new Array(t.length);return Mv(t,this.centroids,n,this.distance)}computeInformation(t){let n=this.centroids.map(r=>({centroid:r,error:0,size:0}));for(let r=0;r<t.length;r++)n[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),n[this.clusters[r]].size++;for(let r=0;r<this.centroids.length;r++){let i=n[r].error;n[r].size&&i!==-1?i/=n[r].size:n[r].error=-1}return n}}function iE(e,t){throw new Error(`${t}: "${String(e)}"`)}function aE(e,t){if(t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points")}const sE=Object.prototype.toString;function rn(e){const t=sE.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function oE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!rn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]>s&&(s=e[o]);return s}function lE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!rn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]<s&&(s=e[o]);return s}function K6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(rn(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(t.output!==void 0){if(!rn(t.output))throw new TypeError("output option must be an array if specified");n=t.output}else n=new Array(e.length);var r=lE(e),i=oE(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,s=a===void 0?t.autoMinMax?r:0:a,o=t.max,l=o===void 0?t.autoMinMax?i:1:o;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(i-r),f=0;f<e.length;f++)n[f]=(e[f]-r)*u+s;return n}const D1=" ".repeat(2),Sv=" ".repeat(4);function uE(){return kv(this)}function kv(e,t={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:a="auto"}=t;return`${e.constructor.name} {
${D1}[
${Sv}${fE(e,n,r,i,a)}
${D1}]
${D1}rows: ${e.rows}
${D1}columns: ${e.columns}
}`}function fE(e,t,n,r,i){const{rows:a,columns:s}=e,o=Math.min(a,t),l=Math.min(s,n),u=[];if(i==="auto"){i=!1;e:for(let f=0;f<o;f++)for(let c=0;c<l;c++)if(e.get(f,c)<0){i=!0;break e}}for(let f=0;f<o;f++){let c=[];for(let h=0;h<l;h++)c.push(cE(e.get(f,h),r,i));u.push(`${c.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-n} more columns`),o!==a&&u.push(`... ${a-t} more rows`),u.join(`
${Sv}`)}function cE(e,t,n){return(e>=0&&n?` ${J6(e,t-1)}`:J6(e,t)).padEnd(t)}function J6(e,t){let n=e.toString();if(n.length<=t)return n;let r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function hE(e,t){e.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},e.prototype.addS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r);return this},e.prototype.addM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r.get(i,a));return this},e.add=function(r,i){return new t(r).add(i)},e.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},e.prototype.subS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r);return this},e.prototype.subM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r.get(i,a));return this},e.sub=function(r,i){return new t(r).sub(i)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},e.prototype.mulS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r);return this},e.prototype.mulM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r.get(i,a));return this},e.mul=function(r,i){return new t(r).mul(i)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},e.prototype.divS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r);return this},e.prototype.divM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r.get(i,a));return this},e.div=function(r,i){return new t(r).div(i)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},e.prototype.modS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r);return this},e.prototype.modM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r.get(i,a));return this},e.mod=function(r,i){return new t(r).mod(i)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},e.prototype.andS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r);return this},e.prototype.andM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r.get(i,a));return this},e.and=function(r,i){return new t(r).and(i)},e.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},e.prototype.orS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r);return this},e.prototype.orM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r.get(i,a));return this},e.or=function(r,i){return new t(r).or(i)},e.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},e.prototype.xorS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r);return this},e.prototype.xorM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r.get(i,a));return this},e.xor=function(r,i){return new t(r).xor(i)},e.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},e.prototype.leftShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r);return this},e.prototype.leftShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r.get(i,a));return this},e.leftShift=function(r,i){return new t(r).leftShift(i)},e.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},e.prototype.signPropagatingRightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r);return this},e.prototype.signPropagatingRightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r.get(i,a));return this},e.signPropagatingRightShift=function(r,i){return new t(r).signPropagatingRightShift(i)},e.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},e.prototype.rightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r);return this},e.prototype.rightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r.get(i,a));return this},e.rightShift=function(r,i){return new t(r).rightShift(i)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,~this.get(r,i));return this},e.not=function(r){return new t(r).not()},e.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.abs(this.get(r,i)));return this},e.abs=function(r){return new t(r).abs()},e.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acos(this.get(r,i)));return this},e.acos=function(r){return new t(r).acos()},e.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acosh(this.get(r,i)));return this},e.acosh=function(r){return new t(r).acosh()},e.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asin(this.get(r,i)));return this},e.asin=function(r){return new t(r).asin()},e.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asinh(this.get(r,i)));return this},e.asinh=function(r){return new t(r).asinh()},e.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atan(this.get(r,i)));return this},e.atan=function(r){return new t(r).atan()},e.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atanh(this.get(r,i)));return this},e.atanh=function(r){return new t(r).atanh()},e.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cbrt(this.get(r,i)));return this},e.cbrt=function(r){return new t(r).cbrt()},e.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.ceil(this.get(r,i)));return this},e.ceil=function(r){return new t(r).ceil()},e.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.clz32(this.get(r,i)));return this},e.clz32=function(r){return new t(r).clz32()},e.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cos(this.get(r,i)));return this},e.cos=function(r){return new t(r).cos()},e.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cosh(this.get(r,i)));return this},e.cosh=function(r){return new t(r).cosh()},e.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.exp(this.get(r,i)));return this},e.exp=function(r){return new t(r).exp()},e.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.expm1(this.get(r,i)));return this},e.expm1=function(r){return new t(r).expm1()},e.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.floor(this.get(r,i)));return this},e.floor=function(r){return new t(r).floor()},e.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.fround(this.get(r,i)));return this},e.fround=function(r){return new t(r).fround()},e.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log(this.get(r,i)));return this},e.log=function(r){return new t(r).log()},e.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log1p(this.get(r,i)));return this},e.log1p=function(r){return new t(r).log1p()},e.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log10(this.get(r,i)));return this},e.log10=function(r){return new t(r).log10()},e.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log2(this.get(r,i)));return this},e.log2=function(r){return new t(r).log2()},e.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.round(this.get(r,i)));return this},e.round=function(r){return new t(r).round()},e.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sign(this.get(r,i)));return this},e.sign=function(r){return new t(r).sign()},e.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sin(this.get(r,i)));return this},e.sin=function(r){return new t(r).sin()},e.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sinh(this.get(r,i)));return this},e.sinh=function(r){return new t(r).sinh()},e.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sqrt(this.get(r,i)));return this},e.sqrt=function(r){return new t(r).sqrt()},e.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tan(this.get(r,i)));return this},e.tan=function(r){return new t(r).tan()},e.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tanh(this.get(r,i)));return this},e.tanh=function(r){return new t(r).tanh()},e.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.trunc(this.get(r,i)));return this},e.trunc=function(r){return new t(r).trunc()},e.pow=function(r,i){return new t(r).pow(i)},e.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},e.prototype.powS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r));return this},e.prototype.powM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r.get(i,a)));return this}}function Nn(e,t,n){let r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function qn(e,t,n){let r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function Us(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function js(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function dE(e,t){if(!rn(t))throw new TypeError("row indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function mE(e,t){if(!rn(t))throw new TypeError("column indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function e7(e,t,n,r,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(_1("startRow",t),_1("endRow",n),_1("startColumn",r),_1("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function Mc(e,t=0){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function _1(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}function Os(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function pE(e){let t=Mc(e.rows);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}function gE(e){let t=Mc(e.columns);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}function vE(e){let t=0;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t+=e.get(n,r);return t}function yE(e){let t=Mc(e.rows,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}function bE(e){let t=Mc(e.columns,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}function wE(e){let t=1;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t*=e.get(n,r);return t}function xE(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<r;s++){let o=0,l=0,u=0;for(let f=0;f<i;f++)u=e.get(s,f)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/i)/(i-1)):a.push((l-o*o/i)/i)}return a}function ME(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<i;s++){let o=0,l=0,u=0;for(let f=0;f<r;f++)u=e.get(f,s)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/r)/(r-1)):a.push((l-o*o/r)/r)}return a}function SE(e,t,n){const r=e.rows,i=e.columns,a=r*i;let s=0,o=0,l=0;for(let u=0;u<r;u++)for(let f=0;f<i;f++)l=e.get(u,f)-n,s+=l,o+=l*l;return t?(o-s*s/a)/(a-1):(o-s*s/a)/a}function kE(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function $E(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function TE(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function CE(e){const t=[];for(let n=0;n<e.rows;n++){let r=0;for(let i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function AE(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function EE(e){const t=[];for(let n=0;n<e.columns;n++){let r=0;for(let i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function zE(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function DE(e){const t=e.size-1;let n=0;for(let r=0;r<e.columns;r++)for(let i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function _E(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}class Ue{static from1DArray(t,n,r){if(t*n!==r.length)throw new RangeError("data length does not match given dimensions");let a=new De(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,r[s*n+o]);return a}static rowVector(t){let n=new De(1,t.length);for(let r=0;r<t.length;r++)n.set(0,r,t[r]);return n}static columnVector(t){let n=new De(t.length,1);for(let r=0;r<t.length;r++)n.set(r,0,t[r]);return n}static zeros(t,n){return new De(t,n)}static ones(t,n){return new De(t,n).fill(1)}static rand(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=r;let a=new De(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,i());return a}static randInt(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:i=0,max:a=1e3,random:s=Math.random}=r;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let o=a-i,l=new De(t,n);for(let u=0;u<t;u++)for(let f=0;f<n;f++){let c=i+Math.round(s()*o);l.set(u,f,c)}return l}static eye(t,n,r){n===void 0&&(n=t),r===void 0&&(r=1);let i=Math.min(t,n),a=this.zeros(t,n);for(let s=0;s<i;s++)a.set(s,s,r);return a}static diag(t,n,r){let i=t.length;n===void 0&&(n=i),r===void 0&&(r=n);let a=Math.min(i,n,r),s=this.zeros(n,r);for(let o=0;o<a;o++)s.set(o,o,t[o]);return s}static min(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new De(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.min(t.get(s,o),n.get(s,o)));return a}static max(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new this(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.max(t.get(s,o),n.get(s,o)));return a}static checkMatrix(t){return Ue.isMatrix(t)?t:new De(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.call(this,n,r);return this}to1DArray(){let t=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.push(this.get(n,r));return t}to2DArray(){let t=[];for(let n=0;n<this.rows;n++){t.push([]);for(let r=0;r<this.columns;r++)t[n].push(this.get(n,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let n=0;n<=t;n++)if(this.get(t,n)!==this.get(n,t))return!1;return!0}return!1}isEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);for(let s=n+1;s<this.rows;s++)this.get(t,s)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),n=0,r=0;for(;n<t.rows&&r<t.columns;){let i=n;for(let a=n;a<t.rows;a++)t.get(a,r)>t.get(i,r)&&(i=a);if(t.get(i,r)===0)r++;else{t.swapRows(n,i);let a=t.get(n,r);for(let s=r;s<t.columns;s++)t.set(n,s,t.get(n,s)/a);for(let s=n+1;s<t.rows;s++){let o=t.get(s,r)/t.get(n,r);t.set(s,r,0);for(let l=r+1;l<t.columns;l++)t.set(s,l,t.get(s,l)-t.get(n,l)*o)}n++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),n=t.columns,r=t.rows,i=r-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,s=!1;for(;a<r&&s===!1;)t.get(i,a)===1?s=!0:a++;for(let o=0;o<i;o++){let l=t.get(o,a);for(let u=a;u<n;u++){let f=t.get(o,u)-l*t.get(i,u);t.set(o,u,f)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=t;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new De(this.rows*n,this.columns*r);for(let a=0;a<n;a++)for(let s=0;s<r;s++)i.setSubMatrix(this,this.rows*a,this.columns*s);return i}fill(t){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,t);return this}neg(){return this.mulS(-1)}getRow(t){Nn(this,t);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(t,r));return n}getRowVector(t){return De.rowVector(this.getRow(t))}setRow(t,n){Nn(this,t),n=Us(this,n);for(let r=0;r<this.columns;r++)this.set(t,r,n[r]);return this}swapRows(t,n){Nn(this,t),Nn(this,n);for(let r=0;r<this.columns;r++){let i=this.get(t,r);this.set(t,r,this.get(n,r)),this.set(n,r,i)}return this}getColumn(t){qn(this,t);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,t));return n}getColumnVector(t){return De.columnVector(this.getColumn(t))}setColumn(t,n){qn(this,t),n=js(this,n);for(let r=0;r<this.rows;r++)this.set(r,t,n[r]);return this}swapColumns(t,n){qn(this,t),qn(this,n);for(let r=0;r<this.rows;r++){let i=this.get(r,t);this.set(r,t,this.get(r,n)),this.set(r,n,i)}return this}addRowVector(t){t=Us(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[r]);return this}subRowVector(t){t=Us(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[r]);return this}mulRowVector(t){t=Us(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[r]);return this}divRowVector(t){t=Us(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[r]);return this}addColumnVector(t){t=js(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[n]);return this}subColumnVector(t){t=js(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[n]);return this}mulColumnVector(t){t=js(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[n]);return this}divColumnVector(t){t=js(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[n]);return this}mulRow(t,n){Nn(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*n);return this}mulColumn(t,n){qn(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*n);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){Os(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}minIndex(){Os(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}maxRow(t){if(Nn(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>n&&(n=this.get(t,r));return n}maxRowIndex(t){Nn(this,t),Os(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>n&&(n=this.get(t,i),r[1]=i);return r}minRow(t){if(Nn(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<n&&(n=this.get(t,r));return n}minRowIndex(t){Nn(this,t),Os(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<n&&(n=this.get(t,i),r[1]=i);return r}maxColumn(t){if(qn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>n&&(n=this.get(r,t));return n}maxColumnIndex(t){qn(this,t),Os(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>n&&(n=this.get(i,t),r[0]=i);return r}minColumn(t){if(qn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<n&&(n=this.get(r,t));return n}minColumnIndex(t){qn(this,t),Os(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<n&&(n=this.get(i,t),r[0]=i);return r}diag(){let t=Math.min(this.rows,this.columns),n=[];for(let r=0;r<t;r++)n.push(this.get(r,r));return n}norm(t="frobenius"){let n=0;if(t==="max")return this.max();if(t==="frobenius"){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)n=n+this.get(r,i)*this.get(r,i);return Math.sqrt(n)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t+=this.get(n,r),this.set(n,r,t);return this}dot(t){Ue.isMatrix(t)&&(t=t.to1DArray());let n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let i=0;i<n.length;i++)r+=n[i]*t[i];return r}mmul(t){t=De.checkMatrix(t);let n=this.rows,r=this.columns,i=t.columns,a=new De(n,i),s=new Float64Array(r);for(let o=0;o<i;o++){for(let l=0;l<r;l++)s[l]=t.get(l,o);for(let l=0;l<n;l++){let u=0;for(let f=0;f<r;f++)u+=this.get(l,f)*s[f];a.set(l,o,u)}}return a}strassen2x2(t){t=De.checkMatrix(t);let n=new De(2,2);const r=this.get(0,0),i=t.get(0,0),a=this.get(0,1),s=t.get(0,1),o=this.get(1,0),l=t.get(1,0),u=this.get(1,1),f=t.get(1,1),c=(r+u)*(i+f),h=(o+u)*i,d=r*(s-f),p=u*(l-i),y=(r+a)*f,b=(o-r)*(i+s),x=(a-u)*(l+f),$=c+p-y+x,E=d+y,T=h+p,A=c-h+d+b;return n.set(0,0,$),n.set(0,1,E),n.set(1,0,T),n.set(1,1,A),n}strassen3x3(t){t=De.checkMatrix(t);let n=new De(3,3);const r=this.get(0,0),i=this.get(0,1),a=this.get(0,2),s=this.get(1,0),o=this.get(1,1),l=this.get(1,2),u=this.get(2,0),f=this.get(2,1),c=this.get(2,2),h=t.get(0,0),d=t.get(0,1),p=t.get(0,2),y=t.get(1,0),b=t.get(1,1),x=t.get(1,2),$=t.get(2,0),E=t.get(2,1),T=t.get(2,2),A=(r+i+a-s-o-f-c)*b,D=(r-s)*(-d+b),z=o*(-h+d+y-b-x-$+T),j=(-r+s+o)*(h-d+b),O=(s+o)*(-h+d),M=r*h,C=(-r+u+f)*(h-p+x),B=(-r+u)*(p-x),L=(u+f)*(-h+p),X=(r+i+a-o-l-u-f)*x,H=f*(-h+p+y-b-x-$+E),Q=(-a+f+c)*(b+$-E),oe=(a-c)*(b-E),re=a*$,de=(f+c)*(-$+E),K=(-a+o+l)*(x+$-T),ne=(a-l)*(x-T),te=(o+l)*(-$+T),F=i*y,se=l*E,ye=s*p,Ce=u*d,le=c*T,ce=M+re+F,Z=A+j+O+M+Q+re+de,pe=M+C+L+X+re+K+te,Ae=D+z+j+M+re+K+ne,W=D+j+O+M+se,$e=re+K+ne+te+ye,ze=M+C+B+H+Q+oe+re,qe=Q+oe+re+de+Ce,Ne=M+C+B+L+le;return n.set(0,0,ce),n.set(0,1,Z),n.set(0,2,pe),n.set(1,0,Ae),n.set(1,1,W),n.set(1,2,$e),n.set(2,0,ze),n.set(2,1,qe),n.set(2,2,Ne),n}mmulStrassen(t){t=De.checkMatrix(t);let n=this.clone(),r=n.rows,i=n.columns,a=t.rows,s=t.columns;i!==a&&console.warn(`Multiplying ${r} x ${i} and ${a} x ${s} matrix: dimensions do not match.`);function o(c,h,d){let p=c.rows,y=c.columns;if(p===h&&y===d)return c;{let b=Ue.zeros(h,d);return b=b.setSubMatrix(c,0,0),b}}let l=Math.max(r,a),u=Math.max(i,s);n=o(n,l,u),t=o(t,l,u);function f(c,h,d,p){if(d<=512||p<=512)return c.mmul(h);d%2===1&&p%2===1?(c=o(c,d+1,p+1),h=o(h,d+1,p+1)):d%2===1?(c=o(c,d+1,p),h=o(h,d+1,p)):p%2===1&&(c=o(c,d,p+1),h=o(h,d,p+1));let y=parseInt(c.rows/2,10),b=parseInt(c.columns/2,10),x=c.subMatrix(0,y-1,0,b-1),$=h.subMatrix(0,y-1,0,b-1),E=c.subMatrix(0,y-1,b,c.columns-1),T=h.subMatrix(0,y-1,b,h.columns-1),A=c.subMatrix(y,c.rows-1,0,b-1),D=h.subMatrix(y,h.rows-1,0,b-1),z=c.subMatrix(y,c.rows-1,b,c.columns-1),j=h.subMatrix(y,h.rows-1,b,h.columns-1),O=f(Ue.add(x,z),Ue.add($,j),y,b),M=f(Ue.add(A,z),$,y,b),C=f(x,Ue.sub(T,j),y,b),B=f(z,Ue.sub(D,$),y,b),L=f(Ue.add(x,E),j,y,b),X=f(Ue.sub(A,x),Ue.add($,T),y,b),H=f(Ue.sub(E,z),Ue.add(D,j),y,b),Q=Ue.add(O,B);Q.sub(L),Q.add(H);let oe=Ue.add(C,L),re=Ue.add(M,B),de=Ue.sub(O,M);de.add(C),de.add(X);let K=Ue.zeros(2*Q.rows,2*Q.columns);return K=K.setSubMatrix(Q,0,0),K=K.setSubMatrix(oe,Q.rows,0),K=K.setSubMatrix(re,0,Q.columns),K=K.setSubMatrix(de,Q.rows,Q.columns),K.subMatrix(0,d-1,0,p-1)}return f(n,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new De(this.rows,this.columns);for(let a=0;a<this.rows;a++){const s=this.getRow(a);s.length>0&&K6(s,{min:n,max:r,output:s}),i.setRow(a,s)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new De(this.rows,this.columns);for(let a=0;a<this.columns;a++){const s=this.getColumn(a);s.length&&K6(s,{min:n,max:r,output:s}),i.setColumn(a,s)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<t;r++){let i=this.get(n,r),a=this.get(n,this.columns-1-r);this.set(n,r,a),this.set(n,this.columns-1-r,i)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<t;r++){let i=this.get(r,n),a=this.get(this.rows-1-r,n);this.set(r,n,a),this.set(this.rows-1-r,n,i)}return this}kroneckerProduct(t){t=De.checkMatrix(t);let n=this.rows,r=this.columns,i=t.rows,a=t.columns,s=new De(n*i,r*a);for(let o=0;o<n;o++)for(let l=0;l<r;l++)for(let u=0;u<i;u++)for(let f=0;f<a;f++)s.set(i*o+u,a*l+f,this.get(o,l)*t.get(u,f));return s}kroneckerSum(t){if(t=De.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=t.rows,i=this.kroneckerProduct(De.eye(r,r)),a=De.eye(n,n).kroneckerProduct(t);return i.add(a)}transpose(){let t=new De(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(r,n,this.get(n,r));return t}sortRows(t=t7){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(t));return this}sortColumns(t=t7){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(t));return this}subMatrix(t,n,r,i){e7(this,t,n,r,i);let a=new De(n-t+1,i-r+1);for(let s=t;s<=n;s++)for(let o=r;o<=i;o++)a.set(s-t,o-r,this.get(s,o));return a}subMatrixRow(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let i=new De(t.length,r-n+1);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,s-n,this.get(t[a],s))}return i}subMatrixColumn(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let i=new De(r-n+1,t.length);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(s-n,a,this.get(s,t[a]))}return i}setSubMatrix(t,n,r){if(t=De.checkMatrix(t),t.isEmpty())return this;let i=n+t.rows-1,a=r+t.columns-1;e7(this,n,i,r,a);for(let s=0;s<t.rows;s++)for(let o=0;o<t.columns;o++)this.set(n+s,r+o,t.get(s,o));return this}selection(t,n){dE(this,t),mE(this,n);let r=new De(t.length,n.length);for(let i=0;i<t.length;i++){let a=t[i];for(let s=0;s<n.length;s++){let o=n[s];r.set(i,s,this.get(a,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),n=0;for(let r=0;r<t;r++)n+=this.get(r,r);return n}clone(){let t=new De(this.rows,this.columns);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(n,r,this.get(n,r));return t}sum(t){switch(t){case"row":return pE(this);case"column":return gE(this);case void 0:return vE(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return yE(this);case"column":return bE(this);case void 0:return wE(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const n=this.sum(t);switch(t){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(t)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!rn(i))throw new TypeError("mean must be an array");return xE(this,r,i)}case"column":{if(!rn(i))throw new TypeError("mean must be an array");return ME(this,r,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return SE(this,r,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,n){typeof t=="object"&&(n=t,t=void 0);const r=this.variance(t,n);if(t===void 0)return Math.sqrt(r);for(let i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}center(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(t)}=n;switch(t){case"row":{if(!rn(r))throw new TypeError("center must be an array");return kE(this,r),this}case"column":{if(!rn(r))throw new TypeError("center must be an array");return $E(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return TE(this,r),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(t){case"row":{if(r===void 0)r=CE(this);else if(!rn(r))throw new TypeError("scale must be an array");return AE(this,r),this}case"column":{if(r===void 0)r=EE(this);else if(!rn(r))throw new TypeError("scale must be an array");return zE(this,r),this}case void 0:{if(r===void 0)r=DE(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return _E(this,r),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return kv(this,t)}}Ue.prototype.klass="Matrix";typeof Symbol<"u"&&(Ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=uE);function t7(e,t){return e-t}function IE(e){return e.every(t=>typeof t=="number")}Ue.random=Ue.rand;Ue.randomInt=Ue.randInt;Ue.diagonal=Ue.diag;Ue.prototype.diagonal=Ue.prototype.diag;Ue.identity=Ue.eye;Ue.prototype.negate=Ue.prototype.neg;Ue.prototype.tensorProduct=Ue.prototype.kroneckerProduct;class De extends Ue{constructor(t,n){if(super(),De.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0)if(this.data=[],Number.isInteger(n)&&n>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(rn(t)){const r=t;if(t=r.length,n=t?r[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(r[i].length!==n)throw new RangeError("Inconsistent array dimensions");if(!IE(r[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=n}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}removeRow(t){return Nn(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,n){return n===void 0&&(n=t,t=this.rows),Nn(this,t,!0),n=Float64Array.from(Us(this,n)),this.data.splice(t,0,n),this.rows+=1,this}removeColumn(t){qn(this,t);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns-1);for(let i=0;i<t;i++)r[i]=this.data[n][i];for(let i=t+1;i<this.columns;i++)r[i-1]=this.data[n][i];this.data[n]=r}return this.columns-=1,this}addColumn(t,n){typeof n>"u"&&(n=t,t=this.columns),qn(this,t,!0),n=js(this,n);for(let r=0;r<this.rows;r++){const i=new Float64Array(this.columns+1);let a=0;for(;a<t;a++)i[a]=this.data[r][a];for(i[a++]=n[r];a<this.columns+1;a++)i[a]=this.data[r][a-1];this.data[r]=i}return this.columns+=1,this}}hE(Ue,De);class NE extends Ue{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}}function Hs(e,t){let n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):t!==0?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}class qE{constructor(t,n={}){if(t=NE.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,i=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:s=!0,autoTranspose:o=!1}=n;let l=!!a,u=!!s,f=!1,c;if(r<i)if(!o)c=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{c=t.transpose(),r=c.rows,i=c.columns,f=!0;let M=l;l=u,u=M}else c=t.clone();let h=Math.min(r,i),d=Math.min(r+1,i),p=new Float64Array(d),y=new De(r,h),b=new De(i,i),x=new Float64Array(i),$=new Float64Array(r),E=new Float64Array(d);for(let M=0;M<d;M++)E[M]=M;let T=Math.min(r-1,i),A=Math.max(0,Math.min(i-2,r)),D=Math.max(T,A);for(let M=0;M<D;M++){if(M<T){p[M]=0;for(let C=M;C<r;C++)p[M]=Hs(p[M],c.get(C,M));if(p[M]!==0){c.get(M,M)<0&&(p[M]=-p[M]);for(let C=M;C<r;C++)c.set(C,M,c.get(C,M)/p[M]);c.set(M,M,c.get(M,M)+1)}p[M]=-p[M]}for(let C=M+1;C<i;C++){if(M<T&&p[M]!==0){let B=0;for(let L=M;L<r;L++)B+=c.get(L,M)*c.get(L,C);B=-B/c.get(M,M);for(let L=M;L<r;L++)c.set(L,C,c.get(L,C)+B*c.get(L,M))}x[C]=c.get(M,C)}if(l&&M<T)for(let C=M;C<r;C++)y.set(C,M,c.get(C,M));if(M<A){x[M]=0;for(let C=M+1;C<i;C++)x[M]=Hs(x[M],x[C]);if(x[M]!==0){x[M+1]<0&&(x[M]=0-x[M]);for(let C=M+1;C<i;C++)x[C]/=x[M];x[M+1]+=1}if(x[M]=-x[M],M+1<r&&x[M]!==0){for(let C=M+1;C<r;C++)$[C]=0;for(let C=M+1;C<r;C++)for(let B=M+1;B<i;B++)$[C]+=x[B]*c.get(C,B);for(let C=M+1;C<i;C++){let B=-x[C]/x[M+1];for(let L=M+1;L<r;L++)c.set(L,C,c.get(L,C)+B*$[L])}}if(u)for(let C=M+1;C<i;C++)b.set(C,M,x[C])}}let z=Math.min(i,r+1);if(T<i&&(p[T]=c.get(T,T)),r<z&&(p[z-1]=0),A+1<z&&(x[A]=c.get(A,z-1)),x[z-1]=0,l){for(let M=T;M<h;M++){for(let C=0;C<r;C++)y.set(C,M,0);y.set(M,M,1)}for(let M=T-1;M>=0;M--)if(p[M]!==0){for(let C=M+1;C<h;C++){let B=0;for(let L=M;L<r;L++)B+=y.get(L,M)*y.get(L,C);B=-B/y.get(M,M);for(let L=M;L<r;L++)y.set(L,C,y.get(L,C)+B*y.get(L,M))}for(let C=M;C<r;C++)y.set(C,M,-y.get(C,M));y.set(M,M,1+y.get(M,M));for(let C=0;C<M-1;C++)y.set(C,M,0)}else{for(let C=0;C<r;C++)y.set(C,M,0);y.set(M,M,1)}}if(u)for(let M=i-1;M>=0;M--){if(M<A&&x[M]!==0)for(let C=M+1;C<i;C++){let B=0;for(let L=M+1;L<i;L++)B+=b.get(L,M)*b.get(L,C);B=-B/b.get(M+1,M);for(let L=M+1;L<i;L++)b.set(L,C,b.get(L,C)+B*b.get(L,M))}for(let C=0;C<i;C++)b.set(C,M,0);b.set(M,M,1)}let j=z-1,O=Number.EPSILON;for(;z>0;){let M,C;for(M=z-2;M>=-1&&M!==-1;M--){const B=Number.MIN_VALUE+O*Math.abs(p[M]+Math.abs(p[M+1]));if(Math.abs(x[M])<=B||Number.isNaN(x[M])){x[M]=0;break}}if(M===z-2)C=4;else{let B;for(B=z-1;B>=M&&B!==M;B--){let L=(B!==z?Math.abs(x[B]):0)+(B!==M+1?Math.abs(x[B-1]):0);if(Math.abs(p[B])<=O*L){p[B]=0;break}}B===M?C=3:B===z-1?C=1:(C=2,M=B)}switch(M++,C){case 1:{let B=x[z-2];x[z-2]=0;for(let L=z-2;L>=M;L--){let X=Hs(p[L],B),H=p[L]/X,Q=B/X;if(p[L]=X,L!==M&&(B=-Q*x[L-1],x[L-1]=H*x[L-1]),u)for(let oe=0;oe<i;oe++)X=H*b.get(oe,L)+Q*b.get(oe,z-1),b.set(oe,z-1,-Q*b.get(oe,L)+H*b.get(oe,z-1)),b.set(oe,L,X)}break}case 2:{let B=x[M-1];x[M-1]=0;for(let L=M;L<z;L++){let X=Hs(p[L],B),H=p[L]/X,Q=B/X;if(p[L]=X,B=-Q*x[L],x[L]=H*x[L],l)for(let oe=0;oe<r;oe++)X=H*y.get(oe,L)+Q*y.get(oe,M-1),y.set(oe,M-1,-Q*y.get(oe,L)+H*y.get(oe,M-1)),y.set(oe,L,X)}break}case 3:{const B=Math.max(Math.abs(p[z-1]),Math.abs(p[z-2]),Math.abs(x[z-2]),Math.abs(p[M]),Math.abs(x[M])),L=p[z-1]/B,X=p[z-2]/B,H=x[z-2]/B,Q=p[M]/B,oe=x[M]/B,re=((X+L)*(X-L)+H*H)/2,de=L*H*(L*H);let K=0;(re!==0||de!==0)&&(re<0?K=0-Math.sqrt(re*re+de):K=Math.sqrt(re*re+de),K=de/(re+K));let ne=(Q+L)*(Q-L)+K,te=Q*oe;for(let F=M;F<z-1;F++){let se=Hs(ne,te);se===0&&(se=Number.MIN_VALUE);let ye=ne/se,Ce=te/se;if(F!==M&&(x[F-1]=se),ne=ye*p[F]+Ce*x[F],x[F]=ye*x[F]-Ce*p[F],te=Ce*p[F+1],p[F+1]=ye*p[F+1],u)for(let le=0;le<i;le++)se=ye*b.get(le,F)+Ce*b.get(le,F+1),b.set(le,F+1,-Ce*b.get(le,F)+ye*b.get(le,F+1)),b.set(le,F,se);if(se=Hs(ne,te),se===0&&(se=Number.MIN_VALUE),ye=ne/se,Ce=te/se,p[F]=se,ne=ye*x[F]+Ce*p[F+1],p[F+1]=-Ce*x[F]+ye*p[F+1],te=Ce*x[F+1],x[F+1]=ye*x[F+1],l&&F<r-1)for(let le=0;le<r;le++)se=ye*y.get(le,F)+Ce*y.get(le,F+1),y.set(le,F+1,-Ce*y.get(le,F)+ye*y.get(le,F+1)),y.set(le,F,se)}x[z-2]=ne;break}case 4:{if(p[M]<=0&&(p[M]=p[M]<0?-p[M]:0,u))for(let B=0;B<=j;B++)b.set(B,M,-b.get(B,M));for(;M<j&&!(p[M]>=p[M+1]);){let B=p[M];if(p[M]=p[M+1],p[M+1]=B,u&&M<i-1)for(let L=0;L<i;L++)B=b.get(L,M+1),b.set(L,M+1,b.get(L,M)),b.set(L,M,B);if(l&&M<r-1)for(let L=0;L<r;L++)B=y.get(L,M+1),y.set(L,M+1,y.get(L,M)),y.set(L,M,B);M++}z--;break}}}if(f){let M=b;b=y,y=M}this.m=r,this.n=i,this.s=p,this.U=y,this.V=b}solve(t){let n=t,r=this.threshold,i=this.s.length,a=De.zeros(i,i);for(let h=0;h<i;h++)Math.abs(this.s[h])<=r?a.set(h,h,0):a.set(h,h,1/this.s[h]);let s=this.U,o=this.rightSingularVectors,l=o.mmul(a),u=o.rows,f=s.rows,c=De.zeros(u,f);for(let h=0;h<u;h++)for(let d=0;d<f;d++){let p=0;for(let y=0;y<i;y++)p+=l.get(h,y)*s.get(d,y);c.set(h,d,p)}return c.mmul(n)}solveForDiagonal(t){return this.solve(De.diag(t))}inverse(){let t=this.V,n=this.threshold,r=t.rows,i=t.columns,a=new De(r,this.s.length);for(let f=0;f<r;f++)for(let c=0;c<i;c++)Math.abs(this.s[c])>n&&a.set(f,c,t.get(f,c)/this.s[c]);let s=this.U,o=s.rows,l=s.columns,u=new De(r,o);for(let f=0;f<r;f++)for(let c=0;c<o;c++){let h=0;for(let d=0;d<l;d++)h+=a.get(f,d)*s.get(c,d);u.set(f,c,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s;for(let i=0,a=r.length;i<a;i++)r[i]>t&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return De.diag(this.s)}}function BE(e,t=Number.EPSILON){if(e=De.checkMatrix(e),e.isEmpty())return e.transpose();let n=new qE(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,a=n.diagonal;for(let s=0;s<a.length;s++)Math.abs(a[s])>t?a[s]=1/a[s]:a[s]=0;return i.mmul(De.diag(a).mmul(r.transpose()))}const n7=8,FE=1/16777216,LE=15,RE=18,PE=11;function OE(e,t){e>>>=0,t>>>=0;const n=e&65535;return((e-n)*t>>>0)+n*t>>>0}class HE{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*FE}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let n=1;n<n7;n++)this.state[n&3]^=n+OE(1812433253,this.state[n-1&3]^this.state[n-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let n=0;n<n7;n++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<LE,t^=t>>>RE,t^=this.state[3]<<PE,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}const VE=1e-8;function r7(e,t={},n=Math.random){const{size:r=1,replace:i=!1,probabilities:a}=t;let s,o;if(typeof e=="number"?s=UE(e):s=e.slice(),a){if(!i)throw new Error("choice with probabilities and no replacement is not implemented");if(a.length!==s.length)throw new Error("the length of probabilities option should be equal to the number of choices");o=[a[0]];for(let u=1;u<a.length;u++)o[u]=o[u-1]+a[u];if(Math.abs(1-o[o.length-1])>VE)throw new Error(`probabilities should sum to 1, but instead sums to ${o[o.length-1]}`)}if(i===!1&&r>s.length)throw new Error("size option is too large");const l=[];for(let u=0;u<r;u++){const f=jE(s.length,n,o);l.push(s[f]),i||s.splice(f,1)}return l}function UE(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function jE(e,t,n){const r=t();if(n){let i=0;for(;r>n[i];)i++;return i}else return Math.floor(r*e)}class wm{constructor(t=Math.random){if(typeof t=="number"){const n=new HE(t);this.randomGenerator=n.random}else this.randomGenerator=t}choice(t,n){return typeof t=="number"?r7(t,n,this.randomGenerator):r7(t,n,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,n){return n===void 0&&(n=t,t=0),t+Math.floor(this.randomGenerator()*(n-t))}randomSample(t){const n=[];for(let r=0;r<t;r++)n.push(this.random());return n}}function WE(e,t,n){return new wm(n).choice(e,{size:t})}function YE(e,t,n,r){const i=new wm(r);let a=new Array(t);if(a[0]=Math.floor(i.random()*e.length),t>1){let s={dist:-1,index:-1};for(let o=0;o<e.length;++o)n[a[0]][o]>s.dist&&(s.dist=n[a[0]][o],s.index=o);if(a[1]=s.index,t>2)for(let o=2;o<t;++o){let l={dist:-1,index:-1};for(let u=0;u<e.length;++u){let f={dist:Number.MAX_VALUE,index:-1};for(let c=0;c<o;++c)n[c][u]<f.dist&&!a.includes(u)&&(f={dist:n[c][u],index:u});f.dist!==Number.MAX_VALUE&&f.dist>l.dist&&(l={...f})}a[o]=l.index}}return a.map(s=>e[s])}function GE(e,t,n={}){const r=new De(e),i=r.rows,a=new wm(n.seed),s=[],o=n.localTrials||2+Math.floor(Math.log(t)),l=a.randInt(i);s.push(r.getRow(l));let u=new De(1,r.rows);for(let d=0;d<r.rows;d++)u.set(0,d,xc(r.getRow(d),s[0]));let f=[i7(u.getRow(0))];const c=1/f[0][i-1];let h=De.mul(u,c);for(let d=1;d<t;d++){const p=a.choice(i,{replace:!0,size:o,probabilities:h.getRow(0)}),y=r.selection(p,ZE(r.columns)),b=XE(y,r);let x=1/0,$=1/0,E=u;for(let T=0;T<o;T++){const A=De.min(u,[b.getRow(T)]),D=A.sum();D<$&&(x=p[T],$=D,E=A)}s[d]=r.getRow(x),u=E,f=[i7(u.getRow(0))],h=De.mul(u,1/f[0][i-1])}return s}function XE(e,t){const n=new De(e.rows,t.rows);for(let r=0;r<e.rows;r++)for(let i=0;i<t.rows;i++)n.set(r,i,xc(e.getRow(r),t.getRow(i)));return n}function ZE(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}function i7(e){let t=[e[0]];for(let n=1;n<e.length;n++)t[n]=t[n-1]+e[n];return t}const QE={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:xc};function KE(e,t,n,r,i,a){n=Mv(t,e,n,i.distanceFunction);let s=tE(e,t,n,r),o=nE(s,e,i.distanceFunction,i.tolerance);return new rE(n,s,o,a,i.distanceFunction)}function JE(e,t,n){const r=tz(n);aE(e,t);let i=ez(e,t,r);r.maxIterations===0&&(r.maxIterations=Number.MAX_VALUE);let a=new Array(e.length),s=!1,o=0,l;for(;!s&&o<r.maxIterations;)l=KE(i,e,a,t,r,++o),s=l.converged,i=l.centroids;if(!l)throw new Error("unreachable: no kmeans step executed");return l}function ez(e,t,n){let r;if(Array.isArray(n.initialization)){if(n.initialization.length!==t)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=GE(e,t,n);break;case"random":r=WE(e,t,n.seed);break;case"mostDistant":r=YE(e,t,eE(e,n.distanceFunction),n.seed);break;default:iE(n.initialization,"Unknown initialization method")}return r}function tz(e){return{...QE,...e}}function nz(e,t=8,n=300,r=1e-4){const i=e.shape[0]*e.shape[1],a=Xe.randu([t,1]),s=Xe.zeros(e.shape,"u8");function o(f,c,h){for(let d=0;d<i;d++){const p=f.data[d];let y=0,b=1/0;for(let x=0;x<t;x++){const E=(c.data[x]-p)**2;E<b&&(b=E,y=x)}h.data[d]=y}}function l(f,c,h){for(let d=0;d<t;d++){let p=0,y=0;for(let b=0;b<i;b++)h.data[b]===d&&(p+=f.data[b],y++);y>0&&(c.data[d]=p/y)}}let u=0;for(;u<n;)o(e,a,s),l(e,a,s),u++;return{centroids:a,assignments:s}}function rz(e){const t=new Array(e.data.length);for(let n=0;n<e.data.length;n++)t[n]=[e.data[n]];return t}function iz(e,t=5,n=!1){if(t<=0)return Xe.zeros(e.shape);if(t>8)throw Error();if(n){const{centroids:r,assignments:i}=nz(e,2**t);return i.codebook=r,i}else{const r=JE(rz(e),2**t),i=Xe.$(r.clusters,e.shape,"u8");return i.codebook=Xe.$(r.centroids,[r.centroids.length,1]),i}}function ps(e){return e!=null&&!Number.isNaN(e)}function jn(e,t){return+ps(t)-+ps(e)||Zt(e,t)}function qf(e,t){return+ps(t)-+ps(e)||xl(e,t)}function $v(e){return e!=null&&`${e}`!=""}function Tv(e){return isFinite(e)?e:NaN}function xm(e){return e>0&&isFinite(e)?e:NaN}function Cv(e){return e<0&&isFinite(e)?e:NaN}function az(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${sz(e.getUTCFullYear())}-${qr(e.getUTCMonth()+1,2)}-${qr(e.getUTCDate(),2)}${n||r||i||a?`T${qr(n,2)}:${qr(r,2)}${i||a?`:${qr(i,2)}${a?`.${qr(a,3)}`:""}`:""}Z`:""}`}function sz(e){return e<0?`-${qr(-e,6)}`:e>9999?`+${qr(e,6)}`:qr(e,4)}function qr(e,t){return`${e}`.padStart(t,"0")}const oz=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Av(e,t){return oz.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const Z1=1e3,hd=Z1*60,dd=hd*60,cl=dd*24,lz=cl*7,a7=cl*30,uz=cl*365,Eo=[["millisecond",.5*Z1],["second",Z1],["second",30*Z1],["minute",hd],["minute",30*hd],["hour",dd],["hour",12*dd],["day",cl],["day",2*cl],["week",lz],["month",a7],["month",3*a7],["year",uz]],fz=new Map([["second",Rr],["minute",uc],["hour",cc],["day",vo],["week",lo],["month",mc],["year",Vn],["monday",ll],["tuesday",B9],["wednesday",F9],["thursday",ds],["friday",L9],["saturday",R9],["sunday",lo]]),cz=new Map([["second",Rr],["minute",fc],["hour",hc],["day",gm],["week",uo],["month",pc],["year",Un],["monday",ul],["tuesday",P9],["wednesday",O9],["thursday",ms],["friday",H9],["saturday",V9],["sunday",uo]]);function Ev(e,t){let n=`${e}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let a=t.get(n);if(!a)throw new Error(`unknown interval: ${e}`);if(!(r>1))return a;if(!a.every)throw new Error(`non-periodic interval: ${n}`);return a.every(r)}function hz(e){return Ev(e,fz)}function zv(e){return Ev(e,cz)}function dz(e){if(!e)return!1;const t=e.floor(new Date(Date.UTC(2e3,11,31)));return Un(t)>=t}function mz(e){if(!e)return!1;const t=e.floor(new Date(2e3,11,31));return Vn(t)>=t}function pz(e,t,n,r){const i=e.type==="time"?gc:fl,a=r==="left"||r==="right"?(s,o)=>`
${s}
${o}`:r==="top"?(s,o)=>`${o}
${s}`:(s,o)=>`${s}
${o}`;switch(gz(e,t,n)){case"millisecond":return es(i(".%L"),i(":%M:%S"),a);case"second":return es(i(":%S"),i("%-I:%M"),a);case"minute":return es(i("%-I:%M"),i("%p"),a);case"hour":return es(i("%-I %p"),i("%b %-d"),a);case"day":return es(i("%-d"),i("%b"),a);case"week":return es(i("%-d"),i("%b"),a);case"month":return es(i("%b"),i("%Y"),a);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function gz(e,t,n){const r=lf(vM(t,(l,u)=>Math.abs(u-l)||NaN));if(r>0)return Eo[el(([,l])=>l).right(Eo,r,1,Eo.length)-1][0];const[i,a]=On(e.domain()),s=typeof n=="number"?n:10,o=Math.abs(a-i)/s;return Eo[el(([,l])=>Math.log(l)).center(Eo,Math.log(o))][0]}function es(e,t,n){return(r,i,a)=>{const s=e(r,i),o=t(r,i),l=i-fo(a);return i!==l&&a[l]!==void 0&&o===t(a[l],l)?s:n(s,o)}}const hl=Object.getPrototypeOf(Uint8Array),vz=Object.prototype.toString;function $t(e,t,n){const r=typeof t;return r==="string"?s7(e,Dv(t),n):r==="function"?s7(e,t,n):r==="number"||t instanceof Date||r==="boolean"?bt(e,El(t),n):typeof(t==null?void 0:t.transform)=="function"?o7(t.transform(e),n):o7(t,n)}function s7(e,t,n){return bt(e,(n==null?void 0:n.prototype)instanceof hl?yz(t):t,n)}function o7(e,t){return t===void 0?fn(e):e instanceof t?e:t.prototype instanceof hl&&!(e instanceof hl)?t.from(e,km):t.from(e)}function yz(e){return(t,n)=>km(e(t,n))}const Q1=[null],Dv=e=>t=>t[e],Mm={transform:e0},Bt={transform:e=>e},bz=()=>1,wz=()=>!0,Pt=e=>e==null?e:`${e}`,tt=e=>e==null?e:+e,Sm=e=>e?e[0]:void 0,md=e=>e?e[1]:void 0,El=e=>()=>e;function xz(e){const t=+`${e}`.slice(1)/100;return(n,r)=>eo(n,t,r)}function Bf(e){return e instanceof hl?e:bt(e,km,Float64Array)}function km(e){return e==null?NaN:Number(e)}function Mz(e){return bt(e,_v)}function _v(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Av(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Kr(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Sc(e)?[void 0,e]:[e,void 0]}function sn(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function $m(e,t,n){if(e!=null)return yr(e,t,n)}function yr(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function fn(e){return e==null||e instanceof Array||e instanceof hl?e:Array.from(e)}function bt(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function pd(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Iv({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function Nv({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function qv(e){return Iv(e)||Nv(e)||e.interval!==void 0}function bs(e){return(e==null?void 0:e.toString)===vz}function gd(e){return bs(e)&&(e.type!==void 0||e.domain!==void 0)}function Tm(e){return bs(e)&&typeof e.transform!="function"}function dl(e){return Tm(e)&&e.value===void 0&&e.channel===void 0}function Bv(e,t,n,r=Bt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Cm(e,t){return e===void 0&&t===void 0?[Sm,md]:[e,t]}function Sz({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Kr(t)),e===void 0&&([e]=Kr(n)),e}function e0(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Fv(e,t){return bt(t,n=>e[n])}function kz(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function I1(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $z(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Ff(e){let t;return[{transform:()=>t,label:ws(e)},n=>t=n]}function _r(e){return e==null?[e]:Ff(e)}function ws(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Lf(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Wn(r)||Wn(i)?bt(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):bt(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function Lv(e,t){const n=Rv(t==null?void 0:t.interval,t==null?void 0:t.type);return n?bt(e,n):e}function Rv(e,t){const n=Am(e,t);return n&&(r=>ps(r)?n.floor(r):r)}function Am(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>z4(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>z4(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?hz:zv)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function yo(e,t){if(e=Am(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Tz(e,t){if(e=yo(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function zl(e){return e===void 0||Tm(e)?e:{value:e}}function Cz(e){return e==null?null:{transform:t=>$t(t,e,Float64Array),label:ws(e)}}function t0(e){return e&&typeof e[Symbol.iterator]=="function"}function Pv(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function l7(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Wn(e){for(const t of e)if(t!=null)return t instanceof Date}function Az(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Av(t)}function Ez(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function zz(e){for(const t of e)if(t!=null)return typeof t=="number"}function i4(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function Sc(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||Gr(e)!==null)}function Dz(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Xt(e){return e==null||ml(e)}function ml(e){return/^\s*none\s*$/i.test(e)}function _z(e){return/^\s*round\s*$/i.test(e)}function Ov(e,t){return $m(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Em(e="middle"){return Ov(e,"frameAnchor")}function fo(e){if(e==null)return;const t=e[0],n=e[e.length-1];return xl(t,n)}function Iz(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function Nz(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Hv(e){return t0(e)?Nz(e):e}const sr=Symbol("position"),n0=Symbol("color"),kc=Symbol("radius"),$c=Symbol("length"),Tc=Symbol("opacity"),Cc=Symbol("symbol"),Vv=Symbol("projection"),ct=new Map([["x",sr],["y",sr],["fx",sr],["fy",sr],["r",kc],["color",n0],["opacity",Tc],["symbol",Cc],["length",$c],["projection",Vv]]);function qz(e){return e===sr||e===Vv}const Bz=Math.sqrt(3),Fz=2/Bz,Lz={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Fz,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Uv=new Map([["asterisk",lv],["circle",bm],["cross",uv],["diamond",cv],["diamond2",hv],["hexagon",Lz],["plus",dv],["square",mv],["square2",pv],["star",vv],["times",xv],["triangle",yv],["triangle2",bv],["wye",wv]]);function jv(e){return e&&typeof e.draw=="function"}function Rz(e){return jv(e)?!0:typeof e!="string"?!1:Uv.has(e.toLowerCase())}function zm(e){if(e==null||jv(e))return e;const t=Uv.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function Dm({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=Wv(e)),t!=null&&!dl(t)&&(r=a4(r,Gv(t))),n&&(r=a4(r,Yv))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||dl(t))&&{sort:t},transform:a4(r,s)}}function Rf({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=Wv(e)),t!=null&&!dl(t)&&(r=s4(r,Gv(t))),n&&(r=s4(r,Yv))),{...i,...(t===null||dl(t))&&{sort:t},initializer:s4(r,a)}}function a4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,fn(n),r,i)}}function s4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,o,l,u,f,c;return{data:o=n,facets:l=r,channels:s}=e.call(this,n,r,i,...a),{data:f=o,facets:c=l,channels:u}=t.call(this,o,l,{...i,...s},...a),{data:f,facets:c,channels:{...s,...u}}}}function Wv(e){return(t,n)=>{const r=$t(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function Yv(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function Gv(e){return(typeof e=="function"&&e.length!==1?Pz:Oz)(e)}function Pz(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function Oz(e){let t,n;({channel:t,value:e,order:n}={...zl(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?qf:jn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=jn;break;case"descending":n=qf;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let o;if(t===void 0)o=$t(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(o=s[t],!o)return{};o=o.value}const l=(u,f)=>n(o[u],o[f]);return{data:i,facets:a.map(u=>u.slice().sort(l))}}}function N1(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function Hz(e,t,n=Xv){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",Xz]),t.href!=null&&e.href===void 0&&r.push(["href",Kv]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?Vz(i):n(i,a,t))}function Xv(e,t,n,r=Zv){let i;bs(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const a=r(e,t,n),[s,o]=Ff(a.label);let l;return{name:e,output:i===void 0?s:{value:s,scale:i},initialize(u){a.initialize(u),l=o([])},scope(u,f){a.scope(u,f)},reduce(u,f){l.push(a.reduce(u,f))}}}function Vz(e){return{name:e,initialize(){},scope(){},reduce(){}}}function Zv(e,t,n,r=_m){const i=$z(e,n),a=r(t,i);let s,o;return{label:ws(a===Pf?null:i,a.label),initialize(l){s=i===void 0?l:$t(l,i),a.scope==="data"&&(o=a.reduceIndex(e0(l),s))},scope(l,u){a.scope===l&&(o=a.reduceIndex(u,s))},reduce(l,u){return a.scope==null?a.reduceIndex(l,s,u):a.reduceIndex(l,s,o,u)}}}function u7(e,t){return t?tl(Yd(e,n=>t[n]),Sm):[[,e]]}function _m(e,t,n=Uz){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&bs(e))return Yz(e);if(typeof e=="function")return Gz(e);if(/^p\d{2}$/i.test(e))return Ir(xz(e));switch(`${e}`.toLowerCase()){case"first":return Kv;case"last":return Zz;case"identity":return Qv;case"count":return Pf;case"distinct":return Qz;case"sum":return t==null?Pf:Kz;case"proportion":return c7(t,"data");case"proportion-facet":return c7(t,"facet");case"deviation":return Ir(Qp);case"min":return Ir(Yr);case"min-index":return Ir(cM);case"max":return Ir(cr);case"max-index":return Ir(fM);case"mean":return f7(mM);case"median":return f7(lf);case"variance":return Ir(Zp);case"mode":return Ir(gM)}return n(e)}function Uz(e){throw new Error(`invalid reduce: ${e}`)}function jz(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function Wz(e,t,n){if(t){const r=t.output.transform(),i=(a,s)=>jn(r[a],r[s]);e.forEach(a=>a.sort(i))}n&&e.forEach(r=>r.reverse())}function Yz(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Gz(e){return{reduceIndex(t,n,r){return e(Fv(n,t),r)}}}function Ir(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function f7(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Wn(n)?new Date(r):r}}}const Qv={reduceIndex(e,t){return Fv(t,e)}},Kv={reduceIndex(e,t){return t[e[0]]}},Xz={reduceIndex(e,t){const r=tl(Gs(e,a=>a.length,a=>t[a]),md),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[5-1]=[`… ${a.length.toLocaleString("en-US")} more`,C0(a,md)]}return i.map(([a,s])=>`${a} (${s.toLocaleString("en-US")})`).join(`
`)}},Zz={reduceIndex(e,t){return t[e[e.length-1]]}},Pf={label:"Frequency",reduceIndex(e){return e.length}},Qz={label:"Distinct",reduceIndex(e,t){const n=new Wd;for(const r of e)n.add(t[r]);return n.size}},Kz=Ir(C0);function c7(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>C0(n,a=>r[a])/i}}function pl(e,{scale:t,type:n,value:r,filter:i,hint:a},s){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Jv(s,{scale:t,type:n,value:$t(e,r),label:ws(r),filter:i,hint:a})}function Jz(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,pl(t,r,n)]))}function eD(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:bt(a,s)]}));return n.channels=e,n}function Jv(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&i4(r,Sc)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&i4(r,Dz)?null:"opacity";break;case"symbol":n!==!0&&i4(r,Rz)?(t.scale=null,t.value=bt(r,zm)):t.scale="symbol";break;default:t.scale=ct.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ct.has(n))throw new Error(`unknown scale: ${n}`);return t}function tD(e,t,n,r,i){const{order:a,reverse:s,reduce:o=!0,limit:l}=i;for(const u in i){if(!ct.has(u))continue;let{value:f,order:c=a,reverse:h=s,reduce:d=o,limit:p=l}=zl(i[u]);const y=f==null?void 0:f.startsWith("-");if(y&&(f=f.slice(1)),c=c===void 0?y!==(f==="width"||f==="height")?ty:ey:iD(c),d==null||d===!1)continue;const b=u==="fx"||u==="fy"?rD(t,r[u]):nD(n,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const x=b.value,[$=0,E=1/0]=t0(p)?p:p<0?[p]:[0,p];if(f==null)b.domain=()=>{let T=Array.from(new Wd(x));return h&&(T=T.reverse()),($!==0||E!==1/0)&&(T=T.slice($,E)),T};else{const T=f==="data"?e:f==="height"?h7(n,"y1","y2"):f==="width"?h7(n,"x1","x2"):vd(n,f,f==="y"?"y2":f==="x"?"x2":void 0),A=_m(d===!0?"max":d,T);b.domain=()=>{let D=iM(e0(x),z=>A.reduceIndex(z,T),z=>x[z]);return c&&D.sort(c),h&&D.reverse(),($!==0||E!==1/0)&&(D=D.slice($,E)),D.map(Sm)}}}}function nD(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function rD(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const o of e[a])i[o]=s}return t}function h7(e,t,n){const r=vd(e,t),i=vd(e,n);return bt(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function vd(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function iD(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return ey;case"descending":return ty}throw new Error(`invalid order: ${e}`)}function ey([e,t],[n,r]){return jn(t,r)||jn(e,n)}function ty([e,t],[n,r]){return qf(t,r)||jn(e,n)}function aD(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function sD(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const oD=sD(e=>new Intl.NumberFormat(e));function lD(e="en-US"){const t=oD(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function uD(e){return az(e,"Invalid Date")}function fD(e="en-US"){const t=lD(e);return n=>(n instanceof Date?uD:typeof n=="number"?t:Pt)(n)}const S0=fD();let yd=0;function cD(){const e=yd;return yd=0,e}function Qs(e){console.warn(e),++yd}const on=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let hD=0;function d7(){return`plot-clip-${++hD}`}function dD(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:o,fillOpacity:l,stroke:u,strokeWidth:f,strokeOpacity:c,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:y,strokeDashoffset:b,opacity:x,mixBlendMode:$,imageFilter:E,paintOrder:T,pointerEvents:A,shapeRendering:D,channels:z},{ariaLabel:j,fill:O="currentColor",fillOpacity:M,stroke:C="none",strokeOpacity:B,strokeWidth:L,strokeLinecap:X,strokeLinejoin:H,strokeMiterlimit:Q,paintOrder:oe}){O===null&&(o=null,l=null),C===null&&(u=null,c=null),Xt(O)?!Xt(C)&&(!Xt(o)||z!=null&&z.fill)&&(C="none"):Xt(C)&&(!Xt(u)||z!=null&&z.stroke)&&(O="none");const[re,de]=Kr(o,O),[K,ne]=sn(l,M),[te,F]=Kr(u,C),[se,ye]=sn(c,B),[Ce,le]=sn(x);ml(F)||(f===void 0&&(f=L),d===void 0&&(d=X),h===void 0&&(h=H),p===void 0&&!_z(h)&&(p=Q),!ml(de)&&T===void 0&&(T=oe));const[ce,Z]=sn(f);return O!==null&&(e.fill=vt(de,"currentColor"),e.fillOpacity=zo(ne,1)),C!==null&&(e.stroke=vt(F,"none"),e.strokeWidth=zo(Z,1),e.strokeOpacity=zo(ye,1),e.strokeLinejoin=vt(h,"miter"),e.strokeLinecap=vt(d,"butt"),e.strokeMiterlimit=zo(p,4),e.strokeDasharray=vt(y,"none"),e.strokeDashoffset=vt(b,"0")),e.target=Pt(s),e.ariaLabel=Pt(j),e.ariaDescription=Pt(i),e.ariaHidden=Pt(a),e.opacity=zo(le,1),e.mixBlendMode=vt($,"normal"),e.imageFilter=vt(E,"none"),e.paintOrder=vt(T,"normal"),e.pointerEvents=vt(A,"auto"),e.shapeRendering=vt(D,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:re,scale:"auto",optional:!0},fillOpacity:{value:K,scale:"auto",optional:!0},stroke:{value:te,scale:"auto",optional:!0},strokeOpacity:{value:se,scale:"auto",optional:!0},strokeWidth:{value:ce,optional:!0},opacity:{value:Ce,scale:"auto",optional:!0}}}function mD(e,t){t&&e.filter(n=>$v(t[n])).append("title").call(pD,t)}function pD(e,t){t&&e.text(n=>S0(t[n]))}function xs(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:f,href:c}){r&&We(e,"aria-label",h=>r[h]),a&&We(e,"fill",h=>a[h]),s&&We(e,"fill-opacity",h=>s[h]),o&&We(e,"stroke",h=>o[h]),l&&We(e,"stroke-opacity",h=>l[h]),u&&We(e,"stroke-width",h=>u[h]),f&&We(e,"opacity",h=>f[h]),c&&vD(e,h=>c[h],t),n||mD(e,i)}function ny(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=yr(e,"clip",["frame","sphere"])),e}function gD(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:o,marginLeft:l,marginRight:u,marginTop:f,marginBottom:c}=n,h=d7();i=`url(#${h})`,e=Vt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",h).append("rect").attr("x",l).attr("y",f).attr("width",s-u-l).attr("height",o-f-c)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const o=d7();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",u9(s)({type:"Sphere"}));break}}We(e,"aria-label",t.ariaLabel),We(e,"aria-description",t.ariaDescription),We(e,"aria-hidden",t.ariaHidden),We(e,"clip-path",i)}function _0(e,t,n,r){gD(e,t,n,r),We(e,"fill",t.fill),We(e,"fill-opacity",t.fillOpacity),We(e,"stroke",t.stroke),We(e,"stroke-width",t.strokeWidth),We(e,"stroke-opacity",t.strokeOpacity),We(e,"stroke-linejoin",t.strokeLinejoin),We(e,"stroke-linecap",t.strokeLinecap),We(e,"stroke-miterlimit",t.strokeMiterlimit),We(e,"stroke-dasharray",t.strokeDasharray),We(e,"stroke-dashoffset",t.strokeDashoffset),We(e,"shape-rendering",t.shapeRendering),We(e,"filter",t.imageFilter),We(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;We(e,"pointer-events",i)}function I0(e,t){yD(e,"mix-blend-mode",t.mixBlendMode),We(e,"opacity",t.opacity)}function vD(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(to.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(to.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function We(e,t,n){n!=null&&e.attr(t,n)}function yD(e,t,n){n!=null&&e.style(t,n)}function r0(e,t,{x:n,y:r},i=on,a=on){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function vt(e,t){if((e=Pt(e))!==t)return e}function zo(e,t){if((e=tt(e))!==t)return e}const bD=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Im(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!bD.test(e))throw new Error(`invalid class name: ${e}`);return e}function Nm(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Ac({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function qm(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:ny(n)}}function Vt(e,{document:t}){return Uo(Kf(e).call(t.documentElement))}const ry=Math.PI,Er=2*ry,m7=.618;function wD({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let o,l,u="frame";if(bs(e)){let A;if({type:e,domain:l,inset:A,insetTop:n=A!==void 0?A:n,insetRight:r=A!==void 0?A:r,insetBottom:i=A!==void 0?A:i,insetLeft:a=A!==void 0?A:a,clip:u=u,...o}=e,e==null)return}typeof e!="function"&&({type:e}=iy(e));const{width:f,height:c,marginLeft:h,marginRight:d,marginTop:p,marginBottom:y}=s,b=f-h-d-a-r,x=c-p-y-n-i;if(e=e==null?void 0:e({width:b,height:x,clip:u,...o}),e==null)return;u=xD(u,h,p,f-d,c-y);let $=h+a,E=p+n,T;if(l!=null){const[[A,D],[z,j]]=u9(e).bounds(l),O=Math.min(b/(z-A),x/(j-D));O>0?($-=(O*(A+z)-b)/2,E-=(O*(D+j)-x)/2,T=id({point(M,C){this.stream.point(M*O+$,C*O+E)}})):Qs("Warning: the projection could not be fit to the specified domain; using the default scale.")}return T??(T=$===0&&E===0?ay():id({point(A,D){this.stream.point(A+$,D+E)}})),{stream:A=>e.stream(T.stream(u(A)))}}function iy(e){switch(`${e}`.toLowerCase()){case"albers-usa":return In(GT,.7463,.4673);case"albers":return q1(m9,.7463,.4673);case"azimuthal-equal-area":return In(XT,4,4);case"azimuthal-equidistant":return In(ZT,Er,Er);case"conic-conformal":return q1(JT,Er,Er);case"conic-equal-area":return q1(Cf,6.1702,2.9781);case"conic-equidistant":return q1(nC,7.312,3.6282);case"equal-earth":return In(iC,5.4133,2.6347);case"equirectangular":return In(eC,Er,ry);case"gnomonic":return In(aC,3.4641,3.4641);case"identity":return{type:ay};case"reflect-y":return{type:MD};case"mercator":return In(QT,Er,Er);case"orthographic":return In(sC,2,2);case"stereographic":return In(oC,2,2);case"transverse-mercator":return In(lC,Er,Er);default:throw new Error(`unknown projection type: ${e}`)}}function xD(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Q8(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function In(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:o})=>{var u,f,c;const l=e();return s!=null&&((u=l.precision)==null||u.call(l,s)),a!=null&&((f=l.rotate)==null||f.call(l,a)),typeof o=="number"&&((c=l.clipAngle)==null||c.call(l,o)),l.scale(Math.min(r/t,i/n)),l.translate([r/2,i/2]),l},aspectRatio:n/t}}function q1(e,t,n){const{type:r,aspectRatio:i}=In(e,t,n);return{type:a=>{const{parallels:s,domain:o,width:l,height:u}=a,f=r(a);return s!=null&&(f.parallels(s),o===void 0&&f.fitSize([l,u],{type:"Sphere"})),f},aspectRatio:i}}const ay=El({stream:e=>e}),MD=El(id({point(e,t){this.stream.point(e,-t)}}));function SD(e,t,n,r){const i=n[e],a=n[t],s=i.length,o=n[e]=new Float64Array(s).fill(NaN),l=n[t]=new Float64Array(s).fill(NaN);let u;const f=r.stream({point(c,h){o[u]=c,l[u]=h}});for(u=0;u<s;++u)f.point(i[u],a[u])}function kD({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(bs(e)&&(e=e.type),e!=null)}function $D(e){if(typeof(e==null?void 0:e.stream)=="function")return m7;if(bs(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=iy(e);if(t)return t}return m7}}function TD(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,o){t.push(s),n.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)rs(s,a);return[r,i]}const sy=new Map([["accent",IA],["category10",_A],["dark2",NA],["paired",qA],["pastel1",BA],["pastel2",FA],["set1",LA],["set2",RA],["set3",PA],["tableau10",OA]]);function CD(e){return e!=null&&sy.has(`${e}`.toLowerCase())}const p7=new Map([...sy,["brbg",zr(eg,tg)],["prgn",zr(ng,rg)],["piyg",zr(ig,ag)],["puor",zr(sg,og)],["rdbu",zr(ud,Df)],["rdgy",zr(lg,ug)],["rdylbu",zr(fd,_f)],["rdylgn",zr(fg,cg)],["spectral",zr(hg,dg)],["burd",g7(ud,Df)],["buylrd",g7(fd,_f)],["blues",Mt(Lg,Rg)],["greens",Mt(Pg,Og)],["greys",Mt(Hg,Vg)],["oranges",Mt(Gg,Xg)],["purples",Mt(Ug,jg)],["reds",Mt(Wg,Yg)],["turbo",Dr(nv)],["viridis",Dr(rv)],["magma",Dr(iv)],["inferno",Dr(av)],["plasma",Dr(sv)],["cividis",Dr(Zg)],["cubehelix",Dr(Qg)],["warm",Dr(Kg)],["cool",Dr(Jg)],["bugn",Mt(mg,pg)],["bupu",Mt(gg,vg)],["gnbu",Mt(yg,bg)],["orrd",Mt(wg,xg)],["pubu",Mt(kg,$g)],["pubugn",Mt(Mg,Sg)],["purd",Mt(Tg,Cg)],["rdpu",Mt(Ag,Eg)],["ylgn",Mt(_g,Ig)],["ylgnbu",Mt(zg,Dg)],["ylorbr",Mt(Ng,qg)],["ylorrd",Mt(Bg,Fg)],["rainbow",v7(ev)],["sinebow",v7(tv)]]);function Mt(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Hn(t,n):e[n])}function zr(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Hn(t,n):e[n])}function g7(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Hn(r=>t(1-r),n):e[n].slice().reverse())}function Dr(e){return({length:t})=>Hn(e,Math.max(2,Math.floor(t)))}function v7(e){return({length:t})=>Hn(e,Math.floor(t)+1).slice(0,-1)}function oy(e){const t=`${e}`.toLowerCase();if(!p7.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return p7.get(t)}function Ec(e,t){const n=oy(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function AD(e,t="greys"){const n=new Set,[r,i]=Ec(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const y7=new Map([["brbg",tg],["prgn",rg],["piyg",ag],["puor",og],["rdbu",Df],["rdgy",ug],["rdylbu",_f],["rdylgn",cg],["spectral",dg],["burd",e=>Df(1-e)],["buylrd",e=>_f(1-e)],["blues",Rg],["greens",Og],["greys",Vg],["purples",jg],["reds",Yg],["oranges",Xg],["turbo",nv],["viridis",rv],["magma",iv],["inferno",av],["plasma",sv],["cividis",Zg],["cubehelix",Qg],["warm",Kg],["cool",Jg],["bugn",pg],["bupu",vg],["gnbu",bg],["orrd",xg],["pubugn",Sg],["pubu",$g],["purd",Cg],["rdpu",Eg],["ylgnbu",Dg],["ylgn",Ig],["ylorbr",qg],["ylorrd",Fg],["rainbow",ev],["sinebow",tv]]);function Bm(e){const t=`${e}`.toLowerCase();if(!y7.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return y7.get(t)}const ED=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function zD(e){return e!=null&&ED.has(`${e}`.toLowerCase())}const ly=e=>t=>e(1-t),o4=[0,1],b7=new Map([["number",Nt],["rgb",fs],["hsl",Ok],["hcl",Uk],["lab",Hk]]);function uy(e){const t=`${e}`.toLowerCase();if(!b7.has(t))throw new Error(`unknown interpolator: ${t}`);return b7.get(t)}function Dl(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:o=cy(e,n),unknown:l,round:u,scheme:f,interval:c,range:h=ct.get(e)===kc?OD(n,o):ct.get(e)===$c?HD(n,o):ct.get(e)===Tc?o4:void 0,interpolate:d=ct.get(e)===n0?f==null&&h!==void 0?fs:Bm(f!==void 0?f:r==="cyclical"?"rainbow":"turbo"):u?nm:Nt,reverse:p}){if(c=yo(c,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=uy(d)),p=!!p,h!==void 0){const y=(o=fn(o)).length,b=(h=fn(h)).length;if(y!==b){if(d.length===1)throw new Error("invalid piecewise interpolator");d=tc(d,h),h=void 0}}if(d.length===1?(p&&(d=ly(d),p=!1),h===void 0&&(h=Float64Array.from(o,(y,b)=>b/(o.length-1)),h.length===2&&(h=o4)),t.interpolate((h===o4?El:Lm)(d))):t.interpolate(d),s){const[y,b]=On(o);(y>0||b<0)&&(o=pd(o),fo(o)!==Math.sign(y)?o[o.length-1]=0:o[0]=0)}return p&&(o=uf(o)),t.domain(o).unknown(l),i&&(t.nice(DD(i,r)),o=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:o,range:h,scale:t,interpolate:d,interval:c}}function DD(e,t){return e===!0?void 0:typeof e=="number"?e:Tz(e,t)}function _D(e,t,n){return Dl(e,mm(),t,n)}function ID(e,t,n){return fy(e,t,{...n,exponent:.5})}function fy(e,t,{exponent:n=1,...r}){return Dl(e,I9().exponent(n),t,{...r,type:"pow"})}function ND(e,t,{base:n=10,domain:r=VD(t),...i}){return Dl(e,E9().base(n),t,{...i,domain:r})}function qD(e,t,{constant:n=1,...r}){return Dl(e,D9().constant(n),t,r)}function BD(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=UD(t),unknown:o,interpolate:l,reverse:u}){return n===void 0&&(n=l!==void 0?Hn(l,i):ct.get(e)===n0?Ec(a,i):void 0),s.length>0&&(s=N9(s,n===void 0?{length:i}:n).quantiles()),Fm(e,t,{domain:s,range:n,reverse:u,unknown:o})}function FD(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=cy(e,t),unknown:s,interpolate:o,reverse:l}){const[u,f]=On(a);let c;return n===void 0?(c=nl(u,f,r),c[0]<=u&&c.splice(0,1),c[c.length-1]>=f&&c.pop(),r=c.length+1,n=o!==void 0?Hn(o,r):ct.get(e)===n0?Ec(i,r):void 0):(c=Hn(Nt(u,f),r+1).slice(1,-1),u instanceof Date&&(c=c.map(h=>new Date(h)))),fo(fn(a))<0&&c.reverse(),Fm(e,t,{domain:c,range:n,reverse:l,unknown:s})}function Fm(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?Hn(a,n.length+1):ct.get(e)===n0?Ec(i,n.length+1):void 0,reverse:o}){n=fn(n);const l=fo(n);if(!isNaN(l)&&!LD(n,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return o&&(s=uf(s)),{type:"threshold",scale:q9(l<0?uf(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function LD(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=xl(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function RD(){return{type:"identity",scale:T9()}}function gl(e,t=Tv){return e.length?[Yr(e,({value:n})=>n===void 0?n:Yr(n,t)),cr(e,({value:n})=>n===void 0?n:cr(n,t))]:[0,1]}function cy(e,t){const n=ct.get(e);return(n===kc||n===Tc||n===$c?PD:gl)(t)}function PD(e){return[0,e.length?cr(e,({value:t})=>t===void 0?t:cr(t,Tv)):1]}function OD(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=eo(e,.5,({value:s})=>s===void 0?NaN:eo(s,.25,xm)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/cr(i);return a<1?i.map(s=>s*a):i}function HD(e,t){const n=lf(e,({value:a})=>a===void 0?NaN:lf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/cr(r);return i<1?r.map(a=>a*i):r}function VD(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return gl(e,xm);if(n<0)return gl(e,Cv)}return[1,10]}function UD(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Lm(e){return(t,n)=>r=>e(t+r*(n-t))}function zc(e,t,n,r,{type:i,nice:a,clamp:s,domain:o=gl(r),unknown:l,pivot:u=0,scheme:f,range:c,symmetric:h=!0,interpolate:d=ct.get(e)===n0?f==null&&c!==void 0?fs:Bm(f!==void 0?f:"rdbu"):Nt,reverse:p}){u=+u,o=fn(o);let[y,b]=o;if(o.length>2&&Qs(`Warning: the diverging ${e} scale domain contains extra elements.`),xl(y,b)<0&&([y,b]=[b,y],p=!p),y=Math.min(y,u),b=Math.max(b,u),typeof d!="function"&&(d=uy(d)),c!==void 0&&(d=d.length===1?Lm(d)(...c):tc(d,c)),p&&(d=ly(d)),h){const x=n.apply(u),$=x-n.apply(y),E=n.apply(b)-x;$<E?y=n.invert(x-E):$>E&&(b=n.invert(x+$))}return t.domain([y,u,b]).unknown(l).interpolator(d),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[y,b],pivot:u,interpolate:d,scale:t}}function jD(e,t,n){return zc(e,Z9(),XD,t,n)}function WD(e,t,n){return hy(e,t,{...n,exponent:.5})}function hy(e,t,{exponent:n=1,...r}){return zc(e,J9().exponent(n=+n),KD(n),t,{...r,type:"diverging-pow"})}function YD(e,t,{base:n=10,pivot:r=1,domain:i=gl(t,r<0?Cv:xm),...a}){return zc(e,Q9().base(n=+n),ZD,t,{domain:i,pivot:r,...a})}function GD(e,t,{constant:n=1,...r}){return zc(e,K9().constant(n=+n),JD(n),t,r)}const XD={apply(e){return e},invert(e){return e}},ZD={apply:Math.log,invert:Math.exp},QD={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function KD(e){return e===.5?QD:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function JD(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function dy(e,t,n,r){return Dl(e,t,n,r)}function e_(e,t,n){return dy(e,zA(),t,n)}function t_(e,t,n){return dy(e,DA(),t,n)}const _l=Symbol("ordinal");function my(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:o,hint:l}){return i=yo(i,r),a===void 0&&(a=gy(n,i,e)),(r==="categorical"||r===_l)&&(r="ordinal"),o&&(a=uf(a)),t.domain(a),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:l,interval:i}}function n_(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:o,...l}){r=yo(r,n),i===void 0&&(i=gy(t,r,e));let u;if(ct.get(e)===Cc)u=a_(t),a=a===void 0?s_(u):bt(a,zm);else if(ct.get(e)===n0&&(a===void 0&&(n==="ordinal"||n===_l)&&(a=AD(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"tableau10"),s!==void 0))if(a!==void 0){const f=Bm(s),c=a[0],h=a[1]-a[0];a=({length:d})=>Hn(p=>f(c+h*p),d)}else a=oy(s);if(o===sd)throw new Error(`implicit unknown on ${e} scale is not supported`);return my(e,dm().unknown(o),t,{...l,type:n,domain:i,range:a,hint:u})}function r_(e,t,{align:n=.5,padding:r=.5,...i}){return py(cC().align(n).padding(r),t,i,e)}function i_(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return py(oc().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function py(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=my(r,e,t,n),e.round=i,e}function gy(e,t,n){const r=new Wd;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=On(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&ct.get(n)===sr)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return tl(r,jn)}function w7(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function a_(e){return{fill:w7(e,"fill"),stroke:w7(e,"stroke")}}function s_(e){return Xt(e.fill)?KA:QA}function bd(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:o,nice:l,clamp:u,zero:f,align:c,padding:h,projection:d,facet:{label:p=t}={},...y}={}){const b={};for(const[x,$]of e){const E=y[x],T=f_(x,$,{round:ct.get(x)===sr?o:void 0,nice:l,clamp:u,zero:f,align:c,padding:h,projection:d,...E});if(T){let{label:A=x==="fx"||x==="fy"?p:t,percent:D,transform:z,inset:j,insetTop:O=j!==void 0?j:x==="y"?r:0,insetRight:M=j!==void 0?j:x==="x"?i:0,insetBottom:C=j!==void 0?j:x==="y"?a:0,insetLeft:B=j!==void 0?j:x==="x"?s:0}=E||{};if(z==null)z=void 0;else if(typeof z!="function")throw new Error("invalid scale transform; not a function");T.percent=!!D,T.label=A===void 0?l_($,T):A,T.transform=z,x==="x"||x==="fx"?(T.insetLeft=+B,T.insetRight=+M):(x==="y"||x==="fy")&&(T.insetTop=+O,T.insetBottom=+C),b[x]=T}}return b}function x7(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function o_(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?Rm(t):t;i&&M7(i,s),a&&S7(a,s);const o=i||a?vy(e,t):t;n&&M7(n,o),r&&S7(r,o)}function l_(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Ms(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Rm(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:o,marginRight:l,marginBottom:u,marginLeft:f}}=e;return{marginTop:Math.max(t,o),marginRight:Math.max(n,l),marginBottom:Math.max(r,u),marginLeft:Math.max(i,f),width:a,height:s}}function vy({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=Rm(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:o,height:t?t.scale.bandwidth()+r+a:l,facet:{width:o,height:l}}}function M7(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,o=a+n,l=i-s-r;e.range=[o,Math.max(o,l)],Ms(e)||(e.range=by(e)),e.scale.range(e.range)}yy(e)}function S7(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,o=a+n,l=i-s-r;e.range=[Math.max(o,l),o],Ms(e)?e.range.reverse():e.range=by(e),e.scale.range(e.range)}yy(e)}function yy(e){e.round===void 0&&h_(e)&&u_(e)<=30&&e.scale.round(!0)}function u_({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,o=Math.abs(r-n)/Math.max(1,s+a*2);return(o-Math.floor(o))*s}function by(e){const t=e.scale.domain().length+wy(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function f_(e,t=[],n={}){const r=c_(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Ms({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Wn)?Qs(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Vs(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Vs(r)}".`):i.some(Az)?Qs(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Vs(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Vs(r)}".`):i.some(Ez)&&Qs(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Vs(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Vs(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=B1(t,n,Bf);break;case"identity":switch(ct.get(e)){case sr:n=B1(t,n,Bf);break;case Cc:n=B1(t,n,d_);break}break;case"utc":case"time":n=B1(t,n,Mz);break}switch(r){case"diverging":return jD(e,t,n);case"diverging-sqrt":return WD(e,t,n);case"diverging-pow":return hy(e,t,n);case"diverging-log":return YD(e,t,n);case"diverging-symlog":return GD(e,t,n);case"categorical":case"ordinal":case _l:return n_(e,t,n);case"cyclical":case"sequential":case"linear":return _D(e,t,n);case"sqrt":return ID(e,t,n);case"threshold":return Fm(e,t,n);case"quantile":return BD(e,t,n);case"quantize":return FD(e,t,n);case"pow":return fy(e,t,n);case"log":return ND(e,t,n);case"symlog":return qD(e,t,n);case"utc":return t_(e,t,n);case"time":return e_(e,t,n);case"point":return r_(e,t,n);case"band":return i_(e,t,n);case"identity":return ct.get(e)===sr?RD():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Vs(e){return typeof e=="symbol"?e.description:e}const k7={toString:()=>"projection"};function c_(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:o}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&o!=null&&(n=k7);for(const{type:u}of t)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===k7)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=ct.get(e);if(l===kc)return"sqrt";if(l===Tc||l===$c)return"linear";if(l===Cc)return"ordinal";if((r||i||[]).length>2)return l4(l);if(r!==void 0){if(l7(r))return l4(l);if(Wn(r))return"utc"}else{const u=t.map(({value:f})=>f).filter(f=>f!==void 0);if(u.some(l7))return l4(l);if(u.some(Wn))return"utc"}if(l===n0){if(s!=null||zD(a))return"diverging";if(CD(a))return"categorical"}return"linear"}function l4(e){switch(e){case sr:return"point";case n0:return _l;default:return"ordinal"}}function Pm({type:e}){return e==="time"||e==="utc"}function Ms({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===_l}function wy({type:e}){return e==="threshold"}function h_({type:e}){return e==="point"||e==="band"}function or(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function B1(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function d_(e){return bt(e,zm)}function m_(e){return t=>{if(!ct.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?p_(e[t]):void 0}}function p_({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:o,pivot:l}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const u=e.unknown?e.unknown():void 0;return{type:t,domain:pd(n),...r!==void 0&&{range:pd(r)},...s!==void 0&&{transform:s},...o&&{percent:o},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:f=>e(f),...e.invert&&{invert:f=>e.invert(f)}}}function g_(e,t,n={}){let r=.5-on,i=.5+on,a=.5+on,s=.5-on;for(const{marginTop:y,marginRight:b,marginBottom:x,marginLeft:$}of t)y>r&&(r=y),b>i&&(i=b),x>a&&(a=x),$>s&&(s=$);let{margin:o,marginTop:l=o!==void 0?o:r,marginRight:u=o!==void 0?o:i,marginBottom:f=o!==void 0?o:a,marginLeft:c=o!==void 0?o:s}=n;l=+l,u=+u,f=+f,c=+c;let{width:h=640,height:d=v_(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,l-r+f-a)}=n;h=+h,d=+d;const p={width:h,height:d,marginTop:l,marginRight:u,marginBottom:f,marginLeft:c};if(e.fx||e.fy){let{margin:y,marginTop:b=y!==void 0?y:l,marginRight:x=y!==void 0?y:u,marginBottom:$=y!==void 0?y:f,marginLeft:E=y!==void 0?y:c}=n.facet??{};b=+b,x=+x,$=+$,E=+E,p.facet={marginTop:b,marginRight:x,marginBottom:$,marginLeft:E}}return p}function v_({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:o,marginRightDefault:l,marginBottomDefault:u,marginLeftDefault:f}){const c=n?n.scale.domain().length:1,h=$D(i);if(h){const p=r?r.scale.domain().length:1,y=(1.1*c-.1)/(1.1*p-.1)*h,b=Math.max(.1,Math.min(10,y));return Math.round((s-f-l)*b+o+u)}const d=t?Ms(t)?t.scale.domain().length:Math.max(7,17/c):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=$7("y",t)/($7("x",e)*a),y=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,x=y*(s-f-l)-e.insetLeft-e.insetRight;return(p*x+t.insetTop+t.insetBottom)/b+o+u}return!!(t||n)*Math.max(1,Math.min(60,d*c))*20+!!r*30+60}function $7(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=t.scale.exponent();i=l=>Math.pow(l,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=On(r);return Math.abs(i(s)-i(a))}function y_(e,t){const{fx:n,fy:r}=bd(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?nM(i,a).map(([s,o],l)=>({x:s,y:o,i:l})):i?i.map((s,o)=>({x:s,i:o})):a?a.map((s,o)=>({y:s,i:o})):void 0}function b_(e,{x:t,y:n}){return t&&(t=wd(t)),n&&(n=wd(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Om(e,{fx:t,fy:n}){const r=e0(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Gs(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?Gs(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Gs(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function w_(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function x_(e){const t=[],n=new Uint32Array(C0(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const M_=new Map([["top",u4],["right",h4],["bottom",f4],["left",c4],["top-left",F1(u4,c4)],["top-right",F1(u4,h4)],["bottom-left",F1(f4,c4)],["bottom-right",F1(f4,h4)],["top-empty",$_],["right-empty",A_],["bottom-empty",T_],["left-empty",C_],["empty",E_]]);function S_(e){if(e==null)return null;const t=M_.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const T7=new WeakMap;function wd(e){let t=T7.get(e);return t||T7.set(e,t=new ls(bt(e,(n,r)=>[n,r]))),t}function N0(e,t){return wd(e).get(t)}function k_(e,t,n){return t=I1(t),n=I1(n),e.find(r=>Object.is(I1(r.x),t)&&Object.is(I1(r.y),n))}function Dc(e,t,n){var r;return(r=k_(e,t,n))==null?void 0:r.empty}function u4(e,{y:t},{y:n}){return t?N0(t,n)===0:!0}function f4(e,{y:t},{y:n}){return t?N0(t,n)===t.length-1:!0}function c4(e,{x:t},{x:n}){return t?N0(t,n)===0:!0}function h4(e,{x:t},{x:n}){return t?N0(t,n)===t.length-1:!0}function $_(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=N0(t,r);if(a>0)return Dc(e,n,t[a-1])}function T_(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=N0(t,r);if(a<t.length-1)return Dc(e,n,t[a+1])}function C_(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=N0(t,n);if(a>0)return Dc(e,t[a-1],r)}function A_(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=N0(t,n);if(a<t.length-1)return Dc(e,t[a+1],r)}function E_(e,t,{empty:n}){return n}function F1(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function d4(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class Gn{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:o,fy:l,sort:u,dx:f=0,dy:c=0,margin:h=0,marginTop:d=h,marginRight:p=h,marginBottom:y=h,marginLeft:b=h,clip:x=i==null?void 0:i.clip,channels:$,tip:E,render:T}=r;if(this.data=t,this.sort=dl(u)?u:null,this.initializer=Rf(r).initializer,this.transform=this.initializer?r.transform:Dm(r).transform,a===null||a===!1?this.facet=null:(this.facet=yr(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Q1&&typeof o=="string"?[o]:o,this.fy=t===Q1&&typeof l=="string"?[l]:l),this.facetAnchor=S_(s),n=Hv(n),$!==void 0&&(n={...z_($),...n}),i!==void 0&&(n={...dD(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([A,D])=>{if(Tm(D.value)){const{value:z,scale:j=D.scale}=D.value;D={...D,scale:j,value:z}}if(t===Q1&&typeof D.value=="string"){const{value:z}=D;D={...D,value:[z]}}return[A,D]}).filter(([A,{value:D,optional:z}])=>{if(D!=null)return!0;if(z)return!1;throw new Error(`missing channel value: ${A}`)})),this.dx=+f,this.dy=+c,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+y,this.marginLeft=+b,this.clip=ny(x),this.tip=D_(E),this.facet==="super"){if(o||l)throw new Error("super-faceting cannot use fx or fy");for(const A in this.channels){const{scale:D}=n[A];if(!(D!=="x"&&D!=="y"))throw new Error("super-faceting cannot use x or y")}}T!=null&&(this.render=My(T,this.render))}initialize(t,n,r){let i=fn(this.data);t===void 0&&i!=null&&(t=[e0(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=fn(i)),t!==void 0&&(t.original=a);const s=Jz(this.channels,i);return this.sort!=null&&tD(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=ps}=n[i];if(a!==null){const s=r[i];t=t.filter(o=>a(s[o]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&SD(i,a,n,r.projection)}}scale(t,n,r){const i=eD(t,n);return r.projection&&this.project(t,i,r),i}}function xy(...e){return e.plot=Gn.prototype.plot,e}function My(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,o){return e.call(this,n,r,i,a,s,(l,u,f,c,h)=>t.call(this,l,u,f,c,h,o))}}function z_(e){return Object.fromEntries(Object.entries(Hv(e)).map(([t,n])=>(n=zl(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function D_(e){return e===!0?"xy":e===!1?null:$m(e,"tip",["x","y","xy"])}function _c(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:e}const C7=new WeakMap;function Hm(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:o,render:l,...u}={}){return s=+s,i!=null&&(n??(n=null),o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),o={...o,py:{value:a,scale:"y"}}),{x:n,y:r,channels:o,...u,render:My(function(f,c,h,d,p,y){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:x}=p.getMarkState(this);let $=C7.get(b);$||C7.set(b,$={sticky:!1,roots:[],renders:[]});let E=$.renders.push(F)-1;const{x:T,y:A,fx:D,fy:z}=c;let j=D?D(f.fx)-d.marginLeft:0,O=z?z(f.fy)-d.marginTop:0;T!=null&&T.bandwidth&&(j+=T.bandwidth()/2),A!=null&&A.bandwidth&&(O+=A.bandwidth()/2);const M=f.fi!=null;let C;if(M){let le=$.facetStates;le||($.facetStates=le=new Map),C=le.get(this),C||le.set(this,C=new Map)}const[B,L]=Ac(this,d),{px:X,py:H}=h,Q=X?le=>X[le]:Sy(h,B),oe=H?le=>H[le]:ky(h,L);let re,de,K,ne;function te(le,ce){if(M)if(ne&&(ne=cancelAnimationFrame(ne)),le==null)C.delete(f.fi);else{C.set(f.fi,ce),ne=requestAnimationFrame(()=>{ne=null;for(const[Z,pe]of C)if(pe<ce||pe===ce&&Z<f.fi){le=null;break}F(le)});return}F(le)}function F(le){if(re===le&&K===$.sticky)return;re=le,K=p.pointerSticky=$.sticky;const ce=re==null?[]:[re];M&&(ce.fx=f.fx,ce.fy=f.fy,ce.fi=f.fi);const Z=y(ce,c,h,d,p);if(de){if(M){const pe=de.parentNode,Ae=de.getAttribute("transform"),W=Z.getAttribute("transform");Ae?Z.setAttribute("transform",Ae):Z.removeAttribute("transform"),W?pe.setAttribute("transform",W):pe.removeAttribute("transform"),Z.removeAttribute("aria-label"),Z.removeAttribute("aria-description"),Z.removeAttribute("aria-hidden")}de.replaceWith(Z)}return $.roots[E]=de=Z,re==null&&(C==null?void 0:C.size)>1||p.dispatchValue(re==null?null:x[re]),Z}function se(le){if($.sticky||le.pointerType==="mouse"&&le.buttons===1)return;let[ce,Z]=uk(le);ce-=j,Z-=O;const pe=ce<d.marginLeft||ce>d.width-d.marginRight?1:e,Ae=Z<d.marginTop||Z>d.height-d.marginBottom?1:t;let W=null,$e=s*s;for(const ze of f){const qe=pe*(Q(ze)-ce),Ne=Ae*(oe(ze)-Z),Ze=qe*qe+Ne*Ne;Ze<=$e&&(W=ze,$e=Ze)}if(W!=null&&(e!==1||t!==1)){const ze=Q(W)-ce,qe=oe(W)-Z;$e=ze*ze+qe*qe}te(W,$e)}function ye(le){le.pointerType==="mouse"&&re!=null&&($.sticky&&$.roots.some(ce=>ce==null?void 0:ce.contains(le.target))||($.sticky?($.sticky=!1,$.renders.forEach(ce=>ce(null))):($.sticky=!0,F(re)),le.stopImmediatePropagation()))}function Ce(le){le.pointerType==="mouse"&&($.sticky||te(null))}return b.addEventListener("pointerenter",se),b.addEventListener("pointermove",se),b.addEventListener("pointerdown",ye),b.addEventListener("pointerleave",Ce),F(null)},l)}}function __(e){return Hm(1,1,e)}function I_(e){return Hm(1,.01,e)}function N_(e){return Hm(.01,1,e)}function Sy({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function ky({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function $y(e){return Ms(e)&&e.interval===void 0?void 0:"tabular-nums"}function q_(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:o=0,marginBottom:l=16+r,marginLeft:u=0,style:f,ticks:c=(i-u-o)/64,tickFormat:h,fontVariant:d=$y(e),round:p=!0,opacity:y,className:b}=t;const x=qm(t);b=Im(b),y=sn(y)[1],h===null&&(h=()=>null);const $=Vt("svg",x).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(B=>B.append("style").text(`.${b}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${b}-ramp text {
  white-space: pre;
}`)).call(Nm,f);let E=B=>B.selectAll(".tick line").attr("y1",s+l-a),T;const A=p?(B,L)=>B.rangeRound(L):(B,L)=>B.range(L),{type:D,domain:z,range:j,interpolate:O,scale:M,pivot:C}=e;if(O){const B=j===void 0?O:tc(O.length===1?Lm(O):O,j);T=A(M.copy(),Hn(Nt(u,i-o),Math.min(z.length+(C!==void 0),j===void 0?1/0:j.length)));const L=256,X=x.document.createElement("canvas");X.width=L,X.height=1;const H=X.getContext("2d");for(let Q=0,oe=L-1;Q<L;++Q)H.fillStyle=B(Q/oe),H.fillRect(Q,0,1,1);$.append("image").attr("opacity",y).attr("x",u).attr("y",s).attr("width",i-u-o).attr("height",a-s-l).attr("preserveAspectRatio","none").attr("xlink:href",X.toDataURL())}else if(D==="threshold"){const B=z,L=h===void 0?X=>X:typeof h=="string"?$l(h):h;T=A(mm().domain([-1,j.length-1]),[u,i-o]),$.append("g").attr("fill-opacity",y).selectAll().data(j).enter().append("rect").attr("x",(X,H)=>T(H-1)).attr("y",s).attr("width",(X,H)=>T(H)-T(H-1)).attr("height",a-s-l).attr("fill",X=>X),c=bt(B,(X,H)=>H),h=X=>L(B[X],X)}else T=A(oc().domain(z),[u,i-o]),$.append("g").attr("fill-opacity",y).selectAll().data(z).enter().append("rect").attr("x",T).attr("y",s).attr("width",Math.max(0,T.bandwidth()-1)).attr("height",a-s-l).attr("fill",M),E=()=>{};return $.append("g").attr("transform",`translate(0,${a-l})`).call(TM(T).ticks(Array.isArray(c)?null:c,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(c)?c:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",vt(d,"normal")).call(E).call(B=>B.select(".domain").remove()),n!==void 0&&$.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),$.node()}const Ty=Math.PI/180;function Cy(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=m4(n),e.markerMid=m4(r),e.markerEnd=m4(i)}function m4(e){if(e==null||e===!1)return null;if(e===!0)return E7;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return A7("auto");case"arrow-reverse":return A7("auto-start-reverse");case"dot":return B_;case"circle":case"circle-fill":return E7;case"circle-stroke":return F_}throw new Error(`invalid marker: ${e}`)}function A7(e){return(t,n)=>Vt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function B_(e,t){return Vt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function E7(e,t){return Vt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function F_(e,t){return Vt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let L_=0;function Ay(e,t,{stroke:n},r){return R_(e,t,n&&(i=>n[i]),r)}function R_(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const o=new Map;function l(u){return function(f){const c=a(f);let h=o.get(u);h||o.set(u,h=new Map);let d=h.get(c);if(!d){const p=this.parentNode.insertBefore(u(c,s),this),y=`plot-marker-${++L_}`;p.setAttribute("id",y),h.set(c,d=`url(#${y})`)}return d}}t&&e.attr("marker-start",l(t)),n&&e.attr("marker-mid",l(n)),r&&e.attr("marker-end",l(r))}function Ic({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=zy(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Ey({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=zy(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function zy(e,t,n){return e===void 0&&t===void 0&&n===void 0?on?[1,0]:[.5,.5]:[t,n]}function Dy(e,{interval:t}){return e={...zl(e)},e.interval=Am(e.interval===void 0?t:e.interval),e}function Vm(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:o,interval:l}=Dy(i,n);if(o==null||l==null&&!r)return n;const u=ws(i);if(l==null){let d;const p={transform:y=>d||(d=$t(y,o)),label:u};return{...n,[e]:void 0,[`${e}1`]:a===void 0?p:a,[`${e}2`]:s===void 0?p:s}}let f,c;function h(d){return c!==void 0&&d===f?c:c=bt($t(f=d,o),p=>l.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:u}:a,[`${e}2`]:s===void 0?{transform:d=>h(d).map(p=>l.offset(p)),label:u}:s})}function _y(e,t,n){const{[e]:r}=n,{value:i,interval:a}=Dy(r,n);return i==null||a==null?n:t({...n,[e]:{label:ws(r),transform:s=>{const o=bt($t(s,i),u=>a.floor(u)),l=o.map(u=>a.offset(u));return o.map(Wn(o)?(u,f)=>u==null||isNaN(u=+u)||(f=l[f],f==null)||isNaN(f=+f)?void 0:new Date((u+f)/2):(u,f)=>u==null||(f=l[f],f==null)?NaN:(+u+ +f)/2)}}})}function P_(e={}){return Vm("x",Ic,e,!0)}function Iy(e={}){return Vm("x",Ic,e)}function O_(e={}){return Vm("y",Ey,e)}function H_(e={}){return _y("x",Ic,e)}function V_(e={}){return _y("y",Ey,e)}const Ny={ariaLabel:"rule",fill:null,stroke:"currentColor"};class U_ extends Gn{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:o=s,insetBottom:l=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},_c(n,"x"),Ny),this.insetTop=tt(o),this.insetBottom=tt(l),Cy(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y1:u,y2:f}=r,{width:c,height:h,marginTop:d,marginRight:p,marginLeft:y,marginBottom:b}=i,{insetTop:x,insetBottom:$}=this;return Vt("svg:g",a).call(_0,this,i,a).call(r0,this,{x:l&&s},on,0).call(E=>E.selectAll().data(t).enter().append("line").call(I0,this).attr("x1",l?T=>l[T]:(y+c-p)/2).attr("x2",l?T=>l[T]:(y+c-p)/2).attr("y1",u&&!or(o)?T=>u[T]+x:d+x).attr("y2",f&&!or(o)?o.bandwidth?T=>f[T]+o.bandwidth()-$:T=>f[T]-$:h-b-$).call(xs,this,r).call(Ay,this,r,a)).node()}}class j_ extends Gn{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:o=s,insetLeft:l=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},_c(n,"y"),Ny),this.insetRight=tt(o),this.insetLeft=tt(l),Cy(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{y:l,x1:u,x2:f}=r,{width:c,height:h,marginTop:d,marginRight:p,marginLeft:y,marginBottom:b}=i,{insetLeft:x,insetRight:$}=this;return Vt("svg:g",a).call(_0,this,i,a).call(r0,this,{y:l&&o},0,on).call(E=>E.selectAll().data(t).enter().append("line").call(I0,this).attr("x1",u&&!or(s)?T=>u[T]+x:y+x).attr("x2",f&&!or(s)?s.bandwidth?T=>f[T]+s.bandwidth()-$:T=>f[T]-$:c-p-$).attr("y1",l?T=>l[T]:(d+h-b)/2).attr("y2",l?T=>l[T]:(d+h-b)/2).call(xs,this,r).call(Ay,this,r,a)).node()}}function W_(e,t){let{x:n=Bt,y:r,y1:i,y2:a,...s}=O_(t);return[i,a]=By(r,i,a),new U_(e,{...s,x:n,y1:i,y2:a})}function qy(e,t){let{y:n=Bt,x:r,x1:i,x2:a,...s}=Iy(t);return[i,a]=By(r,i,a),new j_(e,{...s,y:n,x1:i,x2:a})}function By(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Fy(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const Y_={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ly="­";class Um extends Gn{constructor(t,n={}){const{x:r,y:i,text:a=t0(t)&&Pv(t)?Bt:Mm,frameAnchor:s,textAnchor:o=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:l=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:f=1/0,textOverflow:c,monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:y,fontVariant:b,fontWeight:x,rotate:$}=n,[E,T]=sn($,0),[A,D]=J_(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:A,optional:!0},rotate:{value:Cz(E),optional:!0},text:{value:a,filter:$v,optional:!0}},n,Y_),this.rotate=T,this.textAnchor=vt(o,"middle"),this.lineAnchor=yr(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+f,this.textOverflow=Ry(c),this.monospace=!!h,this.fontFamily=Pt(d),this.fontSize=D,this.fontStyle=Pt(y),this.fontVariant=Pt(b),this.fontWeight=Pt(x),this.frameAnchor=Em(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=Oy(this),this.clipLine=Hy(this)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,rotate:f,text:c,title:h,fontSize:d}=r,{rotate:p}=this,[y,b]=Ac(this,i);return Vt("svg:g",a).call(_0,this,i,a).call(Py,this,c,i).call(r0,this,{x:l&&s,y:u&&o}).call(x=>x.selectAll().data(t).enter().append("text").call(I0,this).call(G_,this,c,h).attr("transform",Fy`translate(${l?$=>l[$]:y},${u?$=>u[$]:b})${f?$=>` rotate(${f[$]})`:p?` rotate(${p})`:""}`).call(We,"font-size",d&&($=>d[$])).call(xs,this,r)).node()}}function Ry(e){return e==null?null:yr(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function G_(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:o,clipLine:l}=t;e.each(function(u){const f=o(S0(n[u])??"").map(l),c=f.length,h=i==="top"?.71:i==="bottom"?1-c:(164-c*100)/200;if(c>1){let d=0;for(let p=0;p<c;++p){if(++d,!f[p])continue;const y=this.ownerDocument.createElementNS(to.svg,"tspan");y.setAttribute("x",0),p===d-1?y.setAttribute("y",`${(h+p)*a}em`):y.setAttribute("dy",`${d*a}em`),y.textContent=f[p],this.appendChild(y),d=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=f[0];if(s&&!r&&f[0]!==n[u]){const d=this.ownerDocument.createElementNS(to.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function jm(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Cm(t,n)),new Um(e,{...r,x:t,y:n})}function X_(e,{x:t=Bt,...n}={}){return new Um(e,V_({...n,x:t}))}function Z_(e,{y:t=Bt,...n}={}){return new Um(e,H_({...n,y:t}))}function Py(e,t,n){We(e,"text-anchor",t.textAnchor),We(e,"font-family",t.fontFamily),We(e,"font-size",t.fontSize),We(e,"font-style",t.fontStyle),We(e,"font-variant",t.fontVariant===void 0?Q_(n):t.fontVariant),We(e,"font-weight",t.fontWeight)}function Q_(e){return e&&(zz(e)||Wn(e))?"tabular-nums":void 0}const K_=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function J_(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),K_.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function eI(e,t,n){const r=[];let i,a=0;for(const[s,o,l]of tI(e)){if(i===void 0&&(i=s),a>i&&n(e,i,o)>t&&(r.push(e.slice(i,a)+(e[a-1]===Ly?"-":"")),i=s),l){r.push(e.slice(i,o)),i=void 0;continue}a=o}return r}function*tI(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Ly:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const z7={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Wm(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=bo(e,i))r+=z7[e[i]]??(Uy(e,i)?120:z7.e);return r}function Ym(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=bo(e,i))r+=Uy(e,i)?200:100;return r}function Oy({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?Ym:Wm,i=t*100;return a=>eI(a,i,r)}function Hy({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?Ym:Wm,i=t*100;switch(n){case"clip-start":return a=>_7(a,i,r,"");case"clip-end":return a=>D7(a,i,r,"");case"ellipsis-start":return a=>_7(a,i,r,Ks);case"ellipsis-middle":return a=>nI(a,i,r,Ks);case"ellipsis-end":return a=>D7(a,i,r,Ks)}}const Ks="…";function co(e,t,n,r){const i=[];let a=0;for(let s=0,o=0,l=e.length;s<l;s=o){o=bo(e,s);const u=n(e,s,o);if(a+u>t){for(a+=r;a>t&&s>0;)o=s,s=i.pop(),a-=n(e,s,o);return[s,t-a]}a+=u,i.push(s)}return[-1,0]}function D7(e,t,n,r){e=e.trim();const i=n(r),[a]=co(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function nI(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,o]=co(e,t/2,n,a),[l]=co(e,i-t/2-o+a,n,-a);return l<0?r:e.slice(0,s).trimEnd()+r+e.slice(bo(e,l)).trimStart()}function _7(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=co(e,i-t+a,n,-a);return s<0?r:r+e.slice(bo(e,s)).trimStart()}const xd=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,I7=/\p{Extended_Pictographic}/uy;function bo(e,t){return t+=rI(e,t)?2:1,aI(e,t)&&(t=xd.lastIndex),iI(e,t)?bo(e,t+1):t}function Vy(e,t){return e.charCodeAt(t)<128}function rI(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function iI(e,t){return e.charCodeAt(t)===8205}function aI(e,t){return Vy(e,t)?!1:(xd.lastIndex=t,xd.test(e))}function Uy(e,t){return Vy(e,t)?!1:(I7.lastIndex=t,I7.test(e))}const sI={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},jy=3.5,oI=jy*5,Wy={draw(e,t,n){const r=t*n/oI;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},lI={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},uI=new Map([["arrow",Wy],["spike",lI]]);function fI(e){return e&&typeof e.draw=="function"}function cI(e){if(fI(e))return e;const t=uI.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class Yy extends Gn{constructor(t,n={}){const{x:r,y:i,r:a=jy,length:s,rotate:o,shape:l=Wy,anchor:u="middle",frameAnchor:f}=n,[c,h]=sn(s,12),[d,p]=sn(o,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:c,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,sI),this.r=+a,this.length=h,this.rotate=p,this.shape=cI(l),this.anchor=yr(u,"anchor",["start","middle","end"]),this.frameAnchor=Em(f)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,length:f,rotate:c}=r,{length:h,rotate:d,anchor:p,shape:y,r:b}=this,[x,$]=Ac(this,i);return Vt("svg:g",a).call(_0,this,i,a).call(r0,this,{x:l&&s,y:u&&o}).call(E=>E.selectAll().data(t).enter().append("path").call(I0,this).attr("transform",Fy`translate(${l?T=>l[T]:x},${u?T=>u[T]:$})${c?T=>` rotate(${c[T]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?f?T=>` translate(0,${f[T]})`:` translate(0,${h})`:f?T=>` translate(0,${f[T]/2})`:` translate(0,${h/2})`}`).attr("d",f?T=>{const A=V4();return y.draw(A,f[T],b),A}:(()=>{const T=V4();return y.draw(T,h,b),T})()).call(xs,this,r)).node()}}function hI(e,t={}){const{x:n=Bt,...r}=t;return new Yy(e,{...r,x:n})}function dI(e,t={}){const{y:n=Bt,...r}=t;return new Yy(e,{...r,y:n})}function q0(e,t){return arguments.length<2&&!t0(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Nc({anchor:e}={},t){return e===void 0?t[0]:yr(e,"anchor",t)}function Gy(e){return Nc(e,["left","right"])}function Xy(e){return Nc(e,["right","left"])}function Zy(e){return Nc(e,["bottom","top"])}function Qy(e){return Nc(e,["top","bottom"])}function Ky(){const[e,t]=q0(...arguments);return eb("y",Gy(t),e,t)}function mI(){const[e,t]=q0(...arguments);return eb("fy",Xy(t),e,t)}function Jy(){const[e,t]=q0(...arguments);return tb("x",Zy(t),e,t)}function pI(){const[e,t]=q0(...arguments);return tb("fx",Qy(t),e,t)}function eb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:f,textStroke:c,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=e==="y"?6:0,tickPadding:y,tickRotate:b,x,margin:$,marginTop:E=$===void 0?20:$,marginRight:T=$===void 0?t==="right"?40:0:$,marginBottom:A=$===void 0?20:$,marginLeft:D=$===void 0?t==="left"?40:0:$,label:z,labelAnchor:j,labelArrow:O,labelOffset:M,...C}){return p=tt(p),y=tt(y),b=tt(b),j!==void 0&&(j=yr(j,"labelAnchor",["center","top","bottom"])),O=ub(O),xy(p&&!Xt(a)?gI(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:p,tickPadding:y,tickRotate:b,x,...C}):null,Xt(l)?null:yI(e,t,n,{fill:l,fillOpacity:u,stroke:c,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:y,tickRotate:b,x,marginTop:E,marginRight:T,marginBottom:A,marginLeft:D,...C}),!Xt(l)&&z!==null?jm([],ab({fill:l,fillOpacity:u,...C},function(B,L,X,H,Q){const oe=H[e],{marginTop:re,marginRight:de,marginBottom:K,marginLeft:ne}=e==="y"&&Q.inset||Q,te=j??(oe.bandwidth?"center":"top"),F=M??(t==="right"?de:ne)-3;return te==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=te,this.frameAnchor=`${te}-${t}`,this.rotate=0),this.dy=te==="top"?3-re:te==="bottom"?K-3:0,this.dx=t==="right"?F:-F,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[lb(e,oe,{anchor:t,label:z,labelAnchor:te,labelArrow:O})]}}}})):null)}function tb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:f,textStroke:c,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=e==="x"?6:0,tickPadding:y,tickRotate:b,y:x,margin:$,marginTop:E=$===void 0?t==="top"?30:0:$,marginRight:T=$===void 0?20:$,marginBottom:A=$===void 0?t==="bottom"?30:0:$,marginLeft:D=$===void 0?20:$,label:z,labelAnchor:j,labelArrow:O,labelOffset:M,...C}){return p=tt(p),y=tt(y),b=tt(b),j!==void 0&&(j=yr(j,"labelAnchor",["center","left","right"])),O=ub(O),xy(p&&!Xt(a)?vI(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:p,tickPadding:y,tickRotate:b,y:x,...C}):null,Xt(l)?null:bI(e,t,n,{fill:l,fillOpacity:u,stroke:c,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:y,tickRotate:b,y:x,marginTop:E,marginRight:T,marginBottom:A,marginLeft:D,...C}),!Xt(l)&&z!==null?jm([],ab({fill:l,fillOpacity:u,...C},function(B,L,X,H,Q){const oe=H[e],{marginTop:re,marginRight:de,marginBottom:K,marginLeft:ne}=e==="x"&&Q.inset||Q,te=j??(oe.bandwidth?"center":"right"),F=M??(t==="top"?re:K)-3;return te==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${te}`,this.textAnchor=te==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-F:F,this.dx=te==="right"?de-3:te==="left"?3-ne:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[lb(e,oe,{anchor:t,label:z,labelAnchor:te,labelArrow:O})]}}}})):null)}function gI(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetLeft:f=u,insetRight:c=u,dx:h=0,y:d=e==="y"?void 0:null,...p}){return wo(dI,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:o,y:d,...p,dx:t==="left"?+h-on+ +f:+h+on-c,anchor:"start",length:l,shape:t==="left"?TI:CI})}function vI(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetTop:f=u,insetBottom:c=u,dy:h=0,x:d=e==="x"?void 0:null,...p}){return wo(hI,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:o,x:d,...p,dy:t==="bottom"?+h-on-c:+h+on+ +f,anchor:"start",length:l,shape:t==="bottom"?kI:$I})}function yI(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*Ty):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:f=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:c=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:d=0,insetLeft:p=d,insetRight:y=d,dx:b=0,y:x=e==="y"?void 0:null,...$}){return wo(Z_,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:f,lineAnchor:c,fontVariant:h,rotate:s,y:x,...$,dx:t==="left"?+b-a-o+ +p:+b+ +a+ +o-y},function(E,T,A,D){h===void 0&&(this.fontVariant=ob(E)),u===void 0&&(D.text=sb(E,T,A,l,t))})}function bI(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*Ty):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:f=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:d=0,insetTop:p=d,insetBottom:y=d,dy:b=0,x=e==="x"?void 0:null,...$}){return wo(X_,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:f,lineAnchor:c,fontVariant:h,rotate:s,x,...$,dy:t==="bottom"?+b+ +a+ +o-y:+b-a-o+ +p},function(E,T,A,D){h===void 0&&(this.fontVariant=ob(E)),u===void 0&&(D.text=sb(E,T,A,l,t))})}function wI(){const[e,t]=q0(...arguments);return nb("y",Gy(t),e,t)}function xI(){const[e,t]=q0(...arguments);return nb("fy",Xy(t),e,t)}function MI(){const[e,t]=q0(...arguments);return rb("x",Zy(t),e,t)}function SI(){const[e,t]=q0(...arguments);return rb("fx",Qy(t),e,t)}function nb(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...o}){return wo(qy,e,`${e}-grid`,n,{y:r,x1:a,x2:s,...ib(o)})}function rb(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...o}){return wo(W_,e,`${e}-grid`,n,{x:r,y1:a,y2:s,...ib(o)})}function ib({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function ab({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u=!1},f){return[,e]=Kr(e),[,t]=sn(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u,initializer:f}}function wo(e,t,n,r,i,a){let s;function o(f,c,h,d,p,y){const b=f==null&&(t==="fx"||t==="fy"),{[t]:x}=d;if(!x)throw new Error(`missing scale: ${t}`);let{ticks:$,tickSpacing:E,interval:T}=i;if(Pm(x)&&typeof $=="string"&&(T=$,$=void 0),f==null){if(t0($))f=fn($);else if(x.ticks)if($!==void 0)f=x.ticks($);else if(T=yo(T===void 0?x.interval:T,x.type),T!==void 0){const[D,z]=On(x.domain());f=T.range(D,T.offset(T.floor(z)))}else{const[D,z]=On(x.range());$=(z-D)/(E===void 0?t==="x"?80:35:E),f=x.ticks($)}else f=x.domain();t==="y"||t==="x"?c=[e0(f)]:s[t]={scale:t,value:Bt}}a==null||a.call(this,x,f,$,s);const A=Object.fromEntries(Object.entries(s).map(([D,z])=>[D,{...z,value:$t(f,z.value)}]));return b&&(c=y.filterFacets(f,A)),{data:f,facets:c,channels:A}}const l=Rf(i).initializer,u=e(r,Rf({...i,initializer:o},l));return r==null?(s=u.channels,u.channels={}):s={},u.ariaLabel=n,u.clip===void 0&&(u.clip=!1),u}function sb(e,t,n,r,i){return{value:Of(e,t,n,r,i)}}function Of(e,t,n,r,i){return r===void 0&&Pm(e)?pz(e,t,n,i):e.tickFormat?e.tickFormat(t0(n)?null:n,r):r===void 0?dz(e.interval)?fl("%Y"):mz(e.interval)?gc("%Y"):S0:typeof r=="string"?(Wn(e.domain())?fl:$l)(r):El(r)}const kI={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},$I={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},TI={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},CI={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function ob(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function AI(e){return Math.sign(fo(e.domain()))*Math.sign(fo(e.range()))}function lb(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&EI(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=AI(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function ub(e="auto"){return Xt(e)?!1:typeof e=="boolean"?e:yr(e,"labelArrow",["auto","up","right","down","left"])}function EI(e){return Pm(e)||e.interval!=null}function N7(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function zI(e,{opacity:t,...n}={}){if(!Ms(e)&&!wy(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return fb(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",sn(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function DI(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(f=>(f=e.hint)==null?void 0:f.stroke)()!==void 0?e.hint.stroke:Xt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...o}={},l){const[c,h]=Kr(t),[d,p]=Kr(r),y=N7(l,c),b=N7(l,d),x=s*s*Math.PI;return n=sn(n)[1],i=sn(i)[1],a=sn(a)[1],fb(e,o,($,E,T,A)=>$.append("svg").attr("viewBox","-8 -8 16 16").attr("width",T).attr("height",A).attr("fill",c==="color"?D=>y.scale(D):h).attr("fill-opacity",n).attr("stroke",d==="color"?D=>b.scale(D):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",D=>{const z=V4();return e.scale(D).draw(z,x),z}))}function fb(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=$y(e),swatchSize:s=15,swatchWidth:o=s,swatchHeight:l=s,marginLeft:u=0,className:f,style:c,width:h}=t;const d=qm(t);f=Im(f),typeof i!="function"&&(i=Of(e.scale,e.domain,void 0,i));const p=Vt("div",d).attr("class",`${f}-swatches ${f}-swatches-${r!=null?"columns":"wrap"}`);let y;return r!=null?(y=`.${f}-swatches-columns .${f}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${f}-swatches-columns .${f}-swatch::before {
  flex-shrink: 0;
}
.${f}-swatches-columns .${f}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(n,e,o,l).call(b=>b.append("div").attr("class",`${f}-swatch-label`).attr("title",i).text(i))):(y=`.${f}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${f}-swatches-wrap .${f}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(n,e,o,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`.${f}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${f}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${y}`)).style("margin-left",u?`${+u}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",vt(a,"normal")).call(Nm,c).node()}const Md=new Map([["symbol",DI],["color",hb],["opacity",II]]);function _I(e,t,n={}){return(r,i)=>{if(!Md.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Md.get(r)(e[r],cb(t,n[r],i),a=>e[a])}}function cb({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return Iz(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function hb(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return zI(e,n);case"ramp":return q_(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function II({type:e,interpolate:t,...n},{legend:r=!0,color:i=A0(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return hb({type:e,...n,interpolate:NI(i)},{legend:r,...a})}function NI(e){const{r:t,g:n,b:r}=A0(e)||A0(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function qI(e,t,n){const r=[];for(const[i,a]of Md){const s=n[i];if(s!=null&&s.legend&&i in e){const o=a(e[i],cb(t,e[i],s),l=>e[l]);o!=null&&r.push(o)}}return r}const BI={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},FI={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class LI extends Gn{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:o=r,rx:l,ry:u}=t;super(Q1,void 0,t,n==null?BI:FI),this.anchor=$m(n,"anchor",["top","right","bottom","left"]),this.insetTop=tt(i),this.insetRight=tt(a),this.insetBottom=tt(s),this.insetLeft=tt(o),this.rx=tt(l),this.ry=tt(u)}render(t,n,r,i,a){const{marginTop:s,marginRight:o,marginBottom:l,marginLeft:u,width:f,height:c}=i,{anchor:h,insetTop:d,insetRight:p,insetBottom:y,insetLeft:b,rx:x,ry:$}=this,E=u+b,T=f-o-p,A=s+d,D=c-l-y;return Vt(h?"svg:line":"svg:rect",a).datum(0).call(_0,this,i,a).call(I0,this).call(xs,this,r).call(r0,this,{}).call(h==="left"?z=>z.attr("x1",E).attr("x2",E).attr("y1",A).attr("y2",D):h==="right"?z=>z.attr("x1",T).attr("x2",T).attr("y1",A).attr("y2",D):h==="top"?z=>z.attr("x1",E).attr("x2",T).attr("y1",A).attr("y2",A):h==="bottom"?z=>z.attr("x1",E).attr("x2",T).attr("y1",D).attr("y2",D):z=>z.attr("x",E).attr("y",A).attr("width",T-E).attr("height",D-A).attr("rx",x).attr("ry",$)).node()}}function RI(e){return new LI(e)}const p4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},PI=new Set(["geometry","href","src","ariaLabel"]);class OI extends Gn{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&t0(t)&&Pv(t)&&(n={...n,title:Bt});const{x:r,y:i,x1:a,x2:s,y1:o,y2:l,anchor:u,monospace:f,fontFamily:c=f?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:d,fontVariant:p,fontWeight:y,lineHeight:b=1,lineWidth:x=20,frameAnchor:$,textAnchor:E="start",textOverflow:T,textPadding:A=8,title:D,pointerSize:z=12,pathFilter:j="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&l!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:o,scale:"y",optional:l==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:o==null},title:{value:D,optional:!0}},n,p4),this.anchor=Ov(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=Em($),this.textAnchor=vt(E,"middle"),this.textPadding=+A,this.pointerSize=+z,this.pathFilter=Pt(j),this.lineHeight=+b,this.lineWidth=+x,this.textOverflow=Ry(T),this.monospace=!!f,this.fontFamily=Pt(c),this.fontSize=tt(h),this.fontStyle=Pt(d),this.fontVariant=Pt(p),this.fontWeight=Pt(y);for(const O in p4)O in this.channels&&(this[O]=p4[O]);this.splitLines=Oy(this),this.clipLine=Hy(this)}render(t,n,r,i,a){const s=this,{x:o,y:l,fx:u,fy:f}=n,{ownerSVGElement:c,document:h}=a,{anchor:d,monospace:p,lineHeight:y,lineWidth:b}=this,{textPadding:x,pointerSize:$,pathFilter:E}=this,{marginTop:T,marginLeft:A}=i,D=WI(r),{x1:z,y1:j,x2:O,y2:M,x:C=z??O,y:B=j??M}=r,L=u?u(t.fx)-A:0,X=f?f(t.fy)-T:0,[H,Q]=Ac(this,i),oe=Sy(r,H),re=ky(r,Q),de=p?Ym:Wm,K=de(Ks),ne=u&&Of(u),te=f&&Of(f);function*F(le,ce){if("title"in le){const Z=le.title.value[ce];for(const pe of s.splitLines(S0(Z)))yield{name:"",value:s.clipLine(pe)};return}for(const Z in le){if(Z==="x1"&&"x2"in le||Z==="y1"&&"y2"in le)continue;const pe=le[Z],Ae=pe.value[ce];if(!(!ps(Ae)&&pe.scale==null))if(Z==="x2"&&"x1"in le)yield{name:B7(n,le.x1,pe,"x"),value:q7(le.x1,pe,ce)};else if(Z==="y2"&&"y1"in le)yield{name:B7(n,le.y1,pe,"y"),value:q7(le.y1,pe,ce)};else{const W=pe.scale,$e={name:Sd(n,pe,Z),value:S0(Ae)};(W==="color"||W==="opacity")&&($e[W]=r[Z][ce]),yield $e}}t.fi!=null&&u&&(yield{name:String(u.label??"fx"),value:ne(t.fx)}),t.fi!=null&&f&&(yield{name:String(f.label??"fy"),value:te(t.fy)})}const se=Vt("svg:g",a).call(_0,this,i,a).call(Py,this).call(r0,this,{x:C&&o,y:B&&l}).call(le=>le.selectAll().data(t).enter().append("g").attr("transform",ce=>`translate(${Math.round(oe(ce))},${Math.round(re(ce))})`).call(I0,this).call(ce=>ce.append("path").attr("filter",E)).call(ce=>ce.append("text").each(function(Z){const pe=Uo(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Ae=new Set;for(const W of F(D,Z)){const $e=W.name;$e&&Ae.has($e)||(Ae.add($e),ye(pe,W))}})));function ye(le,{name:ce,value:Z,color:pe,opacity:Ae}){const W=pe!=null||Ae!=null;let $e,ze=b*100;const[qe]=co(ce,ze,de,K);if(qe>=0)ce=ce.slice(0,qe).trimEnd()+Ks,$e=Z.trim(),Z="";else{(ce||!Z&&!W)&&(Z=" "+Z);const[Ze]=co(Z,ze-de(ce),de,K);Ze>=0&&(Z=Z.slice(0,Ze).trimEnd()+Ks,$e=Z.trim())}const Ne=le.append("tspan").attr("x",0).attr("dy",`${y}em`).text("​");ce&&Ne.append("tspan").attr("font-weight","bold").text(ce),Z&&Ne.append(()=>h.createTextNode(Z)),W&&Ne.append("tspan").text(" ■").attr("fill",pe).attr("fill-opacity",Ae).style("user-select","none"),$e&&Ne.append("title").text($e)}function Ce(){const{width:le,height:ce}=i.facet??i;se.selectChildren().each(function(Z){let{x:pe,width:Ae,height:W}=this.getBBox();Ae=Math.round(Ae),W=Math.round(W);let $e=d;if($e===void 0){$e=s.previousAnchor;const Ne=oe(Z)+L,Ze=re(Z)+X,ot=Ne+Ae+x*2<le,lt=Ne-Ae-x*2>0,Xn=Ze+W+$+x*2+7<ce,Ut=Ze-W-$-x*2>0,Ct=(/-left$/.test($e)?ot||!lt:ot&&!lt)?"left":"right",Ss=(/^top-/.test($e)?Xn||!Ut:Xn&&!Ut)?"top":"bottom";$e=s.previousAnchor=`${Ss}-${Ct}`}const ze=this.firstChild,qe=this.lastChild;if(ze.setAttribute("d",jI($e,$,x,Ae,W)),pe)for(const Ne of qe.childNodes)Ne.setAttribute("x",-pe);qe.setAttribute("y",`${+VI($e,qe.childNodes.length,y).toFixed(6)}em`),qe.setAttribute("transform",`translate(${UI($e,$,x,Ae,W)})`)})}return c.isConnected?Promise.resolve().then(Ce):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Ce),se.node()}}function HI(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Cm(t,n)),new OI(e,{...r,x:t,y:n})}function VI(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function UI(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function jI(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function WI({channels:e}){const t={};for(const n in e){if(PI.has(n))continue;const r=aD(e,n);r&&(t[n]=r)}return t}function q7(e,t,n){var r;return(r=t.hint)!=null&&r.length?`${S0(t.value[n]-e.value[n])}`:`${S0(e.value[n])}–${S0(t.value[n])}`}function B7(e,t,n,r){const i=Sd(e,t,r),a=Sd(e,n,r);return i===a?i:`${i}–${a}`}function Sd(e,t,n){var r;return String(((r=e[t.scale])==null?void 0:r.label)??(t==null?void 0:t.label)??n)}function qc(e={}){var de;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:o}=e,l=Im(e.className),u=e.marks===void 0?[]:L7(e.marks);u.push(...eN(u));const f=KI(t,e),c=new Map;for(const K of u){const ne=R7(K,f,e);ne&&c.set(K,ne)}const h=new Map;f&&Do(h,[f],e),Do(h,c,e);const d=L7(tN(u,h,e));for(const K of d){const ne=R7(K,f,e);ne&&c.set(K,ne)}u.unshift(...d);let p=y_(h,e);if(p!==void 0){const K=f?d4(p,f):void 0;for(const te of u){if(te.facet===null||te.facet==="super")continue;const F=c.get(te);F!==void 0&&(F.facetsIndex=te.fx!=null||te.fy!=null?d4(p,F):K)}const ne=new Set;for(const{facetsIndex:te}of c.values())te==null||te.forEach((F,se)=>{(F==null?void 0:F.length)>0&&ne.add(se)});p.forEach(0<ne.size&&ne.size<p.length?(te,F)=>te.empty=!ne.has(F):te=>te.empty=!1);for(const te of u)if(te.facet==="exclude"){const F=c.get(te);F!==void 0&&(F.facetsIndex=x_(F.facetsIndex))}}for(const K of ct.keys())gd(e[K])&&K!=="fx"&&K!=="fy"&&h.set(K,[]);const y=new Map;for(const K of u){if(y.has(K))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:ne,channels:te}=c.get(K)??{},{data:F,facets:se,channels:ye}=K.initialize(ne,te,e);Gm(ye,e),y.set(K,{data:F,facets:se,channels:ye})}const b=bd(Do(h,y,e),e),x=x7(b),$=g_(b,u,e);o_(b,$);const{fx:E,fy:T}=x,A=E||T?vy(b,$):$,D=E||T?lN(x,$):$,z=qm(e),j=z.document,O=Kf("svg").call(j.documentElement);let M=O;z.ownerSVGElement=O,z.className=l,z.projection=wD(e,A),z.filterFacets=(K,ne)=>d4(p,{channels:ne,groups:Om(K,ne)}),z.getMarkState=K=>{const ne=y.get(K),te=c.get(K);return{...ne,channels:{...ne.channels,...te==null?void 0:te.channels}}},z.dispatchValue=K=>{M.value!==K&&(M.value=K,M.dispatchEvent(new Event("input",{bubbles:!0})))};const C=new Set;for(const[K,ne]of y)if(K.initializer!=null){const te=K.facet==="super"?D:A,F=K.initializer(ne.data,ne.facets,ne.channels,x,te,z);if(F.data!==void 0&&(ne.data=F.data),F.facets!==void 0&&(ne.facets=F.facets),F.channels!==void 0){const{fx:se,fy:ye,...Ce}=F.channels;QI(Ce),Object.assign(ne.channels,Ce);for(const le of Object.values(Ce)){const{scale:ce}=le;ce!=null&&!qz(ct.get(ce))&&(db(le,e),C.add(ce))}(se!=null||ye!=null)&&c.set(K,!0)}}if(C.size){const K=new Map;Do(K,y,e,F=>C.has(F)),Do(h,y,e,F=>C.has(F));const ne=oN(bd(K,e),b),te=x7(ne);Object.assign(b,ne),Object.assign(x,te)}let B,L;p!==void 0&&(B={x:E==null?void 0:E.domain(),y:T==null?void 0:T.domain()},p=b_(p,B),L=w_(E,T,$));for(const[K,ne]of y)ne.values=K.scale(ne.channels,x,z);const{width:X,height:H}=$;Uo(O).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",X).attr("height",H).attr("viewBox",`0 0 ${X} ${H}`).attr("aria-label",s).attr("aria-description",o).call(K=>K.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(Nm,n);for(const K of u){const{channels:ne,values:te,facets:F}=y.get(K);if(p===void 0||K.facet==="super"){let se=null;if(F&&(se=F[0],se=K.filter(se,ne,te),se.length===0))continue;const ye=K.render(se,x,te,D,z);if(ye==null)continue;O.appendChild(ye)}else{let se;for(const ye of p){if(!(((de=K.facetAnchor)==null?void 0:de.call(K,p,B,ye))??!ye.empty))continue;let Ce=null;if(F){const ce=c.has(K);if(Ce=F[ce?ye.i:0],Ce=K.filter(Ce,ne,te),Ce.length===0)continue;!ce&&Ce===F[0]&&(Ce=kz(Ce)),Ce.fx=ye.x,Ce.fy=ye.y,Ce.fi=ye.i}const le=K.render(Ce,x,te,A,z);if(le!=null){(se??(se=Uo(O).append("g"))).append(()=>le).datum(ye);for(const ce of["aria-label","aria-description","aria-hidden","transform"])le.hasAttribute(ce)&&(se.attr(ce,le.getAttribute(ce)),le.removeAttribute(ce))}}se==null||se.selectChildren().attr("transform",L)}}const Q=qI(b,z,e),{figure:oe=r!=null||i!=null||a!=null||Q.length>0}=e;oe&&(M=j.createElement("figure"),M.className=`${l}-figure`,M.style.maxWidth="initial",r!=null&&M.append(F7(j,r,"h2")),i!=null&&M.append(F7(j,i,"h3")),M.append(...Q,O),a!=null&&M.append(YI(j,a))),M.scale=m_(b),M.legend=_I(b,z,e);const re=cD();return re>0&&Uo(O).append("text").attr("x",X).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${re.toLocaleString("en-US")} warning${re===1?"":"s"}. Please check the console.`),M}function F7(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(e.createTextNode(t)),r}function YI(e,t){const n=e.createElement("figcaption");return n.append(t.ownerDocument?t:e.createTextNode(t)),n}function GI({marks:e=[],...t}={}){return qc({...t,marks:[...e,this]})}Gn.prototype.plot=GI;function L7(e){return e.flat(1/0).filter(t=>t!=null).map(XI)}function XI(e){return typeof e.render=="function"?e:new ZI(e)}class ZI extends Gn{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Gm(e,t){for(const n in e)db(e[n],t);return e}function db(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:o=a?l=>l*100:Rv(s,i)}=t[n]??{};o!=null&&(e.value=bt(e.value,o),e.transform=!1)}function QI(e){for(const t in e)Jv(t,e[t])}function Do(e,t,n,r=wz){var i,a;for(const{channels:s}of t.values())for(const o in s){const l=s[o],{scale:u}=l;if(u!=null&&r(u))if(u==="projection"){if(!kD(n)){const f=((i=n.x)==null?void 0:i.domain)===void 0,c=((a=n.y)==null?void 0:a.domain)===void 0;if(f||c){const[h,d]=TD(l);f&&g4(e,"x",h),c&&g4(e,"y",d)}}}else g4(e,u,l)}return e}function g4(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function KI(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=fn(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=pl(i,{value:n,scale:"fx"})),r!=null&&(a.fy=pl(i,{value:r,scale:"fy"})),Gm(a,t);const s=Om(i,a);return{channels:a,groups:s,data:e.data}}function R7(e,t,n){var l;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=fn(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const f={};return r!=null&&(f.fx=pl(u,{value:r,scale:"fx"})),i!=null&&(f.fy=pl(u,{value:i,scale:"fy"})),Gm(f,n),{channels:f,groups:Om(u,f)}}if(t===void 0)return;const{channels:a,groups:s,data:o}=t;if(e.facet!=="auto"||e.data===o)return{channels:a,groups:s};o.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((l=fn(e.data))==null?void 0:l.length)===o.length&&Qs(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function JI(e,t={}){return Rf({...t,x:null,y:null},(n,r,i,a,s,o)=>o.getMarkState(e))}function eN(e){const t=[];for(const n of e){const r=n.tip;if(r){const a=(r==="x"?I_:r==="y"?N_:__)(JI(n));a.title=null,t.push(HI(n.data,a))}}return t}function tN(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:o={},axis:l,grid:u,facet:f={},facet:{axis:c=l,grid:h}=f,x:{axis:d=l,grid:p=d===null?null:u}=i,y:{axis:y=l,grid:b=y===null?null:u}=a,fx:{axis:x=c,grid:$=x===null?null:h}=s,fy:{axis:E=c,grid:T=E===null?null:h}=o}=n;(r||!gd(i)&&!P7("x",e))&&(d=p=null),(r||!gd(a)&&!P7("y",e))&&(y=b=null),t.has("fx")||(x=$=null),t.has("fy")||(E=T=null),d===void 0&&(d=!P1(e,"x")),y===void 0&&(y=!P1(e,"y")),x===void 0&&(x=!P1(e,"fx")),E===void 0&&(E=!P1(e,"fy")),d===!0&&(d="bottom"),y===!0&&(y="left"),x===!0&&(x=d==="top"||d===null?"bottom":"top"),E===!0&&(E=y==="right"||y===null?"left":"right");const A=[];return R1(A,T,xI,o),L1(A,E,mI,"right","left",f,o),R1(A,$,SI,s),L1(A,x,pI,"top","bottom",f,s),R1(A,b,wI,a),L1(A,y,Ky,"left","right",n,a),R1(A,p,MI,i),L1(A,d,Jy,"bottom","top",n,i),A}function L1(e,t,n,r,i,a,s){if(!t)return;const o=nN(t);s=rN(o?r:t,a,s);const{line:l}=s;(n===Ky||n===Jy)&&l&&!ml(l)&&e.push(RI(iN(s))),e.push(n(s)),o&&e.push(n({...s,anchor:i,label:null}))}function R1(e,t,n,r){!t||ml(t)||e.push(n(aN(t,r)))}function nN(e){return/^\s*both\s*$/i.test(e)}function rN(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:c,label:h=t.label,labelAnchor:d,labelArrow:p=t.labelArrow,labelOffset:y}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:c,label:h,labelAnchor:d,labelArrow:p,labelOffset:y}}function iN(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function aN(e,{stroke:t=Sc(e)?e:void 0,ticks:n=sN(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function sN(e){switch(typeof e){case"number":return!0;case"string":return!Sc(e)}return t0(e)||typeof(e==null?void 0:e.range)=="function"}function P1(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function P7(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function oN(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function lN({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=Rm(n),u=e&&O7(e),f=t&&O7(t);return{marginTop:t?f[0]:r,marginRight:e?o-u[1]:i,marginBottom:t?l-f[1]:a,marginLeft:e?u[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:o,height:l}}function O7(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}function uN(e={y:"count"},t={}){[e,t]=cN(e,t);const{x:n,y:r}=t;return fN(hN(n,t,Bt),null,null,r,e,Ic(t))}function fN(e,t,n,r,{data:i=Qv,filter:a=Pf,sort:s,reverse:o,...l}={},u={}){e=H7(e),t=H7(t),l=mN(l,u),i=gb(i,Bt),s=s==null?void 0:mb("sort",s,u),a=a==null?void 0:pb("filter",a,u),n!=null&&N1(l,"x","x1","x2")&&(n=null),r!=null&&N1(l,"y","y1","y2")&&(r=null);const[f,c]=_r(e),[h,d]=_r(e),[p,y]=_r(t),[b,x]=_r(t),[$,E]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[T,A]=_r($),{x:D,y:z,z:j,fill:O,stroke:M,x1:C,x2:B,y1:L,y2:X,domain:H,cumulative:Q,thresholds:oe,interval:re,...de}=u,[K,ne]=_r(j),[te]=Kr(O),[F]=Kr(M),[se,ye]=_r(te),[Ce,le]=_r(F);return{..."z"in u&&{z:K||j},..."fill"in u&&{fill:se||O},..."stroke"in u&&{stroke:Ce||M},...Dm(de,(ce,Z,pe)=>{const Ae=Lv($t(ce,$),pe==null?void 0:pe[E]),W=$t(ce,j),$e=$t(ce,te),ze=$t(ce,F),qe=jz(l,{z:W,fill:$e,stroke:ze}),Ne=[],Ze=[],ot=Ae&&A([]),lt=W&&ne([]),Xn=$e&&ye([]),Ut=ze&&le([]),Ct=e&&c([]),Ss=e&&d([]),B0=t&&y([]),br=t&&x([]),Il=yN(e==null?void 0:e(ce),t==null?void 0:t(ce));let ks=0;for(const Ft of l)Ft.initialize(ce);s&&s.initialize(ce),a&&a.initialize(ce);for(const Ft of Z){const xo=[];for(const Zn of l)Zn.scope("facet",Ft);s&&s.scope("facet",Ft),a&&a.scope("facet",Ft);for(const[Zn,Et]of u7(Ft,qe))for(const[Mo,wr]of u7(Et,Ae))for(const[Dn,Lt]of Il(wr))if(!(a&&!a.reduce(Dn,Lt))){xo.push(ks++),Ze.push(i.reduceIndex(Dn,ce,Lt)),Ae&&ot.push(Mo),W&&lt.push(qe===W?Zn:W[Dn[0]]),$e&&Xn.push(qe===$e?Zn:$e[Dn[0]]),ze&&Ut.push(qe===ze?Zn:ze[Dn[0]]),Ct&&(Ct.push(Lt.x1),Ss.push(Lt.x2)),B0&&(B0.push(Lt.y1),br.push(Lt.y2));for(const Nl of l)Nl.reduce(Dn,Lt);s&&s.reduce(Dn)}Ne.push(xo)}return Wz(Ne,s,o),{data:Ze,facets:Ne}}),...!N1(l,"x")&&(f?{x1:f,x2:h,x:Lf(f,h)}:{x:D,x1:C,x2:B}),...!N1(l,"y")&&(p?{y1:p,y2:b,y:Lf(p,b)}:{y:z,y1:L,y2:X}),...T&&{[E]:T},...Object.fromEntries(l.map(({name:ce,output:Z})=>[ce,Z]))}}function cN({cumulative:e,domain:t,thresholds:n,interval:r,...i},a){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...a}]}function hN(e,{cumulative:t,domain:n,thresholds:r,interval:i},a){return e={...zl(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=a),e.thresholds=dN(e.thresholds,e.interval),e}function H7(e){if(e==null)return;const{value:t,cumulative:n,domain:r=On,thresholds:i}=e,a=s=>{let o=$t(s,t),l;if(Wn(o)||gN(i)){o=bt(o,_v,Float64Array);let[f,c]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!Oo(i)?i(o,f,c):i;typeof h=="number"&&(h=j9(f,c,h)),Oo(h)&&(r===On&&(f=h.floor(f),c=h.offset(h.floor(c))),h=h.range(f,h.offset(c))),l=h}else{o=Bf(o);let[f,c]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!Oo(i)?i(o,f,c):i;if(typeof h=="number")if(r===On){let d=of(f,c,h);if(isFinite(d))if(d>0){let p=Math.round(f/d),y=Math.round(c/d);p*d<=f||--p,y*d>c||++y;let b=y-p+1;h=new Float64Array(b);for(let x=0;x<b;++x)h[x]=(p+x)*d}else if(d<0){d=-d;let p=Math.round(f*d),y=Math.round(c*d);p/d<=f||--p,y/d>c||++y;let b=y-p+1;h=new Float64Array(b);for(let x=0;x<b;++x)h[x]=(p+x)/d}else h=[f];else h=[f]}else h=nl(f,c,h);else Oo(h)&&(r===On&&(f=h.floor(f),c=h.offset(h.floor(c))),h=h.range(f,h.offset(c)));l=h}const u=[];if(l.length===1)u.push([l[0],l[0]]);else for(let f=1;f<l.length;++f)u.push([l[f-1],l[f]]);return u.bin=(n<0?wN:n>0?bN:Xm)(u,l,o),u};return a.label=ws(t),a}function dN(e,t,n=V7){if(e===void 0)return t===void 0?n:yo(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return dM;case"scott":return i8;case"sturges":return uM;case"auto":return V7}return zv(e)}return e}function mN(e,t){return Hz(e,t,mb)}function mb(e,t,n){return Xv(e,t,n,pb)}function pb(e,t,n){return Zv(e,t,n,gb)}function gb(e,t){return _m(e,t,pN)}function pN(e){switch(`${e}`.toLowerCase()){case"x":return xN;case"x1":return SN;case"x2":return kN;case"y":return MN;case"y1":return $N;case"y2":return TN}throw new Error(`invalid bin reduce: ${e}`)}function V7(e,t,n){return Math.min(200,i8(e,t,n))}function gN(e){return vN(e)||t0(e)&&Wn(e)}function vN(e){return Oo(e)&&typeof e=="function"&&e()instanceof Date}function Oo(e){return typeof(e==null?void 0:e.range)=="function"}function yN(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries()){const o=t.bin(r[i]);for(const[l,[u,f]]of t.entries())yield[o[l],{x1:a,y1:u,x2:s,y2:f}]}}:e?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries())yield[r[i],{x1:a,x2:s}]}:function*(n){const r=t.bin(n);for(const[i,[a,s]]of t.entries())yield[r[i],{y1:a,y2:s}]}}function Xm(e,t,n){return t=Bf(t),r=>{var a;const i=e.map(()=>[]);for(const s of r)(a=i[Zf(t,n[s])-1])==null||a.push(s);return i}}function bN(e,t,n){const r=Xm(e,t,n);return i=>{const a=r(i);for(let s=1,o=a.length;s<o;++s){const l=a[s-1],u=a[s];for(const f of l)u.push(f)}return a}}function wN(e,t,n){const r=Xm(e,t,n);return i=>{const a=r(i);for(let s=a.length-2;s>=0;--s){const o=a[s+1],l=a[s];for(const u of o)l.push(u)}return a}}function vb(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const xN={reduceIndex(e,t,{x1:n,x2:r}){return vb(n,r)}},MN={reduceIndex(e,t,{y1:n,y2:r}){return vb(n,r)}},SN={reduceIndex(e,t,{x1:n}){return n}},kN={reduceIndex(e,t,{x2:n}){return n}},$N={reduceIndex(e,t,{y1:n}){return n}},TN={reduceIndex(e,t,{y2:n}){return n}};function CN(e={}){return Iv(e)?e:{...e,x:Bt}}function AN(e={}){return Nv(e)?e:{...e,y:Bt}}function EN(e={},t={}){arguments.length===1&&([e,t]=yb(e));const{y1:n,y:r=n,x:i,...a}=t,[s,o,l,u]=bb(r,i,"y","x",e,a);return{...s,y1:n,y:o,x1:l,x2:u,x:Lf(l,u)}}function zN(e={},t={}){arguments.length===1&&([e,t]=yb(e));const{x1:n,x:r=n,y:i,...a}=t,[s,o,l,u]=bb(r,i,"x","y",e,a);return{...s,x1:n,x:o,y1:l,y2:u,y:Lf(l,u)}}function DN({x:e,x1:t,x2:n,...r}={}){return r=_c(r,"y"),t===void 0&&n===void 0?EN({x:e,...r}):([t,n]=Bv(e,t,n),{...r,x1:t,x2:n})}function _N({y:e,y1:t,y2:n,...r}={}){return r=_c(r,"x"),t===void 0&&n===void 0?zN({y:e,...r}):([t,n]=Bv(e,t,n),{...r,y1:t,y2:n})}function yb(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const IN={length:!0};function bb(e,t=bz,n,r,{offset:i,order:a,reverse:s},o){if(t===null)throw new Error(`stack requires ${r}`);const l=Sz(o),[u,f]=_r(e),[c,h]=Ff(t),[d,p]=Ff(t);return c.hint=d.hint=IN,i=NN(i),a=FN(a,i,r),[Dm(o,(y,b,x)=>{const $=e==null?void 0:f(Lv($t(y,e),x==null?void 0:x[n])),E=$t(y,t,Float64Array),T=$t(y,l),A=a&&a(y,$,E,T),D=y.length,z=h(new Float64Array(D)),j=p(new Float64Array(D)),O=[];for(const M of b){const C=$?Array.from(Yd(M,B=>$[B]).values()):[M];if(A)for(const B of C)B.sort(A);for(const B of C){let L=0,X=0;s&&B.reverse();for(const H of B){const Q=E[H];Q<0?L=j[H]=(z[H]=L)+Q:Q>0?X=j[H]=(z[H]=X)+Q:j[H]=z[H]=X}}O.push(C)}return i&&i(O,z,j,T),{data:y,facets:b}}),u,c,d]}function NN(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return qN;case"center":case"silhouette":return BN;case"wiggle":return xb}throw new Error(`unknown offset: ${e}`)}}function wb(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function qN(e,t,n){for(const r of e)for(const i of r){const[a,s]=wb(i,n);for(const o of i){const l=1/(s-a||1);t[o]=l*(t[o]-a),n[o]=l*(n[o]-a)}}}function BN(e,t,n){for(const r of e){for(const i of r){const[a,s]=wb(i,n);for(const o of i){const l=(s+a)/2;t[o]-=l,n[o]-=l}}Mb(r,t,n)}Sb(e,t,n)}function xb(e,t,n,r){for(const i of e){const a=new ls;let s=0;for(const o of i){let l=-1;const u=o.map(d=>Math.abs(n[d]-t[d])),f=o.map(d=>{l=r?r[d]:++l;const p=n[d]-t[d],y=a.has(l)?p-a.get(l):0;return a.set(l,p),y}),c=[0,...rM(f)];for(const d of o)t[d]+=s,n[d]+=s;const h=C0(u);h&&(s-=C0(u,(d,p)=>(f[p]/2+c[p])*d)/h)}Mb(i,t,n)}Sb(e,t,n)}function Mb(e,t,n){const r=Yr(e,i=>Yr(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Sb(e,t,n){const r=e.length;if(r===1)return;const i=e.map(o=>o.flat()),a=i.map(o=>(Yr(o,l=>t[l])+cr(o,l=>n[l]))/2),s=Yr(a);for(let o=0;o<r;o++){const l=s-a[o];for(const u of i[o])t[u]+=l,n[u]+=l}}function FN(e,t,n){if(e===void 0&&t===xb)return U7(jn);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?qf:jn;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return LN(i);case"z":return RN(i);case"sum":return PN(i);case"appearance":return ON(i);case"inside-out":return U7(i)}return j7(Dv(e))}if(typeof e=="function")return(e.length===1?j7:HN)(e);if(Array.isArray(e))return VN(e);throw new Error(`invalid order: ${e}`)}}function LN(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function RN(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function PN(e){return Bc(e,(t,n,r,i)=>Xd(e0(t),a=>C0(a,s=>r[s]),a=>i[a]))}function ON(e){return Bc(e,(t,n,r,i)=>Xd(e0(t),a=>n[r8(a,s=>r[s])],a=>i[a]))}function U7(e){return Bc(e,(t,n,r,i)=>{const a=e0(t),s=Xd(a,c=>n[r8(c,h=>r[h])],c=>i[c]),o=Gs(a,c=>C0(c,h=>r[h]),c=>i[c]),l=[],u=[];let f=0;for(const c of s)f<0?(f+=o.get(c),l.push(c)):(f-=o.get(c),u.push(c));return u.reverse().concat(l)})}function j7(e){return t=>{const n=$t(t,e);return(r,i)=>jn(n[r],n[i])}}function HN(e){return t=>(n,r)=>e(t[n],t[r])}function VN(e){return Bc(jn,()=>e)}function Bc(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new ls(t(n,r,i,a).map((o,l)=>[o,l]));return(o,l)=>e(s.get(a[o]),s.get(a[l]))}}class kb extends Gn{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:o=a,insetBottom:l=a,insetLeft:u=a,rx:f,ry:c}=r;this.insetTop=tt(s),this.insetRight=tt(o),this.insetBottom=tt(l),this.insetLeft=tt(u),this.rx=vt(f,"auto"),this.ry=vt(c,"auto")}render(t,n,r,i,a){const{rx:s,ry:o}=this;return Vt("svg:g",a).call(_0,this,i,a).call(this._transform,this,n).call(l=>l.selectAll().data(t).enter().append("rect").call(I0,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(We,"rx",s).call(We,"ry",o).call(xs,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}}const UN={ariaLabel:"bar"};class jN extends kb{constructor(t,n={}){const{x1:r,x2:i,y:a}=n;super(t,{x1:{value:r,scale:"x"},x2:{value:i,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,UN)}_transform(t,n,{x:r}){t.call(r0,n,{x:r},0,0)}_x({x:t},{x1:n,x2:r},{marginLeft:i}){const{insetLeft:a}=this;return or(t)?i+a:s=>Math.min(n[s],r[s])+a}_width({x:t},{x1:n,x2:r},{marginRight:i,marginLeft:a,width:s}){const{insetLeft:o,insetRight:l}=this;return or(t)?s-i-a-o-l:u=>Math.max(0,Math.abs(r[u]-n[u])-o-l)}}function WN(e,t={}){return qv(t)||(t={...t,y:Mm,x2:Bt}),new jN(e,DN(Iy(CN(t))))}const YN={ariaLabel:"cell"};class GN extends kb{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,YN)}_transform(t,n){t.call(r0,n,{},0,0)}}function XN(e,{x:t,y:n,...r}={}){return[t,n]=Cm(t,n),new GN(e,{...r,x:t,y:n})}const ZN={ariaLabel:"rect"};class QN extends Gn{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:o=0,insetTop:l=o,insetRight:u=o,insetBottom:f=o,insetLeft:c=o,rx:h,ry:d}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,ZN),this.insetTop=tt(l),this.insetRight=tt(u),this.insetBottom=tt(f),this.insetLeft=tt(c),this.rx=vt(h,"auto"),this.ry=vt(d,"auto")}render(t,n,r,i,a){const{x:s,y:o}=n,{x1:l,y1:u,x2:f,y2:c}=r,{marginTop:h,marginRight:d,marginBottom:p,marginLeft:y,width:b,height:x}=i,{projection:$}=a,{insetTop:E,insetRight:T,insetBottom:A,insetLeft:D,rx:z,ry:j}=this;return Vt("svg:g",a).call(_0,this,i,a).call(r0,this,{x:l&&f&&s,y:u&&c&&o},0,0).call(O=>O.selectAll().data(t).enter().append("rect").call(I0,this).attr("x",l&&f&&($||!or(s))?M=>Math.min(l[M],f[M])+D:y+D).attr("y",u&&c&&($||!or(o))?M=>Math.min(u[M],c[M])+E:h+E).attr("width",l&&f&&($||!or(s))?M=>Math.max(0,Math.abs(f[M]-l[M])-D-T):b-d-y-T-D).attr("height",u&&c&&($||!or(o))?M=>Math.max(0,Math.abs(u[M]-c[M])-E-A):x-h-p-E-A).call(We,"rx",z).call(We,"ry",j).call(xs,this,r)).node()}}function KN(e,t={}){return qv(t)||(t={...t,x:Mm,y2:Bt,interval:1}),new QN(e,_N(P_(AN(t))))}function JN(e){let t,n,r;return{c(){t=V("div"),this.h()},l(i){t=U(i,"DIV",{role:!0}),ue(t).forEach(k),this.h()},h(){G(t,"role","img")},m(i,a){N(i,t,a),e[9](t),n||(r=St(t,"mousemove",e[8]),n=!0)},p:Ke,i:Ke,o:Ke,d(i){i&&k(t),e[9](null),n=!1,r()}}}function W7(e,t,n="Original Weights"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function eq(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:f="background: none;"}=t;function c(d){kd.call(this,e,d)}function h(d){Pr[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,f=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:f}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let p=W7(a,o);s&&(p=p.concat(W7(s,o,"Quantized Weights"))),i==null||i.append(qc({padding:0,grid:!0,x:{axis:null,label:"column",inset:30},y:{axis:null,label:"row"},color:{type:"diverging",scheme:"RdBu",legend:!0,style:"background:none;"},marks:[XN(p,{x:"i",y:"j",fx:"label",fill:"weight",inset:.5,tip:!0})],...r,facet:{label:null}}))}},[i,a,s,o,l,u,f,r,c,h]}class tq extends hn{constructor(t){super(),dn(this,t,eq,JN,cn,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function nq(e){let t,n,r;return{c(){t=V("div"),this.h()},l(i){t=U(i,"DIV",{role:!0}),ue(t).forEach(k),this.h()},h(){G(t,"role","img")},m(i,a){N(i,t,a),e[9](t),n||(r=St(t,"mousemove",e[8]),n=!0)},p:Ke,i:Ke,o:Ke,d(i){i&&k(t),e[9](null),n=!1,r()}}}function Y7(e,t,n="Original Weights"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function rq(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:f="background: none;"}=t;function c(d){kd.call(this,e,d)}function h(d){Pr[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,f=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:f}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let p=Y7(a,o);s&&(p=p.concat(Y7(s,o,"Quantized Weights"))),i==null||i.append(qc({facet:{label:null},y:{grid:!0},color:{style:"background:none;",type:"diverging",scheme:"RdBu"},marks:[KN(p,uN({y:"count"},{x:"weight",fx:"label",fill:"weight"})),qy([0])],...r}))}},[i,a,s,o,l,u,f,r,c,h]}class iq extends hn{constructor(t){super(),dn(this,t,rq,nq,cn,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function aq(e){let t,n,r;return{c(){t=V("div"),this.h()},l(i){t=U(i,"DIV",{role:!0}),ue(t).forEach(k),this.h()},h(){G(t,"role","img")},m(i,a){N(i,t,a),e[8](t),n||(r=St(t,"mousemove",e[7]),n=!0)},p:Ke,i:Ke,o:Ke,d(i){i&&k(t),e[8](null),n=!1,r()}}}function sq(e,t,n){let r,i,{data:a=[{error:0,label:"Operator Norm"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function f(h){kd.call(this,e,h)}function c(h){Pr[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&99&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(qc({marginLeft:80,marginRight:50,x:{domain:u},y:{label:null},marks:[WN(d,{y:"label",x:"error",fill:"darkgrey",fillOpacity:.5}),jm(d,{x:"error",y:"label",text:p=>p.error.toFixed(3),textAnchor:"start",dx:5,fontSize:14,fontStyle:"italic"})],...r}))}},[i,a,s,o,l,u,r,f,c]}class oq extends hn{constructor(t){super(),dn(this,t,sq,aq,cn,{data:1,width:2,height:3,style:4,domain:5})}}function lq(e){const t=fq(e),n=BE(t);return uq(n)}function uq(e){const[t,n]=[e.rows,e.columns],r=Xe.$(t*n,[t,n],"f32");for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[r.index2D(i,a)]=e.data[i][a];return r}function fq(e){const[t,n]=e.shape,r=new De(t,n);for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[i][a]=e.value2D(i,a);return r}function v4(e){const t=e.slice(),n=t[3].reconstruct();return t[13]=n,t}function G7(e,t,n){const r=e.slice();return r[14]=t[n],r}function X7(e){let t,n=e[14]+"",r;return{c(){t=V("option"),r=ie(n),this.h()},l(i){t=U(i,"OPTION",{});var a=ue(t);r=ae(a,n),a.forEach(k),this.h()},h(){t.__value=e[14],Vr(t,t.__value)},m(i,a){N(i,t,a),q(t,r)},p:Ke,d(i){i&&k(t)}}}function Z7(e){let t,n,r,i;return t=new tq({props:{data:e[2].data,data2:e[13].data,shape:[Xo,Zo],height:200}}),r=new iq({props:{data:e[2].data,data2:e[13].data,shape:[Xo,Zo],height:200}}),{c(){xe(t.$$.fragment),n=J(),xe(r.$$.fragment)},l(a){Me(t.$$.fragment,a),n=ee(a),Me(r.$$.fragment,a)},m(a,s){Se(t,a,s),N(a,n,s),Se(r,a,s),i=!0},p(a,s){const o={};s&4&&(o.data=a[2].data),s&8&&(o.data2=a[13].data),t.$set(o);const l={};s&4&&(l.data=a[2].data),s&8&&(l.data2=a[13].data),r.$set(l)},i(a){i||(ge(t.$$.fragment,a),ge(r.$$.fragment,a),i=!0)},o(a){be(t.$$.fragment,a),be(r.$$.fragment,a),i=!1},d(a){a&&k(n),ke(t,a),ke(r,a)}}}function cq(e){let t,n,r,i,a,s,o,l,u,f,c,h,d=e[4].toFixed(3)+"",p,y,b,x,$,E=(e[5]*e[4]).toFixed(3)+"",T,A,D,z,j=(O1(e[2])/8).toFixed(1)+"",O,M,C,B,L,X=(O1(e[3],e[1])/8).toFixed(1)+"",H,Q,oe,re,de,K=i5(Object.keys(e[6])),ne=[];for(let F=0;F<K.length;F+=1)ne[F]=X7(G7(e,K,F));let te=e[2]&&Z7(v4(e));return l=new oq({props:{data:[{label:"||W-Q||/||W||",error:e[5]}]}}),c=new Be({props:{text:"||W|| \\ ||W^[-1]||"}}),x=new Be({props:{text:"\\left(||W||| \\ |W^[-1]||\\right)\\left(||W-Q||/||W||\\right)"}}),{c(){t=V("select");for(let F=0;F<ne.length;F+=1)ne[F].c();n=J(),r=V("input"),i=J(),a=ie(e[1]),s=ie(` bits
`),te&&te.c(),o=J(),xe(l.$$.fragment),u=J(),f=V("div"),xe(c.$$.fragment),h=ie(" as condition number = "),p=ie(d),y=J(),b=V("div"),xe(x.$$.fragment),$=ie(` as
	combined error = `),T=ie(E),A=J(),D=V("div"),z=ie("Original Size = "),O=ie(j),M=ie(" bytes"),C=J(),B=V("div"),L=ie("Quantized Size = "),H=ie(X),Q=ie(" bytes"),this.h()},l(F){t=U(F,"SELECT",{});var se=ue(t);for(let Z=0;Z<ne.length;Z+=1)ne[Z].l(se);se.forEach(k),n=ee(F),r=U(F,"INPUT",{type:!0,min:!0,max:!0}),i=ee(F),a=ae(F,e[1]),s=ae(F,` bits
`),te&&te.l(F),o=ee(F),Me(l.$$.fragment,F),u=ee(F),f=U(F,"DIV",{class:!0});var ye=ue(f);Me(c.$$.fragment,ye),h=ae(ye," as condition number = "),p=ae(ye,d),ye.forEach(k),y=ee(F),b=U(F,"DIV",{class:!0});var Ce=ue(b);Me(x.$$.fragment,Ce),$=ae(Ce,` as
	combined error = `),T=ae(Ce,E),Ce.forEach(k),A=ee(F),D=U(F,"DIV",{class:!0});var le=ue(D);z=ae(le,"Original Size = "),O=ae(le,j),M=ae(le," bytes"),le.forEach(k),C=ee(F),B=U(F,"DIV",{class:!0});var ce=ue(B);L=ae(ce,"Quantized Size = "),H=ae(ce,X),Q=ae(ce," bytes"),ce.forEach(k),this.h()},h(){e[0]===void 0&&Cb(()=>e[7].call(t)),G(r,"type","range"),G(r,"min","1"),G(r,"max","8"),G(f,"class","label svelte-93sz7w"),G(b,"class","label svelte-93sz7w"),G(D,"class","label svelte-93sz7w"),G(B,"class","label svelte-93sz7w")},m(F,se){N(F,t,se);for(let ye=0;ye<ne.length;ye+=1)ne[ye]&&ne[ye].m(t,null);r5(t,e[0],!0),N(F,n,se),N(F,r,se),Vr(r,e[1]),N(F,i,se),N(F,a,se),N(F,s,se),te&&te.m(F,se),N(F,o,se),Se(l,F,se),N(F,u,se),N(F,f,se),Se(c,f,null),q(f,h),q(f,p),N(F,y,se),N(F,b,se),Se(x,b,null),q(b,$),q(b,T),N(F,A,se),N(F,D,se),q(D,z),q(D,O),q(D,M),N(F,C,se),N(F,B,se),q(B,L),q(B,H),q(B,Q),oe=!0,re||(de=[St(t,"change",e[7]),St(r,"change",e[8]),St(r,"input",e[8])],re=!0)},p(F,[se]){if(se&64){K=i5(Object.keys(F[6]));let Ce;for(Ce=0;Ce<K.length;Ce+=1){const le=G7(F,K,Ce);ne[Ce]?ne[Ce].p(le,se):(ne[Ce]=X7(le),ne[Ce].c(),ne[Ce].m(t,null))}for(;Ce<ne.length;Ce+=1)ne[Ce].d(1);ne.length=K.length}se&65&&r5(t,F[0]),se&2&&Vr(r,F[1]),(!oe||se&2)&&an(a,F[1]),F[2]?te?(te.p(v4(F),se),se&4&&ge(te,1)):(te=Z7(v4(F)),te.c(),ge(te,1),te.m(o.parentNode,o)):te&&(K7(),be(te,1,1,()=>{te=null}),J7());const ye={};se&32&&(ye.data=[{label:"||W-Q||/||W||",error:F[5]}]),l.$set(ye),(!oe||se&16)&&d!==(d=F[4].toFixed(3)+"")&&an(p,d),(!oe||se&48)&&E!==(E=(F[5]*F[4]).toFixed(3)+"")&&an(T,E),(!oe||se&4)&&j!==(j=(O1(F[2])/8).toFixed(1)+"")&&an(O,j),(!oe||se&10)&&X!==(X=(O1(F[3],F[1])/8).toFixed(1)+"")&&an(H,X)},i(F){oe||(ge(te),ge(l.$$.fragment,F),ge(c.$$.fragment,F),ge(x.$$.fragment,F),oe=!0)},o(F){be(te),be(l.$$.fragment,F),be(c.$$.fragment,F),be(x.$$.fragment,F),oe=!1},d(F){F&&(k(t),k(n),k(r),k(i),k(a),k(s),k(o),k(u),k(f),k(y),k(b),k(A),k(D),k(C),k(B)),Ab(ne,F),te&&te.d(F),ke(l,F),ke(c),ke(x),re=!1,vl(de)}}}const Xo=20,Zo=20;function Hf(e){let t=-1/0;for(let n=0;n<e.shape[1];n++)for(let r=0;r<e.shape[0];r++){const i=Math.abs(e.value2D(r,n));i>t&&(t=i)}return t}function hq(e,t){return Hf(e.sub(t,!0))/Hf(e)}function dq(e){const t=e.dtype==="f32"?32:8;return e.shape[0]*e.shape[1]*t}function O1(e,t=-1){const n=dq(e);if(t===-1)return n;{const r=2**t;return n+r*8}}function mq(e,t,n){let r,i,a,s;const o={uniform:Xe.randu([Xo,Zo],-2,2),normal:Xe.randn([Xo,Zo],0,1),outlier:h(Xe.randn([Xo,Zo],0,1),25,1)};let l="normal",u=1;const f={};function c(b,x,$){const E=`${b}-${$}`;return E in f||(f[E]=iz(x,$)),f[E]}function h(b,x=10,$=1){for(let E=0;E<$;E++){const T=_6(b.shape[0]-1)(),A=_6(b.shape[1]-1)();b.data[b.index2D(T,A)]=x}return b}function d(b){return Hf(b)*Hf(lq(b))}function p(){l=Eb(this),n(0,l),n(6,o)}function y(){u=Vf(this.value),n(1,u)}return e.$$.update=()=>{e.$$.dirty&1&&n(2,r=o[l]),e.$$.dirty&7&&n(3,i=c(l,r,u)),e.$$.dirty&12&&n(5,a=hq(r,i)),e.$$.dirty&4&&n(4,s=d(r))},[l,u,r,i,s,a,o,p,y]}class pq extends hn{constructor(t){super(),dn(this,t,mq,cq,cn,{})}}class ns{constructor(t,n){this.weight=Xe.$(t*n,[n,t]),this.bias=Xe.$(n,[n,1])}forward(t){return t.matmul(this.weight.T).add(this.bias.T)}}class H1{forward(t){return t.relu()}}class gq{forward(t){return t.sigmoid()}}class vq{constructor(...t){this.layers=t}forward(t){for(const n of this.layers)t=n.forward(t);return t}splitStateKey(t){const n=t.split(".");let r,i,a;return n.length===3?(r=+n[1],i=n[2]):n.length===4&&(r=+n[1],i=n[2],a=n[3],a==="weights"&&(a=void 0)),[r,i,a]}load(t,n,r=256){const[i,a,s]=this.splitStateKey(t),o=this.layers[+i];if(s){if(a==="weight"){if(s==="codebook")o.weight.codebook=Xe.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.weight.codebook;o.weight=Xe.$(n,[o.weight.shape[0],o.weight.shape[1]],"u8"),o.weight.codebook=l}}else if(a==="bias"){if(s==="codebook")o.bias.codebook=Xe.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.bias.codebook;o.bias=Xe.$(n,[o.bias.shape[0],o.bias.shape[1]],"u8"),o.bias.codebook=l}}}else a==="weight"?o.weight.data=new Float32Array(n):a==="bias"&&(o.bias.data=new Float32Array(n))}loadStateDict(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,a]=n[r];this.load(i,a.data)}return this}get bytes(){let t=0;for(const n of this.layers)n instanceof ns&&(t+=n.weight.bytes+n.bias.bytes);return t}MB(){return this.bytes/1024**2}}function yq(e){let t,n,r,i,a,s;return{c(){t=Fn("svg"),n=Fn("path"),r=Fn("defs"),i=Fn("linearGradient"),a=Fn("stop"),s=Fn("stop"),this.h()},l(o){t=Ln(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=ue(t);n=Ln(l,"path",{d:!0,stroke:!0,"stroke-width":!0}),ue(n).forEach(k),r=Ln(l,"defs",{});var u=ue(r);i=Ln(u,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var f=ue(i);a=Ln(f,"stop",{"stop-color":!0}),ue(a).forEach(k),s=Ln(f,"stop",{offset:!0,"stop-color":!0}),ue(s).forEach(k),f.forEach(k),u.forEach(k),l.forEach(k),this.h()},h(){G(n,"d","M511 323.648V10.3519C511 7.18199 507.489 5.27159 504.827 6.99341L10.1727 327.007C7.51126 328.728 4 326.818 4 323.648V10.3519C4 7.18199 7.51127 5.27159 10.1727 6.99341L504.827 327.007C507.489 328.728 511 326.818 511 323.648Z"),G(n,"stroke","url(#paint0_linear_19_2)"),G(n,"stroke-width","7"),G(a,"stop-color","#4682B4"),G(s,"offset","1"),G(s,"stop-color","#FA8171"),G(i,"id","paint0_linear_19_2"),G(i,"x1","4"),G(i,"y1","131.5"),G(i,"x2","511"),G(i,"y2","134.5"),G(i,"gradientUnits","userSpaceOnUse"),G(t,"width",e[0]),G(t,"height",e[1]),G(t,"viewBox","0 0 515 336"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg")},m(o,l){N(o,t,l),q(t,n),q(t,r),q(r,i),q(i,a),q(i,s)},p(o,[l]){l&1&&G(t,"width",o[0]),l&2&&G(t,"height",o[1])},i:Ke,o:Ke,d(o){o&&k(t)}}}function bq(e,t,n){let{width:r=250}=t,{height:i=170}=t;return e.$$set=a=>{"width"in a&&n(0,r=a.width),"height"in a&&n(1,i=a.height)},[r,i]}class wq extends hn{constructor(t){super(),dn(this,t,bq,yq,cn,{width:0,height:1})}}function xq(e){let t,n,r,i,a,s,o,l,u,f,c="Input | You drag to draw!",h,d,p,y,b,x="Clear Canvas",$,E,T,A="Autoencoder",D,z,j,O,M,C="Output",B,L,X,H,Q,oe,re,de,K=(e[6]/1048576).toFixed(3)+"",ne,te,F,se,ye,Ce=(e[7]/1024**2).toFixed(3)+"",le,ce,Z,pe,Ae;return z=new wq({props:{color:"steelblue"}}),{c(){t=V("div"),n=V("input"),r=J(),i=V("span"),a=ie(e[1]),s=ie(" bits"),o=J(),l=V("div"),u=V("div"),f=V("div"),f.textContent=c,h=J(),d=V("div"),p=V("canvas"),y=J(),b=V("button"),b.textContent=x,$=J(),E=V("div"),T=V("div"),T.textContent=A,D=J(),xe(z.$$.fragment),j=J(),O=V("div"),M=V("div"),M.textContent=C,B=J(),L=V("div"),X=V("canvas"),H=J(),Q=V("br"),oe=J(),re=V("div"),de=ie("Original: "),ne=ie(K),te=ie(" mega bytes"),F=J(),se=V("div"),ye=ie("Quantized: "),le=ie(Ce),ce=ie(" mega bytes"),this.h()},l(W){t=U(W,"DIV",{class:!0});var $e=ue(t);n=U($e,"INPUT",{type:!0,min:!0,max:!0}),r=ee($e),i=U($e,"SPAN",{class:!0});var ze=ue(i);a=ae(ze,e[1]),s=ae(ze," bits"),ze.forEach(k),$e.forEach(k),o=ee(W),l=U(W,"DIV",{class:!0});var qe=ue(l);u=U(qe,"DIV",{});var Ne=ue(u);f=U(Ne,"DIV",{class:!0,"data-svelte-h":!0}),we(f)!=="svelte-14bwmx0"&&(f.textContent=c),h=ee(Ne),d=U(Ne,"DIV",{});var Ze=ue(d);p=U(Ze,"CANVAS",{class:!0,width:!0,height:!0}),ue(p).forEach(k),Ze.forEach(k),y=ee(Ne),b=U(Ne,"BUTTON",{"data-svelte-h":!0}),we(b)!=="svelte-1ts6e04"&&(b.textContent=x),Ne.forEach(k),$=ee(qe),E=U(qe,"DIV",{});var ot=ue(E);T=U(ot,"DIV",{class:!0,"data-svelte-h":!0}),we(T)!=="svelte-1dyqkas"&&(T.textContent=A),D=ee(ot),Me(z.$$.fragment,ot),ot.forEach(k),j=ee(qe),O=U(qe,"DIV",{});var lt=ue(O);M=U(lt,"DIV",{class:!0,"data-svelte-h":!0}),we(M)!=="svelte-w6dby0"&&(M.textContent=C),B=ee(lt),L=U(lt,"DIV",{});var Xn=ue(L);X=U(Xn,"CANVAS",{width:!0,height:!0,class:!0}),ue(X).forEach(k),Xn.forEach(k),lt.forEach(k),qe.forEach(k),H=ee(W),Q=U(W,"BR",{}),oe=ee(W),re=U(W,"DIV",{class:!0});var Ut=ue(re);de=ae(Ut,"Original: "),ne=ae(Ut,K),te=ae(Ut," mega bytes"),Ut.forEach(k),F=ee(W),se=U(W,"DIV",{class:!0});var Ct=ue(se);ye=ae(Ct,"Quantized: "),le=ae(Ct,Ce),ce=ae(Ct," mega bytes"),Ct.forEach(k),this.h()},h(){G(n,"type","range"),G(n,"min","0"),G(n,"max",e[13].length-1),G(i,"class","label svelte-axyz63"),G(t,"class","container svelte-axyz63"),G(f,"class","label svelte-axyz63"),G(p,"class","input-canvas svelte-axyz63"),G(p,"width",e[10]),G(p,"height",e[11]),G(T,"class","label svelte-axyz63"),G(M,"class","label svelte-axyz63"),G(X,"width",e[10]),G(X,"height",e[11]),G(X,"class","output-canvas svelte-axyz63"),G(l,"class","container svelte-axyz63"),G(re,"class","label svelte-axyz63"),G(se,"class","label svelte-axyz63")},m(W,$e){N(W,t,$e),q(t,n),Vr(n,e[0]),q(t,r),q(t,i),q(i,a),q(i,s),N(W,o,$e),N(W,l,$e),q(l,u),q(u,f),q(u,h),q(u,d),q(d,p),e[17](p),q(u,y),q(u,b),q(l,$),q(l,E),q(E,T),q(E,D),Se(z,E,null),q(l,j),q(l,O),q(O,M),q(O,B),q(O,L),q(L,X),e[22](X),N(W,H,$e),N(W,Q,$e),N(W,oe,$e),N(W,re,$e),q(re,de),q(re,ne),q(re,te),N(W,F,$e),N(W,se,$e),q(se,ye),q(se,le),q(se,ce),Z=!0,pe||(Ae=[St(n,"change",e[16]),St(n,"input",e[16]),St(p,"mousedown",e[18]),St(p,"mouseup",e[19]),St(p,"mousemove",e[20]),St(b,"click",e[21])],pe=!0)},p(W,[$e]){$e&1&&Vr(n,W[0]),(!Z||$e&2)&&an(a,W[1]),(!Z||$e&64)&&K!==(K=(W[6]/1024**2).toFixed(3)+"")&&an(ne,K),(!Z||$e&128)&&Ce!==(Ce=(W[7]/1024**2).toFixed(3)+"")&&an(le,Ce)},i(W){Z||(ge(z.$$.fragment,W),Z=!0)},o(W){be(z.$$.fragment,W),Z=!1},d(W){W&&(k(t),k(o),k(l),k(H),k(Q),k(oe),k(re),k(F),k(se)),e[17](null),ke(z),e[22](null),pe=!1,vl(Ae)}}}let It=28;async function Mq(e){return(await fetch(e)).json()}function Sq(e,t,n){let r;function i(){return new vq(new ns(It*It,1e3),new H1,new ns(1e3,256),new H1,new ns(256,256),new H1,new ns(256,1e3),new H1,new ns(1e3,It*It),new gq)}function a(re,de=0){let K=0,ne=0;for(let te=0;te<re.layers.length;te++){const F=re.layers[te];if(F instanceof ns){const se=F.weight,ye=2**de*32,Ce=se.shape[0]*se.shape[1]*8;K+=ye+Ce,ne+=se.shape[0]*se.shape[1]*32}}return[ne,K]}async function s(re){const de=D.map(ne=>Mq(`ae/q${ne}.json`));return(await Promise.all(de)).map(ne=>re().loadStateDict(ne))}let o,l,u=!1;Q7(async()=>{o=await s(i),n(14,l=o.at(-1)),n(3,y=p.getContext("2d",{willReadFrequently:!0})),n(3,y.fillStyle="black",y),y.fillRect(0,0,$,E),x=b.getContext("2d"),x.fillStyle="black",x.fillRect(0,0,$,E),n(15,u=!0)});function f(re,de,K){re.fillStyle="white",re.fillRect(de,K,T,T)}function c(re,de,K,ne){const te=Xe.$(It*It,[1,It*It],"f32");for(let F=0;F<It;F++)for(let se=0;se<It;se++){const ye=re.getImageData(F*ne,se*ne,ne,ne).data[0]/255;te.data[se*It+F]=ye}return te}function h(re,de){re.fillStyle="black",re.fillRect(0,0,$,E);for(let K=0;K<It;K++)for(let ne=0;ne<It;ne++){const te=de.data[ne*It+K],F=Gr("hsl(0, 0%, "+te*100+"%)");re.fillStyle=F.toString(),re.fillRect(K*T,ne*T,T,T)}}function d(){const re=c(y,$,E,T),de=l.forward(re);h(x,de)}let p,y,b,x,$=It*6,E=$,T=$/It,A=!1;const D=[1,2,3,4,5,6,7,8];let z=D.length-1;function j(re){n(14,l=o[+re]),d()}let O,M;function C(){z=Vf(this.value),n(0,z)}function B(re){Pr[re?"unshift":"push"](()=>{p=re,n(2,p)})}const L=()=>{n(5,A=!0)},X=()=>{n(5,A=!1),d()},H=re=>{if(A){let de=re.offsetX,K=re.offsetY;de-=de%T,K-=K%T,f(y,de,K)}},Q=()=>{n(3,y.fillStyle="black",y),y.fillRect(0,0,$,E),d()};function oe(re){Pr[re?"unshift":"push"](()=>{b=re,n(4,b)})}return e.$$.update=()=>{e.$$.dirty&1&&n(1,r=D[z]),e.$$.dirty&32769&&u&&j(z),e.$$.dirty&49154&&u&&n(6,[O,M]=a(l,+r),O,(n(7,M),n(15,u),n(14,l),n(1,r),n(0,z)))},[z,r,p,y,b,A,O,M,f,d,$,E,T,D,l,u,C,B,L,X,H,Q,oe]}class kq extends hn{constructor(t){super(),dn(this,t,Sq,xq,cn,{})}}function $q(e){let t,n="Often, the most incredible models also happen to be the largest models. By making the model smaller, you and I can dream about running these models on our own machines. With model compression, we can reduce the size of the numbers in a model. This article runs through a simple way to quantize floating point numbers into smaller integers and the error we pay for it in matrix multiplies.",r,i,a,s,o='<a href="#Introduction" class="svp-title-anchor" aria-label="Introduction"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Introduction',l,u,f="Modern deep learning is quite extraordinary. I don't need to convince you. You've likely seen the latest generative art models.",c,h,d,p,y,b,x,$,E,T,A,D,z,j,O,M="Size enables amazing capabilities, but also limits who can run them. Most people don't have fast GPUs with lots of memory. Instead, we must dive into the art of compressing neural network parameters while not totally ruining the learned structures of the model.",C,B,L,X,H='<a href="#Sharing-as-Compression" class="svp-title-anchor" aria-label="Sharing as Compression"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing as Compression',Q,oe,re,de,K,ne,te,F="Suppose you owned 20 dogs. An army of golden retrievers. And also suppose you are on the market for dog toys.",se,ye,Ce="Should you buy 20 toys for all 20 dogs? That would be quite expensive! If each toy was $20, then you'd pay $400. (as you can tell I love the number 20)",le,ce,Z="But you are a clever one you. You could reason that buying 5 toys would be totally fine. The dogs might get value out of sharing the toys, and furthermore not all 20 dogs would play with their toy at the same time. Now your bill would only be $100 for the 5 toys.",pe,Ae,W="Morale of the short story: sharing under constraints is reasonable. More than that. It's a good idea. Don't pay for more than you need to if you're on a budget.",$e,ze,qe,Ne,Ze='<a href="#Sharing-Pixels" class="svp-title-anchor" aria-label="Sharing Pixels"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing Pixels',ot,lt,Xn="Images and neural network weights are both just collections of numbers in the form of a tensor. So let's first look at the more intuitive image use-case.",Ut,Ct,Ss="For image compression, the goal is to reduce the memory footprint while maintaining what the original image looked like.",B0,br,Il="As you know, images are made up of tons of small colored squares: pixels. I'll start with a 880 pixels wide by 602 pixels tall image of this cutest golden retriever you've ever seen.",ks,Ft,xo,Zn,Et,Mo,wr,Dn,Lt,Nl="red",Fc,F0,Zm="green",Lc,L0,Qm="blue",Rc,ql,R0,Km="Instead of each pixel having a unique color, let's instead determine a few important colors and have all the other pixels share them. Exactly like the previous example with buying toys.",Bl,P0,Jm="First, I'll take an average over all the pixels to get the most important color. Making all the pixels share that one pixel I get:",Fl,O0,Ll,H0,e3="It is significantly smaller in terms of memory, but looks nothing like the dog.",Rl,V0,t3="Now, let's share two colors instead of just one.",Pl,U0,Ol,j0,n3="Starting to look like a dog!",Hl,i0,r3='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>Your turn</div><div class="admonition-content"><p>Drag the slider to increase the number of colors to share.</p></div>',Vl,W0,Ul,Y0,i3="After sharing just 256 colors, the images look remarkably similar. And we're only storing 256 colors!",jl,a0,G0,a3='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',_n,$s,s3="I've left out some information on how to compute these multiple averages.",Ts,o3="<strong>For the purposes of this article, you can ignore how I compute the averages.</strong>",X0,Pc,Z0,Oc,Q0,Hc,K0,Vc,Cs,l3="So instead of storing three numbers per each pixel, I store one number that indexes into the k average colors based on the closest color. In essence, the pixels share the k most important colors.",As,u3="Storing one instead of three colors roughly minimizes the image size by three times (plus the k important colors).",Wl,J0,Yl,ei,f3='<a href="#Quantifying-Error" class="svp-title-anchor" aria-label="Quantifying Error"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Quantifying Error',Gl,ti,c3="So I think you get the point now. With can capture the top information from the data and only use that. This is of course is what quantization refers to.",Xl,ni,h3="This method is exactly the same for neural network weights. But how do we know if the neural network weights are correctly compressed? For the image example, you can visually tell, but for numbers in a tensor, this is not so easy.",Zl,ri,d3="Naturally, I'll make assumptions to make an error metric to tell us when the compressed data is close to the original.",Ql,ii,m3="For images, this is intuitive: take the difference between the pixels and see how wrong the compressed version is.",Kl,s0,p3='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>Your turn</div><div class="admonition-content"><p>Drag the slider increase the number of colors quantized. Observe the pixels that are deep red for high error.</p></div>',Jl,ai,eu,si,g3="As you can see, when the images look very similar, the red error is almost nonexistent. I can further summarize the error with an average into one number.",tu,oi,v3="Now we have some conception of how good the compression was!",nu,o0,li,y3='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',xr,At,Uc,ui,jc,fi,Wc,ci,Yc,hi,Gc,di,Xc,mi,Zc,Jt,Qc,pi,Kc,gi,Jc,vi,eh,yi,th,en,nh,bi,rh,wi,ih,Es,b3="Average Error",ah,xi,sh,Mr,oh,Mi,lh,Si,uh,ru,ki,iu,$i,w3='<a href="#Matrix-Multiplication" class="svp-title-anchor" aria-label="Matrix Multiplication"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Matrix Multiplication',au,Ti,x3="For neural network weights, we aren't viewing them as images. So what makes their compression good or not?",su,Ci,M3="Take this three layer neural network",ou,Ai,lu,pn,fh,Ei,ch,zi,hh,Di,dh,uu,_i,S3="Almost all of the operations in the neural network that may effect the output (what we really care about) are matrix multiplies. So the output greatly depends on minimizing the compression error here.",fu,Ii,k3="Doing an element-wise difference would not capture what matrix multiplication is actually doing. What I mean to say is that error may be hidden or amplified by the matrix multiply operation. Something that we could not measure my doing element-wise differences like before.",cu,l0,$3='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 11 11"><path d="M6.62 8.5l3.11 1.55l-.45.89L5.5 9.06l-3.78 1.89l-.45-.89L4.38 8.5l-3.1-1.55l.45-.89L5.5 7.94l3.78-1.89l.44.9l-3.1 1.55zM8.5 3.21v.29l-1 1v1l-2 1l-2-1v-1l-1-1V3a2.9 2.9 0 0 1 3-3a3.09 3.09 0 0 1 3 3.21zm-3.79-.5a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79zM5 4.5h-.5v1H5v-1zm1.5 0H6v1h.5v-1zm1.36-1.79a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79z" fill="currentColor"></path></svg></span>WARNING</div><div class="admonition-content"><p>Things are about to get more mathematical. Not because they needs to be, but because it&#39;s easier for me to write about in a concise way. Be warned. (and maybe consider reviewing matrix and vector norms)</p></div>',hu,dt,mh,Ni,ph,qi,gh,Bi,vh,Fi,yh,Li,bh,Ri,wh,Pi,xh,du,mt,Mh,Oi,Sh,Hi,kh,Vi,$h,Ui,Th,ji,Ch,Wi,Ah,Yi,Eh,mu,u0,Gi,T3='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',zs,Xi,zh,Zi,Dh,pu,gn,_h,Qi,Ih,Ki,Nh,Ji,qh,gu,Ds,ea,vu,ta,C3="simply by how I defined things.",yu,tn,Bh,na,Fh,ra,Lh,ia,Rh,aa,bu,sa,A3="and specifically where the norm applied to a matrix is the matrix operator norm induced by the 1-norm.",wu,f0,oa,E3='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',la,ua,Ph,fa,Oh,_s,z3="Second, I use the matrix operator norm because the vector norm of a matrix doesn't capture the important information. The matrix operator norm tells me how the matrix transforms vectors under matrix multiplication which is exactly what I need.",xu,ca,D3="Applying the entire error term, we can visualize the error between the original weights and a compressed/quantized version.",Mu,vn,Hh,ha,Vh,da,Uh,ma,jh,Su,pa,_3="Let's see what error looks like on some different weight matrices!",ku,c0,I3='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>Your turn</div><div class="admonition-content"><p>Select a distribution for the weights and how much you&#39;d like to quantize the weights by dragging the slider. Observe the error terms and when the weights look similar.</p></div>',$u,ga,Tu,va,N3="First of all, not all matrices have the same condition number. The distribution with the outlier has a relatively large condition number which signals to me that the error will be amplified by that much.",Cu,ya,q3="Nonetheless, the error drops quickly the more weights we share, the more bits we use.",Au,ba,B3="What's quite interesting is that despite the high condition number in the outlier case, the error drops much quicker than the other distributions as we increase the bits. I speculate that it's because k-means is sensitive (to a fault) to outliers. So it used an entire number in the shared weights for that one outlier weight. In general this is bad, but weirdly is good if you just want to minimize error and the underlying distribution isn't too crazy.",Eu,wa,F3="Alas! A quick way to visualize and quantify error for weights in neural networks! Even before quantizing your weights, you can quickly compute the condition number to see if you'll run into problems.",zu,xa,L3="For linear quantization strategies, the condition number probably is vital. With k-means, we get away with masking it.",Du,Ma,_u,Sa,R3='<a href="#More-layers" class="svp-title-anchor" aria-label="More layers"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>More layers',Iu,ka,P3="Okay, but what about more than just one weight matrix.",Nu,$a,O3="Instead of just one layer of weights, now I'll scale up to multiple layers with a real usable model.",qu,Ta,H3="I'll use a simple autoencoder architecture takes takes images of handwritten digits (0 through 9) and attempts to reconstruct the image after a bottleneck.",Bu,h0,Wh,Ca,Yh,Fu,Aa,yn,Sr,V3=`<code><span class="line"><span style="color: #1E754F">import</span><span style="color: #393A34"> torch</span></span>
<span class="line"><span style="color: #393A34">model </span><span style="color: #AB5959">=</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sequential</span><span style="color: #999999">(</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sigmoid</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #999999">)</span></span></code>`,Gh,kr,U3=`<code><span class="line"><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> torch</span></span>
<span class="line"><span style="color: #D6DEEB">model </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> torch.nn.</span><span style="color: #B2CCD6">Sequential</span><span style="color: #D6DEEB">(</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Sigmoid</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #D6DEEB">)</span></span></code>`,Xh,Ea,j3="python",Zh,za,Lu,Qn,Qh,Da,Kh,_a,Jh,Ru,Ia,W3="I quantized the model's weights and biases. The actual models have been loaded in javascript. Try it for yourself!",Pu,d0,Y3='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>Your turn</div><div class="admonition-content"><p>Draw on the left side blackboard a number and see how the model reconstructs your digit. Drag the slider to change the level of quantization.</p></div>',Ou,Na,Hu,qa,G3="As you can see, with a small number of bits, the output reconstruction is terrible. But as you pass some threshold it becomes quite good and doesn't improve by too much. Very importantly, the quantized models are four times smaller than the original.",Vu,m0,e2,Ba,t2,Uu,Fa,ju,La,X3='<a href="#Conclusion" class="svp-title-anchor" aria-label="Conclusion"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Conclusion',Wu,Ra,Z3="That's all folks! This journey was a bit scattered, but ultimately I did dive into what makes a good compression of weights with how I thought it should be. Perhaps others will figure out if conditioning is vital or not to truly have some predictive power whether quantization will succeed or not.",Yu,Pa,Q3="With all that being said, yes it's possible to drastically reduce the number of weights you use and yes non-linear techniques like k-means skirts amplification of error precisely for why people usually don't use is: sensitivity to outliers.",Gu,Oa,K3="Until next time 😄.",Xu,Ha,Zu,Va,J3='<a href="#Acknowledgments" class="svp-title-anchor" aria-label="Acknowledgments"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Acknowledgments',Qu,jt,$r,n2,Ua,r2,ja,i2,a2,Wa,s2,Ya,o2,l2,Is,Ga,u2,f2,Ns,Xa,c2,h2,qs,Za,d2,Ku;return x=new _t({props:{to:"https://lexica.art/?q=cyberpunk+city",label:"Lexica"}}),D=new _t({props:{to:"https://stability.ai/stablediffusion",label:"Stable Diffusion XL"}}),de=new _t({props:{to:"https://arxiv.org/abs/1510.00149",label:"Deep Compression"}}),wr=new Be({props:{text:"880 \\cdot 602"}}),O0=new M2({props:{selected:0}}),U0=new M2({props:{selected:1}}),W0=new M2({props:{selected:1,showSlider:!0}}),Z0=new _t({props:{to:"https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html",label:"k-means algorithm"}}),K0=new _t({props:{to:Cq+"/blob/main/notebooks/image.ipynb",label:"image.ipynb"}}),ai=new Yb({}),ui=new Be({props:{text:"i"}}),fi=new Be({props:{text:"Q"}}),ci=new Be({props:{text:"W"}}),hi=new Be({props:{text:"(0,0,0)"}}),di=new Be({props:{text:"(255,255,255)"}}),mi=new Be({props:{text:"|255-0| + |255-0| + |255-0| = 765"}}),pi=new Be({props:{text:"E"}}),gi=new Be({props:{text:"E_[i] = \\sum_[c=1]^[3] |W_[i, c] - Q_[i,c]| \\tag1",big:!0}}),vi=new Be({props:{text:"i"}}),yi=new Be({props:{text:"c"}}),bi=new Be({props:{text:"E"}}),wi=new Be({props:{text:"(1)"}}),xi=new Be({props:{text:"\\frac[1][N]\\sum_[i=1]^[N] E_i"}}),Mi=new Be({props:{text:"W"}}),Si=new Be({props:{text:"Q"}}),Ai=new Be({props:{text:"\\text[ReLU]\\left(\\text[ReLU]\\left(xW_1^T + b_1\\right)W_2^T + b_2\\right)W_3^T + b_3.\\tag[2]",big:!0}}),Ei=new Be({props:{text:"W_i"}}),zi=new Be({props:{text:"b_i"}}),Di=new Be({props:{text:"i"}}),Ni=new Be({props:{text:"Wx = y"}}),qi=new Be({props:{text:"W"}}),Bi=new Be({props:{text:"x"}}),Fi=new Be({props:{text:"y"}}),Li=new Be({props:{text:"W"}}),Ri=new Be({props:{text:"x"}}),Pi=new Be({props:{text:"y"}}),Oi=new Be({props:{text:"Q"}}),Hi=new Be({props:{text:"x"}}),Vi=new Be({props:{text:"\\hat[y]"}}),Ui=new Be({props:{text:"y"}}),ji=new Be({props:{text:"y"}}),Wi=new Be({props:{text:"\\hat[y]"}}),Yi=new Be({props:{text:"\\text[error] &:= \\frac[||y - \\hat[y]||_1][||y||_1]\\tag[3]",begin:"align*"}}),Zi=new Be({props:{text:"||\\cdot||"}}),Qi=new Be({props:{text:"Wx = y"}}),Ki=new Be({props:{text:"Qx = \\hat[y]"}}),Ji=new Be({props:{text:"(3)"}}),ea=new Be({props:{text:`
\\frac[||y - \\hat[y]||][||y||] = \\frac[||Wx - Qx||][||Wx||]\\tag[4]\\\\
`,begin:"align*"}}),na=new Be({props:{text:"W"}}),ra=new Be({props:{text:"Q"}}),ia=new Be({props:{text:"W"}}),aa=new Be({props:{begin:"align*",text:`
\\frac[||Wx - Qx||][||Wx||] &= \\frac[||(W-Q)x||][||Wx||]\\\\
&= \\frac[||(W-Q)W^[-1]y||][||Wx||]&&\\text[since ] x = W^[-1]y\\\\
&\\leq \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||y||][||Wx||]&&\\text[since ] ||AB|| \\leq ||A|| \\ ||B||\\\\
&= \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||Wx||][||Wx||]&&\\text[since ] ||Wx|| = ||y||\\\\
&= ||W-Q|| \\ ||W^[-1]||\\\\
&= \\frac[||W||][||W||] \\ ||W-Q|| \\ ||W^[-1]||\\\\
&= \\left(||W|| \\ ||W^[-1]||\\right) \\left(\\frac[||W-Q||][||W||]\\right). \\tag[5]\\\\
`}}),fa=new _t({props:{to:"https://www.cs.cornell.edu/~bindel/class/cs4220-s15/lec/2015-02-04-notes.pdf",label:"CS 4220 Numerical Analysis"}}),ha=new Be({props:{text:"W"}}),da=new Be({props:{text:"||W|| \\ ||W^[-1]||"}}),ma=new Be({props:{text:"\\frac[||W-Q||][||W||]"}}),ga=new pq({}),Ca=new _t({props:{to:"https://pytorch.org/docs/stable/index.html",label:"PyTorch"}}),za=new Rb({}),Da=new _t({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/mnist_autoencoder.ipynb",label:"mnist_autoencoder.ipynb"}}),_a=new _t({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/quantized_mnist_autoencoder.ipynb",label:"quantized_mnist_autoencoder.ipynb"}}),Na=new kq({}),Ba=new _t({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/ae_cond.ipynb",label:"ae_cond.ipynb"}}),Ua=new _t({props:{to:"https://donnybertucci.com",label:"Donny Bertucci"}}),ja=new _t({props:{to:"https://perer.org/",label:"Adam Perer"}}),Ya=new _t({props:{to:"https://www.youtube.com/watch?v=AlASZb93rrc",label:"here"}}),Ga=new _t({props:{to:"https://observablehq.com/plot/",label:"Observable Plot"}}),Xa=new _t({props:{to:"https://sveltepress.site/",label:"SveltePress"}}),Za=new _t({props:{to:"https://katex.org/",label:"KaTeX"}}),{c(){t=V("p"),t.textContent=n,r=J(),i=V("div"),a=J(),s=V("h2"),s.innerHTML=o,l=J(),u=V("p"),u.textContent=f,c=J(),h=V("div"),d=J(),p=V("p"),y=V("em"),b=ie("From "),xe(x.$$.fragment),$=ie("'s Aperture Model."),E=J(),T=V("p"),A=ie("These models generate detailed, complex, and creative outputs. And yet, when you boil things down they are just transforming the inputs over and over again until a desirable output. It's not at all surprising that models like "),xe(D.$$.fragment),z=ie(" have over 3 billion parameters that transform your inputs in a sophisticated way."),j=J(),O=V("p"),O.textContent=M,C=J(),B=V("div"),L=J(),X=V("h2"),X.innerHTML=H,Q=J(),oe=V("p"),re=ie("In this article I'll use the weight sharing scheme from "),xe(de.$$.fragment),K=ie(" to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),ne=J(),te=V("p"),te.textContent=F,se=J(),ye=V("p"),ye.textContent=Ce,le=J(),ce=V("p"),ce.textContent=Z,pe=J(),Ae=V("p"),Ae.textContent=W,$e=J(),ze=V("div"),qe=J(),Ne=V("h2"),Ne.innerHTML=Ze,ot=J(),lt=V("p"),lt.textContent=Xn,Ut=J(),Ct=V("p"),Ct.textContent=Ss,B0=J(),br=V("p"),br.textContent=Il,ks=J(),Ft=V("img"),Zn=J(),Et=V("p"),Mo=ie("In total, there are 4,824,160 colors in the image ("),xe(wr.$$.fragment),Dn=ie("): one for each pixel. Each color is represented by three numbers: "),Lt=V("span"),Lt.textContent=Nl,Fc=ie(", "),F0=V("span"),F0.textContent=Zm,Lc=ie(", and "),L0=V("span"),L0.textContent=Qm,Rc=ie(" that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),ql=J(),R0=V("p"),R0.textContent=Km,Bl=J(),P0=V("p"),P0.textContent=Jm,Fl=J(),xe(O0.$$.fragment),Ll=J(),H0=V("p"),H0.textContent=e3,Rl=J(),V0=V("p"),V0.textContent=t3,Pl=J(),xe(U0.$$.fragment),Ol=J(),j0=V("p"),j0.textContent=n3,Hl=J(),i0=V("div"),i0.innerHTML=r3,Vl=J(),xe(W0.$$.fragment),Ul=J(),Y0=V("p"),Y0.textContent=i3,jl=J(),a0=V("div"),G0=V("div"),G0.innerHTML=a3,_n=V("div"),$s=V("p"),$s.textContent=s3,Ts=V("p"),Ts.innerHTML=o3,X0=V("p"),Pc=ie("However, if you must know I use the "),xe(Z0.$$.fragment),Oc=ie(" on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),Q0=V("p"),Hc=ie("Check out "),xe(K0.$$.fragment),Vc=ie(" to see how I used k-means on the images."),Cs=V("p"),Cs.textContent=l3,As=V("p"),As.textContent=u3,Wl=J(),J0=V("div"),Yl=J(),ei=V("h2"),ei.innerHTML=f3,Gl=J(),ti=V("p"),ti.textContent=c3,Xl=J(),ni=V("p"),ni.textContent=h3,Zl=J(),ri=V("p"),ri.textContent=d3,Ql=J(),ii=V("p"),ii.textContent=m3,Kl=J(),s0=V("div"),s0.innerHTML=p3,Jl=J(),xe(ai.$$.fragment),eu=J(),si=V("p"),si.textContent=g3,tu=J(),oi=V("p"),oi.textContent=v3,nu=J(),o0=V("div"),li=V("div"),li.innerHTML=y3,xr=V("div"),At=V("p"),Uc=ie("For each pixel at (location "),xe(ui.$$.fragment),jc=ie(") I find the difference between the corresponding color channels of the compressed/quantized image "),xe(fi.$$.fragment),Wc=ie(" and the original image "),xe(ci.$$.fragment),Yc=ie(". For example if the original color was black "),xe(hi.$$.fragment),Gc=ie(" and the quantized color was white "),xe(di.$$.fragment),Xc=ie(", the summed error would be "),xe(mi.$$.fragment),Zc=ie(" for that one pixel."),Jt=V("p"),Qc=ie("I store each error term in this "),xe(pi.$$.fragment),Kc=ie(" matrix where each number is the error "),xe(gi.$$.fragment),Jc=ie(" such that "),xe(vi.$$.fragment),eh=ie(" is the pixel index and "),xe(yi.$$.fragment),th=ie(" is the color channel index."),en=V("p"),nh=ie("This error image "),xe(bi.$$.fragment),rh=ie(" is what you see in red above. Then I simply average over these error matrix values from "),xe(wi.$$.fragment),ih=ie(" to get the "),Es=V("strong"),Es.textContent=b3,ah=ie(" as "),xe(xi.$$.fragment),sh=ie("."),Mr=V("p"),oh=ie("For the future, note that this form is very similar to the vector 1-norm of the difference between "),xe(Mi.$$.fragment),lh=ie(" and "),xe(Si.$$.fragment),uh=ie("."),ru=J(),ki=V("div"),iu=J(),$i=V("h2"),$i.innerHTML=w3,au=J(),Ti=V("p"),Ti.textContent=x3,su=J(),Ci=V("p"),Ci.textContent=M3,ou=J(),xe(Ai.$$.fragment),lu=J(),pn=V("p"),fh=ie("where "),xe(Ei.$$.fragment),ch=ie(" are weights and "),xe(zi.$$.fragment),hh=ie(" are biases at layer "),xe(Di.$$.fragment),dh=ie("."),uu=J(),_i=V("p"),_i.textContent=S3,fu=J(),Ii=V("p"),Ii.textContent=k3,cu=J(),l0=V("div"),l0.innerHTML=$3,hu=J(),dt=V("p"),mh=ie("With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the vector. Namely, "),xe(Ni.$$.fragment),ph=ie(" where "),xe(qi.$$.fragment),gh=ie(" is the matrix, "),xe(Bi.$$.fragment),vh=ie(" is the column vector, and "),xe(Fi.$$.fragment),yh=ie(" is the output of the matrix multiply. Alternatively, think of "),xe(Li.$$.fragment),bh=ie(" as transforming "),xe(Ri.$$.fragment),wh=ie(" into "),xe(Pi.$$.fragment),xh=ie("."),du=J(),mt=V("p"),Mh=ie("I can also define how the quantized matrix "),xe(Oi.$$.fragment),Sh=ie(" transforms the input "),xe(Hi.$$.fragment),kh=ie(" into some approximate output "),xe(Vi.$$.fragment),$h=ie(" which won't quite be the same as the exact "),xe(Ui.$$.fragment),Th=ie(". I can then express the differences between the outputs "),xe(ji.$$.fragment),Ch=ie(" and "),xe(Wi.$$.fragment),Ah=ie(` in a single error term
`),xe(Yi.$$.fragment),Eh=ie(" which is really just how big is the difference between the original output and compressed output after matrix multiplication, then normalized to be between 0 and 1."),mu=J(),u0=V("div"),Gi=V("div"),Gi.innerHTML=T3,zs=V("div"),Xi=V("p"),zh=ie("I use the vector 1-norm here denoted by "),xe(Zi.$$.fragment),Dh=ie(" to give me the size of a vector."),pu=J(),gn=V("p"),_h=ie("And since "),xe(Qi.$$.fragment),Ih=ie(" and "),xe(Ki.$$.fragment),Nh=ie(" I can write the equation "),xe(Ji.$$.fragment),qh=ie(" only in terms of the inputs as"),gu=J(),Ds=V("p"),xe(ea.$$.fragment),vu=J(),ta=V("p"),ta.textContent=C3,yu=J(),tn=V("p"),Bh=ie("As is turns out, I can factor this error term into a term that only contains "),xe(na.$$.fragment),Fh=ie(" and one other that contains both "),xe(ra.$$.fragment),Lh=ie(" and "),xe(ia.$$.fragment),Rh=ie(` through the steps
`),xe(aa.$$.fragment),bu=J(),sa=V("p"),sa.textContent=A3,wu=J(),f0=V("div"),oa=V("div"),oa.innerHTML=E3,la=V("div"),ua=V("p"),Ph=ie("First of all, formulation was adapted from the lecture notes "),xe(fa.$$.fragment),Oh=ie("."),_s=V("p"),_s.textContent=z3,xu=J(),ca=V("p"),ca.textContent=D3,Mu=J(),vn=V("p"),Hh=ie("The first term defined by only "),xe(ha.$$.fragment),Vh=ie(" as "),xe(da.$$.fragment),Uh=ie(" is a very useful number in many applications for linear problems: the condition number. The second term looks quite similar to the image pixel error case as the difference between the matrices with a norm applied as "),xe(ma.$$.fragment),jh=ie("."),Su=J(),pa=V("p"),pa.textContent=_3,ku=J(),c0=V("div"),c0.innerHTML=I3,$u=J(),xe(ga.$$.fragment),Tu=J(),va=V("p"),va.textContent=N3,Cu=J(),ya=V("p"),ya.textContent=q3,Au=J(),ba=V("p"),ba.textContent=B3,Eu=J(),wa=V("p"),wa.textContent=F3,zu=J(),xa=V("p"),xa.textContent=L3,Du=J(),Ma=V("div"),_u=J(),Sa=V("h2"),Sa.innerHTML=R3,Iu=J(),ka=V("p"),ka.textContent=P3,Nu=J(),$a=V("p"),$a.textContent=O3,qu=J(),Ta=V("p"),Ta.textContent=H3,Bu=J(),h0=V("p"),Wh=ie("In "),xe(Ca.$$.fragment),Yh=ie(" I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),Fu=J(),Aa=V("div"),yn=V("div"),Sr=V("pre"),Sr.innerHTML=V3,Gh=J(),kr=V("pre"),kr.innerHTML=U3,Xh=J(),Ea=V("div"),Ea.textContent=j3,Zh=J(),xe(za.$$.fragment),Lu=J(),Qn=V("p"),Qh=ie("The training and definitions are in "),xe(Da.$$.fragment),Kh=ie(" and the quantization is in "),xe(_a.$$.fragment),Jh=ie(" if you're interested."),Ru=J(),Ia=V("p"),Ia.textContent=W3,Pu=J(),d0=V("div"),d0.innerHTML=Y3,Ou=J(),xe(Na.$$.fragment),Hu=J(),qa=V("p"),qa.textContent=G3,Vu=J(),m0=V("p"),e2=ie("Despite this neural network having a high maximum condition number (computed by taking the condition number over each layer and taking the max "),xe(Ba.$$.fragment),t2=ie("), using k-means quantization, the outputs look quite good: the reconstruction is accurate. I speculate again that with extra shared numbers to spare, k-means was sensitive tot he outlier which caused the high condition number, thereby masking the large effects."),Uu=J(),Fa=V("div"),ju=J(),La=V("h2"),La.innerHTML=X3,Wu=J(),Ra=V("p"),Ra.textContent=Z3,Yu=J(),Pa=V("p"),Pa.textContent=Q3,Gu=J(),Oa=V("p"),Oa.textContent=K3,Xu=J(),Ha=V("div"),Zu=J(),Va=V("h2"),Va.innerHTML=J3,Qu=J(),jt=V("ul"),$r=V("li"),n2=ie("I thank myself "),xe(Ua.$$.fragment),r2=ie(" for writing the article and "),xe(ja.$$.fragment),i2=ie(" for discussing ideas and giving me valuable feedback during the 2023 Summer at Carnegie Mellon University"),a2=J(),Wa=V("li"),s2=ie("Inspiration to even think to cover this topic from "),xe(Ya.$$.fragment),o2=ie(" which evidently is by the author of that Deep Compression Paper I referenced earlier"),l2=J(),Is=V("li"),xe(Ga.$$.fragment),u2=ie(" was extremely useful"),f2=J(),Ns=V("li"),xe(Xa.$$.fragment),c2=ie(" is really awesome out of the box"),h2=J(),qs=V("li"),xe(Za.$$.fragment),d2=ie(" for math equations"),this.h()},l(v){t=U(v,"P",{"data-svelte-h":!0}),we(t)!=="svelte-t25m93"&&(t.textContent=n),r=ee(v),i=U(v,"DIV",{id:!0,class:!0}),ue(i).forEach(k),a=ee(v),s=U(v,"H2",{"data-svelte-h":!0}),we(s)!=="svelte-ruhe6q"&&(s.innerHTML=o),l=ee(v),u=U(v,"P",{"data-svelte-h":!0}),we(u)!=="svelte-s62896"&&(u.textContent=f),c=ee(v),h=U(v,"DIV",{style:!0,class:!0}),ue(h).forEach(k),d=ee(v),p=U(v,"P",{});var P=ue(p);y=U(P,"EM",{});var Ju=ue(y);b=ae(Ju,"From "),Me(x.$$.fragment,Ju),$=ae(Ju,"'s Aperture Model."),Ju.forEach(k),P.forEach(k),E=ee(v),T=U(v,"P",{});var e1=ue(T);A=ae(e1,"These models generate detailed, complex, and creative outputs. And yet, when you boil things down they are just transforming the inputs over and over again until a desirable output. It's not at all surprising that models like "),Me(D.$$.fragment,e1),z=ae(e1," have over 3 billion parameters that transform your inputs in a sophisticated way."),e1.forEach(k),j=ee(v),O=U(v,"P",{"data-svelte-h":!0}),we(O)!=="svelte-yghsud"&&(O.textContent=M),C=ee(v),B=U(v,"DIV",{id:!0,class:!0}),ue(B).forEach(k),L=ee(v),X=U(v,"H2",{"data-svelte-h":!0}),we(X)!=="svelte-13wc126"&&(X.innerHTML=H),Q=ee(v),oe=U(v,"P",{});var t1=ue(oe);re=ae(t1,"In this article I'll use the weight sharing scheme from "),Me(de.$$.fragment,t1),K=ae(t1," to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),t1.forEach(k),ne=ee(v),te=U(v,"P",{"data-svelte-h":!0}),we(te)!=="svelte-jjbxih"&&(te.textContent=F),se=ee(v),ye=U(v,"P",{"data-svelte-h":!0}),we(ye)!=="svelte-1dlvibq"&&(ye.textContent=Ce),le=ee(v),ce=U(v,"P",{"data-svelte-h":!0}),we(ce)!=="svelte-rjuauy"&&(ce.textContent=Z),pe=ee(v),Ae=U(v,"P",{"data-svelte-h":!0}),we(Ae)!=="svelte-1a2imlm"&&(Ae.textContent=W),$e=ee(v),ze=U(v,"DIV",{id:!0,class:!0}),ue(ze).forEach(k),qe=ee(v),Ne=U(v,"H2",{"data-svelte-h":!0}),we(Ne)!=="svelte-z4t4s0"&&(Ne.innerHTML=Ze),ot=ee(v),lt=U(v,"P",{"data-svelte-h":!0}),we(lt)!=="svelte-1cjd5eg"&&(lt.textContent=Xn),Ut=ee(v),Ct=U(v,"P",{"data-svelte-h":!0}),we(Ct)!=="svelte-33ela4"&&(Ct.textContent=Ss),B0=ee(v),br=U(v,"P",{"data-svelte-h":!0}),we(br)!=="svelte-hycxe9"&&(br.textContent=Il),ks=ee(v),Ft=U(v,"IMG",{src:!0,style:!0,class:!0}),Zn=ee(v),Et=U(v,"P",{});var Kn=ue(Et);Mo=ae(Kn,"In total, there are 4,824,160 colors in the image ("),Me(wr.$$.fragment,Kn),Dn=ae(Kn,"): one for each pixel. Each color is represented by three numbers: "),Lt=U(Kn,"SPAN",{style:!0,"data-svelte-h":!0}),we(Lt)!=="svelte-17efn44"&&(Lt.textContent=Nl),Fc=ae(Kn,", "),F0=U(Kn,"SPAN",{style:!0,"data-svelte-h":!0}),we(F0)!=="svelte-ixmvcs"&&(F0.textContent=Zm),Lc=ae(Kn,", and "),L0=U(Kn,"SPAN",{style:!0,"data-svelte-h":!0}),we(L0)!=="svelte-yxcr95"&&(L0.textContent=Qm),Rc=ae(Kn," that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),Kn.forEach(k),ql=ee(v),R0=U(v,"P",{"data-svelte-h":!0}),we(R0)!=="svelte-idfyti"&&(R0.textContent=Km),Bl=ee(v),P0=U(v,"P",{"data-svelte-h":!0}),we(P0)!=="svelte-1pi4tgl"&&(P0.textContent=Jm),Fl=ee(v),Me(O0.$$.fragment,v),Ll=ee(v),H0=U(v,"P",{"data-svelte-h":!0}),we(H0)!=="svelte-191ux2d"&&(H0.textContent=e3),Rl=ee(v),V0=U(v,"P",{"data-svelte-h":!0}),we(V0)!=="svelte-y7jh1z"&&(V0.textContent=t3),Pl=ee(v),Me(U0.$$.fragment,v),Ol=ee(v),j0=U(v,"P",{"data-svelte-h":!0}),we(j0)!=="svelte-1mbtwn3"&&(j0.textContent=n3),Hl=ee(v),i0=U(v,"DIV",{class:!0,"data-svelte-h":!0}),we(i0)!=="svelte-1lxyorn"&&(i0.innerHTML=r3),Vl=ee(v),Me(W0.$$.fragment,v),Ul=ee(v),Y0=U(v,"P",{"data-svelte-h":!0}),we(Y0)!=="svelte-1tyf2mb"&&(Y0.textContent=i3),jl=ee(v),a0=U(v,"DIV",{class:!0});var m2=ue(a0);G0=U(m2,"DIV",{class:!0,"data-svelte-h":!0}),we(G0)!=="svelte-1cy0qbn"&&(G0.innerHTML=a3),_n=U(m2,"DIV",{class:!0});var Qa=ue(_n);$s=U(Qa,"P",{"data-svelte-h":!0}),we($s)!=="svelte-1b2zkjk"&&($s.textContent=s3),Ts=U(Qa,"P",{"data-svelte-h":!0}),we(Ts)!=="svelte-1pybshj"&&(Ts.innerHTML=o3),X0=U(Qa,"P",{});var n1=ue(X0);Pc=ae(n1,"However, if you must know I use the "),Me(Z0.$$.fragment,n1),Oc=ae(n1," on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),n1.forEach(k),Q0=U(Qa,"P",{});var r1=ue(Q0);Hc=ae(r1,"Check out "),Me(K0.$$.fragment,r1),Vc=ae(r1," to see how I used k-means on the images."),r1.forEach(k),Cs=U(Qa,"P",{"data-svelte-h":!0}),we(Cs)!=="svelte-1ykg0cc"&&(Cs.textContent=l3),As=U(Qa,"P",{"data-svelte-h":!0}),we(As)!=="svelte-1njx3af"&&(As.textContent=u3),Qa.forEach(k),m2.forEach(k),Wl=ee(v),J0=U(v,"DIV",{id:!0,class:!0}),ue(J0).forEach(k),Yl=ee(v),ei=U(v,"H2",{"data-svelte-h":!0}),we(ei)!=="svelte-o0se0e"&&(ei.innerHTML=f3),Gl=ee(v),ti=U(v,"P",{"data-svelte-h":!0}),we(ti)!=="svelte-rotb2s"&&(ti.textContent=c3),Xl=ee(v),ni=U(v,"P",{"data-svelte-h":!0}),we(ni)!=="svelte-os4gpv"&&(ni.textContent=h3),Zl=ee(v),ri=U(v,"P",{"data-svelte-h":!0}),we(ri)!=="svelte-5k6p31"&&(ri.textContent=d3),Ql=ee(v),ii=U(v,"P",{"data-svelte-h":!0}),we(ii)!=="svelte-1oantms"&&(ii.textContent=m3),Kl=ee(v),s0=U(v,"DIV",{class:!0,"data-svelte-h":!0}),we(s0)!=="svelte-172o8jg"&&(s0.innerHTML=p3),Jl=ee(v),Me(ai.$$.fragment,v),eu=ee(v),si=U(v,"P",{"data-svelte-h":!0}),we(si)!=="svelte-1cwra3o"&&(si.textContent=g3),tu=ee(v),oi=U(v,"P",{"data-svelte-h":!0}),we(oi)!=="svelte-x09lf9"&&(oi.textContent=v3),nu=ee(v),o0=U(v,"DIV",{class:!0});var p2=ue(o0);li=U(p2,"DIV",{class:!0,"data-svelte-h":!0}),we(li)!=="svelte-1cy0qbn"&&(li.innerHTML=y3),xr=U(p2,"DIV",{class:!0});var So=ue(xr);At=U(So,"P",{});var Wt=ue(At);Uc=ae(Wt,"For each pixel at (location "),Me(ui.$$.fragment,Wt),jc=ae(Wt,") I find the difference between the corresponding color channels of the compressed/quantized image "),Me(fi.$$.fragment,Wt),Wc=ae(Wt," and the original image "),Me(ci.$$.fragment,Wt),Yc=ae(Wt,". For example if the original color was black "),Me(hi.$$.fragment,Wt),Gc=ae(Wt," and the quantized color was white "),Me(di.$$.fragment,Wt),Xc=ae(Wt,", the summed error would be "),Me(mi.$$.fragment,Wt),Zc=ae(Wt," for that one pixel."),Wt.forEach(k),Jt=U(So,"P",{});var Jn=ue(Jt);Qc=ae(Jn,"I store each error term in this "),Me(pi.$$.fragment,Jn),Kc=ae(Jn," matrix where each number is the error "),Me(gi.$$.fragment,Jn),Jc=ae(Jn," such that "),Me(vi.$$.fragment,Jn),eh=ae(Jn," is the pixel index and "),Me(yi.$$.fragment,Jn),th=ae(Jn," is the color channel index."),Jn.forEach(k),en=U(So,"P",{});var er=ue(en);nh=ae(er,"This error image "),Me(bi.$$.fragment,er),rh=ae(er," is what you see in red above. Then I simply average over these error matrix values from "),Me(wi.$$.fragment,er),ih=ae(er," to get the "),Es=U(er,"STRONG",{"data-svelte-h":!0}),we(Es)!=="svelte-po1o1d"&&(Es.textContent=b3),ah=ae(er," as "),Me(xi.$$.fragment,er),sh=ae(er,"."),er.forEach(k),Mr=U(So,"P",{});var Bs=ue(Mr);oh=ae(Bs,"For the future, note that this form is very similar to the vector 1-norm of the difference between "),Me(Mi.$$.fragment,Bs),lh=ae(Bs," and "),Me(Si.$$.fragment,Bs),uh=ae(Bs,"."),Bs.forEach(k),So.forEach(k),p2.forEach(k),ru=ee(v),ki=U(v,"DIV",{id:!0,class:!0}),ue(ki).forEach(k),iu=ee(v),$i=U(v,"H2",{"data-svelte-h":!0}),we($i)!=="svelte-1pnd2wq"&&($i.innerHTML=w3),au=ee(v),Ti=U(v,"P",{"data-svelte-h":!0}),we(Ti)!=="svelte-1oittac"&&(Ti.textContent=x3),su=ee(v),Ci=U(v,"P",{"data-svelte-h":!0}),we(Ci)!=="svelte-1lhrn6z"&&(Ci.textContent=M3),ou=ee(v),Me(Ai.$$.fragment,v),lu=ee(v),pn=U(v,"P",{});var p0=ue(pn);fh=ae(p0,"where "),Me(Ei.$$.fragment,p0),ch=ae(p0," are weights and "),Me(zi.$$.fragment,p0),hh=ae(p0," are biases at layer "),Me(Di.$$.fragment,p0),dh=ae(p0,"."),p0.forEach(k),uu=ee(v),_i=U(v,"P",{"data-svelte-h":!0}),we(_i)!=="svelte-ygr5hy"&&(_i.textContent=S3),fu=ee(v),Ii=U(v,"P",{"data-svelte-h":!0}),we(Ii)!=="svelte-t9cyor"&&(Ii.textContent=k3),cu=ee(v),l0=U(v,"DIV",{class:!0,"data-svelte-h":!0}),we(l0)!=="svelte-kil6uv"&&(l0.innerHTML=$3),hu=ee(v),dt=U(v,"P",{});var zt=ue(dt);mh=ae(zt,"With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the vector. Namely, "),Me(Ni.$$.fragment,zt),ph=ae(zt," where "),Me(qi.$$.fragment,zt),gh=ae(zt," is the matrix, "),Me(Bi.$$.fragment,zt),vh=ae(zt," is the column vector, and "),Me(Fi.$$.fragment,zt),yh=ae(zt," is the output of the matrix multiply. Alternatively, think of "),Me(Li.$$.fragment,zt),bh=ae(zt," as transforming "),Me(Ri.$$.fragment,zt),wh=ae(zt," into "),Me(Pi.$$.fragment,zt),xh=ae(zt,"."),zt.forEach(k),du=ee(v),mt=U(v,"P",{});var Dt=ue(mt);Mh=ae(Dt,"I can also define how the quantized matrix "),Me(Oi.$$.fragment,Dt),Sh=ae(Dt," transforms the input "),Me(Hi.$$.fragment,Dt),kh=ae(Dt," into some approximate output "),Me(Vi.$$.fragment,Dt),$h=ae(Dt," which won't quite be the same as the exact "),Me(Ui.$$.fragment,Dt),Th=ae(Dt,". I can then express the differences between the outputs "),Me(ji.$$.fragment,Dt),Ch=ae(Dt," and "),Me(Wi.$$.fragment,Dt),Ah=ae(Dt,` in a single error term
`),Me(Yi.$$.fragment,Dt),Eh=ae(Dt," which is really just how big is the difference between the original output and compressed output after matrix multiplication, then normalized to be between 0 and 1."),Dt.forEach(k),mu=ee(v),u0=U(v,"DIV",{class:!0});var g2=ue(u0);Gi=U(g2,"DIV",{class:!0,"data-svelte-h":!0}),we(Gi)!=="svelte-1cy0qbn"&&(Gi.innerHTML=T3),zs=U(g2,"DIV",{class:!0});var e5=ue(zs);Xi=U(e5,"P",{});var i1=ue(Xi);zh=ae(i1,"I use the vector 1-norm here denoted by "),Me(Zi.$$.fragment,i1),Dh=ae(i1," to give me the size of a vector."),i1.forEach(k),e5.forEach(k),g2.forEach(k),pu=ee(v),gn=U(v,"P",{});var g0=ue(gn);_h=ae(g0,"And since "),Me(Qi.$$.fragment,g0),Ih=ae(g0," and "),Me(Ki.$$.fragment,g0),Nh=ae(g0," I can write the equation "),Me(Ji.$$.fragment,g0),qh=ae(g0," only in terms of the inputs as"),g0.forEach(k),gu=ee(v),Ds=U(v,"P",{});var t5=ue(Ds);Me(ea.$$.fragment,t5),t5.forEach(k),vu=ee(v),ta=U(v,"P",{"data-svelte-h":!0}),we(ta)!=="svelte-1h363j2"&&(ta.textContent=C3),yu=ee(v),tn=U(v,"P",{});var Tr=ue(tn);Bh=ae(Tr,"As is turns out, I can factor this error term into a term that only contains "),Me(na.$$.fragment,Tr),Fh=ae(Tr," and one other that contains both "),Me(ra.$$.fragment,Tr),Lh=ae(Tr," and "),Me(ia.$$.fragment,Tr),Rh=ae(Tr,` through the steps
`),Me(aa.$$.fragment,Tr),Tr.forEach(k),bu=ee(v),sa=U(v,"P",{"data-svelte-h":!0}),we(sa)!=="svelte-4gw4l1"&&(sa.textContent=A3),wu=ee(v),f0=U(v,"DIV",{class:!0});var v2=ue(f0);oa=U(v2,"DIV",{class:!0,"data-svelte-h":!0}),we(oa)!=="svelte-1cy0qbn"&&(oa.innerHTML=E3),la=U(v2,"DIV",{class:!0});var y2=ue(la);ua=U(y2,"P",{});var a1=ue(ua);Ph=ae(a1,"First of all, formulation was adapted from the lecture notes "),Me(fa.$$.fragment,a1),Oh=ae(a1,"."),a1.forEach(k),_s=U(y2,"P",{"data-svelte-h":!0}),we(_s)!=="svelte-1ktuwx6"&&(_s.textContent=z3),y2.forEach(k),v2.forEach(k),xu=ee(v),ca=U(v,"P",{"data-svelte-h":!0}),we(ca)!=="svelte-alw3lx"&&(ca.textContent=D3),Mu=ee(v),vn=U(v,"P",{});var v0=ue(vn);Hh=ae(v0,"The first term defined by only "),Me(ha.$$.fragment,v0),Vh=ae(v0," as "),Me(da.$$.fragment,v0),Uh=ae(v0," is a very useful number in many applications for linear problems: the condition number. The second term looks quite similar to the image pixel error case as the difference between the matrices with a norm applied as "),Me(ma.$$.fragment,v0),jh=ae(v0,"."),v0.forEach(k),Su=ee(v),pa=U(v,"P",{"data-svelte-h":!0}),we(pa)!=="svelte-12mmrko"&&(pa.textContent=_3),ku=ee(v),c0=U(v,"DIV",{class:!0,"data-svelte-h":!0}),we(c0)!=="svelte-ojtvhd"&&(c0.innerHTML=I3),$u=ee(v),Me(ga.$$.fragment,v),Tu=ee(v),va=U(v,"P",{"data-svelte-h":!0}),we(va)!=="svelte-evtlv8"&&(va.textContent=N3),Cu=ee(v),ya=U(v,"P",{"data-svelte-h":!0}),we(ya)!=="svelte-vm81ou"&&(ya.textContent=q3),Au=ee(v),ba=U(v,"P",{"data-svelte-h":!0}),we(ba)!=="svelte-1toiowj"&&(ba.textContent=B3),Eu=ee(v),wa=U(v,"P",{"data-svelte-h":!0}),we(wa)!=="svelte-1cyi0vm"&&(wa.textContent=F3),zu=ee(v),xa=U(v,"P",{"data-svelte-h":!0}),we(xa)!=="svelte-1w2o1jv"&&(xa.textContent=L3),Du=ee(v),Ma=U(v,"DIV",{id:!0,class:!0}),ue(Ma).forEach(k),_u=ee(v),Sa=U(v,"H2",{"data-svelte-h":!0}),we(Sa)!=="svelte-lt4h7y"&&(Sa.innerHTML=R3),Iu=ee(v),ka=U(v,"P",{"data-svelte-h":!0}),we(ka)!=="svelte-ajbibf"&&(ka.textContent=P3),Nu=ee(v),$a=U(v,"P",{"data-svelte-h":!0}),we($a)!=="svelte-1aq8px0"&&($a.textContent=O3),qu=ee(v),Ta=U(v,"P",{"data-svelte-h":!0}),we(Ta)!=="svelte-1bl6uqo"&&(Ta.textContent=H3),Bu=ee(v),h0=U(v,"P",{});var s1=ue(h0);Wh=ae(s1,"In "),Me(Ca.$$.fragment,s1),Yh=ae(s1," I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),s1.forEach(k),Fu=ee(v),Aa=U(v,"DIV",{class:!0});var n5=ue(Aa);yn=U(n5,"DIV",{class:!0});var y0=ue(yn);Sr=U(y0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),we(Sr)!=="svelte-2kshyc"&&(Sr.innerHTML=V3),Gh=ee(y0),kr=U(y0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),we(kr)!=="svelte-1xjekbd"&&(kr.innerHTML=U3),Xh=ee(y0),Ea=U(y0,"DIV",{class:!0,"data-svelte-h":!0}),we(Ea)!=="svelte-lxlwao"&&(Ea.textContent=j3),Zh=ee(y0),Me(za.$$.fragment,y0),y0.forEach(k),n5.forEach(k),Lu=ee(v),Qn=U(v,"P",{});var Fs=ue(Qn);Qh=ae(Fs,"The training and definitions are in "),Me(Da.$$.fragment,Fs),Kh=ae(Fs," and the quantization is in "),Me(_a.$$.fragment,Fs),Jh=ae(Fs," if you're interested."),Fs.forEach(k),Ru=ee(v),Ia=U(v,"P",{"data-svelte-h":!0}),we(Ia)!=="svelte-1idmqa4"&&(Ia.textContent=W3),Pu=ee(v),d0=U(v,"DIV",{class:!0,"data-svelte-h":!0}),we(d0)!=="svelte-1wxj4if"&&(d0.innerHTML=Y3),Ou=ee(v),Me(Na.$$.fragment,v),Hu=ee(v),qa=U(v,"P",{"data-svelte-h":!0}),we(qa)!=="svelte-jsjnm2"&&(qa.textContent=G3),Vu=ee(v),m0=U(v,"P",{});var o1=ue(m0);e2=ae(o1,"Despite this neural network having a high maximum condition number (computed by taking the condition number over each layer and taking the max "),Me(Ba.$$.fragment,o1),t2=ae(o1,"), using k-means quantization, the outputs look quite good: the reconstruction is accurate. I speculate again that with extra shared numbers to spare, k-means was sensitive tot he outlier which caused the high condition number, thereby masking the large effects."),o1.forEach(k),Uu=ee(v),Fa=U(v,"DIV",{id:!0,class:!0}),ue(Fa).forEach(k),ju=ee(v),La=U(v,"H2",{"data-svelte-h":!0}),we(La)!=="svelte-nbmqct"&&(La.innerHTML=X3),Wu=ee(v),Ra=U(v,"P",{"data-svelte-h":!0}),we(Ra)!=="svelte-1c6hsba"&&(Ra.textContent=Z3),Yu=ee(v),Pa=U(v,"P",{"data-svelte-h":!0}),we(Pa)!=="svelte-1khqhvr"&&(Pa.textContent=Q3),Gu=ee(v),Oa=U(v,"P",{"data-svelte-h":!0}),we(Oa)!=="svelte-1xw7y1v"&&(Oa.textContent=K3),Xu=ee(v),Ha=U(v,"DIV",{id:!0,class:!0}),ue(Ha).forEach(k),Zu=ee(v),Va=U(v,"H2",{"data-svelte-h":!0}),we(Va)!=="svelte-1hcknps"&&(Va.innerHTML=J3),Qu=ee(v),jt=U(v,"UL",{});var tr=ue(jt);$r=U(tr,"LI",{});var Ls=ue($r);n2=ae(Ls,"I thank myself "),Me(Ua.$$.fragment,Ls),r2=ae(Ls," for writing the article and "),Me(ja.$$.fragment,Ls),i2=ae(Ls," for discussing ideas and giving me valuable feedback during the 2023 Summer at Carnegie Mellon University"),Ls.forEach(k),a2=ee(tr),Wa=U(tr,"LI",{});var l1=ue(Wa);s2=ae(l1,"Inspiration to even think to cover this topic from "),Me(Ya.$$.fragment,l1),o2=ae(l1," which evidently is by the author of that Deep Compression Paper I referenced earlier"),l1.forEach(k),l2=ee(tr),Is=U(tr,"LI",{});var b2=ue(Is);Me(Ga.$$.fragment,b2),u2=ae(b2," was extremely useful"),b2.forEach(k),f2=ee(tr),Ns=U(tr,"LI",{});var w2=ue(Ns);Me(Xa.$$.fragment,w2),c2=ae(w2," is really awesome out of the box"),w2.forEach(k),h2=ee(tr),qs=U(tr,"LI",{});var x2=ue(qs);Me(Za.$$.fragment,x2),d2=ae(x2," for math equations"),x2.forEach(k),tr.forEach(k),this.h()},h(){G(i,"id","Introduction"),G(i,"class","svp-anchor-item"),xn(h,"background-image","url(cyber.jpg)"),xn(h,"height","50px"),G(h,"class","thumb svelte-qseo6f"),G(B,"id","Sharing-as-Compression"),G(B,"class","svp-anchor-item"),G(ze,"id","Sharing-Pixels"),G(ze,"class","svp-anchor-item"),V1(Ft.src,xo="dog.png")||G(Ft,"src",xo),xn(Ft,"width","300px"),G(Ft,"class","svelte-qseo6f"),xn(Lt,"color","rgb(255, 0, 0)"),xn(F0,"color","rgb(0, 255, 0)"),xn(L0,"color","rgb(0, 0, 255)"),G(i0,"class","admonition admonition-important"),G(G0,"class","admonition-heading"),G(_n,"class","admonition-content"),G(a0,"class","admonition admonition-note"),G(J0,"id","Quantifying-Error"),G(J0,"class","svp-anchor-item"),G(s0,"class","admonition admonition-important"),G(li,"class","admonition-heading"),G(xr,"class","admonition-content"),G(o0,"class","admonition admonition-note"),G(ki,"id","Matrix-Multiplication"),G(ki,"class","svp-anchor-item"),G(l0,"class","admonition admonition-warning"),G(Gi,"class","admonition-heading"),G(zs,"class","admonition-content"),G(u0,"class","admonition admonition-note"),G(oa,"class","admonition-heading"),G(la,"class","admonition-content"),G(f0,"class","admonition admonition-note"),G(c0,"class","admonition admonition-important"),G(Ma,"id","More-layers"),G(Ma,"class","svp-anchor-item"),G(Sr,"class","shiki vitesse-light"),xn(Sr,"background-color","#ffffff"),G(Sr,"tabindex","0"),G(kr,"class","shiki night-owl"),xn(kr,"background-color","#011627"),G(kr,"tabindex","0"),G(Ea,"class","svp-code-block--lang"),G(yn,"class","svp-code-block"),G(Aa,"class","svp-code-block-wrapper"),G(d0,"class","admonition admonition-important"),G(Fa,"id","Conclusion"),G(Fa,"class","svp-anchor-item"),G(Ha,"id","Acknowledgments"),G(Ha,"class","svp-anchor-item")},m(v,P){N(v,t,P),N(v,r,P),N(v,i,P),N(v,a,P),N(v,s,P),N(v,l,P),N(v,u,P),N(v,c,P),N(v,h,P),N(v,d,P),N(v,p,P),q(p,y),q(y,b),Se(x,y,null),q(y,$),N(v,E,P),N(v,T,P),q(T,A),Se(D,T,null),q(T,z),N(v,j,P),N(v,O,P),N(v,C,P),N(v,B,P),N(v,L,P),N(v,X,P),N(v,Q,P),N(v,oe,P),q(oe,re),Se(de,oe,null),q(oe,K),N(v,ne,P),N(v,te,P),N(v,se,P),N(v,ye,P),N(v,le,P),N(v,ce,P),N(v,pe,P),N(v,Ae,P),N(v,$e,P),N(v,ze,P),N(v,qe,P),N(v,Ne,P),N(v,ot,P),N(v,lt,P),N(v,Ut,P),N(v,Ct,P),N(v,B0,P),N(v,br,P),N(v,ks,P),N(v,Ft,P),N(v,Zn,P),N(v,Et,P),q(Et,Mo),Se(wr,Et,null),q(Et,Dn),q(Et,Lt),q(Et,Fc),q(Et,F0),q(Et,Lc),q(Et,L0),q(Et,Rc),N(v,ql,P),N(v,R0,P),N(v,Bl,P),N(v,P0,P),N(v,Fl,P),Se(O0,v,P),N(v,Ll,P),N(v,H0,P),N(v,Rl,P),N(v,V0,P),N(v,Pl,P),Se(U0,v,P),N(v,Ol,P),N(v,j0,P),N(v,Hl,P),N(v,i0,P),N(v,Vl,P),Se(W0,v,P),N(v,Ul,P),N(v,Y0,P),N(v,jl,P),N(v,a0,P),q(a0,G0),q(a0,_n),q(_n,$s),q(_n,Ts),q(_n,X0),q(X0,Pc),Se(Z0,X0,null),q(X0,Oc),q(_n,Q0),q(Q0,Hc),Se(K0,Q0,null),q(Q0,Vc),q(_n,Cs),q(_n,As),N(v,Wl,P),N(v,J0,P),N(v,Yl,P),N(v,ei,P),N(v,Gl,P),N(v,ti,P),N(v,Xl,P),N(v,ni,P),N(v,Zl,P),N(v,ri,P),N(v,Ql,P),N(v,ii,P),N(v,Kl,P),N(v,s0,P),N(v,Jl,P),Se(ai,v,P),N(v,eu,P),N(v,si,P),N(v,tu,P),N(v,oi,P),N(v,nu,P),N(v,o0,P),q(o0,li),q(o0,xr),q(xr,At),q(At,Uc),Se(ui,At,null),q(At,jc),Se(fi,At,null),q(At,Wc),Se(ci,At,null),q(At,Yc),Se(hi,At,null),q(At,Gc),Se(di,At,null),q(At,Xc),Se(mi,At,null),q(At,Zc),q(xr,Jt),q(Jt,Qc),Se(pi,Jt,null),q(Jt,Kc),Se(gi,Jt,null),q(Jt,Jc),Se(vi,Jt,null),q(Jt,eh),Se(yi,Jt,null),q(Jt,th),q(xr,en),q(en,nh),Se(bi,en,null),q(en,rh),Se(wi,en,null),q(en,ih),q(en,Es),q(en,ah),Se(xi,en,null),q(en,sh),q(xr,Mr),q(Mr,oh),Se(Mi,Mr,null),q(Mr,lh),Se(Si,Mr,null),q(Mr,uh),N(v,ru,P),N(v,ki,P),N(v,iu,P),N(v,$i,P),N(v,au,P),N(v,Ti,P),N(v,su,P),N(v,Ci,P),N(v,ou,P),Se(Ai,v,P),N(v,lu,P),N(v,pn,P),q(pn,fh),Se(Ei,pn,null),q(pn,ch),Se(zi,pn,null),q(pn,hh),Se(Di,pn,null),q(pn,dh),N(v,uu,P),N(v,_i,P),N(v,fu,P),N(v,Ii,P),N(v,cu,P),N(v,l0,P),N(v,hu,P),N(v,dt,P),q(dt,mh),Se(Ni,dt,null),q(dt,ph),Se(qi,dt,null),q(dt,gh),Se(Bi,dt,null),q(dt,vh),Se(Fi,dt,null),q(dt,yh),Se(Li,dt,null),q(dt,bh),Se(Ri,dt,null),q(dt,wh),Se(Pi,dt,null),q(dt,xh),N(v,du,P),N(v,mt,P),q(mt,Mh),Se(Oi,mt,null),q(mt,Sh),Se(Hi,mt,null),q(mt,kh),Se(Vi,mt,null),q(mt,$h),Se(Ui,mt,null),q(mt,Th),Se(ji,mt,null),q(mt,Ch),Se(Wi,mt,null),q(mt,Ah),Se(Yi,mt,null),q(mt,Eh),N(v,mu,P),N(v,u0,P),q(u0,Gi),q(u0,zs),q(zs,Xi),q(Xi,zh),Se(Zi,Xi,null),q(Xi,Dh),N(v,pu,P),N(v,gn,P),q(gn,_h),Se(Qi,gn,null),q(gn,Ih),Se(Ki,gn,null),q(gn,Nh),Se(Ji,gn,null),q(gn,qh),N(v,gu,P),N(v,Ds,P),Se(ea,Ds,null),N(v,vu,P),N(v,ta,P),N(v,yu,P),N(v,tn,P),q(tn,Bh),Se(na,tn,null),q(tn,Fh),Se(ra,tn,null),q(tn,Lh),Se(ia,tn,null),q(tn,Rh),Se(aa,tn,null),N(v,bu,P),N(v,sa,P),N(v,wu,P),N(v,f0,P),q(f0,oa),q(f0,la),q(la,ua),q(ua,Ph),Se(fa,ua,null),q(ua,Oh),q(la,_s),N(v,xu,P),N(v,ca,P),N(v,Mu,P),N(v,vn,P),q(vn,Hh),Se(ha,vn,null),q(vn,Vh),Se(da,vn,null),q(vn,Uh),Se(ma,vn,null),q(vn,jh),N(v,Su,P),N(v,pa,P),N(v,ku,P),N(v,c0,P),N(v,$u,P),Se(ga,v,P),N(v,Tu,P),N(v,va,P),N(v,Cu,P),N(v,ya,P),N(v,Au,P),N(v,ba,P),N(v,Eu,P),N(v,wa,P),N(v,zu,P),N(v,xa,P),N(v,Du,P),N(v,Ma,P),N(v,_u,P),N(v,Sa,P),N(v,Iu,P),N(v,ka,P),N(v,Nu,P),N(v,$a,P),N(v,qu,P),N(v,Ta,P),N(v,Bu,P),N(v,h0,P),q(h0,Wh),Se(Ca,h0,null),q(h0,Yh),N(v,Fu,P),N(v,Aa,P),q(Aa,yn),q(yn,Sr),q(yn,Gh),q(yn,kr),q(yn,Xh),q(yn,Ea),q(yn,Zh),Se(za,yn,null),N(v,Lu,P),N(v,Qn,P),q(Qn,Qh),Se(Da,Qn,null),q(Qn,Kh),Se(_a,Qn,null),q(Qn,Jh),N(v,Ru,P),N(v,Ia,P),N(v,Pu,P),N(v,d0,P),N(v,Ou,P),Se(Na,v,P),N(v,Hu,P),N(v,qa,P),N(v,Vu,P),N(v,m0,P),q(m0,e2),Se(Ba,m0,null),q(m0,t2),N(v,Uu,P),N(v,Fa,P),N(v,ju,P),N(v,La,P),N(v,Wu,P),N(v,Ra,P),N(v,Yu,P),N(v,Pa,P),N(v,Gu,P),N(v,Oa,P),N(v,Xu,P),N(v,Ha,P),N(v,Zu,P),N(v,Va,P),N(v,Qu,P),N(v,jt,P),q(jt,$r),q($r,n2),Se(Ua,$r,null),q($r,r2),Se(ja,$r,null),q($r,i2),q(jt,a2),q(jt,Wa),q(Wa,s2),Se(Ya,Wa,null),q(Wa,o2),q(jt,l2),q(jt,Is),Se(Ga,Is,null),q(Is,u2),q(jt,f2),q(jt,Ns),Se(Xa,Ns,null),q(Ns,c2),q(jt,h2),q(jt,qs),Se(Za,qs,null),q(qs,d2),Ku=!0},p:Ke,i(v){Ku||(ge(x.$$.fragment,v),ge(D.$$.fragment,v),ge(de.$$.fragment,v),ge(wr.$$.fragment,v),ge(O0.$$.fragment,v),ge(U0.$$.fragment,v),ge(W0.$$.fragment,v),ge(Z0.$$.fragment,v),ge(K0.$$.fragment,v),ge(ai.$$.fragment,v),ge(ui.$$.fragment,v),ge(fi.$$.fragment,v),ge(ci.$$.fragment,v),ge(hi.$$.fragment,v),ge(di.$$.fragment,v),ge(mi.$$.fragment,v),ge(pi.$$.fragment,v),ge(gi.$$.fragment,v),ge(vi.$$.fragment,v),ge(yi.$$.fragment,v),ge(bi.$$.fragment,v),ge(wi.$$.fragment,v),ge(xi.$$.fragment,v),ge(Mi.$$.fragment,v),ge(Si.$$.fragment,v),ge(Ai.$$.fragment,v),ge(Ei.$$.fragment,v),ge(zi.$$.fragment,v),ge(Di.$$.fragment,v),ge(Ni.$$.fragment,v),ge(qi.$$.fragment,v),ge(Bi.$$.fragment,v),ge(Fi.$$.fragment,v),ge(Li.$$.fragment,v),ge(Ri.$$.fragment,v),ge(Pi.$$.fragment,v),ge(Oi.$$.fragment,v),ge(Hi.$$.fragment,v),ge(Vi.$$.fragment,v),ge(Ui.$$.fragment,v),ge(ji.$$.fragment,v),ge(Wi.$$.fragment,v),ge(Yi.$$.fragment,v),ge(Zi.$$.fragment,v),ge(Qi.$$.fragment,v),ge(Ki.$$.fragment,v),ge(Ji.$$.fragment,v),ge(ea.$$.fragment,v),ge(na.$$.fragment,v),ge(ra.$$.fragment,v),ge(ia.$$.fragment,v),ge(aa.$$.fragment,v),ge(fa.$$.fragment,v),ge(ha.$$.fragment,v),ge(da.$$.fragment,v),ge(ma.$$.fragment,v),ge(ga.$$.fragment,v),ge(Ca.$$.fragment,v),ge(za.$$.fragment,v),ge(Da.$$.fragment,v),ge(_a.$$.fragment,v),ge(Na.$$.fragment,v),ge(Ba.$$.fragment,v),ge(Ua.$$.fragment,v),ge(ja.$$.fragment,v),ge(Ya.$$.fragment,v),ge(Ga.$$.fragment,v),ge(Xa.$$.fragment,v),ge(Za.$$.fragment,v),Ku=!0)},o(v){be(x.$$.fragment,v),be(D.$$.fragment,v),be(de.$$.fragment,v),be(wr.$$.fragment,v),be(O0.$$.fragment,v),be(U0.$$.fragment,v),be(W0.$$.fragment,v),be(Z0.$$.fragment,v),be(K0.$$.fragment,v),be(ai.$$.fragment,v),be(ui.$$.fragment,v),be(fi.$$.fragment,v),be(ci.$$.fragment,v),be(hi.$$.fragment,v),be(di.$$.fragment,v),be(mi.$$.fragment,v),be(pi.$$.fragment,v),be(gi.$$.fragment,v),be(vi.$$.fragment,v),be(yi.$$.fragment,v),be(bi.$$.fragment,v),be(wi.$$.fragment,v),be(xi.$$.fragment,v),be(Mi.$$.fragment,v),be(Si.$$.fragment,v),be(Ai.$$.fragment,v),be(Ei.$$.fragment,v),be(zi.$$.fragment,v),be(Di.$$.fragment,v),be(Ni.$$.fragment,v),be(qi.$$.fragment,v),be(Bi.$$.fragment,v),be(Fi.$$.fragment,v),be(Li.$$.fragment,v),be(Ri.$$.fragment,v),be(Pi.$$.fragment,v),be(Oi.$$.fragment,v),be(Hi.$$.fragment,v),be(Vi.$$.fragment,v),be(Ui.$$.fragment,v),be(ji.$$.fragment,v),be(Wi.$$.fragment,v),be(Yi.$$.fragment,v),be(Zi.$$.fragment,v),be(Qi.$$.fragment,v),be(Ki.$$.fragment,v),be(Ji.$$.fragment,v),be(ea.$$.fragment,v),be(na.$$.fragment,v),be(ra.$$.fragment,v),be(ia.$$.fragment,v),be(aa.$$.fragment,v),be(fa.$$.fragment,v),be(ha.$$.fragment,v),be(da.$$.fragment,v),be(ma.$$.fragment,v),be(ga.$$.fragment,v),be(Ca.$$.fragment,v),be(za.$$.fragment,v),be(Da.$$.fragment,v),be(_a.$$.fragment,v),be(Na.$$.fragment,v),be(Ba.$$.fragment,v),be(Ua.$$.fragment,v),be(ja.$$.fragment,v),be(Ya.$$.fragment,v),be(Ga.$$.fragment,v),be(Xa.$$.fragment,v),be(Za.$$.fragment,v),Ku=!1},d(v){v&&(k(t),k(r),k(i),k(a),k(s),k(l),k(u),k(c),k(h),k(d),k(p),k(E),k(T),k(j),k(O),k(C),k(B),k(L),k(X),k(Q),k(oe),k(ne),k(te),k(se),k(ye),k(le),k(ce),k(pe),k(Ae),k($e),k(ze),k(qe),k(Ne),k(ot),k(lt),k(Ut),k(Ct),k(B0),k(br),k(ks),k(Ft),k(Zn),k(Et),k(ql),k(R0),k(Bl),k(P0),k(Fl),k(Ll),k(H0),k(Rl),k(V0),k(Pl),k(Ol),k(j0),k(Hl),k(i0),k(Vl),k(Ul),k(Y0),k(jl),k(a0),k(Wl),k(J0),k(Yl),k(ei),k(Gl),k(ti),k(Xl),k(ni),k(Zl),k(ri),k(Ql),k(ii),k(Kl),k(s0),k(Jl),k(eu),k(si),k(tu),k(oi),k(nu),k(o0),k(ru),k(ki),k(iu),k($i),k(au),k(Ti),k(su),k(Ci),k(ou),k(lu),k(pn),k(uu),k(_i),k(fu),k(Ii),k(cu),k(l0),k(hu),k(dt),k(du),k(mt),k(mu),k(u0),k(pu),k(gn),k(gu),k(Ds),k(vu),k(ta),k(yu),k(tn),k(bu),k(sa),k(wu),k(f0),k(xu),k(ca),k(Mu),k(vn),k(Su),k(pa),k(ku),k(c0),k($u),k(Tu),k(va),k(Cu),k(ya),k(Au),k(ba),k(Eu),k(wa),k(zu),k(xa),k(Du),k(Ma),k(_u),k(Sa),k(Iu),k(ka),k(Nu),k($a),k(qu),k(Ta),k(Bu),k(h0),k(Fu),k(Aa),k(Lu),k(Qn),k(Ru),k(Ia),k(Pu),k(d0),k(Ou),k(Hu),k(qa),k(Vu),k(m0),k(Uu),k(Fa),k(ju),k(La),k(Wu),k(Ra),k(Yu),k(Pa),k(Gu),k(Oa),k(Xu),k(Ha),k(Zu),k(Va),k(Qu),k(jt)),ke(x),ke(D),ke(de),ke(wr),ke(O0,v),ke(U0,v),ke(W0,v),ke(Z0),ke(K0),ke(ai,v),ke(ui),ke(fi),ke(ci),ke(hi),ke(di),ke(mi),ke(pi),ke(gi),ke(vi),ke(yi),ke(bi),ke(wi),ke(xi),ke(Mi),ke(Si),ke(Ai,v),ke(Ei),ke(zi),ke(Di),ke(Ni),ke(qi),ke(Bi),ke(Fi),ke(Li),ke(Ri),ke(Pi),ke(Oi),ke(Hi),ke(Vi),ke(Ui),ke(ji),ke(Wi),ke(Yi),ke(Zi),ke(Qi),ke(Ki),ke(Ji),ke(ea),ke(na),ke(ra),ke(ia),ke(aa),ke(fa),ke(ha),ke(da),ke(ma),ke(ga,v),ke(Ca),ke(za),ke(Da),ke(_a),ke(Na,v),ke(Ba),ke(Ua),ke(ja),ke(Ya),ke(Ga),ke(Xa),ke(Za)}}}function Tq(e){let t,n;return t=new zb({props:{fm:e[0],$$slots:{default:[$q]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},l(r){Me(t.$$.fragment,r)},m(r,i){Se(t,r,i),n=!0},p(r,[i]){const a={};i&2&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(ge(t.$$.fragment,r),n=!0)},o(r){be(t.$$.fragment,r),n=!1},d(r){ke(t,r)}}}const Cq="https://github.com/xnought/docs";function Aq(e){return[{pageType:"md",lastUpdate:"August 2023",title:"Visualizing Model Compression Error",anchors:[{slugId:"Introduction",title:"Introduction",depth:2},{slugId:"Sharing-as-Compression",title:"Sharing as Compression",depth:2},{slugId:"Sharing-Pixels",title:"Sharing Pixels",depth:2},{slugId:"Quantifying-Error",title:"Quantifying Error",depth:2},{slugId:"Matrix-Multiplication",title:"Matrix Multiplication",depth:2},{slugId:"More-layers",title:"More layers",depth:2},{slugId:"Conclusion",title:"Conclusion",depth:2},{slugId:"Acknowledgments",title:"Acknowledgments",depth:2}]}]}class Nq extends hn{constructor(t){super(),dn(this,t,Aq,Tq,cn,{})}}export{Nq as component};

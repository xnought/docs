import{s as jt,w as Bt,x as Rt,h as ie,d as M,j as O,i as D,r as N,u as Xe,e as ln,p as Un,f as F,g as P,F as vt,J as Wl,a as Z,c as Q,Y as we,M as Tf,k as Ye,l as K,m as J,Z as Gr,n as sn,_ as kc,o as Tm,K as Hw,L as Vw,$ as $c,V as Uw,a0 as c6,C as Tc,a1 as jw}from"../chunks/scheduler.655c61ae.js";import{S as Wt,i as Yt,g as d8,t as me,c as m8,a as de,b as ge,d as ve,m as be,e as ye}from"../chunks/index.9e10714d.js";import{P as Ww}from"../chunks/CopyCode.svelte_svelte_type_style_lang.84bf9d0b.js";import{e as B0}from"../chunks/Link.svelte_svelte_type_style_lang.f96522df.js";import{L as wt}from"../chunks/Link.1a6c15e7.js";function Yw(e){let t,n,r;return{c(){t=Bt("svg"),n=Bt("path"),r=Bt("path"),this.h()},l(i){t=Rt(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=ie(t);n=Rt(a,"path",{fill:!0,d:!0}),ie(n).forEach(M),r=Rt(a,"path",{fill:!0,d:!0}),ie(r).forEach(M),a.forEach(M),this.h()},h(){O(n,"fill","currentColor"),O(n,"d","M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"),O(r,"fill","currentColor"),O(r,"d","M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"),O(t,"xmlns","http://www.w3.org/2000/svg"),O(t,"width","1em"),O(t,"height","1em"),O(t,"viewBox","0 0 24 24")},m(i,a){D(i,t,a),N(t,n),N(t,r)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t)}}}class Gw extends Wt{constructor(t){super(),Yt(this,t,null,Yw,jt,{})}}function Xw(e){let t,n;return{c(){t=Bt("svg"),n=Bt("path"),this.h()},l(r){t=Rt(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=ie(t);n=Rt(i,"path",{fill:!0,d:!0}),ie(n).forEach(M),i.forEach(M),this.h()},h(){O(n,"fill","currentColor"),O(n,"d","M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4L9 16.2z"),O(t,"xmlns","http://www.w3.org/2000/svg"),O(t,"width","1em"),O(t,"height","1em"),O(t,"viewBox","0 0 24 24")},m(r,i){D(r,t,i),N(t,n)},p:Xe,i:Xe,o:Xe,d(r){r&&M(t)}}}class Zw extends Wt{constructor(t){super(),Yt(this,t,null,Xw,jt,{})}}function Qw(e){let t,n,r,i,a;return n=new Gw({}),{c(){t=F("div"),ge(n.$$.fragment),this.h()},l(s){t=P(s,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var o=ie(t);ve(n.$$.fragment,o),o.forEach(M),this.h()},h(){O(t,"class","svp-code-bock--copy-code"),O(t,"role","button"),O(t,"tabindex","0"),O(t,"aria-label","Copy code")},m(s,o){D(s,t,o),be(n,t,null),e[3](t),r=!0,i||(a=[vt(t,"click",e[2]),vt(t,"keyup",e[2])],i=!0)},p:Xe,i(s){r||(de(n.$$.fragment,s),r=!0)},o(s){me(n.$$.fragment,s),r=!1},d(s){s&&M(t),ye(n),e[3](null),i=!1,Wl(a)}}}function Kw(e){let t,n,r;return n=new Zw({}),{c(){t=F("div"),ge(n.$$.fragment),this.h()},l(i){t=P(i,"DIV",{class:!0});var a=ie(t);ve(n.$$.fragment,a),a.forEach(M),this.h()},h(){O(t,"class","svp-code-bock--copy-code")},m(i,a){D(i,t,a),be(n,t,null),r=!0},p:Xe,i(i){r||(de(n.$$.fragment,i),r=!0)},o(i){me(n.$$.fragment,i),r=!1},d(i){i&&M(t),ye(n)}}}function Jw(e){let t,n,r,i;const a=[Kw,Qw],s=[];function o(l,u){return l[1]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=ln()},l(l){n.l(l),r=ln()},m(l,u){s[t].m(l,u),D(l,r,u),i=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(d8(),me(s[f],1,1,()=>{s[f]=null}),m8(),n=s[t],n?n.p(l,u):(n=s[t]=a[t](l),n.c()),de(n,1),n.m(r.parentNode,r))},i(l){i||(de(n),i=!0)},o(l){me(n),i=!1},d(l){l&&M(r),s[t].d(l)}}}function ex(e,t,n){let r,i=!1;function a(){var l,u;const o=((u=(l=r==null?void 0:r.parentElement)==null?void 0:l.querySelector(".shiki"))==null?void 0:u.textContent)||"";navigator.clipboard.writeText(o),n(1,i=!0),setTimeout(()=>{n(1,i=!1)},2e3)}function s(o){Un[o?"unshift":"push"](()=>{r=o,n(0,r)})}return[r,i,a,s]}class tx extends Wt{constructor(t){super(),Yt(this,t,ex,Jw,jt,{})}}function h6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=F("input"),n=Z(),r=F("span"),a=K(i),s=K(" colors"),this.h()},l(u){t=P(u,"INPUT",{type:!0,min:!0,max:!0}),n=Q(u),r=P(u,"SPAN",{class:!0});var f=ie(r);a=J(f,i),s=J(f," colors"),f.forEach(M),this.h()},h(){O(t,"type","range"),O(t,"min","0"),O(t,"max",e[3].length-1),O(r,"class","label svelte-qipmvq")},m(u,f){D(u,t,f),Gr(t,e[0]),D(u,n,f),D(u,r,f),N(r,a),N(r,s),o||(l=[vt(t,"change",e[4]),vt(t,"input",e[4])],o=!0)},p(u,f){f&1&&Gr(t,u[0]),f&1&&i!==(i=2**u[0]+"")&&sn(a,i)},d(u){u&&(M(t),M(n),M(r)),o=!1,Wl(l)}}}function nx(e){let t=2**e[0]+"",n,r;return{c(){n=K(t),r=K(" colors")},l(i){n=J(i,t),r=J(i," colors")},m(i,a){D(i,n,a),D(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&sn(n,t)},d(i){i&&(M(n),M(r))}}}function rx(e){let t=2**e[0]+"",n,r;return{c(){n=K(t),r=K(" color")},l(i){n=J(i,t),r=J(i," color")},m(i,a){D(i,n,a),D(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&sn(n,t)},d(i){i&&(M(n),M(r))}}}function ix(e){let t,n,r,i,a="Compressed",s,o,l,u,f,c,h,d,p,b="Original",y,w,k,E,$,A,z="4,824,160 colors",_=e[2]&&h6(e);function j(C,L){return C[0]===0?rx:nx}let H=j(e),S=H(e);return{c(){_&&_.c(),t=Z(),n=F("div"),r=F("div"),i=F("div"),i.textContent=a,s=Z(),o=F("div"),l=F("img"),f=Z(),c=F("div"),S.c(),h=Z(),d=F("div"),p=F("div"),p.textContent=b,y=Z(),w=F("div"),k=F("img"),$=Z(),A=F("div"),A.textContent=z,this.h()},l(C){_&&_.l(C),t=Q(C),n=P(C,"DIV",{id:!0,class:!0});var L=ie(n);r=P(L,"DIV",{id:!0,class:!0});var R=ie(r);i=P(R,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-gr914o"&&(i.textContent=a),s=Q(R),o=P(R,"DIV",{});var X=ie(o);l=P(X,"IMG",{id:!0,src:!0,style:!0,class:!0}),X.forEach(M),f=Q(R),c=P(R,"DIV",{class:!0});var I=ie(c);S.l(I),I.forEach(M),R.forEach(M),h=Q(L),d=P(L,"DIV",{id:!0,class:!0});var W=ie(d);p=P(W,"DIV",{class:!0,"data-svelte-h":!0}),we(p)!=="svelte-1go56d2"&&(p.textContent=b),y=Q(W),w=P(W,"DIV",{});var ae=ie(w);k=P(ae,"IMG",{id:!0,src:!0,style:!0,class:!0}),ae.forEach(M),$=Q(W),A=P(W,"DIV",{class:!0,"data-svelte-h":!0}),we(A)!=="svelte-b5me6g"&&(A.textContent=z),W.forEach(M),L.forEach(M),this.h()},h(){O(i,"class","label svelte-qipmvq"),O(l,"id","compressed"),Tf(l.src,u=e[3][e[0]])||O(l,"src",u),Ye(l,"width",e[1]+"px"),O(l,"class","svelte-qipmvq"),O(c,"class","label svelte-qipmvq"),O(r,"id","k"),O(r,"class","svelte-qipmvq"),O(p,"class","label svelte-qipmvq"),O(k,"id","original"),Tf(k.src,E="dog.png")||O(k,"src",E),Ye(k,"width",e[1]+"px"),O(k,"class","svelte-qipmvq"),O(A,"class","label svelte-qipmvq"),O(d,"id","og"),O(d,"class","svelte-qipmvq"),O(n,"id","kmeans-container"),O(n,"class","svelte-qipmvq")},m(C,L){_&&_.m(C,L),D(C,t,L),D(C,n,L),N(n,r),N(r,i),N(r,s),N(r,o),N(o,l),N(r,f),N(r,c),S.m(c,null),N(n,h),N(n,d),N(d,p),N(d,y),N(d,w),N(w,k),N(d,$),N(d,A)},p(C,[L]){C[2]?_?_.p(C,L):(_=h6(C),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null),L&1&&!Tf(l.src,u=C[3][C[0]])&&O(l,"src",u),L&2&&Ye(l,"width",C[1]+"px"),H===(H=j(C))&&S?S.p(C,L):(S.d(1),S=H(C),S&&(S.c(),S.m(c,null))),L&2&&Ye(k,"width",C[1]+"px")},i:Xe,o:Xe,d(C){C&&(M(t),M(n)),_&&_.d(C),S.d()}}}function ax(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(l=>`${l}.png`);let{selected:i=2}=t,{width:a=300}=t,{showSlider:s=!1}=t;function o(){i=kc(this.value),n(0,i)}return e.$$set=l=>{"selected"in l&&n(0,i=l.selected),"width"in l&&n(1,a=l.width),"showSlider"in l&&n(2,s=l.showSlider)},[i,a,s,r,o]}class Sd extends Wt{constructor(t){super(),Yt(this,t,ax,ix,jt,{selected:0,width:1,showSlider:2})}}function d6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=F("input"),n=Z(),r=F("span"),a=K(i),s=K(" colors"),this.h()},l(u){t=P(u,"INPUT",{type:!0,min:!0,max:!0}),n=Q(u),r=P(u,"SPAN",{class:!0});var f=ie(r);a=J(f,i),s=J(f," colors"),f.forEach(M),this.h()},h(){O(t,"type","range"),O(t,"min","0"),O(t,"max",e[6].length-1),O(r,"class","label svelte-1y3a1uz")},m(u,f){D(u,t,f),Gr(t,e[0]),D(u,n,f),D(u,r,f),N(r,a),N(r,s),o||(l=[vt(t,"change",e[8]),vt(t,"input",e[8])],o=!0)},p(u,f){f&1&&Gr(t,u[0]),f&1&&i!==(i=2**u[0]+"")&&sn(a,i)},d(u){u&&(M(t),M(n),M(r)),o=!1,Wl(l)}}}function sx(e){let t,n,r,i,a="Compressed",s,o,l,u,f,c,h="Original",d,p,b,y,w,k,E,$,A=e[4].toFixed(2)+"",z,_,j,H=e[2]&&d6(e);return{c(){H&&H.c(),t=Z(),n=F("div"),r=F("div"),i=F("div"),i.textContent=a,s=Z(),o=F("div"),l=F("canvas"),u=Z(),f=F("div"),c=F("div"),c.textContent=h,d=Z(),p=F("div"),b=F("canvas"),y=Z(),w=F("div"),k=F("div"),E=F("b"),$=K("Average Error: "),z=K(A),_=Z(),j=F("canvas"),this.h()},l(S){H&&H.l(S),t=Q(S),n=P(S,"DIV",{id:!0,class:!0});var C=ie(n);r=P(C,"DIV",{id:!0,class:!0});var L=ie(r);i=P(L,"DIV",{class:!0,"data-svelte-h":!0}),we(i)!=="svelte-gr914o"&&(i.textContent=a),s=Q(L),o=P(L,"DIV",{});var R=ie(o);l=P(R,"CANVAS",{width:!0,height:!0,class:!0}),ie(l).forEach(M),R.forEach(M),L.forEach(M),u=Q(C),f=P(C,"DIV",{id:!0,class:!0});var X=ie(f);c=P(X,"DIV",{class:!0,"data-svelte-h":!0}),we(c)!=="svelte-1go56d2"&&(c.textContent=h),d=Q(X),p=P(X,"DIV",{});var I=ie(p);b=P(I,"CANVAS",{width:!0,height:!0,class:!0}),ie(b).forEach(M),I.forEach(M),X.forEach(M),y=Q(C),w=P(C,"DIV",{});var W=ie(w);k=P(W,"DIV",{class:!0});var ae=ie(k);E=P(ae,"B",{});var re=ie(E);$=J(re,"Average Error: "),z=J(re,A),re.forEach(M),ae.forEach(M),_=Q(W),j=P(W,"CANVAS",{width:!0,height:!0,class:!0}),ie(j).forEach(M),W.forEach(M),C.forEach(M),this.h()},h(){O(i,"class","label svelte-1y3a1uz"),O(l,"width",e[1]),O(l,"height",e[3]),O(l,"class","svelte-1y3a1uz"),O(r,"id","k"),O(r,"class","svelte-1y3a1uz"),O(c,"class","label svelte-1y3a1uz"),O(b,"width",e[1]),O(b,"height",e[3]),O(b,"class","svelte-1y3a1uz"),O(f,"id","og"),O(f,"class","svelte-1y3a1uz"),O(k,"class","label svelte-1y3a1uz"),O(j,"width",e[1]),O(j,"height",e[3]),O(j,"class","svelte-1y3a1uz"),O(n,"id","kmeans-container"),O(n,"class","svelte-1y3a1uz")},m(S,C){H&&H.m(S,C),D(S,t,C),D(S,n,C),N(n,r),N(r,i),N(r,s),N(r,o),N(o,l),e[9](l),N(n,u),N(n,f),N(f,c),N(f,d),N(f,p),N(p,b),e[10](b),N(n,y),N(n,w),N(w,k),N(k,E),N(E,$),N(E,z),N(w,_),N(w,j),e[11](j)},p(S,[C]){S[2]?H?H.p(S,C):(H=d6(S),H.c(),H.m(t.parentNode,t)):H&&(H.d(1),H=null),C&2&&O(l,"width",S[1]),C&8&&O(l,"height",S[3]),C&2&&O(b,"width",S[1]),C&8&&O(b,"height",S[3]),C&16&&A!==(A=S[4].toFixed(2)+"")&&sn(z,A),C&2&&O(j,"width",S[1]),C&8&&O(j,"height",S[3])},i:Xe,o:Xe,d(S){S&&(M(t),M(n)),H&&H.d(S),e[9](null),e[10](null),e[11](null)}}}const ox="dog.png";function lx(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(A=>`${A}.png`);let{selected:i=0}=t,a=r[i],{width:s=230}=t,{showSlider:o=!0}=t,{height:l=150}=t,u=0,f={original:void 0,image:void 0,diff:void 0},c={original:void 0,image:void 0,diff:void 0};function h(A,z){return new Promise((j,H)=>{const S=new Image;S.src=z,S.onload=function(){A.drawImage(S,0,0,s,l),j()}})}function d(A,z,_){const j=new Uint8ClampedArray(s*l*4);n(4,u=0);for(let S=0;S<s*l*4;S+=4){const C=Math.abs(z[S]-_[S]),L=Math.abs(z[S+1]-_[S+1]),R=Math.abs(z[S+2]-_[S+2]),X=255*3,I=C+L+R,W=I/X;j[S]=255,j[S+3]=Math.round(W*255),n(4,u+=I)}const H=new ImageData(s,l,{colorSpace:"srgb"});H.data.set(j),A.diff.putImageData(H,0,0),n(4,u/=s*l)}let p,b;Tm(async()=>{c.original=f.original.getContext("2d"),c.image=f.image.getContext("2d",{willReadFrequently:!0}),c.diff=f.diff.getContext("2d"),c.image.imageSmoothingEnabled=!1,c.original.imageSmoothingEnabled=!1,await Promise.allSettled([h(c.image,a),h(c.original,ox)]).then(()=>{p=c.image.getImageData(0,0,s,l),b=c.original.getImageData(0,0,s,l),d(c,p.data,b.data)})});async function y(A){c.diff&&b&&await h(c.image,A).then(()=>{p=c.image.getImageData(0,0,s,l),d(c,p.data,b.data)})}function w(){i=kc(this.value),n(0,i)}function k(A){Un[A?"unshift":"push"](()=>{f.image=A,n(5,f)})}function E(A){Un[A?"unshift":"push"](()=>{f.original=A,n(5,f)})}function $(A){Un[A?"unshift":"push"](()=>{f.diff=A,n(5,f)})}return e.$$set=A=>{"selected"in A&&n(0,i=A.selected),"width"in A&&n(1,s=A.width),"showSlider"in A&&n(2,o=A.showSlider),"height"in A&&n(3,l=A.height)},e.$$.update=()=>{e.$$.dirty&129&&(n(7,a=r[i]),y(a))},[i,s,o,l,u,f,r,a,w,k,E,$]}class ux extends Wt{constructor(t){super(),Yt(this,t,lx,sx,jt,{selected:0,width:1,showSlider:2,height:3})}}class dn{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new dn(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class mr{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new mr(n,dn.range(this,t))}}class pe{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var f;a+15<o.length?f=o.slice(a,a+15)+"…":f=o.slice(a),r+=u+l+f}var c=new Error(r);return c.name="ParseError",c.__proto__=pe.prototype,c.position=i,i!=null&&a!=null&&(c.length=a-i),c.rawMessage=t,c}}pe.prototype.__proto__=Error.prototype;var fx=function(t,n){return t.indexOf(n)!==-1},cx=function(t,n){return t===void 0?n:t},hx=/([A-Z])/g,dx=function(t){return t.replace(hx,"-$1").toLowerCase()},mx={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},px=/[&><"']/g;function gx(e){return String(e).replace(px,t=>mx[t])}var p8=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},vx=function(t){var n=p8(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},bx=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},yx=function(t){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return n!=null?n[1]:"_relative"},qe={contains:fx,deflt:cx,escape:gx,hyphenate:dx,getBaseElem:p8,isCharacterBox:vx,protocolFromUrl:yx},Cf={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function wx(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Cm{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Cf)if(Cf.hasOwnProperty(n)){var r=Cf[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:wx(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new pe("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=qe.protocolFromUrl(t.url));var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class z0{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return lr[xx[this.id]]}sub(){return lr[Mx[this.id]]}fracNum(){return lr[Sx[this.id]]}fracDen(){return lr[kx[this.id]]}cramp(){return lr[$x[this.id]]}text(){return lr[Tx[this.id]]}isTight(){return this.size>=2}}var Am=0,qf=1,xo=2,Wr=3,Tl=4,En=5,Co=6,Ut=7,lr=[new z0(Am,0,!1),new z0(qf,0,!0),new z0(xo,1,!1),new z0(Wr,1,!0),new z0(Tl,2,!1),new z0(En,2,!0),new z0(Co,3,!1),new z0(Ut,3,!0)],xx=[Tl,En,Tl,En,Co,Ut,Co,Ut],Mx=[En,En,En,En,Ut,Ut,Ut,Ut],Sx=[xo,Wr,Tl,En,Co,Ut,Co,Ut],kx=[Wr,Wr,En,En,Ut,Ut,Ut,Ut],$x=[qf,qf,Wr,Wr,En,En,Ut,Ut],Tx=[Am,qf,xo,Wr,xo,Wr,xo,Wr],Ie={DISPLAY:lr[Am],TEXT:lr[xo],SCRIPT:lr[Tl],SCRIPTSCRIPT:lr[Co]},w4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Cx(e){for(var t=0;t<w4.length;t++)for(var n=w4[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var Af=[];w4.forEach(e=>e.blocks.forEach(t=>Af.push(...t)));function g8(e){for(var t=0;t<Af.length;t+=2)if(e>=Af[t]&&e<=Af[t+1])return!0;return!1}var ho=80,Ax=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},Ex=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},_x=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},zx=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},Dx=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},Ix=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},Nx=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},qx=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=Ax(n,ho);break;case"sqrtSize1":i=Ex(n,ho);break;case"sqrtSize2":i=_x(n,ho);break;case"sqrtSize3":i=zx(n,ho);break;case"sqrtSize4":i=Dx(n,ho);break;case"sqrtTall":i=Nx(n,ho,r)}return i},Bx=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},m6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Rx=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Yl{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return qe.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var cr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},j1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},p6={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Lx(e,t){cr[e]=t}function Em(e,t,n){if(!cr[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=cr[t][r];if(!i&&e[0]in p6&&(r=p6[e[0]].charCodeAt(0),i=cr[t][r]),!i&&n==="text"&&g8(r)&&(i=cr[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var kd={};function Fx(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!kd[t]){var n=kd[t]={cssEmPerMu:j1.quad[t]/18};for(var r in j1)j1.hasOwnProperty(r)&&(n[r]=j1[r][t])}return kd[t]}var Px=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],g6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],v6=function(t,n){return n.size<2?t:Px[t-1][n.size-1]};class Pr{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Pr.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=g6[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Pr(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:v6(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:g6[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=v6(Pr.BASESIZE,t);return this.size===n&&this.textSize===Pr.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Pr.BASESIZE?["sizing","reset-size"+this.size,"size"+Pr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Fx(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Pr.BASESIZE=6;var x4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Ox={ex:!0,em:!0,mu:!0},v8=function(t){return typeof t!="string"&&(t=t.unit),t in x4||t in Ox||t==="ex"},lt=function(t,n){var r;if(t.unit in x4)r=x4[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new pe("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Me=function(t){return+t.toFixed(4)+"em"},R0=function(t){return t.filter(n=>n).join(" ")},b8=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},y8=function(t){var n=document.createElement(t);n.className=R0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},w8=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+qe.escape(R0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+qe.escape(r)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(n+=" "+a+'="'+qe.escape(this.attributes[a])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class Gl{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,b8.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return y8.call(this,"span")}toMarkup(){return w8.call(this,"span")}}class _m{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,b8.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return y8.call(this,"a")}toMarkup(){return w8.call(this,"a")}}class Hx{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=qe.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+qe.escape(n)+'"'),t+="'/>",t}}var Vx={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Nn{constructor(t,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=Cx(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Vx[this.text])}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Me(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=R0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=qe.escape(R0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+qe.escape(r)+'"');var a=qe.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class Xr{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class L0{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",m6[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+m6[this.pathName]+"'/>"}}class M4{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");return t+="/>",t}}function b6(e){if(e instanceof Nn)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Ux(e){if(e instanceof Gl)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var jx={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Wx={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},at={math:{},text:{}};function m(e,t,n,r,i,a){at[e][i]={font:t,group:n,replace:r},a&&r&&(at[e][r]=at[e][i])}var v="math",ue="text",x="main",q="ams",st="accent-token",Ae="bin",Gt="close",Po="inner",Ne="mathord",bt="op-token",wn="open",Cc="punct",B="rel",a0="spacing",U="textord";m(v,x,B,"≡","\\equiv",!0);m(v,x,B,"≺","\\prec",!0);m(v,x,B,"≻","\\succ",!0);m(v,x,B,"∼","\\sim",!0);m(v,x,B,"⊥","\\perp");m(v,x,B,"⪯","\\preceq",!0);m(v,x,B,"⪰","\\succeq",!0);m(v,x,B,"≃","\\simeq",!0);m(v,x,B,"∣","\\mid",!0);m(v,x,B,"≪","\\ll",!0);m(v,x,B,"≫","\\gg",!0);m(v,x,B,"≍","\\asymp",!0);m(v,x,B,"∥","\\parallel");m(v,x,B,"⋈","\\bowtie",!0);m(v,x,B,"⌣","\\smile",!0);m(v,x,B,"⊑","\\sqsubseteq",!0);m(v,x,B,"⊒","\\sqsupseteq",!0);m(v,x,B,"≐","\\doteq",!0);m(v,x,B,"⌢","\\frown",!0);m(v,x,B,"∋","\\ni",!0);m(v,x,B,"∝","\\propto",!0);m(v,x,B,"⊢","\\vdash",!0);m(v,x,B,"⊣","\\dashv",!0);m(v,x,B,"∋","\\owns");m(v,x,Cc,".","\\ldotp");m(v,x,Cc,"⋅","\\cdotp");m(v,x,U,"#","\\#");m(ue,x,U,"#","\\#");m(v,x,U,"&","\\&");m(ue,x,U,"&","\\&");m(v,x,U,"ℵ","\\aleph",!0);m(v,x,U,"∀","\\forall",!0);m(v,x,U,"ℏ","\\hbar",!0);m(v,x,U,"∃","\\exists",!0);m(v,x,U,"∇","\\nabla",!0);m(v,x,U,"♭","\\flat",!0);m(v,x,U,"ℓ","\\ell",!0);m(v,x,U,"♮","\\natural",!0);m(v,x,U,"♣","\\clubsuit",!0);m(v,x,U,"℘","\\wp",!0);m(v,x,U,"♯","\\sharp",!0);m(v,x,U,"♢","\\diamondsuit",!0);m(v,x,U,"ℜ","\\Re",!0);m(v,x,U,"♡","\\heartsuit",!0);m(v,x,U,"ℑ","\\Im",!0);m(v,x,U,"♠","\\spadesuit",!0);m(v,x,U,"§","\\S",!0);m(ue,x,U,"§","\\S");m(v,x,U,"¶","\\P",!0);m(ue,x,U,"¶","\\P");m(v,x,U,"†","\\dag");m(ue,x,U,"†","\\dag");m(ue,x,U,"†","\\textdagger");m(v,x,U,"‡","\\ddag");m(ue,x,U,"‡","\\ddag");m(ue,x,U,"‡","\\textdaggerdbl");m(v,x,Gt,"⎱","\\rmoustache",!0);m(v,x,wn,"⎰","\\lmoustache",!0);m(v,x,Gt,"⟯","\\rgroup",!0);m(v,x,wn,"⟮","\\lgroup",!0);m(v,x,Ae,"∓","\\mp",!0);m(v,x,Ae,"⊖","\\ominus",!0);m(v,x,Ae,"⊎","\\uplus",!0);m(v,x,Ae,"⊓","\\sqcap",!0);m(v,x,Ae,"∗","\\ast");m(v,x,Ae,"⊔","\\sqcup",!0);m(v,x,Ae,"◯","\\bigcirc",!0);m(v,x,Ae,"∙","\\bullet",!0);m(v,x,Ae,"‡","\\ddagger");m(v,x,Ae,"≀","\\wr",!0);m(v,x,Ae,"⨿","\\amalg");m(v,x,Ae,"&","\\And");m(v,x,B,"⟵","\\longleftarrow",!0);m(v,x,B,"⇐","\\Leftarrow",!0);m(v,x,B,"⟸","\\Longleftarrow",!0);m(v,x,B,"⟶","\\longrightarrow",!0);m(v,x,B,"⇒","\\Rightarrow",!0);m(v,x,B,"⟹","\\Longrightarrow",!0);m(v,x,B,"↔","\\leftrightarrow",!0);m(v,x,B,"⟷","\\longleftrightarrow",!0);m(v,x,B,"⇔","\\Leftrightarrow",!0);m(v,x,B,"⟺","\\Longleftrightarrow",!0);m(v,x,B,"↦","\\mapsto",!0);m(v,x,B,"⟼","\\longmapsto",!0);m(v,x,B,"↗","\\nearrow",!0);m(v,x,B,"↩","\\hookleftarrow",!0);m(v,x,B,"↪","\\hookrightarrow",!0);m(v,x,B,"↘","\\searrow",!0);m(v,x,B,"↼","\\leftharpoonup",!0);m(v,x,B,"⇀","\\rightharpoonup",!0);m(v,x,B,"↙","\\swarrow",!0);m(v,x,B,"↽","\\leftharpoondown",!0);m(v,x,B,"⇁","\\rightharpoondown",!0);m(v,x,B,"↖","\\nwarrow",!0);m(v,x,B,"⇌","\\rightleftharpoons",!0);m(v,q,B,"≮","\\nless",!0);m(v,q,B,"","\\@nleqslant");m(v,q,B,"","\\@nleqq");m(v,q,B,"⪇","\\lneq",!0);m(v,q,B,"≨","\\lneqq",!0);m(v,q,B,"","\\@lvertneqq");m(v,q,B,"⋦","\\lnsim",!0);m(v,q,B,"⪉","\\lnapprox",!0);m(v,q,B,"⊀","\\nprec",!0);m(v,q,B,"⋠","\\npreceq",!0);m(v,q,B,"⋨","\\precnsim",!0);m(v,q,B,"⪹","\\precnapprox",!0);m(v,q,B,"≁","\\nsim",!0);m(v,q,B,"","\\@nshortmid");m(v,q,B,"∤","\\nmid",!0);m(v,q,B,"⊬","\\nvdash",!0);m(v,q,B,"⊭","\\nvDash",!0);m(v,q,B,"⋪","\\ntriangleleft");m(v,q,B,"⋬","\\ntrianglelefteq",!0);m(v,q,B,"⊊","\\subsetneq",!0);m(v,q,B,"","\\@varsubsetneq");m(v,q,B,"⫋","\\subsetneqq",!0);m(v,q,B,"","\\@varsubsetneqq");m(v,q,B,"≯","\\ngtr",!0);m(v,q,B,"","\\@ngeqslant");m(v,q,B,"","\\@ngeqq");m(v,q,B,"⪈","\\gneq",!0);m(v,q,B,"≩","\\gneqq",!0);m(v,q,B,"","\\@gvertneqq");m(v,q,B,"⋧","\\gnsim",!0);m(v,q,B,"⪊","\\gnapprox",!0);m(v,q,B,"⊁","\\nsucc",!0);m(v,q,B,"⋡","\\nsucceq",!0);m(v,q,B,"⋩","\\succnsim",!0);m(v,q,B,"⪺","\\succnapprox",!0);m(v,q,B,"≆","\\ncong",!0);m(v,q,B,"","\\@nshortparallel");m(v,q,B,"∦","\\nparallel",!0);m(v,q,B,"⊯","\\nVDash",!0);m(v,q,B,"⋫","\\ntriangleright");m(v,q,B,"⋭","\\ntrianglerighteq",!0);m(v,q,B,"","\\@nsupseteqq");m(v,q,B,"⊋","\\supsetneq",!0);m(v,q,B,"","\\@varsupsetneq");m(v,q,B,"⫌","\\supsetneqq",!0);m(v,q,B,"","\\@varsupsetneqq");m(v,q,B,"⊮","\\nVdash",!0);m(v,q,B,"⪵","\\precneqq",!0);m(v,q,B,"⪶","\\succneqq",!0);m(v,q,B,"","\\@nsubseteqq");m(v,q,Ae,"⊴","\\unlhd");m(v,q,Ae,"⊵","\\unrhd");m(v,q,B,"↚","\\nleftarrow",!0);m(v,q,B,"↛","\\nrightarrow",!0);m(v,q,B,"⇍","\\nLeftarrow",!0);m(v,q,B,"⇏","\\nRightarrow",!0);m(v,q,B,"↮","\\nleftrightarrow",!0);m(v,q,B,"⇎","\\nLeftrightarrow",!0);m(v,q,B,"△","\\vartriangle");m(v,q,U,"ℏ","\\hslash");m(v,q,U,"▽","\\triangledown");m(v,q,U,"◊","\\lozenge");m(v,q,U,"Ⓢ","\\circledS");m(v,q,U,"®","\\circledR");m(ue,q,U,"®","\\circledR");m(v,q,U,"∡","\\measuredangle",!0);m(v,q,U,"∄","\\nexists");m(v,q,U,"℧","\\mho");m(v,q,U,"Ⅎ","\\Finv",!0);m(v,q,U,"⅁","\\Game",!0);m(v,q,U,"‵","\\backprime");m(v,q,U,"▲","\\blacktriangle");m(v,q,U,"▼","\\blacktriangledown");m(v,q,U,"■","\\blacksquare");m(v,q,U,"⧫","\\blacklozenge");m(v,q,U,"★","\\bigstar");m(v,q,U,"∢","\\sphericalangle",!0);m(v,q,U,"∁","\\complement",!0);m(v,q,U,"ð","\\eth",!0);m(ue,x,U,"ð","ð");m(v,q,U,"╱","\\diagup");m(v,q,U,"╲","\\diagdown");m(v,q,U,"□","\\square");m(v,q,U,"□","\\Box");m(v,q,U,"◊","\\Diamond");m(v,q,U,"¥","\\yen",!0);m(ue,q,U,"¥","\\yen",!0);m(v,q,U,"✓","\\checkmark",!0);m(ue,q,U,"✓","\\checkmark");m(v,q,U,"ℶ","\\beth",!0);m(v,q,U,"ℸ","\\daleth",!0);m(v,q,U,"ℷ","\\gimel",!0);m(v,q,U,"ϝ","\\digamma",!0);m(v,q,U,"ϰ","\\varkappa");m(v,q,wn,"┌","\\@ulcorner",!0);m(v,q,Gt,"┐","\\@urcorner",!0);m(v,q,wn,"└","\\@llcorner",!0);m(v,q,Gt,"┘","\\@lrcorner",!0);m(v,q,B,"≦","\\leqq",!0);m(v,q,B,"⩽","\\leqslant",!0);m(v,q,B,"⪕","\\eqslantless",!0);m(v,q,B,"≲","\\lesssim",!0);m(v,q,B,"⪅","\\lessapprox",!0);m(v,q,B,"≊","\\approxeq",!0);m(v,q,Ae,"⋖","\\lessdot");m(v,q,B,"⋘","\\lll",!0);m(v,q,B,"≶","\\lessgtr",!0);m(v,q,B,"⋚","\\lesseqgtr",!0);m(v,q,B,"⪋","\\lesseqqgtr",!0);m(v,q,B,"≑","\\doteqdot");m(v,q,B,"≓","\\risingdotseq",!0);m(v,q,B,"≒","\\fallingdotseq",!0);m(v,q,B,"∽","\\backsim",!0);m(v,q,B,"⋍","\\backsimeq",!0);m(v,q,B,"⫅","\\subseteqq",!0);m(v,q,B,"⋐","\\Subset",!0);m(v,q,B,"⊏","\\sqsubset",!0);m(v,q,B,"≼","\\preccurlyeq",!0);m(v,q,B,"⋞","\\curlyeqprec",!0);m(v,q,B,"≾","\\precsim",!0);m(v,q,B,"⪷","\\precapprox",!0);m(v,q,B,"⊲","\\vartriangleleft");m(v,q,B,"⊴","\\trianglelefteq");m(v,q,B,"⊨","\\vDash",!0);m(v,q,B,"⊪","\\Vvdash",!0);m(v,q,B,"⌣","\\smallsmile");m(v,q,B,"⌢","\\smallfrown");m(v,q,B,"≏","\\bumpeq",!0);m(v,q,B,"≎","\\Bumpeq",!0);m(v,q,B,"≧","\\geqq",!0);m(v,q,B,"⩾","\\geqslant",!0);m(v,q,B,"⪖","\\eqslantgtr",!0);m(v,q,B,"≳","\\gtrsim",!0);m(v,q,B,"⪆","\\gtrapprox",!0);m(v,q,Ae,"⋗","\\gtrdot");m(v,q,B,"⋙","\\ggg",!0);m(v,q,B,"≷","\\gtrless",!0);m(v,q,B,"⋛","\\gtreqless",!0);m(v,q,B,"⪌","\\gtreqqless",!0);m(v,q,B,"≖","\\eqcirc",!0);m(v,q,B,"≗","\\circeq",!0);m(v,q,B,"≜","\\triangleq",!0);m(v,q,B,"∼","\\thicksim");m(v,q,B,"≈","\\thickapprox");m(v,q,B,"⫆","\\supseteqq",!0);m(v,q,B,"⋑","\\Supset",!0);m(v,q,B,"⊐","\\sqsupset",!0);m(v,q,B,"≽","\\succcurlyeq",!0);m(v,q,B,"⋟","\\curlyeqsucc",!0);m(v,q,B,"≿","\\succsim",!0);m(v,q,B,"⪸","\\succapprox",!0);m(v,q,B,"⊳","\\vartriangleright");m(v,q,B,"⊵","\\trianglerighteq");m(v,q,B,"⊩","\\Vdash",!0);m(v,q,B,"∣","\\shortmid");m(v,q,B,"∥","\\shortparallel");m(v,q,B,"≬","\\between",!0);m(v,q,B,"⋔","\\pitchfork",!0);m(v,q,B,"∝","\\varpropto");m(v,q,B,"◀","\\blacktriangleleft");m(v,q,B,"∴","\\therefore",!0);m(v,q,B,"∍","\\backepsilon");m(v,q,B,"▶","\\blacktriangleright");m(v,q,B,"∵","\\because",!0);m(v,q,B,"⋘","\\llless");m(v,q,B,"⋙","\\gggtr");m(v,q,Ae,"⊲","\\lhd");m(v,q,Ae,"⊳","\\rhd");m(v,q,B,"≂","\\eqsim",!0);m(v,x,B,"⋈","\\Join");m(v,q,B,"≑","\\Doteq",!0);m(v,q,Ae,"∔","\\dotplus",!0);m(v,q,Ae,"∖","\\smallsetminus");m(v,q,Ae,"⋒","\\Cap",!0);m(v,q,Ae,"⋓","\\Cup",!0);m(v,q,Ae,"⩞","\\doublebarwedge",!0);m(v,q,Ae,"⊟","\\boxminus",!0);m(v,q,Ae,"⊞","\\boxplus",!0);m(v,q,Ae,"⋇","\\divideontimes",!0);m(v,q,Ae,"⋉","\\ltimes",!0);m(v,q,Ae,"⋊","\\rtimes",!0);m(v,q,Ae,"⋋","\\leftthreetimes",!0);m(v,q,Ae,"⋌","\\rightthreetimes",!0);m(v,q,Ae,"⋏","\\curlywedge",!0);m(v,q,Ae,"⋎","\\curlyvee",!0);m(v,q,Ae,"⊝","\\circleddash",!0);m(v,q,Ae,"⊛","\\circledast",!0);m(v,q,Ae,"⋅","\\centerdot");m(v,q,Ae,"⊺","\\intercal",!0);m(v,q,Ae,"⋒","\\doublecap");m(v,q,Ae,"⋓","\\doublecup");m(v,q,Ae,"⊠","\\boxtimes",!0);m(v,q,B,"⇢","\\dashrightarrow",!0);m(v,q,B,"⇠","\\dashleftarrow",!0);m(v,q,B,"⇇","\\leftleftarrows",!0);m(v,q,B,"⇆","\\leftrightarrows",!0);m(v,q,B,"⇚","\\Lleftarrow",!0);m(v,q,B,"↞","\\twoheadleftarrow",!0);m(v,q,B,"↢","\\leftarrowtail",!0);m(v,q,B,"↫","\\looparrowleft",!0);m(v,q,B,"⇋","\\leftrightharpoons",!0);m(v,q,B,"↶","\\curvearrowleft",!0);m(v,q,B,"↺","\\circlearrowleft",!0);m(v,q,B,"↰","\\Lsh",!0);m(v,q,B,"⇈","\\upuparrows",!0);m(v,q,B,"↿","\\upharpoonleft",!0);m(v,q,B,"⇃","\\downharpoonleft",!0);m(v,x,B,"⊶","\\origof",!0);m(v,x,B,"⊷","\\imageof",!0);m(v,q,B,"⊸","\\multimap",!0);m(v,q,B,"↭","\\leftrightsquigarrow",!0);m(v,q,B,"⇉","\\rightrightarrows",!0);m(v,q,B,"⇄","\\rightleftarrows",!0);m(v,q,B,"↠","\\twoheadrightarrow",!0);m(v,q,B,"↣","\\rightarrowtail",!0);m(v,q,B,"↬","\\looparrowright",!0);m(v,q,B,"↷","\\curvearrowright",!0);m(v,q,B,"↻","\\circlearrowright",!0);m(v,q,B,"↱","\\Rsh",!0);m(v,q,B,"⇊","\\downdownarrows",!0);m(v,q,B,"↾","\\upharpoonright",!0);m(v,q,B,"⇂","\\downharpoonright",!0);m(v,q,B,"⇝","\\rightsquigarrow",!0);m(v,q,B,"⇝","\\leadsto");m(v,q,B,"⇛","\\Rrightarrow",!0);m(v,q,B,"↾","\\restriction");m(v,x,U,"‘","`");m(v,x,U,"$","\\$");m(ue,x,U,"$","\\$");m(ue,x,U,"$","\\textdollar");m(v,x,U,"%","\\%");m(ue,x,U,"%","\\%");m(v,x,U,"_","\\_");m(ue,x,U,"_","\\_");m(ue,x,U,"_","\\textunderscore");m(v,x,U,"∠","\\angle",!0);m(v,x,U,"∞","\\infty",!0);m(v,x,U,"′","\\prime");m(v,x,U,"△","\\triangle");m(v,x,U,"Γ","\\Gamma",!0);m(v,x,U,"Δ","\\Delta",!0);m(v,x,U,"Θ","\\Theta",!0);m(v,x,U,"Λ","\\Lambda",!0);m(v,x,U,"Ξ","\\Xi",!0);m(v,x,U,"Π","\\Pi",!0);m(v,x,U,"Σ","\\Sigma",!0);m(v,x,U,"Υ","\\Upsilon",!0);m(v,x,U,"Φ","\\Phi",!0);m(v,x,U,"Ψ","\\Psi",!0);m(v,x,U,"Ω","\\Omega",!0);m(v,x,U,"A","Α");m(v,x,U,"B","Β");m(v,x,U,"E","Ε");m(v,x,U,"Z","Ζ");m(v,x,U,"H","Η");m(v,x,U,"I","Ι");m(v,x,U,"K","Κ");m(v,x,U,"M","Μ");m(v,x,U,"N","Ν");m(v,x,U,"O","Ο");m(v,x,U,"P","Ρ");m(v,x,U,"T","Τ");m(v,x,U,"X","Χ");m(v,x,U,"¬","\\neg",!0);m(v,x,U,"¬","\\lnot");m(v,x,U,"⊤","\\top");m(v,x,U,"⊥","\\bot");m(v,x,U,"∅","\\emptyset");m(v,q,U,"∅","\\varnothing");m(v,x,Ne,"α","\\alpha",!0);m(v,x,Ne,"β","\\beta",!0);m(v,x,Ne,"γ","\\gamma",!0);m(v,x,Ne,"δ","\\delta",!0);m(v,x,Ne,"ϵ","\\epsilon",!0);m(v,x,Ne,"ζ","\\zeta",!0);m(v,x,Ne,"η","\\eta",!0);m(v,x,Ne,"θ","\\theta",!0);m(v,x,Ne,"ι","\\iota",!0);m(v,x,Ne,"κ","\\kappa",!0);m(v,x,Ne,"λ","\\lambda",!0);m(v,x,Ne,"μ","\\mu",!0);m(v,x,Ne,"ν","\\nu",!0);m(v,x,Ne,"ξ","\\xi",!0);m(v,x,Ne,"ο","\\omicron",!0);m(v,x,Ne,"π","\\pi",!0);m(v,x,Ne,"ρ","\\rho",!0);m(v,x,Ne,"σ","\\sigma",!0);m(v,x,Ne,"τ","\\tau",!0);m(v,x,Ne,"υ","\\upsilon",!0);m(v,x,Ne,"ϕ","\\phi",!0);m(v,x,Ne,"χ","\\chi",!0);m(v,x,Ne,"ψ","\\psi",!0);m(v,x,Ne,"ω","\\omega",!0);m(v,x,Ne,"ε","\\varepsilon",!0);m(v,x,Ne,"ϑ","\\vartheta",!0);m(v,x,Ne,"ϖ","\\varpi",!0);m(v,x,Ne,"ϱ","\\varrho",!0);m(v,x,Ne,"ς","\\varsigma",!0);m(v,x,Ne,"φ","\\varphi",!0);m(v,x,Ae,"∗","*",!0);m(v,x,Ae,"+","+");m(v,x,Ae,"−","-",!0);m(v,x,Ae,"⋅","\\cdot",!0);m(v,x,Ae,"∘","\\circ",!0);m(v,x,Ae,"÷","\\div",!0);m(v,x,Ae,"±","\\pm",!0);m(v,x,Ae,"×","\\times",!0);m(v,x,Ae,"∩","\\cap",!0);m(v,x,Ae,"∪","\\cup",!0);m(v,x,Ae,"∖","\\setminus",!0);m(v,x,Ae,"∧","\\land");m(v,x,Ae,"∨","\\lor");m(v,x,Ae,"∧","\\wedge",!0);m(v,x,Ae,"∨","\\vee",!0);m(v,x,U,"√","\\surd");m(v,x,wn,"⟨","\\langle",!0);m(v,x,wn,"∣","\\lvert");m(v,x,wn,"∥","\\lVert");m(v,x,Gt,"?","?");m(v,x,Gt,"!","!");m(v,x,Gt,"⟩","\\rangle",!0);m(v,x,Gt,"∣","\\rvert");m(v,x,Gt,"∥","\\rVert");m(v,x,B,"=","=");m(v,x,B,":",":");m(v,x,B,"≈","\\approx",!0);m(v,x,B,"≅","\\cong",!0);m(v,x,B,"≥","\\ge");m(v,x,B,"≥","\\geq",!0);m(v,x,B,"←","\\gets");m(v,x,B,">","\\gt",!0);m(v,x,B,"∈","\\in",!0);m(v,x,B,"","\\@not");m(v,x,B,"⊂","\\subset",!0);m(v,x,B,"⊃","\\supset",!0);m(v,x,B,"⊆","\\subseteq",!0);m(v,x,B,"⊇","\\supseteq",!0);m(v,q,B,"⊈","\\nsubseteq",!0);m(v,q,B,"⊉","\\nsupseteq",!0);m(v,x,B,"⊨","\\models");m(v,x,B,"←","\\leftarrow",!0);m(v,x,B,"≤","\\le");m(v,x,B,"≤","\\leq",!0);m(v,x,B,"<","\\lt",!0);m(v,x,B,"→","\\rightarrow",!0);m(v,x,B,"→","\\to");m(v,q,B,"≱","\\ngeq",!0);m(v,q,B,"≰","\\nleq",!0);m(v,x,a0," ","\\ ");m(v,x,a0," ","\\space");m(v,x,a0," ","\\nobreakspace");m(ue,x,a0," ","\\ ");m(ue,x,a0," "," ");m(ue,x,a0," ","\\space");m(ue,x,a0," ","\\nobreakspace");m(v,x,a0,null,"\\nobreak");m(v,x,a0,null,"\\allowbreak");m(v,x,Cc,",",",");m(v,x,Cc,";",";");m(v,q,Ae,"⊼","\\barwedge",!0);m(v,q,Ae,"⊻","\\veebar",!0);m(v,x,Ae,"⊙","\\odot",!0);m(v,x,Ae,"⊕","\\oplus",!0);m(v,x,Ae,"⊗","\\otimes",!0);m(v,x,U,"∂","\\partial",!0);m(v,x,Ae,"⊘","\\oslash",!0);m(v,q,Ae,"⊚","\\circledcirc",!0);m(v,q,Ae,"⊡","\\boxdot",!0);m(v,x,Ae,"△","\\bigtriangleup");m(v,x,Ae,"▽","\\bigtriangledown");m(v,x,Ae,"†","\\dagger");m(v,x,Ae,"⋄","\\diamond");m(v,x,Ae,"⋆","\\star");m(v,x,Ae,"◃","\\triangleleft");m(v,x,Ae,"▹","\\triangleright");m(v,x,wn,"{","\\{");m(ue,x,U,"{","\\{");m(ue,x,U,"{","\\textbraceleft");m(v,x,Gt,"}","\\}");m(ue,x,U,"}","\\}");m(ue,x,U,"}","\\textbraceright");m(v,x,wn,"{","\\lbrace");m(v,x,Gt,"}","\\rbrace");m(v,x,wn,"[","\\lbrack",!0);m(ue,x,U,"[","\\lbrack",!0);m(v,x,Gt,"]","\\rbrack",!0);m(ue,x,U,"]","\\rbrack",!0);m(v,x,wn,"(","\\lparen",!0);m(v,x,Gt,")","\\rparen",!0);m(ue,x,U,"<","\\textless",!0);m(ue,x,U,">","\\textgreater",!0);m(v,x,wn,"⌊","\\lfloor",!0);m(v,x,Gt,"⌋","\\rfloor",!0);m(v,x,wn,"⌈","\\lceil",!0);m(v,x,Gt,"⌉","\\rceil",!0);m(v,x,U,"\\","\\backslash");m(v,x,U,"∣","|");m(v,x,U,"∣","\\vert");m(ue,x,U,"|","\\textbar",!0);m(v,x,U,"∥","\\|");m(v,x,U,"∥","\\Vert");m(ue,x,U,"∥","\\textbardbl");m(ue,x,U,"~","\\textasciitilde");m(ue,x,U,"\\","\\textbackslash");m(ue,x,U,"^","\\textasciicircum");m(v,x,B,"↑","\\uparrow",!0);m(v,x,B,"⇑","\\Uparrow",!0);m(v,x,B,"↓","\\downarrow",!0);m(v,x,B,"⇓","\\Downarrow",!0);m(v,x,B,"↕","\\updownarrow",!0);m(v,x,B,"⇕","\\Updownarrow",!0);m(v,x,bt,"∐","\\coprod");m(v,x,bt,"⋁","\\bigvee");m(v,x,bt,"⋀","\\bigwedge");m(v,x,bt,"⨄","\\biguplus");m(v,x,bt,"⋂","\\bigcap");m(v,x,bt,"⋃","\\bigcup");m(v,x,bt,"∫","\\int");m(v,x,bt,"∫","\\intop");m(v,x,bt,"∬","\\iint");m(v,x,bt,"∭","\\iiint");m(v,x,bt,"∏","\\prod");m(v,x,bt,"∑","\\sum");m(v,x,bt,"⨂","\\bigotimes");m(v,x,bt,"⨁","\\bigoplus");m(v,x,bt,"⨀","\\bigodot");m(v,x,bt,"∮","\\oint");m(v,x,bt,"∯","\\oiint");m(v,x,bt,"∰","\\oiiint");m(v,x,bt,"⨆","\\bigsqcup");m(v,x,bt,"∫","\\smallint");m(ue,x,Po,"…","\\textellipsis");m(v,x,Po,"…","\\mathellipsis");m(ue,x,Po,"…","\\ldots",!0);m(v,x,Po,"…","\\ldots",!0);m(v,x,Po,"⋯","\\@cdots",!0);m(v,x,Po,"⋱","\\ddots",!0);m(v,x,U,"⋮","\\varvdots");m(v,x,st,"ˊ","\\acute");m(v,x,st,"ˋ","\\grave");m(v,x,st,"¨","\\ddot");m(v,x,st,"~","\\tilde");m(v,x,st,"ˉ","\\bar");m(v,x,st,"˘","\\breve");m(v,x,st,"ˇ","\\check");m(v,x,st,"^","\\hat");m(v,x,st,"⃗","\\vec");m(v,x,st,"˙","\\dot");m(v,x,st,"˚","\\mathring");m(v,x,Ne,"","\\@imath");m(v,x,Ne,"","\\@jmath");m(v,x,U,"ı","ı");m(v,x,U,"ȷ","ȷ");m(ue,x,U,"ı","\\i",!0);m(ue,x,U,"ȷ","\\j",!0);m(ue,x,U,"ß","\\ss",!0);m(ue,x,U,"æ","\\ae",!0);m(ue,x,U,"œ","\\oe",!0);m(ue,x,U,"ø","\\o",!0);m(ue,x,U,"Æ","\\AE",!0);m(ue,x,U,"Œ","\\OE",!0);m(ue,x,U,"Ø","\\O",!0);m(ue,x,st,"ˊ","\\'");m(ue,x,st,"ˋ","\\`");m(ue,x,st,"ˆ","\\^");m(ue,x,st,"˜","\\~");m(ue,x,st,"ˉ","\\=");m(ue,x,st,"˘","\\u");m(ue,x,st,"˙","\\.");m(ue,x,st,"¸","\\c");m(ue,x,st,"˚","\\r");m(ue,x,st,"ˇ","\\v");m(ue,x,st,"¨",'\\"');m(ue,x,st,"˝","\\H");m(ue,x,st,"◯","\\textcircled");var x8={"--":!0,"---":!0,"``":!0,"''":!0};m(ue,x,U,"–","--",!0);m(ue,x,U,"–","\\textendash");m(ue,x,U,"—","---",!0);m(ue,x,U,"—","\\textemdash");m(ue,x,U,"‘","`",!0);m(ue,x,U,"‘","\\textquoteleft");m(ue,x,U,"’","'",!0);m(ue,x,U,"’","\\textquoteright");m(ue,x,U,"“","``",!0);m(ue,x,U,"“","\\textquotedblleft");m(ue,x,U,"”","''",!0);m(ue,x,U,"”","\\textquotedblright");m(v,x,U,"°","\\degree",!0);m(ue,x,U,"°","\\degree");m(ue,x,U,"°","\\textdegree",!0);m(v,x,U,"£","\\pounds");m(v,x,U,"£","\\mathsterling",!0);m(ue,x,U,"£","\\pounds");m(ue,x,U,"£","\\textsterling",!0);m(v,q,U,"✠","\\maltese");m(ue,q,U,"✠","\\maltese");var y6='0123456789/@."';for(var $d=0;$d<y6.length;$d++){var w6=y6.charAt($d);m(v,x,U,w6,w6)}var x6='0123456789!@*()-=+";:?/.,';for(var Td=0;Td<x6.length;Td++){var M6=x6.charAt(Td);m(ue,x,U,M6,M6)}var Bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Cd=0;Cd<Bf.length;Cd++){var W1=Bf.charAt(Cd);m(v,x,Ne,W1,W1),m(ue,x,U,W1,W1)}m(v,q,U,"C","ℂ");m(ue,q,U,"C","ℂ");m(v,q,U,"H","ℍ");m(ue,q,U,"H","ℍ");m(v,q,U,"N","ℕ");m(ue,q,U,"N","ℕ");m(v,q,U,"P","ℙ");m(ue,q,U,"P","ℙ");m(v,q,U,"Q","ℚ");m(ue,q,U,"Q","ℚ");m(v,q,U,"R","ℝ");m(ue,q,U,"R","ℝ");m(v,q,U,"Z","ℤ");m(ue,q,U,"Z","ℤ");m(v,x,Ne,"h","ℎ");m(ue,x,Ne,"h","ℎ");var Le="";for(var nn=0;nn<Bf.length;nn++){var gt=Bf.charAt(nn);Le=String.fromCharCode(55349,56320+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56372+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56424+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56580+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56736+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56788+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56840+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56944+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),nn<26&&(Le=String.fromCharCode(55349,56632+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le),Le=String.fromCharCode(55349,56476+nn),m(v,x,Ne,gt,Le),m(ue,x,U,gt,Le))}Le=String.fromCharCode(55349,56668);m(v,x,Ne,"k",Le);m(ue,x,U,"k",Le);for(var xs=0;xs<10;xs++){var D0=xs.toString();Le=String.fromCharCode(55349,57294+xs),m(v,x,Ne,D0,Le),m(ue,x,U,D0,Le),Le=String.fromCharCode(55349,57314+xs),m(v,x,Ne,D0,Le),m(ue,x,U,D0,Le),Le=String.fromCharCode(55349,57324+xs),m(v,x,Ne,D0,Le),m(ue,x,U,D0,Le),Le=String.fromCharCode(55349,57334+xs),m(v,x,Ne,D0,Le),m(ue,x,U,D0,Le)}var S4="ÐÞþ";for(var Ad=0;Ad<S4.length;Ad++){var Y1=S4.charAt(Ad);m(v,x,Ne,Y1,Y1),m(ue,x,U,Y1,Y1)}var G1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],S6=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Yx=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[G1[o][2],G1[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[S6[l][2],S6[l][s]]}else{if(a===120485||a===120486)return[G1[0][2],G1[0][s]];if(120486<a&&a<120782)return["",""];throw new pe("Unsupported character: "+t)}},Ac=function(t,n,r){return at[r][t]&&at[r][t].replace&&(t=at[r][t].replace),{value:t,metrics:Em(t,n,r)}},Pn=function(t,n,r,i,a){var s=Ac(t,n,r),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new Nn(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),l=new Nn(t,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var f=i.getColor();f&&(l.style.color=f)}return l},Gx=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Ac(t,"Main-Bold",n).metrics?Pn(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||at[n][t].font==="main"?Pn(t,"Main-Regular",n,r,i):Pn(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},Xx=function(t,n,r,i,a){return a!=="textord"&&Ac(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Zx=function(t,n,r){var i=t.mode,a=t.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily;if(a.charCodeAt(0)===55349){var[u,f]=Yx(a,i);return Pn(a,u,i,n,s.concat(f))}else if(l){var c,h;if(l==="boldsymbol"){var d=Xx(a,i,n,s,r);c=d.fontName,h=[d.fontClass]}else o?(c=k8[l].fontName,h=[l]):(c=X1(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(Ac(a,c,i).metrics)return Pn(a,c,i,n,s.concat(h));if(x8.hasOwnProperty(a)&&c.slice(0,10)==="Typewriter"){for(var p=[],b=0;b<a.length;b++)p.push(Pn(a[b],c,i,n,s.concat(h)));return S8(p)}}if(r==="mathord")return Pn(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var y=at[i][a]&&at[i][a].font;if(y==="ams"){var w=X1("amsrm",n.fontWeight,n.fontShape);return Pn(a,w,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(y==="main"||!y){var k=X1("textrm",n.fontWeight,n.fontShape);return Pn(a,k,i,n,s.concat(n.fontWeight,n.fontShape))}else{var E=X1(y,n.fontWeight,n.fontShape);return Pn(a,E,i,n,s.concat(E,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Qx=(e,t)=>{if(R0(e.classes)!==R0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},Kx=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Nn&&r instanceof Nn&&Qx(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},zm=function(t){for(var n=0,r=0,i=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},rn=function(t,n,r,i){var a=new Gl(t,n,r,i);return zm(a),a},M8=(e,t,n,r)=>new Gl(e,t,n,r),Jx=function(t,n,r){var i=rn([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Me(i.height),i.maxFontSize=1,i},eM=function(t,n,r,i){var a=new _m(t,n,r,i);return zm(a),a},S8=function(t){var n=new Yl(t);return zm(n),n},tM=function(t,n){return t instanceof Yl?rn([],[t],n):t},nM=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var f=t.positionData,c=0;c<t.children.length;c++){var h=t.children[c];f-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=f}else if(t.positionType==="bottom")u=-t.positionData;else{var d=t.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-d.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},rM=function(t,n){for(var{children:r,depth:i}=nM(t),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=rn(["pstrut"],[]);u.style.height=Me(a);for(var f=[],c=i,h=i,d=i,p=0;p<r.length;p++){var b=r[p];if(b.type==="kern")d+=b.size;else{var y=b.elem,w=b.wrapperClasses||[],k=b.wrapperStyle||{},E=rn(w,[u,y],void 0,k);E.style.top=Me(-a-d-y.depth),b.marginLeft&&(E.style.marginLeft=b.marginLeft),b.marginRight&&(E.style.marginRight=b.marginRight),f.push(E),d+=y.height+y.depth}c=Math.min(c,d),h=Math.max(h,d)}var $=rn(["vlist"],f);$.style.height=Me(h);var A;if(c<0){var z=rn([],[]),_=rn(["vlist"],[z]);_.style.height=Me(-c);var j=rn(["vlist-s"],[new Nn("​")]);A=[rn(["vlist-r"],[$,j]),rn(["vlist-r"],[_])]}else A=[rn(["vlist-r"],[$])];var H=rn(["vlist-t"],A);return A.length===2&&H.classes.push("vlist-t2"),H.height=h,H.depth=-c,H},iM=(e,t)=>{var n=rn(["mspace"],[],t),r=lt(e,t);return n.style.marginRight=Me(r),n},X1=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},k8={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},$8={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},aM=function(t,n){var[r,i,a]=$8[t],s=new L0(r),o=new Xr([s],{width:Me(i),height:Me(a),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=M8(["overlay"],[o],n);return l.height=a,l.style.height=Me(a),l.style.width=Me(i),l},G={fontMap:k8,makeSymbol:Pn,mathsym:Gx,makeSpan:rn,makeSvgSpan:M8,makeLineSpan:Jx,makeAnchor:eM,makeFragment:S8,wrapFragment:tM,makeVList:rM,makeOrd:Zx,makeGlue:iM,staticSvg:aM,svgData:$8,tryCombineChars:Kx},ot={number:3,unit:"mu"},Ms={number:4,unit:"mu"},Ir={number:5,unit:"mu"},sM={mord:{mop:ot,mbin:Ms,mrel:Ir,minner:ot},mop:{mord:ot,mop:ot,mrel:Ir,minner:ot},mbin:{mord:Ms,mop:Ms,mopen:Ms,minner:Ms},mrel:{mord:Ir,mop:Ir,mopen:Ir,minner:Ir},mopen:{},mclose:{mop:ot,mbin:Ms,mrel:Ir,minner:ot},mpunct:{mord:ot,mop:ot,mrel:Ir,mopen:ot,mclose:ot,mpunct:ot,minner:ot},minner:{mord:ot,mop:ot,mbin:Ms,mrel:Ir,mopen:ot,mpunct:ot,minner:ot}},oM={mord:{mop:ot},mop:{mord:ot,mop:ot},mbin:{},mrel:{},mopen:{},mclose:{mop:ot},mpunct:{},minner:{mop:ot}},T8={},Rf={},Lf={};function $e(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)T8[n[l]]=o;t&&(a&&(Rf[t]=a),s&&(Lf[t]=s))}function Fs(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;$e({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Ff=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},dt=function(t){return t.type==="ordgroup"?t.body:[t]},Zr=G.makeSpan,lM=["leftmost","mbin","mopen","mrel","mop","mpunct"],uM=["rightmost","mrel","mclose","mpunct"],fM={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT},cM={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Mt=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=Ze(t[s],n);if(o instanceof Yl){var l=o.children;a.push(...l)}else a.push(o)}if(G.tryCombineChars(a),!r)return a;var u=n;if(t.length===1){var f=t[0];f.type==="sizing"?u=n.havingSize(f.size):f.type==="styling"&&(u=n.havingStyle(fM[f.style]))}var c=Zr([i[0]||"leftmost"],[],n),h=Zr([i[1]||"rightmost"],[],n),d=r==="root";return k6(a,(p,b)=>{var y=b.classes[0],w=p.classes[0];y==="mbin"&&qe.contains(uM,w)?b.classes[0]="mord":w==="mbin"&&qe.contains(lM,y)&&(p.classes[0]="mord")},{node:c},h,d),k6(a,(p,b)=>{var y=k4(b),w=k4(p),k=y&&w?p.hasClass("mtight")?oM[y][w]:sM[y][w]:null;if(k)return G.makeGlue(k,u)},{node:c},h,d),a},k6=function e(t,n,r,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var o=t[s],l=C8(o);if(l){e(l.children,n,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var f=n(o,r.node);f&&(r.insertAfter?r.insertAfter(f):(t.unshift(f),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=Zr(["leftmost"])),r.insertAfter=(c=>h=>{t.splice(c+1,0,h),s++})(s)}i&&t.pop()},C8=function(t){return t instanceof Yl||t instanceof _m||t instanceof Gl&&t.hasClass("enclosing")?t:null},hM=function e(t,n){var r=C8(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},k4=function(t,n){return t?(n&&(t=hM(t,n)),cM[t.classes[0]]||null):null},Cl=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return Zr(n.concat(r))},Ze=function(t,n,r){if(!t)return Zr();if(Rf[t.type]){var i=Rf[t.type](t,n);if(r&&n.size!==r.size){i=Zr(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new pe("Got group of unknown type: '"+t.type+"'")};function Z1(e,t){var n=Zr(["base"],e,t),r=Zr(["strut"]);return r.style.height=Me(n.height+n.depth),n.depth&&(r.style.verticalAlign=Me(-n.depth)),n.children.unshift(r),n}function $4(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=Mt(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(Z1(s,t)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Z1(s,t)),s=[]),a.push(r[o]));s.length>0&&a.push(Z1(s,t));var u;n?(u=Z1(Mt(n,t,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var f=Zr(["katex-html"],a);if(f.setAttribute("aria-hidden","true"),u){var c=u.children[0];c.style.height=Me(f.height+f.depth),f.depth&&(c.style.verticalAlign=Me(-f.depth))}return f}function A8(e){return new Yl(e)}class An{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=R0(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=qe.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+qe.escape(R0(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class vl{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return qe.escape(this.toText())}toText(){return this.text}}class dM{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Me(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Me(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ce={MathNode:An,TextNode:vl,SpaceNode:dM,newDocumentFragment:A8},qn=function(t,n,r){return at[n][t]&&at[n][t].replace&&t.charCodeAt(0)!==55349&&!(x8.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=at[n][t].replace),new ce.TextNode(t)},Dm=function(t){return t.length===1?t[0]:new ce.MathNode("mrow",t)},Im=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=t.text;if(qe.contains(["\\imath","\\jmath"],a))return null;at[i][a]&&at[i][a].replace&&(a=at[i][a].replace);var s=G.fontMap[r].fontName;return Em(a,s,i)?G.fontMap[r].variant:null},fn=function(t,n,r){if(t.length===1){var i=et(t[0],n);return r&&i instanceof An&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<t.length;o++){var l=et(t[o],n);if(l instanceof An&&s instanceof An){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof vl&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var f=s.children[0];if(f instanceof vl&&f.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var c=l.children[0];c instanceof vl&&c.text.length>0&&(c.text=c.text.slice(0,1)+"̸"+c.text.slice(1),a.pop())}}}a.push(l),s=l}return a},F0=function(t,n,r){return Dm(fn(t,n,r))},et=function(t,n){if(!t)return new ce.MathNode("mrow");if(Lf[t.type]){var r=Lf[t.type](t,n);return r}else throw new pe("Got group of unknown type: '"+t.type+"'")};function $6(e,t,n,r,i){var a=fn(e,n),s;a.length===1&&a[0]instanceof An&&qe.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new ce.MathNode("mrow",a);var o=new ce.MathNode("annotation",[new ce.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new ce.MathNode("semantics",[s,o]),u=new ce.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var f=i?"katex":"katex-mathml";return G.makeSpan([f],[u])}var E8=function(t){return new Pr({style:t.displayMode?Ie.DISPLAY:Ie.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},_8=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=G.makeSpan(r,[t])}return t},mM=function(t,n,r){var i=E8(r),a;if(r.output==="mathml")return $6(t,n,i,r.displayMode,!0);if(r.output==="html"){var s=$4(t,i);a=G.makeSpan(["katex"],[s])}else{var o=$6(t,n,i,r.displayMode,!1),l=$4(t,i);a=G.makeSpan(["katex"],[o,l])}return _8(a,r)},pM=function(t,n,r){var i=E8(r),a=$4(t,i),s=G.makeSpan(["katex"],[a]);return _8(s,r)},gM={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},vM=function(t){var n=new ce.MathNode("mo",[new ce.TextNode(gM[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},bM={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},yM=function(t){return t.type==="ordgroup"?t.body.length:1},wM=function(t,n){function r(){var o=4e5,l=t.label.slice(1);if(qe.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,f=yM(u.base),c,h,d;if(f>5)l==="widehat"||l==="widecheck"?(c=420,o=2364,d=.42,h=l+"4"):(c=312,o=2340,d=.34,h="tilde4");else{var p=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][p],c=[0,239,300,360,420][p],d=[0,.24,.3,.3,.36,.42][p],h=l+p):(o=[0,600,1033,2339,2340][p],c=[0,260,286,306,312][p],d=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var b=new L0(h),y=new Xr([b],{width:"100%",height:Me(d),viewBox:"0 0 "+o+" "+c,preserveAspectRatio:"none"});return{span:G.makeSvgSpan([],[y],n),minWidth:0,height:d}}else{var w=[],k=bM[l],[E,$,A]=k,z=A/1e3,_=E.length,j,H;if(_===1){var S=k[3];j=["hide-tail"],H=[S]}else if(_===2)j=["halfarrow-left","halfarrow-right"],H=["xMinYMin","xMaxYMin"];else if(_===3)j=["brace-left","brace-center","brace-right"],H=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var C=0;C<_;C++){var L=new L0(E[C]),R=new Xr([L],{width:"400em",height:Me(z),viewBox:"0 0 "+o+" "+A,preserveAspectRatio:H[C]+" slice"}),X=G.makeSvgSpan([j[C]],[R],n);if(_===1)return{span:X,minWidth:$,height:z};X.style.height=Me(z),w.push(X)}return{span:G.makeSpan(["stretchy"],w,n),minWidth:$,height:z}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=Me(s),a>0&&(i.style.minWidth=Me(a)),i},xM=function(t,n,r,i,a){var s,o=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=G.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new M4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new M4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new Xr(u,{width:"100%",height:Me(o)});s=G.makeSvgSpan([],[f],a)}return s.height=o,s.style.height=Me(o),s},Qr={encloseSpan:xM,mathMLnode:vM,svgSpan:wM};function Oe(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Nm(e){var t=Ec(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Ec(e){return e&&(e.type==="atom"||Wx.hasOwnProperty(e.type))?e:null}var qm=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=Oe(e.base,"accent"),n=r.base,e.base=n,i=Ux(Ze(e,t)),e.base=r):(r=Oe(e,"accent"),n=r.base);var a=Ze(n,t.havingCrampedStyle()),s=r.isShifty&&qe.isCharacterBox(n),o=0;if(s){var l=qe.getBaseElem(n),u=Ze(l,t.havingCrampedStyle());o=b6(u).skew}var f=r.label==="\\c",c=f?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=Qr.svgSpan(r,t),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Me(2*o)+")",marginLeft:Me(2*o)}:void 0}]},t);else{var d,p;r.label==="\\vec"?(d=G.staticSvg("vec",t),p=G.svgData.vec[1]):(d=G.makeOrd({mode:r.mode,text:r.label},t,"textord"),d=b6(d),d.italic=0,p=d.width,f&&(c+=d.depth)),h=G.makeSpan(["accent-body"],[d]);var b=r.label==="\\textcircled";b&&(h.classes.push("accent-full"),c=a.height);var y=o;b||(y-=p/2),h.style.left=Me(y),r.label==="\\textcircled"&&(h.style.top=".2em"),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-c},{type:"elem",elem:h}]},t)}var w=G.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=w,i.height=Math.max(w.height,i.height),i.classes[0]="mord",i):w},z8=(e,t)=>{var n=e.isStretchy?Qr.mathMLnode(e.label):new ce.MathNode("mo",[qn(e.label,e.mode)]),r=new ce.MathNode("mover",[et(e.base,t),n]);return r.setAttribute("accent","true"),r},MM=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));$e({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Ff(t[0]),r=!MM.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:qm,mathmlBuilder:z8});$e({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:qm,mathmlBuilder:z8});$e({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Ze(e.base,t),r=Qr.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=Qr.mathMLnode(e.label),r=new ce.MathNode("munder",[et(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Q1=e=>{var t=new ce.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};$e({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=G.wrapFragment(Ze(e.body,r,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(r=t.havingStyle(n.sub()),s=G.wrapFragment(Ze(e.below,r,t),t),s.classes.push(a+"-arrow-pad"));var o=Qr.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var f;if(s){var c=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;f=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:c}]},t)}else f=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),G.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(e,t){var n=Qr.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=Q1(et(e.body,t));if(e.below){var a=Q1(et(e.below,t));r=new ce.MathNode("munderover",[n,a,i])}else r=new ce.MathNode("mover",[n,i])}else if(e.below){var s=Q1(et(e.below,t));r=new ce.MathNode("munder",[n,s])}else r=Q1(),r=new ce.MathNode("mover",[n,r]);return r}});var SM=G.makeSpan;function D8(e,t){var n=Mt(e.body,t,!0);return SM([e.mclass],n,t)}function I8(e,t){var n,r=fn(e.body,t);return e.mclass==="minner"?n=new ce.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new ce.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new ce.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}$e({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:dt(i),isCharacterBox:qe.isCharacterBox(i)}},htmlBuilder:D8,mathmlBuilder:I8});var _c=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};$e({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:_c(t[0]),body:dt(t[1]),isCharacterBox:qe.isCharacterBox(t[1])}}});$e({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],a=t[0],s;r!=="\\stackrel"?s=_c(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:dt(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:qe.isCharacterBox(l)}},htmlBuilder:D8,mathmlBuilder:I8});$e({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:_c(t[0]),body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!0),r=G.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=fn(e.body,t),r=new ce.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var kM={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},T6=()=>({type:"styling",body:[],mode:"math",style:"display"}),C6=e=>e.type==="textord"&&e.text==="@",$M=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function TM(e,t,n){var r=kM[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function CM(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new pe("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],a=0;a<t.length;a++){for(var s=t[a],o=T6(),l=0;l<s.length;l++)if(!C6(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=Nm(s[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var c=0;c<2;c++){for(var h=!0,d=l+1;d<s.length;d++){if($M(s[d],u)){h=!1,l=d;break}if(C6(s[d]))throw new pe("Missing a "+u+" character to complete a CD arrow.",s[d]);f[c].body.push(s[d])}if(h)throw new pe("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new pe('Expected one of "<>AV=|." after @',s[l]);var p=TM(u,f,e),b={type:"styling",body:[p],mode:"math",style:"display"};r.push(b),o=T6()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var y=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}$e({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=G.wrapFragment(Ze(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Me(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new ce.MathNode("mrow",[et(e.label,t)]);return n=new ce.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ce.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});$e({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=G.wrapFragment(Ze(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new ce.MathNode("mrow",[et(e.fragment,t)])}});$e({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Oe(t[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=Oe(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new pe("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new pe("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var N8=(e,t)=>{var n=Mt(e.body,t.withColor(e.color),!1);return G.makeFragment(n)},q8=(e,t)=>{var n=fn(e.body,t.withColor(e.color)),r=new ce.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};$e({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Oe(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:dt(i)}},htmlBuilder:N8,mathmlBuilder:q8});$e({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=Oe(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:N8,mathmlBuilder:q8});$e({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&Oe(i,"size").value}},htmlBuilder(e,t){var n=G.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Me(lt(e.size,t)))),n},mathmlBuilder(e,t){var n=new ce.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Me(lt(e.size,t)))),n}});var T4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},B8=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new pe("Expected a control sequence",e);return t},AM=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},R8=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};$e({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(T4[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=T4[r.text]),Oe(t.parseFunction(),"internal");throw new pe("Invalid token after macro prefix",r)}});$e({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new pe("Expected a control sequence",r);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new pe('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new pe('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new pe("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===T4[n]),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=B8(t.gullet.popToken());t.gullet.consumeSpaces();var i=AM(t);return R8(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=B8(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return R8(t,r,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var ol=function(t,n,r){var i=at.math[t]&&at.math[t].replace,a=Em(i||t,n,r);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},Bm=function(t,n,r,i){var a=r.havingBaseStyle(n),s=G.makeSpan(i.concat(a.sizingClasses(r)),[t],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},L8=function(t,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Me(a),t.height-=a,t.depth+=a},EM=function(t,n,r,i,a,s){var o=G.makeSymbol(t,"Main-Regular",a,i),l=Bm(o,n,i,s);return r&&L8(l,i,n),l},_M=function(t,n,r,i){return G.makeSymbol(t,"Size"+n+"-Regular",r,i)},F8=function(t,n,r,i,a,s){var o=_M(t,n,a,i),l=Bm(G.makeSpan(["delimsizing","size"+n],[o],i),Ie.TEXT,i,s);return r&&L8(l,i,Ie.TEXT),l},Ed=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=G.makeSpan(["delimsizinginner",i],[G.makeSpan([],[G.makeSymbol(t,n,r)])]);return{type:"elem",elem:a}},_d=function(t,n,r){var i=cr["Size4-Regular"][t.charCodeAt(0)]?cr["Size4-Regular"][t.charCodeAt(0)][4]:cr["Size1-Regular"][t.charCodeAt(0)][4],a=new L0("inner",Bx(t,Math.round(1e3*n))),s=new Xr([a],{width:Me(i),height:Me(n),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=G.makeSvgSpan([],[s],r);return o.height=n,o.style.height=Me(n),o.style.width=Me(i),{type:"elem",elem:o}},C4=.008,K1={type:"kern",size:-1*C4},zM=["|","\\lvert","\\rvert","\\vert"],DM=["\\|","\\lVert","\\rVert","\\Vert"],P8=function(t,n,r,i,a,s){var o,l,u,f,c="",h=0;o=u=f=t,l=null;var d="Size1-Regular";t==="\\uparrow"?u=f="⏐":t==="\\Uparrow"?u=f="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",f="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",f="\\Downarrow"):qe.contains(zM,t)?(u="∣",c="vert",h=333):qe.contains(DM,t)?(u="∥",c="doublevert",h=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",f="⎣",d="Size4-Regular",c="lbrack",h=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",f="⎦",d="Size4-Regular",c="rbrack",h=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",f="⎣",d="Size4-Regular",c="lfloor",h=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=f="⎢",d="Size4-Regular",c="lceil",h=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",f="⎦",d="Size4-Regular",c="rfloor",h=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=f="⎥",d="Size4-Regular",c="rceil",h=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",f="⎝",d="Size4-Regular",c="lparen",h=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",f="⎠",d="Size4-Regular",c="rparen",h=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",f="⎩",u="⎪",d="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",f="⎭",u="⎪",d="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",f="⎩",u="⎪",d="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",f="⎭",u="⎪",d="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",f="⎭",u="⎪",d="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",f="⎩",u="⎪",d="Size4-Regular");var p=ol(o,d,a),b=p.height+p.depth,y=ol(u,d,a),w=y.height+y.depth,k=ol(f,d,a),E=k.height+k.depth,$=0,A=1;if(l!==null){var z=ol(l,d,a);$=z.height+z.depth,A=2}var _=b+E+$,j=Math.max(0,Math.ceil((n-_)/(A*w))),H=_+j*A*w,S=i.fontMetrics().axisHeight;r&&(S*=i.sizeMultiplier);var C=H/2-S,L=[];if(c.length>0){var R=H-b-E,X=Math.round(H*1e3),I=Rx(c,Math.round(R*1e3)),W=new L0(c,I),ae=(h/1e3).toFixed(3)+"em",re=(X/1e3).toFixed(3)+"em",le=new Xr([W],{width:ae,height:re,viewBox:"0 0 "+h+" "+X}),ee=G.makeSvgSpan([],[le],i);ee.height=X/1e3,ee.style.width=ae,ee.style.height=re,L.push({type:"elem",elem:ee})}else{if(L.push(Ed(f,d,a)),L.push(K1),l===null){var se=H-b-E+2*C4;L.push(_d(u,se,i))}else{var oe=(H-b-E-$)/2+2*C4;L.push(_d(u,oe,i)),L.push(K1),L.push(Ed(l,d,a)),L.push(K1),L.push(_d(u,oe,i))}L.push(K1),L.push(Ed(o,d,a))}var ne=i.havingBaseStyle(Ie.TEXT),Se=G.makeVList({positionType:"bottom",positionData:C,children:L},ne);return Bm(G.makeSpan(["delimsizing","mult"],[Se],ne),Ie.TEXT,i,s)},zd=80,Dd=.08,Id=function(t,n,r,i,a){var s=qx(t,i,r),o=new L0(t,s),l=new Xr([o],{width:"400em",height:Me(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return G.makeSvgSpan(["hide-tail"],[l],a)},IM=function(t,n){var r=n.havingBaseSizing(),i=U8("\\surd",t*r.sizeMultiplier,V8,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,f=0,c;return i.type==="small"?(f=1e3+1e3*s+zd,t<1?a=1:t<1.4&&(a=.7),l=(1+s+Dd)/a,u=(1+s)/a,o=Id("sqrtMain",l,f,s,n),o.style.minWidth="0.853em",c=.833/a):i.type==="large"?(f=(1e3+zd)*bl[i.size],u=(bl[i.size]+s)/a,l=(bl[i.size]+s+Dd)/a,o=Id("sqrtSize"+i.size,l,f,s,n),o.style.minWidth="1.02em",c=1/a):(l=t+s+Dd,u=t+s,f=Math.floor(1e3*t+s)+zd,o=Id("sqrtTall",l,f,s,n),o.style.minWidth="0.742em",c=1.056),o.height=u,o.style.height=Me(l),{span:o,advanceWidth:c,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},O8=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],NM=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],H8=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],bl=[0,1.2,1.8,2.4,3],qM=function(t,n,r,i,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),qe.contains(O8,t)||qe.contains(H8,t))return F8(t,n,!1,r,i,a);if(qe.contains(NM,t))return P8(t,bl[n],!1,r,i,a);throw new pe("Illegal delimiter: '"+t+"'")},BM=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],RM=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"stack"}],V8=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],LM=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},U8=function(t,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=ol(t,LM(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},j8=function(t,n,r,i,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;qe.contains(H8,t)?o=BM:qe.contains(O8,t)?o=V8:o=RM;var l=U8(t,n,o,i);return l.type==="small"?EM(t,l.style,r,i,a,s):l.type==="large"?F8(t,l.size,r,i,a,s):P8(t,n,r,i,a,s)},FM=function(t,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,f=Math.max(n-o,r+o),c=Math.max(f/500*l,2*f-u);return j8(t,c,!0,i,a,s)},Yr={sqrtImage:IM,sizedDelim:qM,sizeToMaxHeight:bl,customSizedDelim:j8,leftRightDelim:FM},A6={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},PM=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function zc(e,t){var n=Ec(e);if(n&&qe.contains(PM,n.text))return n;throw n?new pe("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new pe("Invalid delimiter type '"+e.type+"'",e)}$e({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=zc(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:A6[e.funcName].size,mclass:A6[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?G.makeSpan([e.mclass]):Yr.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(qn(e.delim,e.mode));var n=new ce.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Me(Yr.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function E6(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}$e({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new pe("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:zc(t[0],e).text,color:n}}});$e({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=zc(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=Oe(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{E6(e);for(var n=Mt(e.body,t,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var o;if(e.left==="."?o=Cl(t,["mopen"]):o=Yr.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var u=n[l],f=u.isMiddle;f&&(n[l]=Yr.leftRightDelim(f.delim,r,i,f.options,e.mode,[]))}var c;if(e.right===".")c=Cl(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;c=Yr.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(c),G.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{E6(e);var n=fn(e.body,t);if(e.left!=="."){var r=new ce.MathNode("mo",[qn(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new ce.MathNode("mo",[qn(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return Dm(n)}});$e({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=zc(t[0],e);if(!e.parser.leftrightDepth)throw new pe("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Cl(t,[]);else{n=Yr.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?qn("|","text"):qn(e.delim,e.mode),r=new ce.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Rm=(e,t)=>{var n=G.wrapFragment(Ze(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,s=0,o=qe.isCharacterBox(e.body);if(r==="sout")a=G.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var l=lt({number:.6,unit:"pt"},t),u=lt({number:.35,unit:"ex"},t),f=t.havingBaseSizing();i=i/f.sizeMultiplier;var c=n.height+n.depth+l+u;n.style.paddingLeft=Me(c/2+l);var h=Math.floor(1e3*c*i),d=Ix(h),p=new Xr([new L0("phase",d)],{width:"400em",height:Me(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});a=G.makeSvgSpan(["hide-tail"],[p],t),a.style.height=Me(c),s=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var b=0,y=0,w=0;/box/.test(r)?(w=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),b=t.fontMetrics().fboxsep+(r==="colorbox"?0:w),y=b):r==="angl"?(w=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),b=4*w,y=Math.max(0,.25-n.depth)):(b=o?.2:0,y=b),a=Qr.encloseSpan(n,r,b,y,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=Me(w)):r==="angl"&&w!==.049&&(a.style.borderTopWidth=Me(w),a.style.borderRightWidth=Me(w)),s=n.depth+y,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var k;if(e.backgroundColor)k=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var E=/cancel|phase/.test(r)?["svg-align"]:[];k=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:E}]},t)}return/cancel/.test(r)&&(k.height=n.height,k.depth=n.depth),/cancel/.test(r)&&!o?G.makeSpan(["mord","cancel-lap"],[k],t):G.makeSpan(["mord"],[k],t)},Lm=(e,t)=>{var n=0,r=new ce.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[et(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};$e({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Oe(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:Rm,mathmlBuilder:Lm});$e({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Oe(t[0],"color-token").color,s=Oe(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Rm,mathmlBuilder:Lm});$e({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});$e({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Rm,mathmlBuilder:Lm});$e({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var W8={};function yr(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)W8[n[l]]=o;a&&(Rf[t]=a),s&&(Lf[t]=s)}var Y8={};function T(e,t){Y8[e]=t}function _6(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Dc=e=>{var t=e.parser.settings;if(!t.displayMode)throw new pe("{"+e.envName+"} can be used only in display mode.")};function Fm(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function H0(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:c,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=e.gullet.expandMacroAsText("\\arraystretch");if(d==null)s=1;else if(s=parseFloat(d),!s||s<0)throw new pe("Invalid \\arraystretch: "+d)}e.gullet.beginGroup();var p=[],b=[p],y=[],w=[],k=l!=null?[]:void 0;function E(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function $(){k&&(e.gullet.macros.get("\\df@tag")?(k.push(e.subparse([new mr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(E(),w.push(_6(e));;){var A=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},n&&(A={type:"styling",mode:e.mode,style:n,body:[A]}),p.push(A);var z=e.fetch().text;if(z==="&"){if(c&&p.length===c){if(u||o)throw new pe("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(z==="\\end"){$(),p.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(b.length>1||!f)&&b.pop(),w.length<b.length+1&&w.push([]);break}else if(z==="\\\\"){e.consume();var _=void 0;e.gullet.future().text!==" "&&(_=e.parseSizeGroup(!0)),y.push(_?_.value:null),$(),w.push(_6(e)),p=[],b.push(p),E()}else throw new pe("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:b,cols:a,rowGaps:y,hskipBeforeAndAfter:r,hLinesBeforeRow:w,colSeparationType:o,tags:k,leqno:h}}function Pm(e){return e.slice(0,1)==="d"?"display":"text"}var wr=function(t,n){var r,i,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],f=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),c=1/n.fontMetrics().ptPerEm,h=5*c;if(t.colSeparationType&&t.colSeparationType==="small"){var d=n.havingStyle(Ie.SCRIPT).sizeMultiplier;h=.2778*(d/n.sizeMultiplier)}var p=t.colSeparationType==="CD"?lt({number:3,unit:"ex"},n):12*c,b=3*c,y=t.arraystretch*p,w=.7*y,k=.3*y,E=0;function $(mt){for(var yt=0;yt<mt.length;++yt)yt>0&&(E+=.25),u.push({pos:E,isDashed:mt[yt]})}for($(s[0]),r=0;r<t.body.length;++r){var A=t.body[r],z=w,_=k;o<A.length&&(o=A.length);var j=new Array(A.length);for(i=0;i<A.length;++i){var H=Ze(A[i],n);_<H.depth&&(_=H.depth),z<H.height&&(z=H.height),j[i]=H}var S=t.rowGaps[r],C=0;S&&(C=lt(S,n),C>0&&(C+=k,_<C&&(_=C),C=0)),t.addJot&&(_+=b),j.height=z,j.depth=_,E+=z,j.pos=E,E+=_+C,l[r]=j,$(s[r+1])}var L=E/2+n.fontMetrics().axisHeight,R=t.cols||[],X=[],I,W,ae=[];if(t.tags&&t.tags.some(mt=>mt))for(r=0;r<a;++r){var re=l[r],le=re.pos-L,ee=t.tags[r],se=void 0;ee===!0?se=G.makeSpan(["eqn-num"],[],n):ee===!1?se=G.makeSpan([],[],n):se=G.makeSpan([],Mt(ee,n,!0),n),se.depth=re.depth,se.height=re.height,ae.push({type:"elem",elem:se,shift:le})}for(i=0,W=0;i<o||W<R.length;++i,++W){for(var oe=R[W]||{},ne=!0;oe.type==="separator";){if(ne||(I=G.makeSpan(["arraycolsep"],[]),I.style.width=Me(n.fontMetrics().doubleRuleSep),X.push(I)),oe.separator==="|"||oe.separator===":"){var Se=oe.separator==="|"?"solid":"dashed",Ce=G.makeSpan(["vertical-separator"],[],n);Ce.style.height=Me(E),Ce.style.borderRightWidth=Me(f),Ce.style.borderRightStyle=Se,Ce.style.margin="0 "+Me(-f/2);var _e=E-L;_e&&(Ce.style.verticalAlign=Me(-_e)),X.push(Ce)}else throw new pe("Invalid separator type: "+oe.separator);W++,oe=R[W]||{},ne=!1}if(!(i>=o)){var fe=void 0;(i>0||t.hskipBeforeAndAfter)&&(fe=qe.deflt(oe.pregap,h),fe!==0&&(I=G.makeSpan(["arraycolsep"],[]),I.style.width=Me(fe),X.push(I)));var he=[];for(r=0;r<a;++r){var te=l[r],xe=te[i];if(xe){var Te=te.pos-L;xe.depth=te.depth,xe.height=te.height,he.push({type:"elem",elem:xe,shift:Te})}}he=G.makeVList({positionType:"individualShift",children:he},n),he=G.makeSpan(["col-align-"+(oe.align||"c")],[he]),X.push(he),(i<o-1||t.hskipBeforeAndAfter)&&(fe=qe.deflt(oe.postgap,h),fe!==0&&(I=G.makeSpan(["arraycolsep"],[]),I.style.width=Me(fe),X.push(I)))}}if(l=G.makeSpan(["mtable"],X),u.length>0){for(var Y=G.makeLineSpan("hline",n,f),ke=G.makeLineSpan("hdashline",n,f),Ee=[{type:"elem",elem:l,shift:0}];u.length>0;){var Be=u.pop(),Re=Be.pos-L;Be.isDashed?Ee.push({type:"elem",elem:ke,shift:Re}):Ee.push({type:"elem",elem:Y,shift:Re})}l=G.makeVList({positionType:"individualShift",children:Ee},n)}if(ae.length===0)return G.makeSpan(["mord"],[l],n);var Ge=G.makeVList({positionType:"individualShift",children:ae},n);return Ge=G.makeSpan(["tag"],[Ge],n),G.makeFragment([l,Ge])},OM={c:"center ",l:"left ",r:"right "},xr=function(t,n){for(var r=[],i=new ce.MathNode("mtd",[],["mtr-glue"]),a=new ce.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new ce.MathNode("mtd",[et(o[u],n)]));t.tags&&t.tags[s]&&(l.unshift(i),l.push(i),t.leqno?l.unshift(a):l.push(a)),r.push(new ce.MathNode("mtr",l))}var f=new ce.MathNode("mtable",r),c=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",Me(c));var h="",d="";if(t.cols&&t.cols.length>0){var p=t.cols,b="",y=!1,w=0,k=p.length;p[0].type==="separator"&&(h+="top ",w=1),p[p.length-1].type==="separator"&&(h+="bottom ",k-=1);for(var E=w;E<k;E++)p[E].type==="align"?(d+=OM[p[E].align],y&&(b+="none "),y=!0):p[E].type==="separator"&&y&&(b+=p[E].separator==="|"?"solid ":"dashed ",y=!1);f.setAttribute("columnalign",d.trim()),/[sd]/.test(b)&&f.setAttribute("columnlines",b.trim())}if(t.colSeparationType==="align"){for(var $=t.cols||[],A="",z=1;z<$.length;z++)A+=z%2?"0em ":"1em ";f.setAttribute("columnspacing",A.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var _="",j=t.hLinesBeforeRow;h+=j[0].length>0?"left ":"",h+=j[j.length-1].length>0?"right ":"";for(var H=1;H<j.length-1;H++)_+=j[H].length===0?"none ":j[H][0]?"dashed ":"solid ";return/[sd]/.test(_)&&f.setAttribute("rowlines",_.trim()),h!==""&&(f=new ce.MathNode("menclose",[f]),f.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(f=new ce.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},G8=function(t,n){t.envName.indexOf("ed")===-1&&Dc(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=H0(t.parser,{cols:r,addJot:!0,autoTag:a?void 0:Fm(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var f="",c=0;c<n[0].body.length;c++){var h=Oe(n[0].body[c],"textord");f+=h.text}o=Number(f),l=o*2}var d=!l;s.body.forEach(function(w){for(var k=1;k<w.length;k+=2){var E=Oe(w[k],"styling"),$=Oe(E.body[0],"ordgroup");$.body.unshift(u)}if(d)l<w.length&&(l=w.length);else{var A=w.length/2;if(o<A)throw new pe("Too many math in a row: "+("expected "+o+", but got "+A),w[0])}});for(var p=0;p<l;++p){var b="r",y=0;p%2===1?b="l":p>0&&d&&(y=1),r[p]={type:"align",align:b,pregap:y,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};yr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=Ec(t[0]),r=n?[t[0]]:Oe(t[0],"ordgroup").body,i=r.map(function(s){var o=Nm(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new pe("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return H0(e.parser,a,Pm(e.envName))},htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new pe("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=H0(e.parser,r,Pm(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=H0(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=Ec(t[0]),r=n?[t[0]]:Oe(t[0],"ordgroup").body,i=r.map(function(s){var o=Nm(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new pe("Unknown column alignment: "+l,s)});if(i.length>1)throw new pe("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=H0(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new pe("{subarray} can contain only one column");return a},htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=H0(e.parser,t,Pm(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:G8,htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){qe.contains(["gather","gather*"],e.envName)&&Dc(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Fm(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return H0(e.parser,t,"display")},htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:G8,htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Dc(e);var t={autoTag:Fm(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return H0(e.parser,t,"display")},htmlBuilder:wr,mathmlBuilder:xr});yr({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Dc(e),CM(e.parser)},htmlBuilder:wr,mathmlBuilder:xr});T("\\nonumber","\\gdef\\@eqnsw{0}");T("\\notag","\\nonumber");$e({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new pe(e.funcName+" valid only within array environment")}});var z6=W8;$e({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new pe("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Oe(i.body[s],"textord").text;if(r==="\\begin"){if(!z6.hasOwnProperty(a))throw new pe("No such environment: "+a,i);var o=z6[a],{args:l,optArgs:u}=n.parseArguments("\\begin{"+a+"}",o),f={mode:n.mode,envName:a,parser:n},c=o.handler(f,l,u);n.expect("\\end",!1);var h=n.nextToken,d=Oe(n.parseFunction(),"environment");if(d.name!==a)throw new pe("Mismatch: \\begin{"+a+"} matched by \\end{"+d.name+"}",h);return c}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var X8=(e,t)=>{var n=e.font,r=t.withFont(n);return Ze(e.body,r)},Z8=(e,t)=>{var n=e.font,r=t.withFont(n);return et(e.body,r)},D6={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};$e({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=Ff(t[0]),a=r;return a in D6&&(a=D6[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:X8,mathmlBuilder:Z8});$e({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=qe.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:_c(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});$e({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:X8,mathmlBuilder:Z8});var Q8=(e,t)=>{var n=t;return e==="display"?n=n.id>=Ie.SCRIPT.id?n.text():Ie.DISPLAY:e==="text"&&n.size===Ie.DISPLAY.size?n=Ie.TEXT:e==="script"?n=Ie.SCRIPT:e==="scriptscript"&&(n=Ie.SCRIPTSCRIPT),n},Om=(e,t)=>{var n=Q8(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a;a=t.havingStyle(r);var s=Ze(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(i);var u=Ze(e.denom,a,t),f,c,h;e.hasBarLine?(e.barSize?(c=lt(e.barSize,t),f=G.makeLineSpan("frac-line",t,c)):f=G.makeLineSpan("frac-line",t),c=f.height,h=f.height):(f=null,c=0,h=t.fontMetrics().defaultRuleThickness);var d,p,b;n.size===Ie.DISPLAY.size||e.size==="display"?(d=t.fontMetrics().num1,c>0?p=3*h:p=7*h,b=t.fontMetrics().denom1):(c>0?(d=t.fontMetrics().num2,p=h):(d=t.fontMetrics().num3,p=3*h),b=t.fontMetrics().denom2);var y;if(f){var k=t.fontMetrics().axisHeight;d-s.depth-(k+.5*c)<p&&(d+=p-(d-s.depth-(k+.5*c))),k-.5*c-(u.height-b)<p&&(b+=p-(k-.5*c-(u.height-b)));var E=-(k-.5*c);y=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:b},{type:"elem",elem:f,shift:E},{type:"elem",elem:s,shift:-d}]},t)}else{var w=d-s.depth-(u.height-b);w<p&&(d+=.5*(p-w),b+=.5*(p-w)),y=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:b},{type:"elem",elem:s,shift:-d}]},t)}a=t.havingStyle(n),y.height*=a.sizeMultiplier/t.sizeMultiplier,y.depth*=a.sizeMultiplier/t.sizeMultiplier;var $;n.size===Ie.DISPLAY.size?$=t.fontMetrics().delim1:n.size===Ie.SCRIPTSCRIPT.size?$=t.havingStyle(Ie.SCRIPT).fontMetrics().delim2:$=t.fontMetrics().delim2;var A,z;return e.leftDelim==null?A=Cl(t,["mopen"]):A=Yr.customSizedDelim(e.leftDelim,$,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?z=G.makeSpan([]):e.rightDelim==null?z=Cl(t,["mclose"]):z=Yr.customSizedDelim(e.rightDelim,$,!0,t.havingStyle(n),e.mode,["mclose"]),G.makeSpan(["mord"].concat(a.sizingClasses(t)),[A,G.makeSpan(["mfrac"],[y]),z],t)},Hm=(e,t)=>{var n=new ce.MathNode("mfrac",[et(e.numer,t),et(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=lt(e.barSize,t);n.setAttribute("linethickness",Me(r))}var i=Q8(e.size,t.style);if(i.size!==t.style.size){n=new ce.MathNode("mstyle",[n]);var a=i.size===Ie.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new ce.MathNode("mo",[new ce.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),e.rightDelim!=null){var l=new ce.MathNode("mo",[new ce.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Dm(s)}return n};$e({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:Om,mathmlBuilder:Hm});$e({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});$e({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var I6=["display","text","script","scriptscript"],N6=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};$e({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],a=Ff(t[0]),s=a.type==="atom"&&a.family==="open"?N6(a.text):null,o=Ff(t[1]),l=o.type==="atom"&&o.family==="close"?N6(o.text):null,u=Oe(t[2],"size"),f,c=null;u.isBlank?f=!0:(c=u.value,f=c.number>0);var h="auto",d=t[3];if(d.type==="ordgroup"){if(d.body.length>0){var p=Oe(d.body[0],"textord");h=I6[Number(p.text)]}}else d=Oe(d,"textord"),h=I6[Number(d.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:f,barSize:c,leftDelim:s,rightDelim:l,size:h}},htmlBuilder:Om,mathmlBuilder:Hm});$e({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Oe(t[0],"size").value,token:i}}});$e({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=bx(Oe(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Om,mathmlBuilder:Hm});var K8=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?Ze(e.sup,t.havingStyle(n.sup()),t):Ze(e.sub,t.havingStyle(n.sub()),t),i=Oe(e.base,"horizBrace")):i=Oe(e,"horizBrace");var a=Ze(i.base,t.havingBaseStyle(Ie.DISPLAY)),s=Qr.svgSpan(i,t),o;if(i.isOver?(o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=G.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);i.isOver?o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):o=G.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)},HM=(e,t)=>{var n=Qr.mathMLnode(e.label);return new ce.MathNode(e.isOver?"mover":"munder",[et(e.base,t),n])};$e({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:K8,mathmlBuilder:HM});$e({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=Oe(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:dt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1);return G.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=F0(e.body,t);return n instanceof An||(n=new An("mrow",[n])),n.setAttribute("href",e.href),n}});$e({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Oe(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:dt(o)}}});$e({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!1);return G.makeFragment(n)},mathmlBuilder(e,t){return new ce.MathNode("mrow",fn(e.body,t))}});$e({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,a=Oe(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),f=0;f<u.length;f++){var c=u[f].split("=");if(c.length!==2)throw new pe("Error parsing key-value for \\htmlData");l["data-"+c[0].trim()]=c[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:dt(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=G.makeSpan(r,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>F0(e.body,t)});$e({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:dt(t[0]),mathml:dt(t[1])}},htmlBuilder:(e,t)=>{var n=Mt(e.html,t,!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>F0(e.mathml,t)});var Nd=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new pe("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!v8(r))throw new pe("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};$e({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=Oe(n[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var c=u[f].split("=");if(c.length===2){var h=c[1].trim();switch(c[0].trim()){case"alt":o=h;break;case"width":i=Nd(h);break;case"height":a=Nd(h);break;case"totalheight":s=Nd(h);break;default:throw new pe("Invalid key: '"+c[0]+"' in \\includegraphics.")}}}var d=Oe(t[0],"url").url;return o===""&&(o=d,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=lt(e.height,t),r=0;e.totalheight.number>0&&(r=lt(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=lt(e.width,t));var a={height:Me(n+r)};i>0&&(a.width=Me(i)),r>0&&(a.verticalAlign=Me(-r));var s=new Hx(e.src,e.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new ce.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=lt(e.height,t),i=0;if(e.totalheight.number>0&&(i=lt(e.totalheight,t)-r,n.setAttribute("valign",Me(-i))),n.setAttribute("height",Me(r+i)),e.width.number>0){var a=lt(e.width,t);n.setAttribute("width",Me(a))}return n.setAttribute("src",e.src),n}});$e({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=Oe(t[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return G.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=lt(e.dimension,t);return new ce.SpaceNode(n)}});$e({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=G.makeSpan([],[Ze(e.body,t)]),n=G.makeSpan(["inner"],[n],t)):n=G.makeSpan(["inner"],[Ze(e.body,t)]);var r=G.makeSpan(["fix"],[]),i=G.makeSpan([e.alignment],[n,r],t),a=G.makeSpan(["strut"]);return a.style.height=Me(i.height+i.depth),i.depth&&(a.style.verticalAlign=Me(-i.depth)),i.children.unshift(a),i=G.makeSpan(["thinbox"],[i],t),G.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new ce.MathNode("mpadded",[et(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});$e({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});$e({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new pe("Mismatched "+e.funcName)}});var q6=(e,t)=>{switch(t.style.size){case Ie.DISPLAY.size:return e.display;case Ie.TEXT.size:return e.text;case Ie.SCRIPT.size:return e.script;case Ie.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};$e({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:dt(t[0]),text:dt(t[1]),script:dt(t[2]),scriptscript:dt(t[3])}},htmlBuilder:(e,t)=>{var n=q6(e,t),r=Mt(n,t,!1);return G.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=q6(e,t);return F0(n,t)}});var J8=(e,t,n,r,i,a,s)=>{e=G.makeSpan([],[e]);var o=n&&qe.isCharacterBox(n),l,u;if(t){var f=Ze(t,r.havingStyle(i.sup()),r);u={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-f.depth)}}if(n){var c=Ze(n,r.havingStyle(i.sub()),r);l={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-c.height)}}var h;if(u&&l){var d=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+s;h=G.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=e.height-s;h=G.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},r)}else if(u){var b=e.depth+s;h=G.makeVList({positionType:"bottom",positionData:b,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var y=[h];if(l&&a!==0&&!o){var w=G.makeSpan(["mspace"],[],r);w.style.marginRight=Me(a),y.unshift(w)}return G.makeSpan(["mop","op-limits"],y,r)},e9=["\\smallint"],Oo=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Oe(e.base,"op"),i=!0):a=Oe(e,"op");var s=t.style,o=!1;s.size===Ie.DISPLAY.size&&a.symbol&&!qe.contains(e9,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",f="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(f=a.name.slice(1),a.name=f==="oiint"?"\\iint":"\\iiint"),l=G.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),f.length>0){var c=l.italic,h=G.staticSvg(f+"Size"+(o?"2":"1"),t);l=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},t),a.name="\\"+f,l.classes.unshift("mop"),l.italic=c}}else if(a.body){var d=Mt(a.body,t,!0);d.length===1&&d[0]instanceof Nn?(l=d[0],l.classes[0]="mop"):l=G.makeSpan(["mop"],d,t)}else{for(var p=[],b=1;b<a.name.length;b++)p.push(G.mathsym(a.name[b],a.mode,t));l=G.makeSpan(["mop"],p,t)}var y=0,w=0;return(l instanceof Nn||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(y=(l.height-l.depth)/2-t.fontMetrics().axisHeight,w=l.italic),i?J8(l,n,r,t,s,w,y):(y&&(l.style.position="relative",l.style.top=Me(y)),l)},Xl=(e,t)=>{var n;if(e.symbol)n=new An("mo",[qn(e.name,e.mode)]),qe.contains(e9,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new An("mo",fn(e.body,t));else{n=new An("mi",[new vl(e.name.slice(1))]);var r=new An("mo",[qn("⁡","text")]);e.parentIsSupSub?n=new An("mrow",[n,r]):n=A8([n,r])}return n},VM={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};$e({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=VM[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Oo,mathmlBuilder:Xl});$e({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:dt(r)}},htmlBuilder:Oo,mathmlBuilder:Xl});var UM={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};$e({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Oo,mathmlBuilder:Xl});$e({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Oo,mathmlBuilder:Xl});$e({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=UM[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Oo,mathmlBuilder:Xl});var t9=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Oe(e.base,"operatorname"),i=!0):a=Oe(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(c=>{var h=c.text;return typeof h=="string"?{type:"textord",mode:c.mode,text:h}:c}),l=Mt(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof Nn&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=G.makeSpan(["mop"],l,t)}else s=G.makeSpan(["mop"],[],t);return i?J8(s,n,r,t,t.style,0,0):s},jM=(e,t)=>{for(var n=fn(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof ce.SpaceNode))if(a instanceof ce.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof ce.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(f=>f.toText()).join("");n=[new ce.TextNode(o)]}var l=new ce.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new ce.MathNode("mo",[qn("⁡","text")]);return e.parentIsSupSub?new ce.MathNode("mrow",[l,u]):ce.newDocumentFragment([l,u])};$e({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:dt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:t9,mathmlBuilder:jM});T("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Fs({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?G.makeFragment(Mt(e.body,t,!1)):G.makeSpan(["mord"],Mt(e.body,t,!0),t)},mathmlBuilder(e,t){return F0(e.body,t,!0)}});$e({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle()),r=G.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return G.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new ce.MathNode("mo",[new ce.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new ce.MathNode("mover",[et(e.body,t),n]);return r.setAttribute("accent","true"),r}});$e({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:dt(r)}},htmlBuilder:(e,t)=>{var n=Mt(e.body,t.withPhantom(),!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=fn(e.body,t);return new ce.MathNode("mphantom",n)}});$e({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),G.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=fn(dt(e.body),t),r=new ce.MathNode("mphantom",n),i=new ce.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});$e({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan(["inner"],[Ze(e.body,t.withPhantom())]),r=G.makeSpan(["fix"],[]);return G.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=fn(dt(e.body),t),r=new ce.MathNode("mphantom",n),i=new ce.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});$e({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Oe(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Ze(e.body,t),r=lt(e.dy,t);return G.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new ce.MathNode("mpadded",[et(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});$e({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});$e({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],a=Oe(t[0],"size"),s=Oe(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&Oe(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var n=G.makeSpan(["mord","rule"],[],t),r=lt(e.width,t),i=lt(e.height,t),a=e.shift?lt(e.shift,t):0;return n.style.borderRightWidth=Me(r),n.style.borderTopWidth=Me(i),n.style.bottom=Me(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=lt(e.width,t),r=lt(e.height,t),i=e.shift?lt(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new ce.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Me(n)),s.setAttribute("height",Me(r));var o=new ce.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",Me(i)):(o.setAttribute("height",Me(i)),o.setAttribute("depth",Me(-i))),o.setAttribute("voffset",Me(i)),o}});function n9(e,t,n){for(var r=Mt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,t.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+t.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return G.makeFragment(r)}var B6=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],WM=(e,t)=>{var n=t.havingSize(e.size);return n9(e.body,n,t)};$e({type:"sizing",names:B6,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:B6.indexOf(r)+1,body:a}},htmlBuilder:WM,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=fn(e.body,n),i=new ce.MathNode("mstyle",r);return i.setAttribute("mathsize",Me(n.sizeMultiplier)),i}});$e({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,a=!1,s=n[0]&&Oe(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var f=t[0];return{type:"smash",mode:r.mode,body:f,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return G.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new ce.MathNode("mpadded",[et(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});$e({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],a=t[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=G.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,a=i;t.style.id<Ie.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:f}=Yr.sqrtImage(o,t),c=l.height-u;c>n.height+n.depth+s&&(s=(s+c-n.height-n.depth)/2);var h=l.height-n.height-s-u;n.style.paddingLeft=Me(f);var d=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var p=t.havingStyle(Ie.SCRIPTSCRIPT),b=Ze(e.index,p,t),y=.6*(d.height-d.depth),w=G.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:b}]},t),k=G.makeSpan(["root"],[w]);return G.makeSpan(["mord","sqrt"],[k,d],t)}else return G.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new ce.MathNode("mroot",[et(n,t),et(r,t)]):new ce.MathNode("msqrt",[et(n,t)])}});var R6={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT};$e({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var n=R6[e.style],r=t.havingStyle(n).withFont("");return n9(e.body,r,t)},mathmlBuilder(e,t){var n=R6[e.style],r=t.havingStyle(n),i=fn(e.body,r),a=new ce.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var YM=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Ie.DISPLAY.size||r.alwaysHandleSupSub);return i?Oo:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===Ie.DISPLAY.size||r.limits);return a?t9:null}else{if(r.type==="accent")return qe.isCharacterBox(r.base)?qm:null;if(r.type==="horizBrace"){var s=!t.sub;return s===r.isOver?K8:null}else return null}else return null};Fs({type:"supsub",htmlBuilder(e,t){var n=YM(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:a}=e,s=Ze(r,t),o,l,u=t.fontMetrics(),f=0,c=0,h=r&&qe.isCharacterBox(r);if(i){var d=t.havingStyle(t.style.sup());o=Ze(i,d,t),h||(f=s.height-d.fontMetrics().supDrop*d.sizeMultiplier/t.sizeMultiplier)}if(a){var p=t.havingStyle(t.style.sub());l=Ze(a,p,t),h||(c=s.depth+p.fontMetrics().subDrop*p.sizeMultiplier/t.sizeMultiplier)}var b;t.style===Ie.DISPLAY?b=u.sup1:t.style.cramped?b=u.sup3:b=u.sup2;var y=t.sizeMultiplier,w=Me(.5/u.ptPerEm/y),k=null;if(l){var E=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Nn||E)&&(k=Me(-s.italic))}var $;if(o&&l){f=Math.max(f,b,o.depth+.25*u.xHeight),c=Math.max(c,u.sub2);var A=u.defaultRuleThickness,z=4*A;if(f-o.depth-(l.height-c)<z){c=z-(f-o.depth)+l.height;var _=.8*u.xHeight-(f-o.depth);_>0&&(f+=_,c-=_)}var j=[{type:"elem",elem:l,shift:c,marginRight:w,marginLeft:k},{type:"elem",elem:o,shift:-f,marginRight:w}];$=G.makeVList({positionType:"individualShift",children:j},t)}else if(l){c=Math.max(c,u.sub1,l.height-.8*u.xHeight);var H=[{type:"elem",elem:l,marginLeft:k,marginRight:w}];$=G.makeVList({positionType:"shift",positionData:c,children:H},t)}else if(o)f=Math.max(f,b,o.depth+.25*u.xHeight),$=G.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:o,marginRight:w}]},t);else throw new Error("supsub must have either sup or sub.");var S=k4(s,"right")||"mord";return G.makeSpan([S],[s,G.makeSpan(["msupsub"],[$])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[et(e.base,t)];e.sub&&a.push(et(e.sub,t)),e.sup&&a.push(et(e.sup,t));var s;if(n)s=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===Ie.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===Ie.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Ie.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Ie.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===Ie.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===Ie.DISPLAY)?s="mover":s="msup"}return new ce.MathNode(s,a)}});Fs({type:"atom",htmlBuilder(e,t){return G.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new ce.MathNode("mo",[qn(e.text,e.mode)]);if(e.family==="bin"){var r=Im(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var r9={mi:"italic",mn:"normal",mtext:"normal"};Fs({type:"mathord",htmlBuilder(e,t){return G.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new ce.MathNode("mi",[qn(e.text,e.mode,t)]),r=Im(e,t)||"italic";return r!==r9[n.type]&&n.setAttribute("mathvariant",r),n}});Fs({type:"textord",htmlBuilder(e,t){return G.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=qn(e.text,e.mode,t),r=Im(e,t)||"normal",i;return e.mode==="text"?i=new ce.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new ce.MathNode("mn",[n]):e.text==="\\prime"?i=new ce.MathNode("mo",[n]):i=new ce.MathNode("mi",[n]),r!==r9[i.type]&&i.setAttribute("mathvariant",r),i}});var qd={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Bd={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Fs({type:"spacing",htmlBuilder(e,t){if(Bd.hasOwnProperty(e.text)){var n=Bd[e.text].className||"";if(e.mode==="text"){var r=G.makeOrd(e,t,"textord");return r.classes.push(n),r}else return G.makeSpan(["mspace",n],[G.mathsym(e.text,e.mode,t)],t)}else{if(qd.hasOwnProperty(e.text))return G.makeSpan(["mspace",qd[e.text]],[],t);throw new pe('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Bd.hasOwnProperty(e.text))n=new ce.MathNode("mtext",[new ce.TextNode(" ")]);else{if(qd.hasOwnProperty(e.text))return new ce.MathNode("mspace");throw new pe('Unknown type of space "'+e.text+'"')}return n}});var L6=()=>{var e=new ce.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Fs({type:"tag",mathmlBuilder(e,t){var n=new ce.MathNode("mtable",[new ce.MathNode("mtr",[L6(),new ce.MathNode("mtd",[F0(e.body,t)]),L6(),new ce.MathNode("mtd",[F0(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var F6={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},P6={"\\textbf":"textbf","\\textmd":"textmd"},GM={"\\textit":"textit","\\textup":"textup"},O6=(e,t)=>{var n=e.font;return n?F6[n]?t.withTextFontFamily(F6[n]):P6[n]?t.withTextFontWeight(P6[n]):t.withTextFontShape(GM[n]):t};$e({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:dt(i),font:r}},htmlBuilder(e,t){var n=O6(e,t),r=Mt(e.body,n,!0);return G.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=O6(e,t);return F0(e.body,n)}});$e({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=G.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new ce.MathNode("mo",[new ce.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new ce.MathNode("munder",[et(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});$e({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return G.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new ce.MathNode("mpadded",[et(e.body,t)],["vcenter"])}});$e({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new pe("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=H6(e),r=[],i=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(G.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return G.makeSpan(["mord","text"].concat(i.sizingClasses(t)),G.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new ce.TextNode(H6(e)),r=new ce.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var H6=e=>e.body.replace(/ /g,e.star?"␣":" "),N0=T8,i9=`[ \r
	]`,XM="\\\\[a-zA-Z@]+",ZM="\\\\[^\uD800-\uDFFF]",QM="("+XM+")"+i9+"*",KM=`\\\\(
|[ \r	]+
?)[ \r	]*`,A4="[̀-ͯ]",JM=new RegExp(A4+"+$"),eS="("+i9+"+)|"+(KM+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(A4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(A4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+QM)+("|"+ZM+")");class V6{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(eS,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new mr("EOF",new dn(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new pe("Unexpected character: '"+t[n]+"'",new mr(t[n],new dn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new mr(i,new dn(this,n,this.tokenRegex.lastIndex))}}class tS{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new pe("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var nS=Y8;T("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});T("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});T("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});T("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});T("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});T("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");T("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var U6={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};T("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new pe("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=U6[t.text],r==null||r>=n)throw new pe("Invalid base-"+n+" digit "+t.text);for(var i;(i=U6[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var Vm=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new pe("\\newcommand's first argument must be a macro name");var i=r[0].text,a=e.isDefined(i);if(a&&!t)throw new pe("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!n)throw new pe("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new pe("Invalid number of arguments: "+o);s=parseInt(o),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:s}),""};T("\\newcommand",e=>Vm(e,!1,!0));T("\\renewcommand",e=>Vm(e,!0,!1));T("\\providecommand",e=>Vm(e,!0,!0));T("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});T("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});T("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),N0[n],at.math[n],at.text[n]),""});T("\\bgroup","{");T("\\egroup","}");T("~","\\nobreakspace");T("\\lq","`");T("\\rq","'");T("\\aa","\\r a");T("\\AA","\\r A");T("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");T("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");T("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");T("ℬ","\\mathscr{B}");T("ℰ","\\mathscr{E}");T("ℱ","\\mathscr{F}");T("ℋ","\\mathscr{H}");T("ℐ","\\mathscr{I}");T("ℒ","\\mathscr{L}");T("ℳ","\\mathscr{M}");T("ℛ","\\mathscr{R}");T("ℭ","\\mathfrak{C}");T("ℌ","\\mathfrak{H}");T("ℨ","\\mathfrak{Z}");T("\\Bbbk","\\Bbb{k}");T("·","\\cdotp");T("\\llap","\\mathllap{\\textrm{#1}}");T("\\rlap","\\mathrlap{\\textrm{#1}}");T("\\clap","\\mathclap{\\textrm{#1}}");T("\\mathstrut","\\vphantom{(}");T("\\underbar","\\underline{\\text{#1}}");T("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');T("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");T("\\ne","\\neq");T("≠","\\neq");T("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");T("∉","\\notin");T("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");T("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");T("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");T("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");T("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");T("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");T("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");T("⟂","\\perp");T("‼","\\mathclose{!\\mkern-0.8mu!}");T("∌","\\notni");T("⌜","\\ulcorner");T("⌝","\\urcorner");T("⌞","\\llcorner");T("⌟","\\lrcorner");T("©","\\copyright");T("®","\\textregistered");T("️","\\textregistered");T("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');T("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');T("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');T("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');T("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");T("⋮","\\vdots");T("\\varGamma","\\mathit{\\Gamma}");T("\\varDelta","\\mathit{\\Delta}");T("\\varTheta","\\mathit{\\Theta}");T("\\varLambda","\\mathit{\\Lambda}");T("\\varXi","\\mathit{\\Xi}");T("\\varPi","\\mathit{\\Pi}");T("\\varSigma","\\mathit{\\Sigma}");T("\\varUpsilon","\\mathit{\\Upsilon}");T("\\varPhi","\\mathit{\\Phi}");T("\\varPsi","\\mathit{\\Psi}");T("\\varOmega","\\mathit{\\Omega}");T("\\substack","\\begin{subarray}{c}#1\\end{subarray}");T("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");T("\\boxed","\\fbox{$\\displaystyle{#1}$}");T("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");T("\\implies","\\DOTSB\\;\\Longrightarrow\\;");T("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var j6={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};T("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in j6?t=j6[n]:(n.slice(0,4)==="\\not"||n in at.math&&qe.contains(["bin","rel"],at.math[n].group))&&(t="\\dotsb"),t});var Um={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};T("\\dotso",function(e){var t=e.future().text;return t in Um?"\\ldots\\,":"\\ldots"});T("\\dotsc",function(e){var t=e.future().text;return t in Um&&t!==","?"\\ldots\\,":"\\ldots"});T("\\cdots",function(e){var t=e.future().text;return t in Um?"\\@cdots\\,":"\\@cdots"});T("\\dotsb","\\cdots");T("\\dotsm","\\cdots");T("\\dotsi","\\!\\cdots");T("\\dotsx","\\ldots\\,");T("\\DOTSI","\\relax");T("\\DOTSB","\\relax");T("\\DOTSX","\\relax");T("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");T("\\,","\\tmspace+{3mu}{.1667em}");T("\\thinspace","\\,");T("\\>","\\mskip{4mu}");T("\\:","\\tmspace+{4mu}{.2222em}");T("\\medspace","\\:");T("\\;","\\tmspace+{5mu}{.2777em}");T("\\thickspace","\\;");T("\\!","\\tmspace-{3mu}{.1667em}");T("\\negthinspace","\\!");T("\\negmedspace","\\tmspace-{4mu}{.2222em}");T("\\negthickspace","\\tmspace-{5mu}{.277em}");T("\\enspace","\\kern.5em ");T("\\enskip","\\hskip.5em\\relax");T("\\quad","\\hskip1em\\relax");T("\\qquad","\\hskip2em\\relax");T("\\tag","\\@ifstar\\tag@literal\\tag@paren");T("\\tag@paren","\\tag@literal{({#1})}");T("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new pe("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});T("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");T("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");T("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");T("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");T("\\newline","\\\\\\relax");T("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var a9=Me(cr["Main-Regular"]["T".charCodeAt(0)][1]-.7*cr["Main-Regular"]["A".charCodeAt(0)][1]);T("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+a9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");T("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+a9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");T("\\hspace","\\@ifstar\\@hspacer\\@hspace");T("\\@hspace","\\hskip #1\\relax");T("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");T("\\ordinarycolon",":");T("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");T("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');T("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');T("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');T("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');T("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');T("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');T("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');T("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');T("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');T("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');T("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');T("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');T("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');T("∷","\\dblcolon");T("∹","\\eqcolon");T("≔","\\coloneqq");T("≕","\\eqqcolon");T("⩴","\\Coloneqq");T("\\ratio","\\vcentcolon");T("\\coloncolon","\\dblcolon");T("\\colonequals","\\coloneqq");T("\\coloncolonequals","\\Coloneqq");T("\\equalscolon","\\eqqcolon");T("\\equalscoloncolon","\\Eqqcolon");T("\\colonminus","\\coloneq");T("\\coloncolonminus","\\Coloneq");T("\\minuscolon","\\eqcolon");T("\\minuscoloncolon","\\Eqcolon");T("\\coloncolonapprox","\\Colonapprox");T("\\coloncolonsim","\\Colonsim");T("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");T("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");T("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");T("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");T("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");T("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");T("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");T("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");T("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");T("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");T("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");T("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");T("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");T("\\nleqq","\\html@mathml{\\@nleqq}{≰}");T("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");T("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");T("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");T("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");T("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");T("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");T("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");T("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");T("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");T("\\imath","\\html@mathml{\\@imath}{ı}");T("\\jmath","\\html@mathml{\\@jmath}{ȷ}");T("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");T("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");T("⟦","\\llbracket");T("⟧","\\rrbracket");T("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");T("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");T("⦃","\\lBrace");T("⦄","\\rBrace");T("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");T("⦵","\\minuso");T("\\darr","\\downarrow");T("\\dArr","\\Downarrow");T("\\Darr","\\Downarrow");T("\\lang","\\langle");T("\\rang","\\rangle");T("\\uarr","\\uparrow");T("\\uArr","\\Uparrow");T("\\Uarr","\\Uparrow");T("\\N","\\mathbb{N}");T("\\R","\\mathbb{R}");T("\\Z","\\mathbb{Z}");T("\\alef","\\aleph");T("\\alefsym","\\aleph");T("\\Alpha","\\mathrm{A}");T("\\Beta","\\mathrm{B}");T("\\bull","\\bullet");T("\\Chi","\\mathrm{X}");T("\\clubs","\\clubsuit");T("\\cnums","\\mathbb{C}");T("\\Complex","\\mathbb{C}");T("\\Dagger","\\ddagger");T("\\diamonds","\\diamondsuit");T("\\empty","\\emptyset");T("\\Epsilon","\\mathrm{E}");T("\\Eta","\\mathrm{H}");T("\\exist","\\exists");T("\\harr","\\leftrightarrow");T("\\hArr","\\Leftrightarrow");T("\\Harr","\\Leftrightarrow");T("\\hearts","\\heartsuit");T("\\image","\\Im");T("\\infin","\\infty");T("\\Iota","\\mathrm{I}");T("\\isin","\\in");T("\\Kappa","\\mathrm{K}");T("\\larr","\\leftarrow");T("\\lArr","\\Leftarrow");T("\\Larr","\\Leftarrow");T("\\lrarr","\\leftrightarrow");T("\\lrArr","\\Leftrightarrow");T("\\Lrarr","\\Leftrightarrow");T("\\Mu","\\mathrm{M}");T("\\natnums","\\mathbb{N}");T("\\Nu","\\mathrm{N}");T("\\Omicron","\\mathrm{O}");T("\\plusmn","\\pm");T("\\rarr","\\rightarrow");T("\\rArr","\\Rightarrow");T("\\Rarr","\\Rightarrow");T("\\real","\\Re");T("\\reals","\\mathbb{R}");T("\\Reals","\\mathbb{R}");T("\\Rho","\\mathrm{P}");T("\\sdot","\\cdot");T("\\sect","\\S");T("\\spades","\\spadesuit");T("\\sub","\\subset");T("\\sube","\\subseteq");T("\\supe","\\supseteq");T("\\Tau","\\mathrm{T}");T("\\thetasym","\\vartheta");T("\\weierp","\\wp");T("\\Zeta","\\mathrm{Z}");T("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");T("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");T("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");T("\\bra","\\mathinner{\\langle{#1}|}");T("\\ket","\\mathinner{|{#1}\\rangle}");T("\\braket","\\mathinner{\\langle{#1}\\rangle}");T("\\Bra","\\left\\langle#1\\right|");T("\\Ket","\\left|#1\\right\\rangle");var s9=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=c=>h=>{e&&(h.macros.set("|",s),i.length&&h.macros.set("\\|",o));var d=c;if(!c&&i.length){var p=h.future();p.text==="|"&&(h.popToken(),d=!0)}return{tokens:d?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,f=t.expandTokens([...a,...u,...n]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};T("\\bra@ket",s9(!1));T("\\bra@set",s9(!0));T("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");T("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");T("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");T("\\angln","{\\angl n}");T("\\blue","\\textcolor{##6495ed}{#1}");T("\\orange","\\textcolor{##ffa500}{#1}");T("\\pink","\\textcolor{##ff00af}{#1}");T("\\red","\\textcolor{##df0030}{#1}");T("\\green","\\textcolor{##28ae7b}{#1}");T("\\gray","\\textcolor{gray}{#1}");T("\\purple","\\textcolor{##9d38bd}{#1}");T("\\blueA","\\textcolor{##ccfaff}{#1}");T("\\blueB","\\textcolor{##80f6ff}{#1}");T("\\blueC","\\textcolor{##63d9ea}{#1}");T("\\blueD","\\textcolor{##11accd}{#1}");T("\\blueE","\\textcolor{##0c7f99}{#1}");T("\\tealA","\\textcolor{##94fff5}{#1}");T("\\tealB","\\textcolor{##26edd5}{#1}");T("\\tealC","\\textcolor{##01d1c1}{#1}");T("\\tealD","\\textcolor{##01a995}{#1}");T("\\tealE","\\textcolor{##208170}{#1}");T("\\greenA","\\textcolor{##b6ffb0}{#1}");T("\\greenB","\\textcolor{##8af281}{#1}");T("\\greenC","\\textcolor{##74cf70}{#1}");T("\\greenD","\\textcolor{##1fab54}{#1}");T("\\greenE","\\textcolor{##0d923f}{#1}");T("\\goldA","\\textcolor{##ffd0a9}{#1}");T("\\goldB","\\textcolor{##ffbb71}{#1}");T("\\goldC","\\textcolor{##ff9c39}{#1}");T("\\goldD","\\textcolor{##e07d10}{#1}");T("\\goldE","\\textcolor{##a75a05}{#1}");T("\\redA","\\textcolor{##fca9a9}{#1}");T("\\redB","\\textcolor{##ff8482}{#1}");T("\\redC","\\textcolor{##f9685d}{#1}");T("\\redD","\\textcolor{##e84d39}{#1}");T("\\redE","\\textcolor{##bc2612}{#1}");T("\\maroonA","\\textcolor{##ffbde0}{#1}");T("\\maroonB","\\textcolor{##ff92c6}{#1}");T("\\maroonC","\\textcolor{##ed5fa6}{#1}");T("\\maroonD","\\textcolor{##ca337c}{#1}");T("\\maroonE","\\textcolor{##9e034e}{#1}");T("\\purpleA","\\textcolor{##ddd7ff}{#1}");T("\\purpleB","\\textcolor{##c6b9fc}{#1}");T("\\purpleC","\\textcolor{##aa87ff}{#1}");T("\\purpleD","\\textcolor{##7854ab}{#1}");T("\\purpleE","\\textcolor{##543b78}{#1}");T("\\mintA","\\textcolor{##f5f9e8}{#1}");T("\\mintB","\\textcolor{##edf2df}{#1}");T("\\mintC","\\textcolor{##e0e5cc}{#1}");T("\\grayA","\\textcolor{##f6f7f7}{#1}");T("\\grayB","\\textcolor{##f0f1f2}{#1}");T("\\grayC","\\textcolor{##e3e5e6}{#1}");T("\\grayD","\\textcolor{##d6d8da}{#1}");T("\\grayE","\\textcolor{##babec2}{#1}");T("\\grayF","\\textcolor{##888d93}{#1}");T("\\grayG","\\textcolor{##626569}{#1}");T("\\grayH","\\textcolor{##3b3e40}{#1}");T("\\grayI","\\textcolor{##21242c}{#1}");T("\\kaBlue","\\textcolor{##314453}{#1}");T("\\kaGreen","\\textcolor{##71B307}{#1}");var o9={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class rS{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new tS(nS,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new V6(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new mr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new pe("Extra }",a)}else if(a.text==="EOF")throw new pe("Unexpected end of input in a macro argument, expected '"+(t&&r?t[o]:"}")+"'",a);if(t&&r)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new pe("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new pe("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new pe("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new pe("Too many expansions: infinite loop or need to increase maxExpand setting");var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new pe("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new pe("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new mr(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new V6(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var f={tokens:l,numArgs:a};return f}return i}isDefined(t){return this.macros.has(t)||N0.hasOwnProperty(t)||at.math.hasOwnProperty(t)||at.text.hasOwnProperty(t)||o9.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:N0.hasOwnProperty(t)&&!N0[t].primitive}}var W6=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,J1=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Rd={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Y6={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Al{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new rS(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new pe("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new mr("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Al.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&N0[i.text]&&N0[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new pe("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var a,s,o=t.slice(0,n),l=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,t[n],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new pe("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new pe("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new pe("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new pe("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new pe("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(J1[a.text]){var u=J1[a.text],f=W6.test(a.text);for(this.consume();;){var c=this.fetch().text;if(!J1[c]||W6.test(c)!==f)break;this.consume(),u+=J1[c]}var h=new Al(u,this.settings).parse();f?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,a=N0[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new pe("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new pe("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new pe("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,t)}callFunction(t,n,r,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},o=N0[t];if(o&&o.handler)return o.handler(s,n,r);throw new pe("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new pe("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new pe("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new pe("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new pe("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new pe("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new pe("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new pe("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!v8(a))throw new pe("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(t,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:dn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!o9.hasOwnProperty(i)){if(this.settings.throwOnError)throw new pe("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],a=i.text;a==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:dn.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:dn.range(i,t[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[r+1].text===a&&(t.splice(r,2,{type:"textord",mode:"text",loc:dn.range(i,t[r+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new pe(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}Y6.hasOwnProperty(n[0])&&!at[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=Y6[n[0]]+n.slice(1));var a=JM.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var s;if(at[this.mode][n]){this.settings.strict&&this.mode==="math"&&S4.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=at[this.mode][n].group,l=dn.range(t),u;if(jx.hasOwnProperty(o)){var f=o;u={type:"atom",mode:this.mode,family:f,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(g8(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:dn.range(t),text:n};else return null;if(this.consume(),a)for(var c=0;c<a[0].length;c++){var h=a[0][c];if(!Rd[h])throw new pe("Unknown accent ' "+h+"'",t);var d=Rd[h][this.mode]||Rd[h].text;if(!d)throw new pe("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:dn.range(t),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}Al.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var jm=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Al(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new pe("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new mr("\\df@tag")])}]}return i},l9=function(t,n,r){n.textContent="";var i=Wm(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),l9=function(){throw new pe("KaTeX doesn't work in quirks mode.")});var iS=function(t,n){var r=Wm(t,n).toMarkup();return r},aS=function(t,n){var r=new Cm(n);return jm(t,r)},u9=function(t,n,r){if(r.throwOnError||!(t instanceof pe))throw t;var i=G.makeSpan(["katex-error"],[new Nn(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},Wm=function(t,n){var r=new Cm(n);try{var i=jm(t,r);return mM(i,t,r)}catch(a){return u9(a,t,r)}},sS=function(t,n){var r=new Cm(n);try{var i=jm(t,r);return pM(i,t,r)}catch(a){return u9(a,t,r)}},oS={version:"0.16.8",render:l9,renderToString:iS,ParseError:pe,SETTINGS_SCHEMA:Cf,__parse:aS,__renderToDomTree:Wm,__renderToHTMLTree:sS,__setFontMetrics:Lx,__defineSymbol:m,__defineFunction:$e,__defineMacro:T,__domTree:{Span:Gl,Anchor:_m,SymbolNode:Nn,SvgNode:Xr,PathNode:L0,LineNode:M4}};function lS(e){let t,n;return{c(){t=new Hw(!1),n=ln(),this.h()},l(r){t=Vw(r,!1),n=ln(),this.h()},h(){t.a=n},m(r,i){t.m(e[0],r,i),D(r,n,i)},p(r,[i]){i&1&&t.p(r[0])},i:Xe,o:Xe,d(r){r&&(M(n),t.d())}}}function uS(e,t,n){let r="",{big:i=!1}=t,{text:a="c = \\pm\\sqrt{a^2 + b^2}"}=t,{begin:s=""}=t;return e.$$set=o=>{"big"in o&&n(1,i=o.big),"text"in o&&n(2,a=o.text),"begin"in o&&n(3,s=o.begin)},e.$$.update=()=>{if(e.$$.dirty&14){let o=a;s.length>0&&(o=`\\begin{${s}}`+o+`\\end{${s}}`),n(0,r=oS.renderToString(o.replaceAll("[","{").replaceAll("]","}"),{throwOnError:!1,displayMode:i||s.length>0}))}},[r,i,a,s]}class ze extends Wt{constructor(t){super(),Yt(this,t,uS,lS,jt,{big:1,text:2,begin:3})}}function on(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zl(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function El(e){let t,n,r;e.length!==2?(t=on,n=(o,l)=>on(e(o),l),r=(o,l)=>e(o)-l):(t=e===on||e===Zl?e:fS,n=e,r=e);function i(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function s(o,l,u=0,f=o.length){const c=i(o,l,u,f-1);return c>u&&r(o[c-1],l)>-r(o[c],l)?c-1:c}return{left:i,center:s,right:a}}function fS(){return 0}function f9(e){return e===null?NaN:+e}function*cS(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const hS=El(on),dS=hS.right;El(f9).center;const Ic=dS;function Ym(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function mS(e){return e.length|0}function pS(e){return!(e>0)}function gS(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function vS(e){return t=>e(...t)}function bS(...e){const t=typeof e[e.length-1]=="function"&&vS(e.pop());e=e.map(gS);const n=e.map(mS),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(pS))return a;for(;;){a.push(i.map((o,l)=>e[l][o]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function yS(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function c9(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function h9(e,t){const n=c9(e,t);return n&&Math.sqrt(n)}function Vn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class _s{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class zs extends Map{constructor(t,n=p9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(E4(this,t))}has(t){return super.has(E4(this,t))}set(t,n){return super.set(d9(this,t),n)}delete(t){return super.delete(m9(this,t))}}class Gm extends Set{constructor(t,n=p9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(E4(this,t))}add(t){return super.add(d9(this,t))}delete(t){return super.delete(m9(this,t))}}function E4({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function d9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function m9({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function p9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _4(e){return e}function Xm(e,...t){return Zm(e,_4,_4,t)}function Mo(e,t,...n){return Zm(e,_4,t,n)}function wS(e,t,...n){return Zm(e,Array.from,t,n)}function Zm(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const o=new zs,l=r[s++];let u=-1;for(const f of a){const c=l(f,++u,a),h=o.get(c);h?h.push(f):o.set(c,[f])}for(const[f,c]of o)o.set(f,i(c,s));return t(o)}(e,0)}function xS(e,t){return Array.from(t,n=>e[n])}function _l(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const o=Pf(s[i],s[a]);if(o)return o}})):(n=e.map(n),r.sort((i,a)=>Pf(n[i],n[a]))),xS(e,r)}return e.sort(g9(n))}function g9(e=on){if(e===on)return Pf;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Pf(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Qm(e,t,n){return(t.length!==2?_l(Mo(e,t,n),([r,i],[a,s])=>on(i,s)||on(r,a)):_l(Xm(e,n),([r,i],[a,s])=>t(i,s)||on(r,a))).map(([r])=>r)}const MS=Math.sqrt(50),SS=Math.sqrt(10),kS=Math.sqrt(2);function Of(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=MS?10:a>=SS?5:a>=kS?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?Of(e,t,n*2):[o,l,u]}function zl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Of(t,e,n):Of(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Hf(e,t,n){return t=+t,e=+e,n=+n,Of(e,t,n)[2]}function z4(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Hf(t,e,n):Hf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $S(e){return Math.max(1,Math.ceil(Math.log(Ym(e))/Math.LN2)+1)}function vr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function TS(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Kr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function CS(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function v9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Pf:g9(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(t-u*c/l+h)),p=Math.min(r,Math.floor(t+(l-u)*c/l+h));v9(e,t,d,p,i)}const a=e[t];let s=n,o=r;for(Jo(e,n,t),i(e[r],a)>0&&Jo(e,n,r);s<o;){for(Jo(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Jo(e,n,o):(++o,Jo(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Jo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b9(e,t=on){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?on(s,i)>0:on(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Ao(e,t,n){if(e=Float64Array.from(cS(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Kr(e);if(t>=1)return vr(e);var r,i=(r-1)*t,a=Math.floor(i),s=vr(v9(e,a).subarray(0,a+1)),o=Kr(e.subarray(a+1));return s+(o-s)*(i-a)}}function AS(e,t,n=f9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function ES(e,t,n){const r=Ym(e),i=Ao(e,.75)-Ao(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function y9(e,t,n){const r=Ym(e),i=h9(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function _S(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Vf(e,t){return Ao(e,.5,t)}function*zS(e){for(const t of e)yield*t}function w9(e){return Array.from(zS(e))}function DS(e,t){const n=new zs;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function IS(e,t=NS){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function NS(e,t){return[e,t]}function D4(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function P0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Uf(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function qS(e){return e}var Ld=1,Fd=2,I4=3,ef=4,G6=1e-6;function BS(e){return"translate("+e+",0)"}function RS(e){return"translate(0,"+e+")"}function LS(e){return t=>+e(t)}function FS(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function PS(){return!this.__axis}function OS(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Ld||e===ef?-1:1,f=e===ef||e===Fd?"x":"y",c=e===Ld||e===I4?BS:RS;function h(d){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),b=i??(t.tickFormat?t.tickFormat.apply(t,n):qS),y=Math.max(a,0)+o,w=t.range(),k=+w[0]+l,E=+w[w.length-1]+l,$=(t.bandwidth?FS:LS)(t.copy(),l),A=d.selection?d.selection():d,z=A.selectAll(".domain").data([null]),_=A.selectAll(".tick").data(p,t).order(),j=_.exit(),H=_.enter().append("g").attr("class","tick"),S=_.select("line"),C=_.select("text");z=z.merge(z.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(H),S=S.merge(H.append("line").attr("stroke","currentColor").attr(f+"2",u*a)),C=C.merge(H.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",e===Ld?"0em":e===I4?"0.71em":"0.32em")),d!==A&&(z=z.transition(d),_=_.transition(d),S=S.transition(d),C=C.transition(d),j=j.transition(d).attr("opacity",G6).attr("transform",function(L){return isFinite(L=$(L))?c(L+l):this.getAttribute("transform")}),H.attr("opacity",G6).attr("transform",function(L){var R=this.parentNode.__axis;return c((R&&isFinite(R=R(L))?R:$(L))+l)})),j.remove(),z.attr("d",e===ef||e===Fd?s?"M"+u*s+","+k+"H"+l+"V"+E+"H"+u*s:"M"+l+","+k+"V"+E:s?"M"+k+","+u*s+"V"+l+"H"+E+"V"+u*s:"M"+k+","+l+"H"+E),_.attr("opacity",1).attr("transform",function(L){return c($(L)+l)}),S.attr(f+"2",u*a),C.attr(f,u*y).text(b),A.filter(PS).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Fd?"start":e===ef?"end":"middle"),A.each(function(){this.__axis=$})}return h.scale=function(d){return arguments.length?(t=d,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=s=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(o=+d,h):o},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function HS(e){return OS(I4,e)}var VS={value:()=>{}};function x9(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ef(n)}function Ef(e){this._=e}function US(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ef.prototype=x9.prototype={constructor:Ef,on:function(e,t){var n=this._,r=US(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=jS(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=X6(n[i],e.name,t);else if(t==null)for(i in n)n[i]=X6(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ef(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function jS(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function X6(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=VS,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var N4="http://www.w3.org/1999/xhtml";const Eo={svg:"http://www.w3.org/2000/svg",xhtml:N4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nc(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Eo.hasOwnProperty(t)?{space:Eo[t],local:e}:e}function WS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===N4&&t.documentElement.namespaceURI===N4?t.createElement(e):t.createElementNS(n,e)}}function YS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qc(e){var t=Nc(e);return(t.local?YS:WS)(t)}function GS(){}function Km(e){return e==null?GS:function(){return this.querySelector(e)}}function XS(e){typeof e!="function"&&(e=Km(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=new Array(s),l,u,f=0;f<s;++f)(l=a[f])&&(u=e.call(l,l.__data__,f,a))&&("__data__"in l&&(u.__data__=l.__data__),o[f]=u);return new vn(r,this._parents)}function ZS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QS(){return[]}function M9(e){return e==null?QS:function(){return this.querySelectorAll(e)}}function KS(e){return function(){return ZS(e.apply(this,arguments))}}function JS(e){typeof e=="function"?e=KS(e):e=M9(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new vn(r,i)}function S9(e){return function(){return this.matches(e)}}function k9(e){return function(t){return t.matches(e)}}var ek=Array.prototype.find;function tk(e){return function(){return ek.call(this.children,e)}}function nk(){return this.firstElementChild}function rk(e){return this.select(e==null?nk:tk(typeof e=="function"?e:k9(e)))}var ik=Array.prototype.filter;function ak(){return Array.from(this.children)}function sk(e){return function(){return ik.call(this.children,e)}}function ok(e){return this.selectAll(e==null?ak:sk(typeof e=="function"?e:k9(e)))}function lk(e){typeof e!="function"&&(e=S9(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new vn(r,this._parents)}function $9(e){return new Array(e.length)}function uk(){return new vn(this._enter||this._groups.map($9),this._parents)}function jf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}jf.prototype={constructor:jf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fk(e){return function(){return e}}function ck(e,t,n,r,i,a){for(var s=0,o,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new jf(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function hk(e,t,n,r,i,a,s){var o,l,u=new Map,f=t.length,c=a.length,h=new Array(f),d;for(o=0;o<f;++o)(l=t[o])&&(h[o]=d=s.call(l,l.__data__,o,t)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<c;++o)d=s.call(e,a[o],o,a)+"",(l=u.get(d))?(r[o]=l,l.__data__=a[o],u.delete(d)):n[o]=new jf(e,a[o]);for(o=0;o<f;++o)(l=t[o])&&u.get(h[o])===l&&(i[o]=l)}function dk(e){return e.__data__}function mk(e,t){if(!arguments.length)return Array.from(this,dk);var n=t?hk:ck,r=this._parents,i=this._groups;typeof e!="function"&&(e=fk(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var f=r[u],c=i[u],h=c.length,d=pk(e.call(f,f&&f.__data__,u,r)),p=d.length,b=o[u]=new Array(p),y=s[u]=new Array(p),w=l[u]=new Array(h);n(f,c,b,y,w,d,t);for(var k=0,E=0,$,A;k<p;++k)if($=b[k]){for(k>=E&&(E=k+1);!(A=y[E])&&++E<p;);$._next=A||null}}return s=new vn(s,r),s._enter=o,s._exit=l,s}function pk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gk(){return new vn(this._exit||this._groups.map($9),this._parents)}function vk(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function bk(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],f=r[l],c=u.length,h=o[l]=new Array(c),d,p=0;p<c;++p)(d=u[p]||f[p])&&(h[p]=d);for(;l<i;++l)o[l]=n[l];return new vn(o,this._parents)}function yk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function wk(e){e||(e=xk);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,f=0;f<o;++f)(u=s[f])&&(l[f]=u);l.sort(t)}return new vn(i,this._parents).order()}function xk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Mk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sk(){return Array.from(this)}function kk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function $k(){let e=0;for(const t of this)++e;return e}function Tk(){return!this.node()}function Ck(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function Ak(e){return function(){this.removeAttribute(e)}}function Ek(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _k(e,t){return function(){this.setAttribute(e,t)}}function zk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Dk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ik(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Nk(e,t){var n=Nc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ek:Ak:typeof t=="function"?n.local?Ik:Dk:n.local?zk:_k)(n,t))}function T9(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qk(e){return function(){this.style.removeProperty(e)}}function Bk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Rk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Lk(e,t,n){return arguments.length>1?this.each((t==null?qk:typeof t=="function"?Rk:Bk)(e,t,n??"")):_o(this.node(),e)}function _o(e,t){return e.style.getPropertyValue(t)||T9(e).getComputedStyle(e,null).getPropertyValue(t)}function Fk(e){return function(){delete this[e]}}function Pk(e,t){return function(){this[e]=t}}function Ok(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Hk(e,t){return arguments.length>1?this.each((t==null?Fk:typeof t=="function"?Ok:Pk)(e,t)):this.node()[e]}function C9(e){return e.trim().split(/^|\s+/)}function Jm(e){return e.classList||new A9(e)}function A9(e){this._node=e,this._names=C9(e.getAttribute("class")||"")}A9.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function E9(e,t){for(var n=Jm(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function _9(e,t){for(var n=Jm(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Vk(e){return function(){E9(this,e)}}function Uk(e){return function(){_9(this,e)}}function jk(e,t){return function(){(t.apply(this,arguments)?E9:_9)(this,e)}}function Wk(e,t){var n=C9(e+"");if(arguments.length<2){for(var r=Jm(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?jk:t?Vk:Uk)(n,t))}function Yk(){this.textContent=""}function Gk(e){return function(){this.textContent=e}}function Xk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Zk(e){return arguments.length?this.each(e==null?Yk:(typeof e=="function"?Xk:Gk)(e)):this.node().textContent}function Qk(){this.innerHTML=""}function Kk(e){return function(){this.innerHTML=e}}function Jk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function e$(e){return arguments.length?this.each(e==null?Qk:(typeof e=="function"?Jk:Kk)(e)):this.node().innerHTML}function t$(){this.nextSibling&&this.parentNode.appendChild(this)}function n$(){return this.each(t$)}function r$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function i$(){return this.each(r$)}function a$(e){var t=typeof e=="function"?e:qc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function s$(){return null}function o$(e,t){var n=typeof e=="function"?e:qc(e),r=t==null?s$:typeof t=="function"?t:Km(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function l$(){var e=this.parentNode;e&&e.removeChild(this)}function u$(){return this.each(l$)}function f$(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function c$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function h$(e){return this.select(e?c$:f$)}function d$(e){return arguments.length?this.property("__data__",e):this.node().__data__}function m$(e){return function(t){e.call(this,t,this.__data__)}}function p$(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function g$(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function v$(e,t,n){return function(){var r=this.__on,i,a=m$(t);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function b$(e,t,n){var r=p$(e+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,f;l<u;++l)for(i=0,f=o[l];i<a;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(o=t?v$:g$,i=0;i<a;++i)this.each(o(r[i],t,n));return this}function z9(e,t,n){var r=T9(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function y$(e,t){return function(){return z9(this,e,t)}}function w$(e,t){return function(){return z9(this,e,t.apply(this,arguments))}}function x$(e,t){return this.each((typeof t=="function"?w$:y$)(e,t))}function*M$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var D9=[null];function vn(e,t){this._groups=e,this._parents=t}function Ql(){return new vn([[document.documentElement]],D9)}function S$(){return this}vn.prototype=Ql.prototype={constructor:vn,select:XS,selectAll:JS,selectChild:rk,selectChildren:ok,filter:lk,data:mk,enter:uk,exit:gk,join:vk,merge:bk,selection:S$,order:yk,sort:wk,call:Mk,nodes:Sk,node:kk,size:$k,empty:Tk,each:Ck,attr:Nk,style:Lk,property:Hk,classed:Wk,text:Zk,html:e$,raise:n$,lower:i$,append:a$,insert:o$,remove:u$,clone:h$,datum:d$,on:b$,dispatch:x$,[Symbol.iterator]:M$};function yl(e){return typeof e=="string"?new vn([[document.querySelector(e)]],[document.documentElement]):new vn([[e]],D9)}function k$(e){let t;for(;t=e.sourceEvent;)e=t;return e}function $$(e,t){if(e=k$(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Ho(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Kl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function V0(){}var Ds=.7,zo=1/Ds,So="\\s*([+-]?\\d+)\\s*",Dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T$=/^#([0-9a-f]{3,8})$/,C$=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),A$=new RegExp(`^rgb\\(${pr},${pr},${pr}\\)$`),E$=new RegExp(`^rgba\\(${So},${So},${So},${Dl}\\)$`),_$=new RegExp(`^rgba\\(${pr},${pr},${pr},${Dl}\\)$`),z$=new RegExp(`^hsl\\(${Dl},${pr},${pr}\\)$`),D$=new RegExp(`^hsla\\(${Dl},${pr},${pr},${Dl}\\)$`),Z6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ho(V0,Jr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Q6,formatHex:Q6,formatHex8:I$,formatHsl:N$,formatRgb:K6,toString:K6});function Q6(){return this.rgb().formatHex()}function I$(){return this.rgb().formatHex8()}function N$(){return I9(this).formatHsl()}function K6(){return this.rgb().formatRgb()}function Jr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=T$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?J6(t):n===3?new Ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?tf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?tf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=C$.exec(e))?new Ct(t[1],t[2],t[3],1):(t=A$.exec(e))?new Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=E$.exec(e))?tf(t[1],t[2],t[3],t[4]):(t=_$.exec(e))?tf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=z$.exec(e))?n7(t[1],t[2]/100,t[3]/100,1):(t=D$.exec(e))?n7(t[1],t[2]/100,t[3]/100,t[4]):Z6.hasOwnProperty(e)?J6(Z6[e]):e==="transparent"?new Ct(NaN,NaN,NaN,0):null}function J6(e){return new Ct(e>>16&255,e>>8&255,e&255,1)}function tf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ct(e,t,n,r)}function e3(e){return e instanceof V0||(e=Jr(e)),e?(e=e.rgb(),new Ct(e.r,e.g,e.b,e.opacity)):new Ct}function O0(e,t,n,r){return arguments.length===1?e3(e):new Ct(e,t,n,r??1)}function Ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ho(Ct,O0,Kl(V0,{brighter(e){return e=e==null?zo:Math.pow(zo,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ds:Math.pow(Ds,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ct(As(this.r),As(this.g),As(this.b),Wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e7,formatHex:e7,formatHex8:q$,formatRgb:t7,toString:t7}));function e7(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function q$(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function t7(){const e=Wf(this.opacity);return`${e===1?"rgb(":"rgba("}${As(this.r)}, ${As(this.g)}, ${As(this.b)}${e===1?")":`, ${e})`}`}function Wf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function As(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cs(e){return e=As(e),(e<16?"0":"")+e.toString(16)}function n7(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new On(e,t,n,r)}function I9(e){if(e instanceof On)return new On(e.h,e.s,e.l,e.opacity);if(e instanceof V0||(e=Jr(e)),!e)return new On;if(e instanceof On)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new On(s,o,l,e.opacity)}function q4(e,t,n,r){return arguments.length===1?I9(e):new On(e,t,n,r??1)}function On(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ho(On,q4,Kl(V0,{brighter(e){return e=e==null?zo:Math.pow(zo,e),new On(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ds:Math.pow(Ds,e),new On(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ct(Pd(e>=240?e-240:e+120,i,r),Pd(e,i,r),Pd(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new On(r7(this.h),nf(this.s),nf(this.l),Wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wf(this.opacity);return`${e===1?"hsl(":"hsla("}${r7(this.h)}, ${nf(this.s)*100}%, ${nf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r7(e){return e=(e||0)%360,e<0?e+360:e}function nf(e){return Math.max(0,Math.min(1,e||0))}function Pd(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const N9=Math.PI/180,q9=180/Math.PI,Yf=18,B9=.96422,R9=1,L9=.82521,F9=4/29,ko=6/29,P9=3*ko*ko,B$=ko*ko*ko;function O9(e){if(e instanceof gr)return new gr(e.l,e.a,e.b,e.opacity);if(e instanceof Hr)return H9(e);e instanceof Ct||(e=e3(e));var t=Ud(e.r),n=Ud(e.g),r=Ud(e.b),i=Od((.2225045*t+.7168786*n+.0606169*r)/R9),a,s;return t===n&&n===r?a=s=i:(a=Od((.4360747*t+.3850649*n+.1430804*r)/B9),s=Od((.0139322*t+.0971045*n+.7141733*r)/L9)),new gr(116*i-16,500*(a-i),200*(i-s),e.opacity)}function B4(e,t,n,r){return arguments.length===1?O9(e):new gr(e,t,n,r??1)}function gr(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Ho(gr,B4,Kl(V0,{brighter(e){return new gr(this.l+Yf*(e??1),this.a,this.b,this.opacity)},darker(e){return new gr(this.l-Yf*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=B9*Hd(t),e=R9*Hd(e),n=L9*Hd(n),new Ct(Vd(3.1338561*t-1.6168667*e-.4906146*n),Vd(-.9787684*t+1.9161415*e+.033454*n),Vd(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Od(e){return e>B$?Math.pow(e,1/3):e/P9+F9}function Hd(e){return e>ko?e*e*e:P9*(e-F9)}function Vd(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ud(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function R$(e){if(e instanceof Hr)return new Hr(e.h,e.c,e.l,e.opacity);if(e instanceof gr||(e=O9(e)),e.a===0&&e.b===0)return new Hr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*q9;return new Hr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function R4(e,t,n,r){return arguments.length===1?R$(e):new Hr(e,t,n,r??1)}function Hr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function H9(e){if(isNaN(e.h))return new gr(e.l,0,0,e.opacity);var t=e.h*N9;return new gr(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Ho(Hr,R4,Kl(V0,{brighter(e){return new Hr(this.h,this.c,this.l+Yf*(e??1),this.opacity)},darker(e){return new Hr(this.h,this.c,this.l-Yf*(e??1),this.opacity)},rgb(){return H9(this).rgb()}}));var V9=-.14861,t3=1.78277,n3=-.29227,Bc=-.90649,Il=1.97294,i7=Il*Bc,a7=Il*t3,s7=t3*n3-Bc*V9;function L$(e){if(e instanceof Es)return new Es(e.h,e.s,e.l,e.opacity);e instanceof Ct||(e=e3(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(s7*r+i7*t-a7*n)/(s7+i7-a7),a=r-i,s=(Il*(n-i)-n3*a)/Bc,o=Math.sqrt(s*s+a*a)/(Il*i*(1-i)),l=o?Math.atan2(s,a)*q9-120:NaN;return new Es(l<0?l+360:l,o,i,e.opacity)}function br(e,t,n,r){return arguments.length===1?L$(e):new Es(e,t,n,r??1)}function Es(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ho(Es,br,Kl(V0,{brighter(e){return e=e==null?zo:Math.pow(zo,e),new Es(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ds:Math.pow(Ds,e),new Es(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*N9,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ct(255*(t+n*(V9*r+t3*i)),255*(t+n*(n3*r+Bc*i)),255*(t+n*(Il*r)),this.opacity)}}));function F$(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function P$(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return F$((n-r/t)*t,s,i,a,o)}}const Rc=e=>()=>e;function U9(e,t){return function(n){return e+n*t}}function O$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function r3(e,t){var n=t-e;return n?U9(e,n>180||n<-180?n-360*Math.round(n/360):n):Rc(isNaN(e)?t:e)}function H$(e){return(e=+e)==1?Ft:function(t,n){return n-t?O$(t,n,e):Rc(isNaN(t)?n:t)}}function Ft(e,t){var n=t-e;return n?U9(e,n):Rc(isNaN(e)?t:e)}const Is=function e(t){var n=H$(t);function r(i,a){var s=n((i=O0(i)).r,(a=O0(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Ft(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function V$(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=O0(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var U$=V$(P$);function j$(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function W$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Y$(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Jl(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function G$(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Lt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function X$(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Jl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var L4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jd=new RegExp(L4.source,"g");function Z$(e){return function(){return e}}function Q$(e){return function(t){return e(t)+""}}function j9(e,t){var n=L4.lastIndex=jd.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=L4.exec(e))&&(i=jd.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Lt(r,i)})),n=jd.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Q$(l[0].x):Z$(t):(t=l.length,function(u){for(var f=0,c;f<t;++f)o[(c=l[f]).i]=c.x(u);return o.join("")})}function Jl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Rc(t):(n==="number"?Lt:n==="string"?(r=Jr(t))?(t=r,Is):j9:t instanceof Jr?Is:t instanceof Date?G$:W$(t)?j$:Array.isArray(t)?Y$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?X$:Lt)(e,t)}function i3(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var o7=180/Math.PI,F4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function W9(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*o7,skewX:Math.atan(l)*o7,scaleX:s,scaleY:o}}var rf;function K$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?F4:W9(t.a,t.b,t.c,t.d,t.e,t.f)}function J$(e){return e==null||(rf||(rf=document.createElementNS("http://www.w3.org/2000/svg","g")),rf.setAttribute("transform",e),!(e=rf.transform.baseVal.consolidate()))?F4:(e=e.matrix,W9(e.a,e.b,e.c,e.d,e.e,e.f))}function Y9(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,f,c,h,d,p){if(u!==c||f!==h){var b=d.push("translate(",null,t,null,n);p.push({i:b-4,x:Lt(u,c)},{i:b-2,x:Lt(f,h)})}else(c||h)&&d.push("translate("+c+t+h+n)}function s(u,f,c,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Lt(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function o(u,f,c,h){u!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Lt(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function l(u,f,c,h,d,p){if(u!==c||f!==h){var b=d.push(i(d)+"scale(",null,",",null,")");p.push({i:b-4,x:Lt(u,c)},{i:b-2,x:Lt(f,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(u,f){var c=[],h=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,c,h),s(u.rotate,f.rotate,c,h),o(u.skewX,f.skewX,c,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,h),u=f=null,function(d){for(var p=-1,b=h.length,y;++p<b;)c[(y=h[p]).i]=y.x(d);return c.join("")}}}var eT=Y9(K$,"px, ","px)","deg)"),tT=Y9(J$,", ",")",")");function nT(e){return function(t,n){var r=e((t=q4(t)).h,(n=q4(n)).h),i=Ft(t.s,n.s),a=Ft(t.l,n.l),s=Ft(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const rT=nT(r3);function iT(e,t){var n=Ft((e=B4(e)).l,(t=B4(t)).l),r=Ft(e.a,t.a),i=Ft(e.b,t.b),a=Ft(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function aT(e){return function(t,n){var r=e((t=R4(t)).h,(n=R4(n)).h),i=Ft(t.c,n.c),a=Ft(t.l,n.l),s=Ft(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const sT=aT(r3);function G9(e){return function t(n){n=+n;function r(i,a){var s=e((i=br(i)).h,(a=br(a)).h),o=Ft(i.s,a.s),l=Ft(i.l,a.l),u=Ft(i.opacity,a.opacity);return function(f){return i.h=s(f),i.s=o(f),i.l=l(Math.pow(f,n)),i.opacity=u(f),i+""}}return r.gamma=t,r}(1)}G9(r3);var a3=G9(Ft);function Lc(e,t){t===void 0&&(t=e,e=Jl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function jn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Do=0,ll=0,el=0,X9=1e3,Gf,ul,Xf=0,Ns=0,Fc=0,Nl=typeof performance=="object"&&performance.now?performance:Date,Z9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function s3(){return Ns||(Z9(oT),Ns=Nl.now()+Fc)}function oT(){Ns=0}function Zf(){this._call=this._time=this._next=null}Zf.prototype=Q9.prototype={constructor:Zf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?s3():+n)+(t==null?0:+t),!this._next&&ul!==this&&(ul?ul._next=this:Gf=this,ul=this),this._call=e,this._time=n,P4()},stop:function(){this._call&&(this._call=null,this._time=1/0,P4())}};function Q9(e,t,n){var r=new Zf;return r.restart(e,t,n),r}function lT(){s3(),++Do;for(var e=Gf,t;e;)(t=Ns-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Do}function l7(){Ns=(Xf=Nl.now())+Fc,Do=ll=0;try{lT()}finally{Do=0,fT(),Ns=0}}function uT(){var e=Nl.now(),t=e-Xf;t>X9&&(Fc-=t,Xf=e)}function fT(){for(var e,t=Gf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Gf=n);ul=e,P4(r)}function P4(e){if(!Do){ll&&(ll=clearTimeout(ll));var t=e-Ns;t>24?(e<1/0&&(ll=setTimeout(l7,e-Nl.now()-Fc)),el&&(el=clearInterval(el))):(el||(Xf=Nl.now(),el=setInterval(uT,X9)),Do=1,Z9(l7))}}function u7(e,t,n){var r=new Zf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var cT=x9("start","end","cancel","interrupt"),hT=[],K9=0,f7=1,O4=2,_f=3,c7=4,H4=5,zf=6;function Pc(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;dT(e,n,{name:t,index:r,group:i,on:cT,tween:hT,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:K9})}function o3(e,t){var n=Zn(e,t);if(n.state>K9)throw new Error("too late; already scheduled");return n}function Mr(e,t){var n=Zn(e,t);if(n.state>_f)throw new Error("too late; already running");return n}function Zn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function dT(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Q9(a,0,n.time);function a(u){n.state=f7,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,h,d;if(n.state!==f7)return l();for(f in r)if(d=r[f],d.name===n.name){if(d.state===_f)return u7(s);d.state===c7?(d.state=zf,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[f]):+f<t&&(d.state=zf,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[f])}if(u7(function(){n.state===_f&&(n.state=c7,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=O4,n.on.call("start",e,e.__data__,n.index,n.group),n.state===O4){for(n.state=_f,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(d=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=d);i.length=c+1}}function o(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=H4,1),c=-1,h=i.length;++c<h;)i[c].call(e,f);n.state===H4&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=zf,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function mT(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>O4&&r.state<H4,r.state=zf,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function pT(e){return this.each(function(){mT(this,e)})}function gT(e,t){var n,r;return function(){var i=Mr(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function vT(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Mr(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function bT(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Zn(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?gT:vT)(n,e,t))}function l3(e,t,n){var r=e._id;return e.each(function(){var i=Mr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Zn(i,r).value[t]}}function J9(e,t){var n;return(typeof t=="number"?Lt:t instanceof Jr?Is:(n=Jr(t))?(t=n,Is):j9)(e,t)}function yT(e){return function(){this.removeAttribute(e)}}function wT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xT(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function MT(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function ST(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function kT(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function $T(e,t){var n=Nc(e),r=n==="transform"?tT:J9;return this.attrTween(e,typeof t=="function"?(n.local?kT:ST)(n,r,l3(this,"attr."+e,t)):t==null?(n.local?wT:yT)(n):(n.local?MT:xT)(n,r,t))}function TT(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function CT(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function AT(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&CT(e,a)),n}return i._value=t,i}function ET(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&TT(e,a)),n}return i._value=t,i}function _T(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Nc(e);return this.tween(n,(r.local?AT:ET)(r,t))}function zT(e,t){return function(){o3(this,e).delay=+t.apply(this,arguments)}}function DT(e,t){return t=+t,function(){o3(this,e).delay=t}}function IT(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zT:DT)(t,e)):Zn(this.node(),t).delay}function NT(e,t){return function(){Mr(this,e).duration=+t.apply(this,arguments)}}function qT(e,t){return t=+t,function(){Mr(this,e).duration=t}}function BT(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NT:qT)(t,e)):Zn(this.node(),t).duration}function RT(e,t){if(typeof t!="function")throw new Error;return function(){Mr(this,e).ease=t}}function LT(e){var t=this._id;return arguments.length?this.each(RT(t,e)):Zn(this.node(),t).ease}function FT(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mr(this,e).ease=n}}function PT(e){if(typeof e!="function")throw new Error;return this.each(FT(this._id,e))}function OT(e){typeof e!="function"&&(e=S9(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new e0(r,this._parents,this._name,this._id)}function HT(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=t[o],u=n[o],f=l.length,c=s[o]=new Array(f),h,d=0;d<f;++d)(h=l[d]||u[d])&&(c[d]=h);for(;o<r;++o)s[o]=t[o];return new e0(s,this._parents,this._name,this._id)}function VT(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function UT(e,t,n){var r,i,a=VT(t)?o3:Mr;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}function jT(e,t){var n=this._id;return arguments.length<2?Zn(this.node(),n).on.on(e):this.each(UT(n,e,t))}function WT(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function YT(){return this.on("end.remove",WT(this._id))}function GT(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Km(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),f,c,h=0;h<l;++h)(f=o[h])&&(c=e.call(f,f.__data__,h,o))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c,Pc(u[h],t,n,h,u,Zn(f,n)));return new e0(a,this._parents,t,n)}function XT(e){var t=this._name,n=this._id;typeof e!="function"&&(e=M9(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,f,c=0;c<u;++c)if(f=l[c]){for(var h=e.call(f,f.__data__,c,l),d,p=Zn(f,n),b=0,y=h.length;b<y;++b)(d=h[b])&&Pc(d,t,n,b,h,p);a.push(h),s.push(f)}return new e0(a,s,t,n)}var ZT=Ql.prototype.constructor;function QT(){return new ZT(this._groups,this._parents)}function KT(e,t){var n,r,i;return function(){var a=_o(this,e),s=(this.style.removeProperty(e),_o(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function eg(e){return function(){this.style.removeProperty(e)}}function JT(e,t,n){var r,i=n+"",a;return function(){var s=_o(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function eC(e,t,n){var r,i,a;return function(){var s=_o(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),_o(this,e))),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}function tC(e,t){var n,r,i,a="style."+t,s="end."+a,o;return function(){var l=Mr(this,e),u=l.on,f=l.value[a]==null?o||(o=eg(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(s,i=f),l.on=r}}function nC(e,t,n){var r=(e+="")=="transform"?eT:J9;return t==null?this.styleTween(e,KT(e,r)).on("end.style."+e,eg(e)):typeof t=="function"?this.styleTween(e,eC(e,r,l3(this,"style."+e,t))).each(tC(this._id,e)):this.styleTween(e,JT(e,r,t),n).on("end.style."+e,null)}function rC(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function iC(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&rC(e,s,n)),r}return a._value=t,a}function aC(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,iC(e,t,n??""))}function sC(e){return function(){this.textContent=e}}function oC(e){return function(){var t=e(this);this.textContent=t??""}}function lC(e){return this.tween("text",typeof e=="function"?oC(l3(this,"text",e)):sC(e==null?"":e+""))}function uC(e){return function(t){this.textContent=e.call(this,t)}}function fC(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&uC(i)),t}return r._value=e,r}function cC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fC(e))}function hC(){for(var e=this._name,t=this._id,n=tg(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var f=Zn(l,t);Pc(l,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new e0(r,this._parents,e,n)}function dC(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=Mr(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&a()})}var mC=0;function e0(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function tg(){return++mC}var Nr=Ql.prototype;e0.prototype={constructor:e0,select:GT,selectAll:XT,selectChild:Nr.selectChild,selectChildren:Nr.selectChildren,filter:OT,merge:HT,selection:QT,transition:hC,call:Nr.call,nodes:Nr.nodes,node:Nr.node,size:Nr.size,empty:Nr.empty,each:Nr.each,on:jT,attr:$T,attrTween:_T,style:nC,styleTween:aC,text:lC,textTween:cC,remove:YT,tween:bT,delay:IT,duration:BT,ease:LT,easeVarying:PT,end:dC,[Symbol.iterator]:Nr[Symbol.iterator]};function pC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var gC={time:null,delay:0,duration:250,ease:pC};function vC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bC(e){var t,n;e instanceof e0?(t=e._id,e=e._name):(t=tg(),(n=gC).time=s3(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&Pc(l,e,t,u,s,n||vC(l,t));return new e0(r,this._parents,e,t)}Ql.prototype.interrupt=pT;Ql.prototype.transition=bC;const V4=Math.PI,U4=2*V4,ks=1e-6,yC=U4-ks;function ng(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function wC(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ng;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xC{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ng:wC(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,f=s-t,c=o-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ks)if(!(Math.abs(c*l-u*f)>ks)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,p=i-o,b=l*l+u*u,y=d*d+p*p,w=Math.sqrt(b),k=Math.sqrt(h),E=a*Math.tan((V4-Math.acos((b+h-y)/(2*w*k)))/2),$=E/k,A=E/w;Math.abs($-1)>ks&&this._append`L${t+$*f},${n+$*c}`,this._append`A${a},${a},0,0,${+(c*d>f*p)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,f=n+l,c=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ks||Math.abs(this._y1-f)>ks)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%U4+U4),h>yC?this._append`A${r},${r},0,1,${c},${t-o},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>ks&&this._append`A${r},${r},0,${+(h>=V4)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function j4(e=3){return new xC(+e)}function MC(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Io(e){return e=Qf(Math.abs(e)),e?e[1]:NaN}function SC(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function kC(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $C=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ql(e){if(!(t=$C.exec(e)))throw new Error("invalid format: "+e);var t;return new u3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ql.prototype=u3.prototype;function u3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}u3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TC(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var rg;function CC(e,t){var n=Qf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(rg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qf(e,Math.max(0,t+a-1))[0]}function h7(e,t){var n=Qf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const d7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MC,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>h7(e*100,t),r:h7,s:CC,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function m7(e){return e}var p7=Array.prototype.map,g7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function AC(e){var t=e.grouping===void 0||e.thousands===void 0?m7:SC(p7.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?m7:kC(p7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(c){c=ql(c);var h=c.fill,d=c.align,p=c.sign,b=c.symbol,y=c.zero,w=c.width,k=c.comma,E=c.precision,$=c.trim,A=c.type;A==="n"?(k=!0,A="g"):d7[A]||(E===void 0&&(E=12),$=!0,A="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var z=b==="$"?n:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=b==="$"?r:/[%p]/.test(A)?s:"",j=d7[A],H=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function S(C){var L=z,R=_,X,I,W;if(A==="c")R=j(C)+R,C="";else{C=+C;var ae=C<0||1/C<0;if(C=isNaN(C)?l:j(Math.abs(C),E),$&&(C=TC(C)),ae&&+C==0&&p!=="+"&&(ae=!1),L=(ae?p==="("?p:o:p==="-"||p==="("?"":p)+L,R=(A==="s"?g7[8+rg/3]:"")+R+(ae&&p==="("?")":""),H){for(X=-1,I=C.length;++X<I;)if(W=C.charCodeAt(X),48>W||W>57){R=(W===46?i+C.slice(X+1):C.slice(X))+R,C=C.slice(0,X);break}}}k&&!y&&(C=t(C,1/0));var re=L.length+C.length+R.length,le=re<w?new Array(w-re+1).join(h):"";switch(k&&y&&(C=t(le+C,le.length?w-R.length:1/0),le=""),d){case"<":C=L+C+R+le;break;case"=":C=L+le+C+R;break;case"^":C=le.slice(0,re=le.length>>1)+L+C+R+le.slice(re);break;default:C=le+L+C+R;break}return a(C)}return S.toString=function(){return c+""},S}function f(c,h){var d=u((c=ql(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Io(h)/3)))*3,b=Math.pow(10,-p),y=g7[8+p/3];return function(w){return d(b*w)+y}}return{format:u,formatPrefix:f}}var af,eu,ig;EC({thousands:",",grouping:[3],currency:["$",""]});function EC(e){return af=AC(e),eu=af.format,ig=af.formatPrefix,af}function _C(e){return Math.max(0,-Io(Math.abs(e)))}function zC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Io(t)/3)))*3-Io(Math.abs(e)))}function DC(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Io(t)-Io(e))+1}var Pe=1e-6,ag=1e-12,je=Math.PI,ct=je/2,v7=je/4,bn=je*2,Ht=180/je,ft=je/180,Je=Math.abs,Vo=Math.atan,t0=Math.atan2,Ve=Math.cos,sg=Math.exp,Kf=Math.log,Wd=Math.pow,Fe=Math.sin,_n=Math.sign||function(e){return e>0?1:e<0?-1:0},un=Math.sqrt,f3=Math.tan;function og(e){return e>1?0:e<-1?je:Math.acos(e)}function Bn(e){return e>1?ct:e<-1?-ct:Math.asin(e)}function zn(){}function Jf(e,t){e&&y7.hasOwnProperty(e.type)&&y7[e.type](e,t)}var b7={Feature:function(e,t){Jf(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Jf(n[r].geometry,t)}},y7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){W4(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)W4(n[r],t,0)},Polygon:function(e,t){w7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)w7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Jf(n[r],t)}};function W4(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function w7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)W4(e[n],t,1);t.polygonEnd()}function Ts(e,t){e&&b7.hasOwnProperty(e.type)?b7[e.type](e,t):Jf(e,t)}function Y4(e){return[t0(e[1],e[0]),Bn(e[2])]}function No(e){var t=e[0],n=e[1],r=Ve(n);return[r*Ve(t),r*Fe(t),Fe(n)]}function sf(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ec(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Yd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function of(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function G4(e){var t=un(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function X4(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Z4(e,t){return Je(e)>je&&(e-=Math.round(e/bn)*bn),[e,t]}Z4.invert=Z4;function lg(e,t,n){return(e%=bn)?t||n?X4(M7(e),S7(t,n)):M7(e):t||n?S7(t,n):Z4}function x7(e){return function(t,n){return t+=e,Je(t)>je&&(t-=Math.round(t/bn)*bn),[t,n]}}function M7(e){var t=x7(e);return t.invert=x7(-e),t}function S7(e,t){var n=Ve(e),r=Fe(e),i=Ve(t),a=Fe(t);function s(o,l){var u=Ve(l),f=Ve(o)*u,c=Fe(o)*u,h=Fe(l),d=h*n+f*r;return[t0(c*i-d*a,f*n-h*r),Bn(d*i+c*a)]}return s.invert=function(o,l){var u=Ve(l),f=Ve(o)*u,c=Fe(o)*u,h=Fe(l),d=h*i-c*a;return[t0(c*i+h*a,f*n+d*r),Bn(d*n-f*r)]},s}function IC(e){e=lg(e[0]*ft,e[1]*ft,e.length>2?e[2]*ft:0);function t(n){return n=e(n[0]*ft,n[1]*ft),n[0]*=Ht,n[1]*=Ht,n}return t.invert=function(n){return n=e.invert(n[0]*ft,n[1]*ft),n[0]*=Ht,n[1]*=Ht,n},t}function NC(e,t,n,r,i,a){if(n){var s=Ve(t),o=Fe(t),l=r*n;i==null?(i=t+r*bn,a=t-l/2):(i=k7(s,i),a=k7(s,a),(r>0?i<a:i>a)&&(i+=r*bn));for(var u,f=i;r>0?f>a:f<a;f-=l)u=Y4([s,-o*Ve(f),-o*Fe(f)]),e.point(u[0],u[1])}}function k7(e,t){t=No(t),t[0]-=e,G4(t);var n=og(-t[1]);return((-t[2]<0?-n:n)+bn-Pe)%bn}function ug(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Df(e,t){return Je(e[0]-t[0])<Pe&&Je(e[1]-t[1])<Pe}function lf(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fg(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(p){if(!((b=p.length-1)<=0)){var b,y=p[0],w=p[b],k;if(Df(y,w)){if(!y[2]&&!w[2]){for(i.lineStart(),o=0;o<b;++o)i.point((y=p[o])[0],y[1]);i.lineEnd();return}w[0]+=2*Pe}a.push(k=new lf(y,p,null,!0)),s.push(k.o=new lf(y,null,k,!1)),a.push(k=new lf(w,p,null,!1)),s.push(k.o=new lf(w,null,k,!0))}}),!!a.length){for(s.sort(t),$7(a),$7(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var u=a[0],f,c;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=f.length;o<l;++o)i.point((c=f[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((c=f[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,d=!d}while(!h.v);i.lineEnd()}}}function $7(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Gd(e){return Je(e[0])<=je?e[0]:_n(e[0])*((Je(e[0])+je)%bn-je)}function qC(e,t){var n=Gd(t),r=t[1],i=Fe(r),a=[Fe(n),-Ve(n),0],s=0,o=0,l=new _s;i===1?r=ct+Pe:i===-1&&(r=-ct-Pe);for(var u=0,f=e.length;u<f;++u)if(h=(c=e[u]).length)for(var c,h,d=c[h-1],p=Gd(d),b=d[1]/2+v7,y=Fe(b),w=Ve(b),k=0;k<h;++k,p=$,y=z,w=_,d=E){var E=c[k],$=Gd(E),A=E[1]/2+v7,z=Fe(A),_=Ve(A),j=$-p,H=j>=0?1:-1,S=H*j,C=S>je,L=y*z;if(l.add(t0(L*H*Fe(S),w*_+L*Ve(S))),s+=C?j+H*bn:j,C^p>=n^$>=n){var R=ec(No(d),No(E));G4(R);var X=ec(a,R);G4(X);var I=(C^j>=0?-1:1)*Bn(X[2]);(r>I||r===I&&(R[0]||R[1]))&&(o+=C^j>=0?1:-1)}}return(s<-Pe||s<Pe&&l<-ag)^o&1}function cg(e,t,n,r){return function(i){var a=t(i),s=ug(),o=t(s),l=!1,u,f,c,h={point:d,lineStart:b,lineEnd:y,polygonStart:function(){h.point=w,h.lineStart=k,h.lineEnd=E,f=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=b,h.lineEnd=y,f=w9(f);var $=qC(u,r);f.length?(l||(i.polygonStart(),l=!0),fg(f,RC,$,n,i)):$&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d($,A){e($,A)&&i.point($,A)}function p($,A){a.point($,A)}function b(){h.point=p,a.lineStart()}function y(){h.point=d,a.lineEnd()}function w($,A){c.push([$,A]),o.point($,A)}function k(){o.lineStart(),c=[]}function E(){w(c[0][0],c[0][1]),o.lineEnd();var $=o.clean(),A=s.result(),z,_=A.length,j,H,S;if(c.pop(),u.push(c),c=null,!!_){if($&1){if(H=A[0],(j=H.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),z=0;z<j;++z)i.point((S=H[z])[0],S[1]);i.lineEnd()}return}_>1&&$&2&&A.push(A.pop().concat(A.shift())),f.push(A.filter(BC))}}return h}}function BC(e){return e.length>1}function RC(e,t){return((e=e.x)[0]<0?e[1]-ct-Pe:ct-e[1])-((t=t.x)[0]<0?t[1]-ct-Pe:ct-t[1])}const T7=cg(function(){return!0},LC,PC,[-je,-ct]);function LC(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?je:-je,l=Je(a-t);Je(l-je)<Pe?(e.point(t,n=(n+s)/2>0?ct:-ct),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=je&&(Je(t-r)<Pe&&(t-=r*Pe),Je(a-o)<Pe&&(a-=o*Pe),n=FC(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function FC(e,t,n,r){var i,a,s=Fe(e-n);return Je(s)>Pe?Vo((Fe(t)*(a=Ve(r))*Fe(n)-Fe(r)*(i=Ve(t))*Fe(e))/(i*a*s)):(t+r)/2}function PC(e,t,n,r){var i;if(e==null)i=n*ct,r.point(-je,i),r.point(0,i),r.point(je,i),r.point(je,0),r.point(je,-i),r.point(0,-i),r.point(-je,-i),r.point(-je,0),r.point(-je,i);else if(Je(e[0]-t[0])>Pe){var a=e[0]<t[0]?je:-je;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function OC(e){var t=Ve(e),n=6*ft,r=t>0,i=Je(t)>Pe;function a(f,c,h,d){NC(d,e,n,h,f,c)}function s(f,c){return Ve(f)*Ve(c)>t}function o(f){var c,h,d,p,b;return{lineStart:function(){p=d=!1,b=1},point:function(y,w){var k=[y,w],E,$=s(y,w),A=r?$?0:u(y,w):$?u(y+(y<0?je:-je),w):0;if(!c&&(p=d=$)&&f.lineStart(),$!==d&&(E=l(c,k),(!E||Df(c,E)||Df(k,E))&&(k[2]=1)),$!==d)b=0,$?(f.lineStart(),E=l(k,c),f.point(E[0],E[1])):(E=l(c,k),f.point(E[0],E[1],2),f.lineEnd()),c=E;else if(i&&c&&r^$){var z;!(A&h)&&(z=l(k,c,!0))&&(b=0,r?(f.lineStart(),f.point(z[0][0],z[0][1]),f.point(z[1][0],z[1][1]),f.lineEnd()):(f.point(z[1][0],z[1][1]),f.lineEnd(),f.lineStart(),f.point(z[0][0],z[0][1],3)))}$&&(!c||!Df(c,k))&&f.point(k[0],k[1]),c=k,d=$,h=A},lineEnd:function(){d&&f.lineEnd(),c=null},clean:function(){return b|(p&&d)<<1}}}function l(f,c,h){var d=No(f),p=No(c),b=[1,0,0],y=ec(d,p),w=sf(y,y),k=y[0],E=w-k*k;if(!E)return!h&&f;var $=t*w/E,A=-t*k/E,z=ec(b,y),_=of(b,$),j=of(y,A);Yd(_,j);var H=z,S=sf(_,H),C=sf(H,H),L=S*S-C*(sf(_,_)-1);if(!(L<0)){var R=un(L),X=of(H,(-S-R)/C);if(Yd(X,_),X=Y4(X),!h)return X;var I=f[0],W=c[0],ae=f[1],re=c[1],le;W<I&&(le=I,I=W,W=le);var ee=W-I,se=Je(ee-je)<Pe,oe=se||ee<Pe;if(!se&&re<ae&&(le=ae,ae=re,re=le),oe?se?ae+re>0^X[1]<(Je(X[0]-I)<Pe?ae:re):ae<=X[1]&&X[1]<=re:ee>je^(I<=X[0]&&X[0]<=W)){var ne=of(H,(-S+R)/C);return Yd(ne,_),[X,Y4(ne)]}}}function u(f,c){var h=r?e:je-e,d=0;return f<-h?d|=1:f>h&&(d|=2),c<-h?d|=4:c>h&&(d|=8),d}return cg(s,o,a,r?[0,-e]:[-je,e-je])}function HC(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],u=t[1],f=0,c=1,h=l-s,d=u-o,p;if(p=n-s,!(!h&&p>0)){if(p/=h,h<0){if(p<f)return;p<c&&(c=p)}else if(h>0){if(p>c)return;p>f&&(f=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>c)return;p>f&&(f=p)}else if(h>0){if(p<f)return;p<c&&(c=p)}if(p=r-o,!(!d&&p>0)){if(p/=d,d<0){if(p<f)return;p<c&&(c=p)}else if(d>0){if(p>c)return;p>f&&(f=p)}if(p=a-o,!(!d&&p<0)){if(p/=d,d<0){if(p>c)return;p>f&&(f=p)}else if(d>0){if(p<f)return;p<c&&(c=p)}return f>0&&(e[0]=s+f*h,e[1]=o+f*d),c<1&&(t[0]=s+c*h,t[1]=o+c*d),!0}}}}}var fl=1e9,uf=-fl;function hg(e,t,n,r){function i(u,f){return e<=u&&u<=n&&t<=f&&f<=r}function a(u,f,c,h){var d=0,p=0;if(u==null||(d=s(u,c))!==(p=s(f,c))||l(u,f)<0^c>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+c+4)%4)!==p);else h.point(f[0],f[1])}function s(u,f){return Je(u[0]-e)<Pe?f>0?0:3:Je(u[0]-n)<Pe?f>0?2:1:Je(u[1]-t)<Pe?f>0?1:0:f>0?3:2}function o(u,f){return l(u.x,f.x)}function l(u,f){var c=s(u,1),h=s(f,1);return c!==h?c-h:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=ug(),h,d,p,b,y,w,k,E,$,A,z,_={point:j,lineStart:L,lineEnd:R,polygonStart:S,polygonEnd:C};function j(I,W){i(I,W)&&f.point(I,W)}function H(){for(var I=0,W=0,ae=d.length;W<ae;++W)for(var re=d[W],le=1,ee=re.length,se=re[0],oe,ne,Se=se[0],Ce=se[1];le<ee;++le)oe=Se,ne=Ce,se=re[le],Se=se[0],Ce=se[1],ne<=r?Ce>r&&(Se-oe)*(r-ne)>(Ce-ne)*(e-oe)&&++I:Ce<=r&&(Se-oe)*(r-ne)<(Ce-ne)*(e-oe)&&--I;return I}function S(){f=c,h=[],d=[],z=!0}function C(){var I=H(),W=z&&I,ae=(h=w9(h)).length;(W||ae)&&(u.polygonStart(),W&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),ae&&fg(h,o,I,a,u),u.polygonEnd()),f=u,h=d=p=null}function L(){_.point=X,d&&d.push(p=[]),A=!0,$=!1,k=E=NaN}function R(){h&&(X(b,y),w&&$&&c.rejoin(),h.push(c.result())),_.point=j,$&&f.lineEnd()}function X(I,W){var ae=i(I,W);if(d&&p.push([I,W]),A)b=I,y=W,w=ae,A=!1,ae&&(f.lineStart(),f.point(I,W));else if(ae&&$)f.point(I,W);else{var re=[k=Math.max(uf,Math.min(fl,k)),E=Math.max(uf,Math.min(fl,E))],le=[I=Math.max(uf,Math.min(fl,I)),W=Math.max(uf,Math.min(fl,W))];HC(re,le,e,t,n,r)?($||(f.lineStart(),f.point(re[0],re[1])),f.point(le[0],le[1]),ae||f.lineEnd(),z=!1):ae&&(f.lineStart(),f.point(I,W),z=!1)}k=I,E=W,$=ae}return _}}const Q4=e=>e;var Xd=new _s,K4=new _s,dg,mg,J4,em,I0={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){I0.lineStart=VC,I0.lineEnd=jC},polygonEnd:function(){I0.lineStart=I0.lineEnd=I0.point=zn,Xd.add(Je(K4)),K4=new _s},result:function(){var e=Xd/2;return Xd=new _s,e}};function VC(){I0.point=UC}function UC(e,t){I0.point=pg,dg=J4=e,mg=em=t}function pg(e,t){K4.add(em*e-J4*t),J4=e,em=t}function jC(){pg(dg,mg)}const C7=I0;var qo=1/0,tc=qo,Bl=-qo,nc=Bl,WC={point:YC,lineStart:zn,lineEnd:zn,polygonStart:zn,polygonEnd:zn,result:function(){var e=[[qo,tc],[Bl,nc]];return Bl=nc=-(tc=qo=1/0),e}};function YC(e,t){e<qo&&(qo=e),e>Bl&&(Bl=e),t<tc&&(tc=t),t>nc&&(nc=t)}const rc=WC;var tm=0,nm=0,cl=0,ic=0,ac=0,wo=0,rm=0,im=0,hl=0,gg,vg,ur,fr,Hn={point:qs,lineStart:A7,lineEnd:E7,polygonStart:function(){Hn.lineStart=ZC,Hn.lineEnd=QC},polygonEnd:function(){Hn.point=qs,Hn.lineStart=A7,Hn.lineEnd=E7},result:function(){var e=hl?[rm/hl,im/hl]:wo?[ic/wo,ac/wo]:cl?[tm/cl,nm/cl]:[NaN,NaN];return tm=nm=cl=ic=ac=wo=rm=im=hl=0,e}};function qs(e,t){tm+=e,nm+=t,++cl}function A7(){Hn.point=GC}function GC(e,t){Hn.point=XC,qs(ur=e,fr=t)}function XC(e,t){var n=e-ur,r=t-fr,i=un(n*n+r*r);ic+=i*(ur+e)/2,ac+=i*(fr+t)/2,wo+=i,qs(ur=e,fr=t)}function E7(){Hn.point=qs}function ZC(){Hn.point=KC}function QC(){bg(gg,vg)}function KC(e,t){Hn.point=bg,qs(gg=ur=e,vg=fr=t)}function bg(e,t){var n=e-ur,r=t-fr,i=un(n*n+r*r);ic+=i*(ur+e)/2,ac+=i*(fr+t)/2,wo+=i,i=fr*e-ur*t,rm+=i*(ur+e),im+=i*(fr+t),hl+=i*3,qs(ur=e,fr=t)}const _7=Hn;function yg(e){this._context=e}yg.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,bn);break}}},result:zn};var am=new _s,Zd,wg,xg,dl,ml,sc={point:zn,lineStart:function(){sc.point=JC},lineEnd:function(){Zd&&Mg(wg,xg),sc.point=zn},polygonStart:function(){Zd=!0},polygonEnd:function(){Zd=null},result:function(){var e=+am;return am=new _s,e}};function JC(e,t){sc.point=Mg,wg=dl=e,xg=ml=t}function Mg(e,t){dl-=e,ml-=t,am.add(un(dl*dl+ml*ml)),dl=e,ml=t}const z7=sc;let D7,oc,I7,N7;class q7{constructor(t){this._append=t==null?Sg:eA(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==I7||this._append!==oc){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,I7=r,oc=this._append,N7=this._,this._=i}this._+=N7;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Sg(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function eA(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Sg;if(t!==D7){const n=10**t;D7=t,oc=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return oc}function kg(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Ts(o,i(a))),a.result()}return s.area=function(o){return Ts(o,i(C7)),C7.result()},s.measure=function(o){return Ts(o,i(z7)),z7.result()},s.bounds=function(o){return Ts(o,i(rc)),rc.result()},s.centroid=function(o){return Ts(o,i(_7)),_7.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,Q4):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new q7(n)):new yg(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(a=new q7(n)),s},s.projection(e).digits(n).context(t)}function sm(e){return{stream:Oc(e)}}function Oc(e){return function(t){var n=new om;for(var r in e)n[r]=e[r];return n.stream=t,n}}function om(){}om.prototype={constructor:om,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function c3(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Ts(n,e.stream(rc)),t(rc.result()),r!=null&&e.clipExtent(r),e}function h3(e,t,n){return c3(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,l])},n)}function $g(e,t,n){return h3(e,[[0,0],t],n)}function Tg(e,t,n){return c3(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function Cg(e,t,n){return c3(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var B7=16,tA=Ve(30*ft);function R7(e,t){return+t?rA(e,t):nA(e)}function nA(e){return Oc({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function rA(e,t){function n(r,i,a,s,o,l,u,f,c,h,d,p,b,y){var w=u-r,k=f-i,E=w*w+k*k;if(E>4*t&&b--){var $=s+h,A=o+d,z=l+p,_=un($*$+A*A+z*z),j=Bn(z/=_),H=Je(Je(z)-1)<Pe||Je(a-c)<Pe?(a+c)/2:t0(A,$),S=e(H,j),C=S[0],L=S[1],R=C-r,X=L-i,I=k*R-w*X;(I*I/E>t||Je((w*R+k*X)/E-.5)>.3||s*h+o*d+l*p<tA)&&(n(r,i,a,s,o,l,C,L,H,$/=_,A/=_,z,b,y),y.point(C,L),n(C,L,H,$,A,z,u,f,c,h,d,p,b,y))}}return function(r){var i,a,s,o,l,u,f,c,h,d,p,b,y={point:w,lineStart:k,lineEnd:$,polygonStart:function(){r.polygonStart(),y.lineStart=A},polygonEnd:function(){r.polygonEnd(),y.lineStart=k}};function w(j,H){j=e(j,H),r.point(j[0],j[1])}function k(){c=NaN,y.point=E,r.lineStart()}function E(j,H){var S=No([j,H]),C=e(j,H);n(c,h,f,d,p,b,c=C[0],h=C[1],f=j,d=S[0],p=S[1],b=S[2],B7,r),r.point(c,h)}function $(){y.point=w,r.lineEnd()}function A(){k(),y.point=z,y.lineEnd=_}function z(j,H){E(i=j,H),a=c,s=h,o=d,l=p,u=b,y.point=E}function _(){n(c,h,f,d,p,b,a,s,i,o,l,u,B7,r),y.lineEnd=$,$()}return y}}var iA=Oc({point:function(e,t){this.stream.point(e*ft,t*ft)}});function aA(e){return Oc({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function sA(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function L7(e,t,n,r,i,a){if(!a)return sA(e,t,n,r,i);var s=Ve(a),o=Fe(a),l=s*e,u=o*e,f=s/e,c=o/e,h=(o*n-s*t)/e,d=(o*t+s*n)/e;function p(b,y){return b*=r,y*=i,[l*b-u*y+t,n-u*b-l*y]}return p.invert=function(b,y){return[r*(f*b-c*y+h),i*(d-c*b-f*y)]},p}function U0(e){return Ag(function(){return e})()}function Ag(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,l=0,u=0,f,c=0,h=1,d=1,p=null,b=T7,y=null,w,k,E,$=Q4,A=.5,z,_,j,H,S;function C(I){return j(I[0]*ft,I[1]*ft)}function L(I){return I=j.invert(I[0],I[1]),I&&[I[0]*Ht,I[1]*Ht]}C.stream=function(I){return H&&S===I?H:H=iA(aA(f)(b(z($(S=I)))))},C.preclip=function(I){return arguments.length?(b=I,p=void 0,X()):b},C.postclip=function(I){return arguments.length?($=I,y=w=k=E=null,X()):$},C.clipAngle=function(I){return arguments.length?(b=+I?OC(p=I*ft):(p=null,T7),X()):p*Ht},C.clipExtent=function(I){return arguments.length?($=I==null?(y=w=k=E=null,Q4):hg(y=+I[0][0],w=+I[0][1],k=+I[1][0],E=+I[1][1]),X()):y==null?null:[[y,w],[k,E]]},C.scale=function(I){return arguments.length?(n=+I,R()):n},C.translate=function(I){return arguments.length?(r=+I[0],i=+I[1],R()):[r,i]},C.center=function(I){return arguments.length?(a=I[0]%360*ft,s=I[1]%360*ft,R()):[a*Ht,s*Ht]},C.rotate=function(I){return arguments.length?(o=I[0]%360*ft,l=I[1]%360*ft,u=I.length>2?I[2]%360*ft:0,R()):[o*Ht,l*Ht,u*Ht]},C.angle=function(I){return arguments.length?(c=I%360*ft,R()):c*Ht},C.reflectX=function(I){return arguments.length?(h=I?-1:1,R()):h<0},C.reflectY=function(I){return arguments.length?(d=I?-1:1,R()):d<0},C.precision=function(I){return arguments.length?(z=R7(_,A=I*I),X()):un(A)},C.fitExtent=function(I,W){return h3(C,I,W)},C.fitSize=function(I,W){return $g(C,I,W)},C.fitWidth=function(I,W){return Tg(C,I,W)},C.fitHeight=function(I,W){return Cg(C,I,W)};function R(){var I=L7(n,0,0,h,d,c).apply(null,t(a,s)),W=L7(n,r-I[0],i-I[1],h,d,c);return f=lg(o,l,u),_=X4(t,W),j=X4(f,_),z=R7(_,A),X()}function X(){return H=S=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&L,R()}}function d3(e){var t=0,n=je/3,r=Ag(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*ft,n=a[1]*ft):[t*Ht,n*Ht]},i}function oA(e){var t=Ve(e);function n(r,i){return[r*t,Fe(i)/t]}return n.invert=function(r,i){return[r/t,Bn(i*t)]},n}function lA(e,t){var n=Fe(e),r=(n+Fe(t))/2;if(Je(r)<Pe)return oA(e);var i=1+n*(2*r-n),a=un(i)/r;function s(o,l){var u=un(i-2*r*Fe(l))/r;return[u*Fe(o*=r),a-u*Ve(o)]}return s.invert=function(o,l){var u=a-l,f=t0(o,Je(u))*_n(u);return u*r<0&&(f-=je*_n(o)*_n(u)),[f/r,Bn((i-(o*o+u*u)*r*r)/(2*r))]},s}function lc(){return d3(lA).scale(155.424).center([0,33.6442])}function Eg(){return lc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function uA(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function fA(){var e,t,n=Eg(),r,i=lc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=lc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(h,d){l=[h,d]}};function f(h){var d=h[0],p=h[1];return l=null,r.point(d,p),l||(a.point(d,p),l)||(o.point(d,p),l)}f.invert=function(h){var d=n.scale(),p=n.translate(),b=(h[0]-p[0])/d,y=(h[1]-p[1])/d;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?i:y>=.166&&y<.234&&b>=-.214&&b<-.115?s:n).invert(h)},f.stream=function(h){return e&&t===h?e:e=uA([n.stream(t=h),i.stream(h),s.stream(h)])},f.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),c()):n.precision()},f.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),f.translate(n.translate())):n.scale()},f.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),p=+h[0],b=+h[1];return r=n.translate(h).clipExtent([[p-.455*d,b-.238*d],[p+.455*d,b+.238*d]]).stream(u),a=i.translate([p-.307*d,b+.201*d]).clipExtent([[p-.425*d+Pe,b+.12*d+Pe],[p-.214*d-Pe,b+.234*d-Pe]]).stream(u),o=s.translate([p-.205*d,b+.212*d]).clipExtent([[p-.214*d+Pe,b+.166*d+Pe],[p-.115*d-Pe,b+.234*d-Pe]]).stream(u),c()},f.fitExtent=function(h,d){return h3(f,h,d)},f.fitSize=function(h,d){return $g(f,h,d)},f.fitWidth=function(h,d){return Tg(f,h,d)},f.fitHeight=function(h,d){return Cg(f,h,d)};function c(){return e=t=null,f}return f.scale(1070)}function _g(e){return function(t,n){var r=Ve(t),i=Ve(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Fe(t),a*Fe(n)]}}function tu(e){return function(t,n){var r=un(t*t+n*n),i=e(r),a=Fe(i),s=Ve(i);return[t0(t*a,r*s),Bn(r&&n*a/r)]}}var zg=_g(function(e){return un(2/(1+e))});zg.invert=tu(function(e){return 2*Bn(e/2)});function cA(){return U0(zg).scale(124.75).clipAngle(180-.001)}var Dg=_g(function(e){return(e=og(e))&&e/Fe(e)});Dg.invert=tu(function(e){return e});function hA(){return U0(Dg).scale(79.4188).clipAngle(180-.001)}function Hc(e,t){return[e,Kf(f3((ct+t)/2))]}Hc.invert=function(e,t){return[e,2*Vo(sg(t))-ct]};function dA(){return Ig(Hc).scale(961/bn)}function Ig(e){var t=U0(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,u;t.scale=function(c){return arguments.length?(r(c),f()):r()},t.translate=function(c){return arguments.length?(i(c),f()):i()},t.center=function(c){return arguments.length?(n(c),f()):n()},t.clipExtent=function(c){return arguments.length?(c==null?s=o=l=u=null:(s=+c[0][0],o=+c[0][1],l=+c[1][0],u=+c[1][1]),f()):s==null?null:[[s,o],[l,u]]};function f(){var c=je*r(),h=t(IC(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:e===Hc?[[Math.max(h[0]-c,s),o],[Math.min(h[0]+c,l),u]]:[[s,Math.max(h[1]-c,o)],[l,Math.min(h[1]+c,u)]])}return f()}function ff(e){return f3((ct+e)/2)}function mA(e,t){var n=Ve(e),r=e===t?Fe(e):Kf(n/Ve(t))/Kf(ff(t)/ff(e)),i=n*Wd(ff(e),r)/r;if(!r)return Hc;function a(s,o){i>0?o<-ct+Pe&&(o=-ct+Pe):o>ct-Pe&&(o=ct-Pe);var l=i/Wd(ff(o),r);return[l*Fe(r*s),i-l*Ve(r*s)]}return a.invert=function(s,o){var l=i-o,u=_n(r)*un(s*s+l*l),f=t0(s,Je(l))*_n(l);return l*r<0&&(f-=je*_n(s)*_n(l)),[f/r,2*Vo(Wd(i/u,1/r))-ct]},a}function pA(){return d3(mA).scale(109.5).parallels([30,30])}function uc(e,t){return[e,t]}uc.invert=uc;function gA(){return U0(uc).scale(152.63)}function vA(e,t){var n=Ve(e),r=e===t?Fe(e):(n-Ve(t))/(t-e),i=n/r+e;if(Je(r)<Pe)return uc;function a(s,o){var l=i-o,u=r*s;return[l*Fe(u),i-l*Ve(u)]}return a.invert=function(s,o){var l=i-o,u=t0(s,Je(l))*_n(l);return l*r<0&&(u-=je*_n(s)*_n(l)),[u/r,i-_n(r)*un(s*s+l*l)]},a}function bA(){return d3(vA).scale(131.154).center([0,13.9389])}var wl=1.340264,xl=-.081106,Ml=893e-6,Sl=.003796,fc=un(3)/2,yA=12;function Ng(e,t){var n=Bn(fc*Fe(t)),r=n*n,i=r*r*r;return[e*Ve(n)/(fc*(wl+3*xl*r+i*(7*Ml+9*Sl*r))),n*(wl+xl*r+i*(Ml+Sl*r))]}Ng.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,l;a<yA&&(o=n*(wl+xl*r+i*(Ml+Sl*r))-t,l=wl+3*xl*r+i*(7*Ml+9*Sl*r),n-=s=o/l,r=n*n,i=r*r*r,!(Je(s)<ag));++a);return[fc*e*(wl+3*xl*r+i*(7*Ml+9*Sl*r))/Ve(n),Bn(Fe(n)/fc)]};function wA(){return U0(Ng).scale(177.158)}function qg(e,t){var n=Ve(t),r=Ve(e)*n;return[n*Fe(e)/r,Fe(t)/r]}qg.invert=tu(Vo);function xA(){return U0(qg).scale(144.049).clipAngle(60)}function Bg(e,t){return[Ve(t)*Fe(e),Fe(t)]}Bg.invert=tu(Bn);function MA(){return U0(Bg).scale(249.5).clipAngle(90+Pe)}function Rg(e,t){var n=Ve(t),r=1+Ve(e)*n;return[n*Fe(e)/r,Fe(t)/r]}Rg.invert=tu(function(e){return 2*Vo(e)});function SA(){return U0(Rg).scale(250).clipAngle(142)}function Lg(e,t){return[Kf(f3((ct+t)/2)),-e]}Lg.invert=function(e,t){return[-t,2*Vo(sg(e))-ct]};function kA(){var e=Ig(Lg),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const m3=Math.random,$A=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(m3),F7=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(m3),TA=function e(t){function n(r,i){var a,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var o;if(a!=null)o=a,a=null;else do a=t()*2-1,o=t()*2-1,s=a*a+o*o;while(!s||s>1);return r+i*o*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(m3);function Sr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lm=Symbol("implicit");function p3(){var e=new zs,t=[],n=[],r=lm;function i(a){let s=e.get(a);if(s===void 0){if(r!==lm)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new zs;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return p3(t,n).unknown(r)},Sr.apply(i,arguments),i}function Uc(){var e=p3().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,f=.5;delete e.unknown;function c(){var h=t().length,d=i<r,p=d?i:r,b=d?r:i;a=(b-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(b-p-a*(h-l))*f,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=D4(h).map(function(w){return p+a*w});return n(d?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),c()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,c()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},e.copy=function(){return Uc(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(f)},Sr.apply(c(),arguments)}function Fg(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fg(t())},e}function CA(){return Fg(Uc.apply(null,arguments).paddingInner(1))}function AA(e){return function(){return e}}function um(e){return+e}var P7=[0,1];function Dn(e){return e}function fm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:AA(isNaN(t)?NaN:.5)}function EA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function _A(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=fm(i,r),a=n(s,a)):(r=fm(r,i),a=n(a,s)),function(o){return a(r(o))}}function zA(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=fm(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Ic(e,o,1,r)-1;return a[l](i[l](o))}}function nu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jc(){var e=P7,t=P7,n=Jl,r,i,a,s=Dn,o,l,u;function f(){var h=Math.min(e.length,t.length);return s!==Dn&&(s=EA(e[0],e[h-1])),o=h>2?zA:_A,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return c.invert=function(h){return s(i((u||(u=o(t,e.map(r),Lt)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,um),f()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=i3,f()},c.clamp=function(h){return arguments.length?(s=h?!0:Dn,f()):s!==Dn},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,d){return r=h,i=d,f()}}function Pg(){return jc()(Dn,Dn)}function DA(e,t,n,r){var i=z4(e,t,n),a;switch(r=ql(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=zC(i,s))&&(r.precision=a),ig(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=DC(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=_C(i))&&(r.precision=a-(r.type==="%")*2);break}}return eu(r)}function ru(e){var t=e.domain;return e.ticks=function(n){var r=t();return zl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return DA(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,f=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);f-- >0;){if(u=Hf(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function g3(){var e=Pg();return e.copy=function(){return nu(e,g3())},Sr.apply(e,arguments),ru(e)}function Og(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,um),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Og(e).unknown(t)},e=arguments.length?Array.from(e,um):[0,1],ru(n)}function Hg(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function O7(e){return Math.log(e)}function H7(e){return Math.exp(e)}function IA(e){return-Math.log(-e)}function NA(e){return-Math.exp(-e)}function qA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BA(e){return e===10?qA:e===Math.E?Math.exp:t=>Math.pow(e,t)}function RA(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V7(e){return(t,n)=>-e(-t,n)}function Vg(e){const t=e(O7,H7),n=t.domain;let r=10,i,a;function s(){return i=RA(r),a=BA(r),n()[0]<0?(i=V7(i),a=V7(a),e(IA,NA)):e(O7,H7),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=i(u),d=i(f),p,b;const y=o==null?10:+o;let w=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(p=1;p<r;++p)if(b=h<0?p/a(-h):p*a(h),!(b<u)){if(b>f)break;w.push(b)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(b=h>0?p/a(-h):p*a(h),!(b<u)){if(b>f)break;w.push(b)}w.length*2<y&&(w=zl(u,f,y))}else w=zl(h,d,Math.min(d-h,y)).map(a);return c?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ql(l)).precision==null&&(l.trim=!0),l=eu(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},t.nice=()=>n(Hg(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function Ug(){const e=Vg(jc()).domain([1,10]);return e.copy=()=>nu(e,Ug()).base(e.base()),Sr.apply(e,arguments),e}function U7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function j7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jg(e){var t=1,n=e(U7(t),j7(t));return n.constant=function(r){return arguments.length?e(U7(t=+r),j7(t)):t},ru(n)}function Wg(){var e=jg(jc());return e.copy=function(){return nu(e,Wg()).constant(e.constant())},Sr.apply(e,arguments)}function W7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LA(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FA(e){return e<0?-e*e:e*e}function Yg(e){var t=e(Dn,Dn),n=1;function r(){return n===1?e(Dn,Dn):n===.5?e(LA,FA):e(W7(n),W7(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ru(t)}function Gg(){var e=Yg(jc());return e.copy=function(){return nu(e,Gg()).exponent(e.exponent())},Sr.apply(e,arguments),e}function Xg(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=AS(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Ic(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(on),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Xg().domain(e).range(t).unknown(r)},Sr.apply(a,arguments)}function Zg(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ic(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Zg().domain(e).range(t).unknown(n)},Sr.apply(i,arguments)}const Qd=new Date,Kd=new Date;function kt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>kt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Qd.setTime(+a),Kd.setTime(+s),e(Qd),e(Kd),Math.floor(n(Qd,Kd))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const cc=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):cc);cc.range;const Vr=1e3,In=Vr*60,Ur=In*60,n0=Ur*24,v3=n0*7,Y7=n0*30,Jd=n0*365,jr=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vr)},(e,t)=>(t-e)/Vr,e=>e.getUTCSeconds());jr.range;const Wc=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vr)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getMinutes());Wc.range;const Yc=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getUTCMinutes());Yc.range;const Gc=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vr-e.getMinutes()*In)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getHours());Gc.range;const Xc=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getUTCHours());Xc.range;const Uo=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*In)/n0,e=>e.getDate()-1);Uo.range;const Zc=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/n0,e=>e.getUTCDate()-1);Zc.range;const b3=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/n0,e=>Math.floor(e/n0));b3.range;function Ps(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*In)/v3)}const Bo=Ps(0),Rl=Ps(1),Qg=Ps(2),Kg=Ps(3),Bs=Ps(4),Jg=Ps(5),ev=Ps(6);Bo.range;Rl.range;Qg.range;Kg.range;Bs.range;Jg.range;ev.range;function Os(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/v3)}const Ro=Os(0),Ll=Os(1),tv=Os(2),nv=Os(3),Rs=Os(4),rv=Os(5),iv=Os(6);Ro.range;Ll.range;tv.range;nv.range;Rs.range;rv.range;iv.range;const Qc=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qc.range;const Kc=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kc.range;const Wn=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Wn.range;const Yn=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Yn.range;function av(e,t,n,r,i,a){const s=[[jr,1,Vr],[jr,5,5*Vr],[jr,15,15*Vr],[jr,30,30*Vr],[a,1,In],[a,5,5*In],[a,15,15*In],[a,30,30*In],[i,1,Ur],[i,3,3*Ur],[i,6,6*Ur],[i,12,12*Ur],[r,1,n0],[r,2,2*n0],[n,1,v3],[t,1,Y7],[t,3,3*Y7],[e,1,Jd]];function o(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const d=c&&typeof c.range=="function"?c:l(u,f,c),p=d?d.range(u,+f+1):[];return h?p.reverse():p}function l(u,f,c){const h=Math.abs(f-u)/c,d=El(([,,y])=>y).right(s,h);if(d===s.length)return e.every(z4(u/Jd,f/Jd,c));if(d===0)return cc.every(Math.max(z4(u,f,c),1));const[p,b]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return p.every(b)}return[o,l]}const[PA,sv]=av(Yn,Kc,Ro,b3,Xc,Yc),[OA,HA]=av(Wn,Qc,Bo,Uo,Gc,Wc);function e4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function t4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VA(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=nl(i),f=rl(i),c=nl(a),h=rl(a),d=nl(s),p=rl(s),b=nl(o),y=rl(o),w=nl(l),k=rl(l),E={a:ae,A:re,b:le,B:ee,c:null,d:J7,e:J7,f:hE,g:ME,G:kE,H:uE,I:fE,j:cE,L:ov,m:dE,M:mE,p:se,q:oe,Q:np,s:rp,S:pE,u:gE,U:vE,V:bE,w:yE,W:wE,x:null,X:null,y:xE,Y:SE,Z:$E,"%":tp},$={a:ne,A:Se,b:Ce,B:_e,c:null,d:ep,e:ep,f:EE,g:FE,G:OE,H:TE,I:CE,j:AE,L:uv,m:_E,M:zE,p:fe,q:he,Q:np,s:rp,S:DE,u:IE,U:NE,V:qE,w:BE,W:RE,x:null,X:null,y:LE,Y:PE,Z:HE,"%":tp},A={a:S,A:C,b:L,B:R,c:X,d:Q7,e:Q7,f:aE,g:Z7,G:X7,H:K7,I:K7,j:tE,L:iE,m:eE,M:nE,p:H,q:JA,Q:oE,s:lE,S:rE,u:GA,U:XA,V:ZA,w:YA,W:QA,x:I,X:W,y:Z7,Y:X7,Z:KA,"%":sE};E.x=z(n,E),E.X=z(r,E),E.c=z(t,E),$.x=z(n,$),$.X=z(r,$),$.c=z(t,$);function z(te,xe){return function(Te){var Y=[],ke=-1,Ee=0,Be=te.length,Re,Ge,mt;for(Te instanceof Date||(Te=new Date(+Te));++ke<Be;)te.charCodeAt(ke)===37&&(Y.push(te.slice(Ee,ke)),(Ge=G7[Re=te.charAt(++ke)])!=null?Re=te.charAt(++ke):Ge=Re==="e"?" ":"0",(mt=xe[Re])&&(Re=mt(Te,Ge)),Y.push(Re),Ee=ke+1);return Y.push(te.slice(Ee,ke)),Y.join("")}}function _(te,xe){return function(Te){var Y=tl(1900,void 0,1),ke=j(Y,te,Te+="",0),Ee,Be;if(ke!=Te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(xe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=t4(tl(Y.y,0,1)),Be=Ee.getUTCDay(),Ee=Be>4||Be===0?Ll.ceil(Ee):Ll(Ee),Ee=Zc.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=e4(tl(Y.y,0,1)),Be=Ee.getDay(),Ee=Be>4||Be===0?Rl.ceil(Ee):Rl(Ee),Ee=Uo.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Be="Z"in Y?t4(tl(Y.y,0,1)).getUTCDay():e4(tl(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Be+5)%7:Y.w+Y.U*7-(Be+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,t4(Y)):e4(Y)}}function j(te,xe,Te,Y){for(var ke=0,Ee=xe.length,Be=Te.length,Re,Ge;ke<Ee;){if(Y>=Be)return-1;if(Re=xe.charCodeAt(ke++),Re===37){if(Re=xe.charAt(ke++),Ge=A[Re in G7?xe.charAt(ke++):Re],!Ge||(Y=Ge(te,Te,Y))<0)return-1}else if(Re!=Te.charCodeAt(Y++))return-1}return Y}function H(te,xe,Te){var Y=u.exec(xe.slice(Te));return Y?(te.p=f.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function S(te,xe,Te){var Y=d.exec(xe.slice(Te));return Y?(te.w=p.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function C(te,xe,Te){var Y=c.exec(xe.slice(Te));return Y?(te.w=h.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function L(te,xe,Te){var Y=w.exec(xe.slice(Te));return Y?(te.m=k.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function R(te,xe,Te){var Y=b.exec(xe.slice(Te));return Y?(te.m=y.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function X(te,xe,Te){return j(te,t,xe,Te)}function I(te,xe,Te){return j(te,n,xe,Te)}function W(te,xe,Te){return j(te,r,xe,Te)}function ae(te){return s[te.getDay()]}function re(te){return a[te.getDay()]}function le(te){return l[te.getMonth()]}function ee(te){return o[te.getMonth()]}function se(te){return i[+(te.getHours()>=12)]}function oe(te){return 1+~~(te.getMonth()/3)}function ne(te){return s[te.getUTCDay()]}function Se(te){return a[te.getUTCDay()]}function Ce(te){return l[te.getUTCMonth()]}function _e(te){return o[te.getUTCMonth()]}function fe(te){return i[+(te.getUTCHours()>=12)]}function he(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var xe=z(te+="",E);return xe.toString=function(){return te},xe},parse:function(te){var xe=_(te+="",!1);return xe.toString=function(){return te},xe},utcFormat:function(te){var xe=z(te+="",$);return xe.toString=function(){return te},xe},utcParse:function(te){var xe=_(te+="",!0);return xe.toString=function(){return te},xe}}}var G7={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,UA=/^%/,jA=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function WA(e){return e.replace(jA,"\\$&")}function nl(e){return new RegExp("^(?:"+e.map(WA).join("|")+")","i")}function rl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function YA(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function GA(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function XA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ZA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function QA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function X7(e,t,n){var r=Et.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Z7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KA(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JA(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function eE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Q7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tE(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function K7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function iE(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function aE(e,t,n){var r=Et.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sE(e,t,n){var r=UA.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function oE(e,t,n){var r=Et.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function lE(e,t,n){var r=Et.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function J7(e,t){return Qe(e.getDate(),t,2)}function uE(e,t){return Qe(e.getHours(),t,2)}function fE(e,t){return Qe(e.getHours()%12||12,t,2)}function cE(e,t){return Qe(1+Uo.count(Wn(e),e),t,3)}function ov(e,t){return Qe(e.getMilliseconds(),t,3)}function hE(e,t){return ov(e,t)+"000"}function dE(e,t){return Qe(e.getMonth()+1,t,2)}function mE(e,t){return Qe(e.getMinutes(),t,2)}function pE(e,t){return Qe(e.getSeconds(),t,2)}function gE(e){var t=e.getDay();return t===0?7:t}function vE(e,t){return Qe(Bo.count(Wn(e)-1,e),t,2)}function lv(e){var t=e.getDay();return t>=4||t===0?Bs(e):Bs.ceil(e)}function bE(e,t){return e=lv(e),Qe(Bs.count(Wn(e),e)+(Wn(e).getDay()===4),t,2)}function yE(e){return e.getDay()}function wE(e,t){return Qe(Rl.count(Wn(e)-1,e),t,2)}function xE(e,t){return Qe(e.getFullYear()%100,t,2)}function ME(e,t){return e=lv(e),Qe(e.getFullYear()%100,t,2)}function SE(e,t){return Qe(e.getFullYear()%1e4,t,4)}function kE(e,t){var n=e.getDay();return e=n>=4||n===0?Bs(e):Bs.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function $E(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function ep(e,t){return Qe(e.getUTCDate(),t,2)}function TE(e,t){return Qe(e.getUTCHours(),t,2)}function CE(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function AE(e,t){return Qe(1+Zc.count(Yn(e),e),t,3)}function uv(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function EE(e,t){return uv(e,t)+"000"}function _E(e,t){return Qe(e.getUTCMonth()+1,t,2)}function zE(e,t){return Qe(e.getUTCMinutes(),t,2)}function DE(e,t){return Qe(e.getUTCSeconds(),t,2)}function IE(e){var t=e.getUTCDay();return t===0?7:t}function NE(e,t){return Qe(Ro.count(Yn(e)-1,e),t,2)}function fv(e){var t=e.getUTCDay();return t>=4||t===0?Rs(e):Rs.ceil(e)}function qE(e,t){return e=fv(e),Qe(Rs.count(Yn(e),e)+(Yn(e).getUTCDay()===4),t,2)}function BE(e){return e.getUTCDay()}function RE(e,t){return Qe(Ll.count(Yn(e)-1,e),t,2)}function LE(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function FE(e,t){return e=fv(e),Qe(e.getUTCFullYear()%100,t,2)}function PE(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function OE(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Rs(e):Rs.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function HE(){return"+0000"}function tp(){return"%"}function np(e){return+e}function rp(e){return Math.floor(+e/1e3)}var mo,Jc,Fl;VE({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VE(e){return mo=VA(e),Jc=mo.format,mo.parse,Fl=mo.utcFormat,mo.utcParse,mo}function UE(e){return new Date(e)}function jE(e){return e instanceof Date?+e:+new Date(+e)}function y3(e,t,n,r,i,a,s,o,l,u){var f=Pg(),c=f.invert,h=f.domain,d=u(".%L"),p=u(":%S"),b=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),k=u("%b %d"),E=u("%B"),$=u("%Y");function A(z){return(l(z)<z?d:o(z)<z?p:s(z)<z?b:a(z)<z?y:r(z)<z?i(z)<z?w:k:n(z)<z?E:$)(z)}return f.invert=function(z){return new Date(c(z))},f.domain=function(z){return arguments.length?h(Array.from(z,jE)):h().map(UE)},f.ticks=function(z){var _=h();return e(_[0],_[_.length-1],z??10)},f.tickFormat=function(z,_){return _==null?A:u(_)},f.nice=function(z){var _=h();return(!z||typeof z.range!="function")&&(z=t(_[0],_[_.length-1],z??10)),z?h(Hg(_,z)):f},f.copy=function(){return nu(f,y3(e,t,n,r,i,a,s,o,l,u))},f}function WE(){return Sr.apply(y3(OA,HA,Wn,Qc,Bo,Uo,Gc,Wc,jr,Jc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YE(){return Sr.apply(y3(PA,sv,Yn,Kc,Ro,Zc,Xc,Yc,jr,Fl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function th(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Dn,f,c=!1,h;function d(b){return isNaN(b=+b)?h:(b=.5+((b=+f(b))-a)*(r*b<r*a?o:l),u(c?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([e,t,n]=b,i=f(e=+e),a=f(t=+t),s=f(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(b){return arguments.length?(c=!!b,d):c},d.interpolator=function(b){return arguments.length?(u=b,d):u};function p(b){return function(y){var w,k,E;return arguments.length?([w,k,E]=y,u=Lc(b,[w,k,E]),d):[u(0),u(.5),u(1)]}}return d.range=p(Jl),d.rangeRound=p(i3),d.unknown=function(b){return arguments.length?(h=b,d):h},function(b){return f=b,i=b(e),a=b(t),s=b(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d}}function cv(){var e=ru(th()(Dn));return e.copy=function(){return eh(e,cv())},Vc.apply(e,arguments)}function hv(){var e=Vg(th()).domain([.1,1,10]);return e.copy=function(){return eh(e,hv()).base(e.base())},Vc.apply(e,arguments)}function dv(){var e=jg(th());return e.copy=function(){return eh(e,dv()).constant(e.constant())},Vc.apply(e,arguments)}function mv(){var e=Yg(th());return e.copy=function(){return eh(e,mv()).exponent(e.exponent())},Vc.apply(e,arguments)}function He(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const GE=He("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),XE=He("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ZE=He("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),QE=He("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),KE=He("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),JE=He("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),e_=He("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),t_=He("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),n_=He("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),r_=He("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),tt=e=>U$(e[e.length-1]);var pv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(He);const gv=tt(pv);var vv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(He);const bv=tt(vv);var yv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(He);const wv=tt(yv);var xv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(He);const Mv=tt(xv);var cm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(He);const hc=tt(cm);var Sv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(He);const kv=tt(Sv);var hm=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(He);const dc=tt(hm);var $v=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(He);const Tv=tt($v);var Cv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(He);const Av=tt(Cv);var Ev=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(He);const _v=tt(Ev);var zv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(He);const Dv=tt(zv);var Iv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(He);const Nv=tt(Iv);var qv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(He);const Bv=tt(qv);var Rv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(He);const Lv=tt(Rv);var Fv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(He);const Pv=tt(Fv);var Ov=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(He);const Hv=tt(Ov);var Vv=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(He);const Uv=tt(Vv);var jv=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(He);const Wv=tt(jv);var Yv=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(He);const Gv=tt(Yv);var Xv=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(He);const Zv=tt(Xv);var Qv=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(He);const Kv=tt(Qv);var Jv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(He);const eb=tt(Jv);var tb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(He);const nb=tt(tb);var rb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(He);const ib=tt(rb);var ab=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(He);const sb=tt(ab);var ob=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(He);const lb=tt(ob);var ub=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(He);const fb=tt(ub);function cb(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const hb=a3(br(300,.5,0),br(-240,.5,1));var db=a3(br(-100,.75,.35),br(80,1.5,.8)),mb=a3(br(260,.75,.35),br(80,1.5,.8)),cf=br();function pb(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return cf.h=360*e-100,cf.s=1.5-1.5*t,cf.l=.8-.9*t,cf+""}var hf=O0(),i_=Math.PI/3,a_=Math.PI*2/3;function gb(e){var t;return e=(.5-e)*Math.PI,hf.r=255*(t=Math.sin(e))*t,hf.g=255*(t=Math.sin(e+i_))*t,hf.b=255*(t=Math.sin(e+a_))*t,hf+""}function vb(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function nh(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const bb=nh(He("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var yb=nh(He("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),wb=nh(He("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xb=nh(He("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Mb=Math.cos,w3=Math.min,mc=Math.sin,$t=Math.sqrt,pc=Math.PI,rh=2*pc,s_=$t(3),Sb={draw(e,t){const n=$t(t+w3(t/28,.75))*.59436,r=n/2,i=r*s_;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},x3={draw(e,t){const n=$t(t/pc);e.moveTo(n,0),e.arc(0,0,n,0,rh)}},kb={draw(e,t){const n=$t(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},$b=$t(1/3),o_=$b*2,Tb={draw(e,t){const n=$t(t/o_),r=n*$b;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Cb={draw(e,t){const n=$t(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Ab={draw(e,t){const n=$t(t-w3(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Eb={draw(e,t){const n=$t(t),r=-n/2;e.rect(r,r,n,n)}},_b={draw(e,t){const n=$t(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},l_=.8908130915292852,zb=mc(pc/10)/mc(7*pc/10),u_=mc(rh/10)*zb,f_=-Mb(rh/10)*zb,Db={draw(e,t){const n=$t(t*l_),r=u_*n,i=f_*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=rh*a/5,o=Mb(s),l=mc(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},n4=$t(3),Ib={draw(e,t){const n=-$t(t/(n4*3));e.moveTo(0,n*2),e.lineTo(-n4*n,-n),e.lineTo(n4*n,-n),e.closePath()}},c_=$t(3),Nb={draw(e,t){const n=$t(t)*.6824,r=n/2,i=n*c_/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Tn=-.5,Cn=$t(3)/2,dm=1/$t(12),h_=(dm/2+1)*3,qb={draw(e,t){const n=$t(t/h_),r=n/2,i=n*dm,a=r,s=n*dm+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Tn*r-Cn*i,Cn*r+Tn*i),e.lineTo(Tn*a-Cn*s,Cn*a+Tn*s),e.lineTo(Tn*o-Cn*l,Cn*o+Tn*l),e.lineTo(Tn*r+Cn*i,Tn*i-Cn*r),e.lineTo(Tn*a+Cn*s,Tn*s-Cn*a),e.lineTo(Tn*o+Cn*l,Tn*l-Cn*o),e.closePath()}},Bb={draw(e,t){const n=$t(t-w3(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},d_=[x3,kb,Tb,Eb,Db,Ib,qb],m_=[x3,Ab,Bb,Nb,Sb,_b,Cb];function pl(e,t,n){this.k=e,this.x=t,this.y=n}pl.prototype={constructor:pl,scale:function(e){return e===1?this:new pl(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};pl.prototype;const df={f32:Float32Array,u8:Uint8Array};class Ke{constructor(t,n,r="f32",i=!1){this.data=t,this.shape=n,this.strides=[n[1],1],this.offset=0,this.codebook=void 0,this.dtype=r,this.transposed=i}get bytes(){const t=this.data.byteLength/this.data.length;return this.shape[0]*this.shape[1]*t}static totalBytes(...t){let n=0;for(const r of t)n+=r.bytes+(r.codebook?r.codebook.bytes:0);return n}static GB(...t){return Ke.totalBytes(...t)/1024**3}static MB(...t){return Ke.totalBytes(...t)/1024**2}static KB(...t){return Ke.totalBytes(...t)/1024}relu(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.data[this.index2D(t,n)];this.data[this.index2D(t,n)]=r>0?r:0}return this}sigmoid(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.index2D(t,n),i=this.data[r];this.data[r]=1/(1+Math.exp(-i))}return this}tanh(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.offset+t*this.strides[0]+n*this.strides[1],i=this.data[r],a=Math.exp(i),s=Math.exp(-i);this.data[r]=(a-s)/(a+s)}return this}print({round:t=3,showBytes:n=!1}={}){let r="";for(let i=0;i<this.shape[0];i++){let a="|";for(let s=0;s<this.shape[1];s++){let o=this.data[this.index2D(i,s)];this.dtype[0]==="u"&&(t=0),a+=" "+o.toFixed(t)}a+=" |",r+=a+`
`}console.log(r,this.dtype),n&&console.log(`${this.bytes} bytes`)}get T(){const t=this.shallowCopy();return t.shape=[this.shape[1],this.shape[0]],t.transposed=!t.transposed,t}shallowCopy(){const t=new Ke(this.data,r4(this.shape,Array),this.dtype);return t.codebook=this.codebook,t}deepCopy(){return new Ke(r4(this.data,df[this.dtype]),r4(this.shape,Array),this.dtype)}self(t,n=!0){return t?this.deepCopy():this}sub(t,n=!1){const r=this.self(n);let i=[t.strides[0],t.strides[1]];r.shape[0]>t.shape[0]&&(t.strides[0]=0),r.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let a=0;a<r.shape[0];a++)for(let s=0;s<r.shape[1];s++)r.data[r.index2D(a,s)]-=t.value2D(a,s);return t.strides[0]=i[0],t.strides[1]=i[1],r}add(t){let n=[t.strides[0],t.strides[1]];this.shape[0]>t.shape[0]&&(t.strides[0]=0),this.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let r=0;r<this.shape[0];r++)for(let i=0;i<this.shape[1];i++)this.data[this.index2D(r,i)]+=t.value2D(r,i);return t.strides[0]=n[0],t.strides[1]=n[1],this}index2D(t,n){return this.transposed&&([t,n]=[n,t]),this.offset+this.strides[0]*t+this.strides[1]*n}value2D(t,n){const r=this.data[this.index2D(t,n)];return this.codebook?this.codebook.data[r]:r}matmul(t){const n=this.shape[0],r=this.shape[1],i=t.shape[1];ip(r===t.shape[0],"must have same inner dimensions");const a=Ke.zeros([n,i],"f32");for(let s=0;s<n;s++)for(let o=0;o<i;o++)for(let l=0;l<r;l++)a.data[a.index2D(s,o)]+=this.value2D(s,l)*t.value2D(l,o);return a}static zeros(t,n){return new Ke(Array(t[0]*t[1]).fill(0),t,n)}static arange(t,n="f32"){let r=new Array(t[0]*t[1]);for(let i=0;i<r.length;i++)r[i]=i;return new Ke(r,t,n)}static randrng(t,n,r){const i=Ke.$(t[0]*t[1],[t[0],t[1]],r);for(let a=0;a<i.data.length;a++)i.data[a]=n();return i}static randu(t,n=0,r=1,i="f32"){return Ke.randrng(t,$A(n,r),i)}static randn(t,n=0,r=1,i="f32"){return Ke.randrng(t,TA(n,r),i)}round(){for(let t=0;t<this.data.length;t++)this.data[t]=Math.round(this.data[t]);return this}to(t){this.dtype=t;const n=new df[t](this.data.length);for(let r=0;r<this.data.length;r++)n[r]=this.data[r];return this.data=n,this}static $(t,n,r="f32"){return ip(r in df,"type must be f32 or u8"),new Ke(new df[r](t),n,r)}reconstruct(){const t=Ke.zeros([this.shape[0],this.shape[1]]);for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t.data[t.index2D(n,r)]=this.value2D(n,r);return t}sum(){let t=0;for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t+=this.value2D(n,r);return t}}function ip(e,t=""){if(!e)throw Error(t)}function r4(e,t){const n=new t(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}function ih(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}const i4={distanceFunction:ih};function p_(e,t,n=i4){const r=n.distanceFunction||i4.distanceFunction,i=n.similarityFunction||i4.similarityFunction;let a=-1;if(typeof i=="function"){let s=Number.MIN_VALUE;for(let o=0;o<e.length;o++){const l=i(t,e[o]);l>s&&(s=l,a=o)}}else if(typeof r=="function"){let s=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const l=r(t,e[o]);l<s&&(s=l,a=o)}}else throw new Error("A similarity or distance function it's required");return a}function g_(e,t){let n=new Array(e.length);for(let r=0;r<e.length;++r)for(let i=r;i<e.length;++i){n[r]||(n[r]=new Array(e.length)),n[i]||(n[i]=new Array(e.length));const a=t(e[r],e[i]);n[r][i]=a,n[i][r]=a}return n}function Rb(e,t,n,r){for(let i=0;i<e.length;i++)n[i]=p_(t,e[i],{distanceFunction:r});return n}function v_(e,t,n,r){const i=t[0].length;let a=new Array(r),s=new Array(r);for(let o=0;o<r;o++){a[o]=new Array(i),s[o]=0;for(let l=0;l<i;l++)a[o][l]=0}for(let o=0;o<t.length;o++){s[n[o]]++;for(let l=0;l<i;l++)a[n[o]][l]+=t[o][l]}for(let o=0;o<r;o++)for(let l=0;l<i;l++)s[o]?a[o][l]/=s[o]:a[o][l]=e[o][l];return a}function b_(e,t,n,r){for(let i=0;i<e.length;i++)if(n(e[i],t[i])>r)return!1;return!0}class y_{constructor(t,n,r,i,a){this.clusters=t,this.centroids=n,this.converged=r,this.iterations=i,this.distance=a}nearest(t){const n=new Array(t.length);return Rb(t,this.centroids,n,this.distance)}computeInformation(t){let n=this.centroids.map(r=>({centroid:r,error:0,size:0}));for(let r=0;r<t.length;r++)n[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),n[this.clusters[r]].size++;for(let r=0;r<this.centroids.length;r++){let i=n[r].error;n[r].size&&i!==-1?i/=n[r].size:n[r].error=-1}return n}}function w_(e,t){throw new Error(`${t}: "${String(e)}"`)}function x_(e,t){if(t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points")}const M_=Object.prototype.toString;function mn(e){const t=M_.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function S_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!mn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]>s&&(s=e[o]);return s}function k_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!mn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]<s&&(s=e[o]);return s}function ap(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mn(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(t.output!==void 0){if(!mn(t.output))throw new TypeError("output option must be an array if specified");n=t.output}else n=new Array(e.length);var r=k_(e),i=S_(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,s=a===void 0?t.autoMinMax?r:0:a,o=t.max,l=o===void 0?t.autoMinMax?i:1:o;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(i-r),f=0;f<e.length;f++)n[f]=(e[f]-r)*u+s;return n}const mf=" ".repeat(2),Lb=" ".repeat(4);function $_(){return Fb(this)}function Fb(e,t={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:a="auto"}=t;return`${e.constructor.name} {
${mf}[
${Lb}${T_(e,n,r,i,a)}
${mf}]
${mf}rows: ${e.rows}
${mf}columns: ${e.columns}
}`}function T_(e,t,n,r,i){const{rows:a,columns:s}=e,o=Math.min(a,t),l=Math.min(s,n),u=[];if(i==="auto"){i=!1;e:for(let f=0;f<o;f++)for(let c=0;c<l;c++)if(e.get(f,c)<0){i=!0;break e}}for(let f=0;f<o;f++){let c=[];for(let h=0;h<l;h++)c.push(C_(e.get(f,h),r,i));u.push(`${c.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-n} more columns`),o!==a&&u.push(`... ${a-t} more rows`),u.join(`
${Lb}`)}function C_(e,t,n){return(e>=0&&n?` ${sp(e,t-1)}`:sp(e,t)).padEnd(t)}function sp(e,t){let n=e.toString();if(n.length<=t)return n;let r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function A_(e,t){e.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},e.prototype.addS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r);return this},e.prototype.addM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r.get(i,a));return this},e.add=function(r,i){return new t(r).add(i)},e.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},e.prototype.subS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r);return this},e.prototype.subM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r.get(i,a));return this},e.sub=function(r,i){return new t(r).sub(i)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},e.prototype.mulS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r);return this},e.prototype.mulM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r.get(i,a));return this},e.mul=function(r,i){return new t(r).mul(i)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},e.prototype.divS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r);return this},e.prototype.divM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r.get(i,a));return this},e.div=function(r,i){return new t(r).div(i)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},e.prototype.modS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r);return this},e.prototype.modM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r.get(i,a));return this},e.mod=function(r,i){return new t(r).mod(i)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},e.prototype.andS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r);return this},e.prototype.andM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r.get(i,a));return this},e.and=function(r,i){return new t(r).and(i)},e.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},e.prototype.orS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r);return this},e.prototype.orM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r.get(i,a));return this},e.or=function(r,i){return new t(r).or(i)},e.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},e.prototype.xorS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r);return this},e.prototype.xorM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r.get(i,a));return this},e.xor=function(r,i){return new t(r).xor(i)},e.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},e.prototype.leftShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r);return this},e.prototype.leftShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r.get(i,a));return this},e.leftShift=function(r,i){return new t(r).leftShift(i)},e.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},e.prototype.signPropagatingRightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r);return this},e.prototype.signPropagatingRightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r.get(i,a));return this},e.signPropagatingRightShift=function(r,i){return new t(r).signPropagatingRightShift(i)},e.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},e.prototype.rightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r);return this},e.prototype.rightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r.get(i,a));return this},e.rightShift=function(r,i){return new t(r).rightShift(i)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,~this.get(r,i));return this},e.not=function(r){return new t(r).not()},e.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.abs(this.get(r,i)));return this},e.abs=function(r){return new t(r).abs()},e.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acos(this.get(r,i)));return this},e.acos=function(r){return new t(r).acos()},e.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acosh(this.get(r,i)));return this},e.acosh=function(r){return new t(r).acosh()},e.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asin(this.get(r,i)));return this},e.asin=function(r){return new t(r).asin()},e.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asinh(this.get(r,i)));return this},e.asinh=function(r){return new t(r).asinh()},e.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atan(this.get(r,i)));return this},e.atan=function(r){return new t(r).atan()},e.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atanh(this.get(r,i)));return this},e.atanh=function(r){return new t(r).atanh()},e.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cbrt(this.get(r,i)));return this},e.cbrt=function(r){return new t(r).cbrt()},e.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.ceil(this.get(r,i)));return this},e.ceil=function(r){return new t(r).ceil()},e.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.clz32(this.get(r,i)));return this},e.clz32=function(r){return new t(r).clz32()},e.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cos(this.get(r,i)));return this},e.cos=function(r){return new t(r).cos()},e.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cosh(this.get(r,i)));return this},e.cosh=function(r){return new t(r).cosh()},e.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.exp(this.get(r,i)));return this},e.exp=function(r){return new t(r).exp()},e.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.expm1(this.get(r,i)));return this},e.expm1=function(r){return new t(r).expm1()},e.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.floor(this.get(r,i)));return this},e.floor=function(r){return new t(r).floor()},e.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.fround(this.get(r,i)));return this},e.fround=function(r){return new t(r).fround()},e.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log(this.get(r,i)));return this},e.log=function(r){return new t(r).log()},e.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log1p(this.get(r,i)));return this},e.log1p=function(r){return new t(r).log1p()},e.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log10(this.get(r,i)));return this},e.log10=function(r){return new t(r).log10()},e.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log2(this.get(r,i)));return this},e.log2=function(r){return new t(r).log2()},e.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.round(this.get(r,i)));return this},e.round=function(r){return new t(r).round()},e.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sign(this.get(r,i)));return this},e.sign=function(r){return new t(r).sign()},e.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sin(this.get(r,i)));return this},e.sin=function(r){return new t(r).sin()},e.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sinh(this.get(r,i)));return this},e.sinh=function(r){return new t(r).sinh()},e.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sqrt(this.get(r,i)));return this},e.sqrt=function(r){return new t(r).sqrt()},e.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tan(this.get(r,i)));return this},e.tan=function(r){return new t(r).tan()},e.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tanh(this.get(r,i)));return this},e.tanh=function(r){return new t(r).tanh()},e.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.trunc(this.get(r,i)));return this},e.trunc=function(r){return new t(r).trunc()},e.pow=function(r,i){return new t(r).pow(i)},e.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},e.prototype.powS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r));return this},e.prototype.powM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r.get(i,a)));return this}}function Ln(e,t,n){let r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function Fn(e,t,n){let r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function bo(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function yo(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function E_(e,t){if(!mn(t))throw new TypeError("row indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function __(e,t){if(!mn(t))throw new TypeError("column indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function op(e,t,n,r,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(pf("startRow",t),pf("endRow",n),pf("startColumn",r),pf("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function ah(e,t=0){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function pf(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}function po(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function z_(e){let t=ah(e.rows);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}function D_(e){let t=ah(e.columns);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}function I_(e){let t=0;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t+=e.get(n,r);return t}function N_(e){let t=ah(e.rows,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}function q_(e){let t=ah(e.columns,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}function B_(e){let t=1;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t*=e.get(n,r);return t}function R_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<r;s++){let o=0,l=0,u=0;for(let f=0;f<i;f++)u=e.get(s,f)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/i)/(i-1)):a.push((l-o*o/i)/i)}return a}function L_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<i;s++){let o=0,l=0,u=0;for(let f=0;f<r;f++)u=e.get(f,s)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/r)/(r-1)):a.push((l-o*o/r)/r)}return a}function F_(e,t,n){const r=e.rows,i=e.columns,a=r*i;let s=0,o=0,l=0;for(let u=0;u<r;u++)for(let f=0;f<i;f++)l=e.get(u,f)-n,s+=l,o+=l*l;return t?(o-s*s/a)/(a-1):(o-s*s/a)/a}function P_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function O_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function H_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function V_(e){const t=[];for(let n=0;n<e.rows;n++){let r=0;for(let i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function U_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function j_(e){const t=[];for(let n=0;n<e.columns;n++){let r=0;for(let i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function W_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function Y_(e){const t=e.size-1;let n=0;for(let r=0;r<e.columns;r++)for(let i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function G_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}class Ue{static from1DArray(t,n,r){if(t*n!==r.length)throw new RangeError("data length does not match given dimensions");let a=new De(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,r[s*n+o]);return a}static rowVector(t){let n=new De(1,t.length);for(let r=0;r<t.length;r++)n.set(0,r,t[r]);return n}static columnVector(t){let n=new De(t.length,1);for(let r=0;r<t.length;r++)n.set(r,0,t[r]);return n}static zeros(t,n){return new De(t,n)}static ones(t,n){return new De(t,n).fill(1)}static rand(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=r;let a=new De(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,i());return a}static randInt(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:i=0,max:a=1e3,random:s=Math.random}=r;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let o=a-i,l=new De(t,n);for(let u=0;u<t;u++)for(let f=0;f<n;f++){let c=i+Math.round(s()*o);l.set(u,f,c)}return l}static eye(t,n,r){n===void 0&&(n=t),r===void 0&&(r=1);let i=Math.min(t,n),a=this.zeros(t,n);for(let s=0;s<i;s++)a.set(s,s,r);return a}static diag(t,n,r){let i=t.length;n===void 0&&(n=i),r===void 0&&(r=n);let a=Math.min(i,n,r),s=this.zeros(n,r);for(let o=0;o<a;o++)s.set(o,o,t[o]);return s}static min(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new De(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.min(t.get(s,o),n.get(s,o)));return a}static max(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new this(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.max(t.get(s,o),n.get(s,o)));return a}static checkMatrix(t){return Ue.isMatrix(t)?t:new De(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.call(this,n,r);return this}to1DArray(){let t=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.push(this.get(n,r));return t}to2DArray(){let t=[];for(let n=0;n<this.rows;n++){t.push([]);for(let r=0;r<this.columns;r++)t[n].push(this.get(n,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let n=0;n<=t;n++)if(this.get(t,n)!==this.get(n,t))return!1;return!0}return!1}isEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);for(let s=n+1;s<this.rows;s++)this.get(t,s)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),n=0,r=0;for(;n<t.rows&&r<t.columns;){let i=n;for(let a=n;a<t.rows;a++)t.get(a,r)>t.get(i,r)&&(i=a);if(t.get(i,r)===0)r++;else{t.swapRows(n,i);let a=t.get(n,r);for(let s=r;s<t.columns;s++)t.set(n,s,t.get(n,s)/a);for(let s=n+1;s<t.rows;s++){let o=t.get(s,r)/t.get(n,r);t.set(s,r,0);for(let l=r+1;l<t.columns;l++)t.set(s,l,t.get(s,l)-t.get(n,l)*o)}n++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),n=t.columns,r=t.rows,i=r-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,s=!1;for(;a<r&&s===!1;)t.get(i,a)===1?s=!0:a++;for(let o=0;o<i;o++){let l=t.get(o,a);for(let u=a;u<n;u++){let f=t.get(o,u)-l*t.get(i,u);t.set(o,u,f)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=t;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new De(this.rows*n,this.columns*r);for(let a=0;a<n;a++)for(let s=0;s<r;s++)i.setSubMatrix(this,this.rows*a,this.columns*s);return i}fill(t){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,t);return this}neg(){return this.mulS(-1)}getRow(t){Ln(this,t);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(t,r));return n}getRowVector(t){return De.rowVector(this.getRow(t))}setRow(t,n){Ln(this,t),n=bo(this,n);for(let r=0;r<this.columns;r++)this.set(t,r,n[r]);return this}swapRows(t,n){Ln(this,t),Ln(this,n);for(let r=0;r<this.columns;r++){let i=this.get(t,r);this.set(t,r,this.get(n,r)),this.set(n,r,i)}return this}getColumn(t){Fn(this,t);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,t));return n}getColumnVector(t){return De.columnVector(this.getColumn(t))}setColumn(t,n){Fn(this,t),n=yo(this,n);for(let r=0;r<this.rows;r++)this.set(r,t,n[r]);return this}swapColumns(t,n){Fn(this,t),Fn(this,n);for(let r=0;r<this.rows;r++){let i=this.get(r,t);this.set(r,t,this.get(r,n)),this.set(r,n,i)}return this}addRowVector(t){t=bo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[r]);return this}subRowVector(t){t=bo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[r]);return this}mulRowVector(t){t=bo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[r]);return this}divRowVector(t){t=bo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[r]);return this}addColumnVector(t){t=yo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[n]);return this}subColumnVector(t){t=yo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[n]);return this}mulColumnVector(t){t=yo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[n]);return this}divColumnVector(t){t=yo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[n]);return this}mulRow(t,n){Ln(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*n);return this}mulColumn(t,n){Fn(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*n);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){po(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}minIndex(){po(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}maxRow(t){if(Ln(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>n&&(n=this.get(t,r));return n}maxRowIndex(t){Ln(this,t),po(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>n&&(n=this.get(t,i),r[1]=i);return r}minRow(t){if(Ln(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<n&&(n=this.get(t,r));return n}minRowIndex(t){Ln(this,t),po(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<n&&(n=this.get(t,i),r[1]=i);return r}maxColumn(t){if(Fn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>n&&(n=this.get(r,t));return n}maxColumnIndex(t){Fn(this,t),po(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>n&&(n=this.get(i,t),r[0]=i);return r}minColumn(t){if(Fn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<n&&(n=this.get(r,t));return n}minColumnIndex(t){Fn(this,t),po(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<n&&(n=this.get(i,t),r[0]=i);return r}diag(){let t=Math.min(this.rows,this.columns),n=[];for(let r=0;r<t;r++)n.push(this.get(r,r));return n}norm(t="frobenius"){let n=0;if(t==="max")return this.max();if(t==="frobenius"){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)n=n+this.get(r,i)*this.get(r,i);return Math.sqrt(n)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t+=this.get(n,r),this.set(n,r,t);return this}dot(t){Ue.isMatrix(t)&&(t=t.to1DArray());let n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let i=0;i<n.length;i++)r+=n[i]*t[i];return r}mmul(t){t=De.checkMatrix(t);let n=this.rows,r=this.columns,i=t.columns,a=new De(n,i),s=new Float64Array(r);for(let o=0;o<i;o++){for(let l=0;l<r;l++)s[l]=t.get(l,o);for(let l=0;l<n;l++){let u=0;for(let f=0;f<r;f++)u+=this.get(l,f)*s[f];a.set(l,o,u)}}return a}strassen2x2(t){t=De.checkMatrix(t);let n=new De(2,2);const r=this.get(0,0),i=t.get(0,0),a=this.get(0,1),s=t.get(0,1),o=this.get(1,0),l=t.get(1,0),u=this.get(1,1),f=t.get(1,1),c=(r+u)*(i+f),h=(o+u)*i,d=r*(s-f),p=u*(l-i),b=(r+a)*f,y=(o-r)*(i+s),w=(a-u)*(l+f),k=c+p-b+w,E=d+b,$=h+p,A=c-h+d+y;return n.set(0,0,k),n.set(0,1,E),n.set(1,0,$),n.set(1,1,A),n}strassen3x3(t){t=De.checkMatrix(t);let n=new De(3,3);const r=this.get(0,0),i=this.get(0,1),a=this.get(0,2),s=this.get(1,0),o=this.get(1,1),l=this.get(1,2),u=this.get(2,0),f=this.get(2,1),c=this.get(2,2),h=t.get(0,0),d=t.get(0,1),p=t.get(0,2),b=t.get(1,0),y=t.get(1,1),w=t.get(1,2),k=t.get(2,0),E=t.get(2,1),$=t.get(2,2),A=(r+i+a-s-o-f-c)*y,z=(r-s)*(-d+y),_=o*(-h+d+b-y-w-k+$),j=(-r+s+o)*(h-d+y),H=(s+o)*(-h+d),S=r*h,C=(-r+u+f)*(h-p+w),L=(-r+u)*(p-w),R=(u+f)*(-h+p),X=(r+i+a-o-l-u-f)*w,I=f*(-h+p+b-y-w-k+E),W=(-a+f+c)*(y+k-E),ae=(a-c)*(y-E),re=a*k,le=(f+c)*(-k+E),ee=(-a+o+l)*(w+k-$),se=(a-l)*(w-$),oe=(o+l)*(-k+$),ne=i*b,Se=l*E,Ce=s*p,_e=u*d,fe=c*$,he=S+re+ne,te=A+j+H+S+W+re+le,xe=S+C+R+X+re+ee+oe,Te=z+_+j+S+re+ee+se,Y=z+j+H+S+Se,ke=re+ee+se+oe+Ce,Ee=S+C+L+I+W+ae+re,Be=W+ae+re+le+_e,Re=S+C+L+R+fe;return n.set(0,0,he),n.set(0,1,te),n.set(0,2,xe),n.set(1,0,Te),n.set(1,1,Y),n.set(1,2,ke),n.set(2,0,Ee),n.set(2,1,Be),n.set(2,2,Re),n}mmulStrassen(t){t=De.checkMatrix(t);let n=this.clone(),r=n.rows,i=n.columns,a=t.rows,s=t.columns;i!==a&&console.warn(`Multiplying ${r} x ${i} and ${a} x ${s} matrix: dimensions do not match.`);function o(c,h,d){let p=c.rows,b=c.columns;if(p===h&&b===d)return c;{let y=Ue.zeros(h,d);return y=y.setSubMatrix(c,0,0),y}}let l=Math.max(r,a),u=Math.max(i,s);n=o(n,l,u),t=o(t,l,u);function f(c,h,d,p){if(d<=512||p<=512)return c.mmul(h);d%2===1&&p%2===1?(c=o(c,d+1,p+1),h=o(h,d+1,p+1)):d%2===1?(c=o(c,d+1,p),h=o(h,d+1,p)):p%2===1&&(c=o(c,d,p+1),h=o(h,d,p+1));let b=parseInt(c.rows/2,10),y=parseInt(c.columns/2,10),w=c.subMatrix(0,b-1,0,y-1),k=h.subMatrix(0,b-1,0,y-1),E=c.subMatrix(0,b-1,y,c.columns-1),$=h.subMatrix(0,b-1,y,h.columns-1),A=c.subMatrix(b,c.rows-1,0,y-1),z=h.subMatrix(b,h.rows-1,0,y-1),_=c.subMatrix(b,c.rows-1,y,c.columns-1),j=h.subMatrix(b,h.rows-1,y,h.columns-1),H=f(Ue.add(w,_),Ue.add(k,j),b,y),S=f(Ue.add(A,_),k,b,y),C=f(w,Ue.sub($,j),b,y),L=f(_,Ue.sub(z,k),b,y),R=f(Ue.add(w,E),j,b,y),X=f(Ue.sub(A,w),Ue.add(k,$),b,y),I=f(Ue.sub(E,_),Ue.add(z,j),b,y),W=Ue.add(H,L);W.sub(R),W.add(I);let ae=Ue.add(C,R),re=Ue.add(S,L),le=Ue.sub(H,S);le.add(C),le.add(X);let ee=Ue.zeros(2*W.rows,2*W.columns);return ee=ee.setSubMatrix(W,0,0),ee=ee.setSubMatrix(ae,W.rows,0),ee=ee.setSubMatrix(re,0,W.columns),ee=ee.setSubMatrix(le,W.rows,W.columns),ee.subMatrix(0,d-1,0,p-1)}return f(n,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new De(this.rows,this.columns);for(let a=0;a<this.rows;a++){const s=this.getRow(a);s.length>0&&ap(s,{min:n,max:r,output:s}),i.setRow(a,s)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new De(this.rows,this.columns);for(let a=0;a<this.columns;a++){const s=this.getColumn(a);s.length&&ap(s,{min:n,max:r,output:s}),i.setColumn(a,s)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<t;r++){let i=this.get(n,r),a=this.get(n,this.columns-1-r);this.set(n,r,a),this.set(n,this.columns-1-r,i)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<t;r++){let i=this.get(r,n),a=this.get(this.rows-1-r,n);this.set(r,n,a),this.set(this.rows-1-r,n,i)}return this}kroneckerProduct(t){t=De.checkMatrix(t);let n=this.rows,r=this.columns,i=t.rows,a=t.columns,s=new De(n*i,r*a);for(let o=0;o<n;o++)for(let l=0;l<r;l++)for(let u=0;u<i;u++)for(let f=0;f<a;f++)s.set(i*o+u,a*l+f,this.get(o,l)*t.get(u,f));return s}kroneckerSum(t){if(t=De.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=t.rows,i=this.kroneckerProduct(De.eye(r,r)),a=De.eye(n,n).kroneckerProduct(t);return i.add(a)}transpose(){let t=new De(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(r,n,this.get(n,r));return t}sortRows(t=lp){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(t));return this}sortColumns(t=lp){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(t));return this}subMatrix(t,n,r,i){op(this,t,n,r,i);let a=new De(n-t+1,i-r+1);for(let s=t;s<=n;s++)for(let o=r;o<=i;o++)a.set(s-t,o-r,this.get(s,o));return a}subMatrixRow(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let i=new De(t.length,r-n+1);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,s-n,this.get(t[a],s))}return i}subMatrixColumn(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let i=new De(r-n+1,t.length);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(s-n,a,this.get(s,t[a]))}return i}setSubMatrix(t,n,r){if(t=De.checkMatrix(t),t.isEmpty())return this;let i=n+t.rows-1,a=r+t.columns-1;op(this,n,i,r,a);for(let s=0;s<t.rows;s++)for(let o=0;o<t.columns;o++)this.set(n+s,r+o,t.get(s,o));return this}selection(t,n){E_(this,t),__(this,n);let r=new De(t.length,n.length);for(let i=0;i<t.length;i++){let a=t[i];for(let s=0;s<n.length;s++){let o=n[s];r.set(i,s,this.get(a,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),n=0;for(let r=0;r<t;r++)n+=this.get(r,r);return n}clone(){let t=new De(this.rows,this.columns);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(n,r,this.get(n,r));return t}sum(t){switch(t){case"row":return z_(this);case"column":return D_(this);case void 0:return I_(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return N_(this);case"column":return q_(this);case void 0:return B_(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const n=this.sum(t);switch(t){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(t)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!mn(i))throw new TypeError("mean must be an array");return R_(this,r,i)}case"column":{if(!mn(i))throw new TypeError("mean must be an array");return L_(this,r,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return F_(this,r,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,n){typeof t=="object"&&(n=t,t=void 0);const r=this.variance(t,n);if(t===void 0)return Math.sqrt(r);for(let i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}center(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(t)}=n;switch(t){case"row":{if(!mn(r))throw new TypeError("center must be an array");return P_(this,r),this}case"column":{if(!mn(r))throw new TypeError("center must be an array");return O_(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return H_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(t){case"row":{if(r===void 0)r=V_(this);else if(!mn(r))throw new TypeError("scale must be an array");return U_(this,r),this}case"column":{if(r===void 0)r=j_(this);else if(!mn(r))throw new TypeError("scale must be an array");return W_(this,r),this}case void 0:{if(r===void 0)r=Y_(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return G_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return Fb(this,t)}}Ue.prototype.klass="Matrix";typeof Symbol<"u"&&(Ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=$_);function lp(e,t){return e-t}function X_(e){return e.every(t=>typeof t=="number")}Ue.random=Ue.rand;Ue.randomInt=Ue.randInt;Ue.diagonal=Ue.diag;Ue.prototype.diagonal=Ue.prototype.diag;Ue.identity=Ue.eye;Ue.prototype.negate=Ue.prototype.neg;Ue.prototype.tensorProduct=Ue.prototype.kroneckerProduct;class De extends Ue{constructor(t,n){if(super(),De.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0)if(this.data=[],Number.isInteger(n)&&n>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(mn(t)){const r=t;if(t=r.length,n=t?r[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(r[i].length!==n)throw new RangeError("Inconsistent array dimensions");if(!X_(r[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=n}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}removeRow(t){return Ln(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,n){return n===void 0&&(n=t,t=this.rows),Ln(this,t,!0),n=Float64Array.from(bo(this,n)),this.data.splice(t,0,n),this.rows+=1,this}removeColumn(t){Fn(this,t);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns-1);for(let i=0;i<t;i++)r[i]=this.data[n][i];for(let i=t+1;i<this.columns;i++)r[i-1]=this.data[n][i];this.data[n]=r}return this.columns-=1,this}addColumn(t,n){typeof n>"u"&&(n=t,t=this.columns),Fn(this,t,!0),n=yo(this,n);for(let r=0;r<this.rows;r++){const i=new Float64Array(this.columns+1);let a=0;for(;a<t;a++)i[a]=this.data[r][a];for(i[a++]=n[r];a<this.columns+1;a++)i[a]=this.data[r][a-1];this.data[r]=i}return this.columns+=1,this}}A_(Ue,De);class Z_ extends Ue{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}}function go(e,t){let n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):t!==0?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}class Q_{constructor(t,n={}){if(t=Z_.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,i=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:s=!0,autoTranspose:o=!1}=n;let l=!!a,u=!!s,f=!1,c;if(r<i)if(!o)c=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{c=t.transpose(),r=c.rows,i=c.columns,f=!0;let S=l;l=u,u=S}else c=t.clone();let h=Math.min(r,i),d=Math.min(r+1,i),p=new Float64Array(d),b=new De(r,h),y=new De(i,i),w=new Float64Array(i),k=new Float64Array(r),E=new Float64Array(d);for(let S=0;S<d;S++)E[S]=S;let $=Math.min(r-1,i),A=Math.max(0,Math.min(i-2,r)),z=Math.max($,A);for(let S=0;S<z;S++){if(S<$){p[S]=0;for(let C=S;C<r;C++)p[S]=go(p[S],c.get(C,S));if(p[S]!==0){c.get(S,S)<0&&(p[S]=-p[S]);for(let C=S;C<r;C++)c.set(C,S,c.get(C,S)/p[S]);c.set(S,S,c.get(S,S)+1)}p[S]=-p[S]}for(let C=S+1;C<i;C++){if(S<$&&p[S]!==0){let L=0;for(let R=S;R<r;R++)L+=c.get(R,S)*c.get(R,C);L=-L/c.get(S,S);for(let R=S;R<r;R++)c.set(R,C,c.get(R,C)+L*c.get(R,S))}w[C]=c.get(S,C)}if(l&&S<$)for(let C=S;C<r;C++)b.set(C,S,c.get(C,S));if(S<A){w[S]=0;for(let C=S+1;C<i;C++)w[S]=go(w[S],w[C]);if(w[S]!==0){w[S+1]<0&&(w[S]=0-w[S]);for(let C=S+1;C<i;C++)w[C]/=w[S];w[S+1]+=1}if(w[S]=-w[S],S+1<r&&w[S]!==0){for(let C=S+1;C<r;C++)k[C]=0;for(let C=S+1;C<r;C++)for(let L=S+1;L<i;L++)k[C]+=w[L]*c.get(C,L);for(let C=S+1;C<i;C++){let L=-w[C]/w[S+1];for(let R=S+1;R<r;R++)c.set(R,C,c.get(R,C)+L*k[R])}}if(u)for(let C=S+1;C<i;C++)y.set(C,S,w[C])}}let _=Math.min(i,r+1);if($<i&&(p[$]=c.get($,$)),r<_&&(p[_-1]=0),A+1<_&&(w[A]=c.get(A,_-1)),w[_-1]=0,l){for(let S=$;S<h;S++){for(let C=0;C<r;C++)b.set(C,S,0);b.set(S,S,1)}for(let S=$-1;S>=0;S--)if(p[S]!==0){for(let C=S+1;C<h;C++){let L=0;for(let R=S;R<r;R++)L+=b.get(R,S)*b.get(R,C);L=-L/b.get(S,S);for(let R=S;R<r;R++)b.set(R,C,b.get(R,C)+L*b.get(R,S))}for(let C=S;C<r;C++)b.set(C,S,-b.get(C,S));b.set(S,S,1+b.get(S,S));for(let C=0;C<S-1;C++)b.set(C,S,0)}else{for(let C=0;C<r;C++)b.set(C,S,0);b.set(S,S,1)}}if(u)for(let S=i-1;S>=0;S--){if(S<A&&w[S]!==0)for(let C=S+1;C<i;C++){let L=0;for(let R=S+1;R<i;R++)L+=y.get(R,S)*y.get(R,C);L=-L/y.get(S+1,S);for(let R=S+1;R<i;R++)y.set(R,C,y.get(R,C)+L*y.get(R,S))}for(let C=0;C<i;C++)y.set(C,S,0);y.set(S,S,1)}let j=_-1,H=Number.EPSILON;for(;_>0;){let S,C;for(S=_-2;S>=-1&&S!==-1;S--){const L=Number.MIN_VALUE+H*Math.abs(p[S]+Math.abs(p[S+1]));if(Math.abs(w[S])<=L||Number.isNaN(w[S])){w[S]=0;break}}if(S===_-2)C=4;else{let L;for(L=_-1;L>=S&&L!==S;L--){let R=(L!==_?Math.abs(w[L]):0)+(L!==S+1?Math.abs(w[L-1]):0);if(Math.abs(p[L])<=H*R){p[L]=0;break}}L===S?C=3:L===_-1?C=1:(C=2,S=L)}switch(S++,C){case 1:{let L=w[_-2];w[_-2]=0;for(let R=_-2;R>=S;R--){let X=go(p[R],L),I=p[R]/X,W=L/X;if(p[R]=X,R!==S&&(L=-W*w[R-1],w[R-1]=I*w[R-1]),u)for(let ae=0;ae<i;ae++)X=I*y.get(ae,R)+W*y.get(ae,_-1),y.set(ae,_-1,-W*y.get(ae,R)+I*y.get(ae,_-1)),y.set(ae,R,X)}break}case 2:{let L=w[S-1];w[S-1]=0;for(let R=S;R<_;R++){let X=go(p[R],L),I=p[R]/X,W=L/X;if(p[R]=X,L=-W*w[R],w[R]=I*w[R],l)for(let ae=0;ae<r;ae++)X=I*b.get(ae,R)+W*b.get(ae,S-1),b.set(ae,S-1,-W*b.get(ae,R)+I*b.get(ae,S-1)),b.set(ae,R,X)}break}case 3:{const L=Math.max(Math.abs(p[_-1]),Math.abs(p[_-2]),Math.abs(w[_-2]),Math.abs(p[S]),Math.abs(w[S])),R=p[_-1]/L,X=p[_-2]/L,I=w[_-2]/L,W=p[S]/L,ae=w[S]/L,re=((X+R)*(X-R)+I*I)/2,le=R*I*(R*I);let ee=0;(re!==0||le!==0)&&(re<0?ee=0-Math.sqrt(re*re+le):ee=Math.sqrt(re*re+le),ee=le/(re+ee));let se=(W+R)*(W-R)+ee,oe=W*ae;for(let ne=S;ne<_-1;ne++){let Se=go(se,oe);Se===0&&(Se=Number.MIN_VALUE);let Ce=se/Se,_e=oe/Se;if(ne!==S&&(w[ne-1]=Se),se=Ce*p[ne]+_e*w[ne],w[ne]=Ce*w[ne]-_e*p[ne],oe=_e*p[ne+1],p[ne+1]=Ce*p[ne+1],u)for(let fe=0;fe<i;fe++)Se=Ce*y.get(fe,ne)+_e*y.get(fe,ne+1),y.set(fe,ne+1,-_e*y.get(fe,ne)+Ce*y.get(fe,ne+1)),y.set(fe,ne,Se);if(Se=go(se,oe),Se===0&&(Se=Number.MIN_VALUE),Ce=se/Se,_e=oe/Se,p[ne]=Se,se=Ce*w[ne]+_e*p[ne+1],p[ne+1]=-_e*w[ne]+Ce*p[ne+1],oe=_e*w[ne+1],w[ne+1]=Ce*w[ne+1],l&&ne<r-1)for(let fe=0;fe<r;fe++)Se=Ce*b.get(fe,ne)+_e*b.get(fe,ne+1),b.set(fe,ne+1,-_e*b.get(fe,ne)+Ce*b.get(fe,ne+1)),b.set(fe,ne,Se)}w[_-2]=se;break}case 4:{if(p[S]<=0&&(p[S]=p[S]<0?-p[S]:0,u))for(let L=0;L<=j;L++)y.set(L,S,-y.get(L,S));for(;S<j&&!(p[S]>=p[S+1]);){let L=p[S];if(p[S]=p[S+1],p[S+1]=L,u&&S<i-1)for(let R=0;R<i;R++)L=y.get(R,S+1),y.set(R,S+1,y.get(R,S)),y.set(R,S,L);if(l&&S<r-1)for(let R=0;R<r;R++)L=b.get(R,S+1),b.set(R,S+1,b.get(R,S)),b.set(R,S,L);S++}_--;break}}}if(f){let S=y;y=b,b=S}this.m=r,this.n=i,this.s=p,this.U=b,this.V=y}solve(t){let n=t,r=this.threshold,i=this.s.length,a=De.zeros(i,i);for(let h=0;h<i;h++)Math.abs(this.s[h])<=r?a.set(h,h,0):a.set(h,h,1/this.s[h]);let s=this.U,o=this.rightSingularVectors,l=o.mmul(a),u=o.rows,f=s.rows,c=De.zeros(u,f);for(let h=0;h<u;h++)for(let d=0;d<f;d++){let p=0;for(let b=0;b<i;b++)p+=l.get(h,b)*s.get(d,b);c.set(h,d,p)}return c.mmul(n)}solveForDiagonal(t){return this.solve(De.diag(t))}inverse(){let t=this.V,n=this.threshold,r=t.rows,i=t.columns,a=new De(r,this.s.length);for(let f=0;f<r;f++)for(let c=0;c<i;c++)Math.abs(this.s[c])>n&&a.set(f,c,t.get(f,c)/this.s[c]);let s=this.U,o=s.rows,l=s.columns,u=new De(r,o);for(let f=0;f<r;f++)for(let c=0;c<o;c++){let h=0;for(let d=0;d<l;d++)h+=a.get(f,d)*s.get(c,d);u.set(f,c,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s;for(let i=0,a=r.length;i<a;i++)r[i]>t&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return De.diag(this.s)}}function K_(e,t=Number.EPSILON){if(e=De.checkMatrix(e),e.isEmpty())return e.transpose();let n=new Q_(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,a=n.diagonal;for(let s=0;s<a.length;s++)Math.abs(a[s])>t?a[s]=1/a[s]:a[s]=0;return i.mmul(De.diag(a).mmul(r.transpose()))}const up=8,J_=1/16777216,ez=15,tz=18,nz=11;function rz(e,t){e>>>=0,t>>>=0;const n=e&65535;return((e-n)*t>>>0)+n*t>>>0}class iz{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*J_}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let n=1;n<up;n++)this.state[n&3]^=n+rz(1812433253,this.state[n-1&3]^this.state[n-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let n=0;n<up;n++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<ez,t^=t>>>tz,t^=this.state[3]<<nz,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}const az=1e-8;function fp(e,t={},n=Math.random){const{size:r=1,replace:i=!1,probabilities:a}=t;let s,o;if(typeof e=="number"?s=sz(e):s=e.slice(),a){if(!i)throw new Error("choice with probabilities and no replacement is not implemented");if(a.length!==s.length)throw new Error("the length of probabilities option should be equal to the number of choices");o=[a[0]];for(let u=1;u<a.length;u++)o[u]=o[u-1]+a[u];if(Math.abs(1-o[o.length-1])>az)throw new Error(`probabilities should sum to 1, but instead sums to ${o[o.length-1]}`)}if(i===!1&&r>s.length)throw new Error("size option is too large");const l=[];for(let u=0;u<r;u++){const f=oz(s.length,n,o);l.push(s[f]),i||s.splice(f,1)}return l}function sz(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function oz(e,t,n){const r=t();if(n){let i=0;for(;r>n[i];)i++;return i}else return Math.floor(r*e)}class M3{constructor(t=Math.random){if(typeof t=="number"){const n=new iz(t);this.randomGenerator=n.random}else this.randomGenerator=t}choice(t,n){return typeof t=="number"?fp(t,n,this.randomGenerator):fp(t,n,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,n){return n===void 0&&(n=t,t=0),t+Math.floor(this.randomGenerator()*(n-t))}randomSample(t){const n=[];for(let r=0;r<t;r++)n.push(this.random());return n}}function lz(e,t,n){return new M3(n).choice(e,{size:t})}function uz(e,t,n,r){const i=new M3(r);let a=new Array(t);if(a[0]=Math.floor(i.random()*e.length),t>1){let s={dist:-1,index:-1};for(let o=0;o<e.length;++o)n[a[0]][o]>s.dist&&(s.dist=n[a[0]][o],s.index=o);if(a[1]=s.index,t>2)for(let o=2;o<t;++o){let l={dist:-1,index:-1};for(let u=0;u<e.length;++u){let f={dist:Number.MAX_VALUE,index:-1};for(let c=0;c<o;++c)n[c][u]<f.dist&&!a.includes(u)&&(f={dist:n[c][u],index:u});f.dist!==Number.MAX_VALUE&&f.dist>l.dist&&(l={...f})}a[o]=l.index}}return a.map(s=>e[s])}function fz(e,t,n={}){const r=new De(e),i=r.rows,a=new M3(n.seed),s=[],o=n.localTrials||2+Math.floor(Math.log(t)),l=a.randInt(i);s.push(r.getRow(l));let u=new De(1,r.rows);for(let d=0;d<r.rows;d++)u.set(0,d,ih(r.getRow(d),s[0]));let f=[cp(u.getRow(0))];const c=1/f[0][i-1];let h=De.mul(u,c);for(let d=1;d<t;d++){const p=a.choice(i,{replace:!0,size:o,probabilities:h.getRow(0)}),b=r.selection(p,hz(r.columns)),y=cz(b,r);let w=1/0,k=1/0,E=u;for(let $=0;$<o;$++){const A=De.min(u,[y.getRow($)]),z=A.sum();z<k&&(w=p[$],k=z,E=A)}s[d]=r.getRow(w),u=E,f=[cp(u.getRow(0))],h=De.mul(u,1/f[0][i-1])}return s}function cz(e,t){const n=new De(e.rows,t.rows);for(let r=0;r<e.rows;r++)for(let i=0;i<t.rows;i++)n.set(r,i,ih(e.getRow(r),t.getRow(i)));return n}function hz(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}function cp(e){let t=[e[0]];for(let n=1;n<e.length;n++)t[n]=t[n-1]+e[n];return t}const dz={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:ih};function mz(e,t,n,r,i,a){n=Rb(t,e,n,i.distanceFunction);let s=v_(e,t,n,r),o=b_(s,e,i.distanceFunction,i.tolerance);return new y_(n,s,o,a,i.distanceFunction)}function pz(e,t,n){const r=vz(n);x_(e,t);let i=gz(e,t,r);r.maxIterations===0&&(r.maxIterations=Number.MAX_VALUE);let a=new Array(e.length),s=!1,o=0,l;for(;!s&&o<r.maxIterations;)l=mz(i,e,a,t,r,++o),s=l.converged,i=l.centroids;if(!l)throw new Error("unreachable: no kmeans step executed");return l}function gz(e,t,n){let r;if(Array.isArray(n.initialization)){if(n.initialization.length!==t)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=fz(e,t,n);break;case"random":r=lz(e,t,n.seed);break;case"mostDistant":r=uz(e,t,g_(e,n.distanceFunction),n.seed);break;default:w_(n.initialization,"Unknown initialization method")}return r}function vz(e){return{...dz,...e}}function bz(e,t=8,n=300,r=1e-4){const i=e.shape[0]*e.shape[1],a=Ke.randu([t,1]),s=Ke.zeros(e.shape,"u8");function o(f,c,h){for(let d=0;d<i;d++){const p=f.data[d];let b=0,y=1/0;for(let w=0;w<t;w++){const E=(c.data[w]-p)**2;E<y&&(y=E,b=w)}h.data[d]=b}}function l(f,c,h){for(let d=0;d<t;d++){let p=0,b=0;for(let y=0;y<i;y++)h.data[y]===d&&(p+=f.data[y],b++);b>0&&(c.data[d]=p/b)}}let u=0;for(;u<n;)o(e,a,s),l(e,a,s),u++;return{centroids:a,assignments:s}}function yz(e){const t=new Array(e.data.length);for(let n=0;n<e.data.length;n++)t[n]=[e.data[n]];return t}function wz(e,t=5,n=!1){if(t<=0)return Ke.zeros(e.shape);if(t>8)throw Error();if(n){const{centroids:r,assignments:i}=bz(e,2**t);return i.codebook=r,i}else{const r=pz(yz(e),2**t),i=Ke.$(r.clusters,e.shape,"u8");return i.codebook=Ke.$(r.centroids,[r.centroids.length,1]),i}}function Ls(e){return e!=null&&!Number.isNaN(e)}function Gn(e,t){return+Ls(t)-+Ls(e)||on(e,t)}function gc(e,t){return+Ls(t)-+Ls(e)||Zl(e,t)}function Pb(e){return e!=null&&`${e}`!=""}function Ob(e){return isFinite(e)?e:NaN}function S3(e){return e>0&&isFinite(e)?e:NaN}function Hb(e){return e<0&&isFinite(e)?e:NaN}function xz(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${Mz(e.getUTCFullYear())}-${Or(e.getUTCMonth()+1,2)}-${Or(e.getUTCDate(),2)}${n||r||i||a?`T${Or(n,2)}:${Or(r,2)}${i||a?`:${Or(i,2)}${a?`.${Or(a,3)}`:""}`:""}Z`:""}`}function Mz(e){return e<0?`-${Or(-e,6)}`:e>9999?`+${Or(e,6)}`:Or(e,4)}function Or(e,t){return`${e}`.padStart(t,"0")}const Sz=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Vb(e,t){return Sz.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const If=1e3,mm=If*60,pm=mm*60,Pl=pm*24,kz=Pl*7,hp=Pl*30,$z=Pl*365,il=[["millisecond",.5*If],["second",If],["second",30*If],["minute",mm],["minute",30*mm],["hour",pm],["hour",12*pm],["day",Pl],["day",2*Pl],["week",kz],["month",hp],["month",3*hp],["year",$z]],Tz=new Map([["second",jr],["minute",Wc],["hour",Gc],["day",Uo],["week",Bo],["month",Qc],["year",Wn],["monday",Rl],["tuesday",Qg],["wednesday",Kg],["thursday",Bs],["friday",Jg],["saturday",ev],["sunday",Bo]]),Cz=new Map([["second",jr],["minute",Yc],["hour",Xc],["day",b3],["week",Ro],["month",Kc],["year",Yn],["monday",Ll],["tuesday",tv],["wednesday",nv],["thursday",Rs],["friday",rv],["saturday",iv],["sunday",Ro]]);function Ub(e,t){let n=`${e}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let a=t.get(n);if(!a)throw new Error(`unknown interval: ${e}`);if(!(r>1))return a;if(!a.every)throw new Error(`non-periodic interval: ${n}`);return a.every(r)}function Az(e){return Ub(e,Tz)}function jb(e){return Ub(e,Cz)}function Ez(e){if(!e)return!1;const t=e.floor(new Date(Date.UTC(2e3,11,31)));return Yn(t)>=t}function _z(e){if(!e)return!1;const t=e.floor(new Date(2e3,11,31));return Wn(t)>=t}function zz(e,t,n,r){const i=e.type==="time"?Jc:Fl,a=r==="left"||r==="right"?(s,o)=>`
${s}
${o}`:r==="top"?(s,o)=>`${o}
${s}`:(s,o)=>`${s}
${o}`;switch(Dz(e,t,n)){case"millisecond":return Ss(i(".%L"),i(":%M:%S"),a);case"second":return Ss(i(":%S"),i("%-I:%M"),a);case"minute":return Ss(i("%-I:%M"),i("%p"),a);case"hour":return Ss(i("%-I %p"),i("%b %-d"),a);case"day":return Ss(i("%-d"),i("%b"),a);case"week":return Ss(i("%-d"),i("%b"),a);case"month":return Ss(i("%b"),i("%Y"),a);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function Dz(e,t,n){const r=Vf(IS(t,(l,u)=>Math.abs(u-l)||NaN));if(r>0)return il[El(([,l])=>l).right(il,r,1,il.length)-1][0];const[i,a]=Vn(e.domain()),s=typeof n=="number"?n:10,o=Math.abs(a-i)/s;return il[El(([,l])=>Math.log(l)).center(il,Math.log(o))][0]}function Ss(e,t,n){return(r,i,a)=>{const s=e(r,i),o=t(r,i),l=i-Lo(a);return i!==l&&a[l]!==void 0&&o===t(a[l],l)?s:n(s,o)}}const Ol=Object.getPrototypeOf(Uint8Array),Iz=Object.prototype.toString;function At(e,t,n){const r=typeof t;return r==="string"?dp(e,Wb(t),n):r==="function"?dp(e,t,n):r==="number"||t instanceof Date||r==="boolean"?St(e,iu(t),n):typeof(t==null?void 0:t.transform)=="function"?mp(t.transform(e),n):mp(t,n)}function dp(e,t,n){return St(e,(n==null?void 0:n.prototype)instanceof Ol?Nz(t):t,n)}function mp(e,t){return t===void 0?yn(e):e instanceof t?e:t.prototype instanceof Ol&&!(e instanceof Ol)?t.from(e,T3):t.from(e)}function Nz(e){return(t,n)=>T3(e(t,n))}const Nf=[null],Wb=e=>t=>t[e],k3={transform:s0},Pt={transform:e=>e},qz=()=>1,Bz=()=>!0,Vt=e=>e==null?e:`${e}`,rt=e=>e==null?e:+e,$3=e=>e?e[0]:void 0,gm=e=>e?e[1]:void 0,iu=e=>()=>e;function Rz(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Ao(n,t,r)}function vc(e){return e instanceof Ol?e:St(e,T3,Float64Array)}function T3(e){return e==null?NaN:Number(e)}function Lz(e){return St(e,Yb)}function Yb(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Vb(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function r0(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:sh(e)?[void 0,e]:[e,void 0]}function pn(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function C3(e,t,n){if(e!=null)return kr(e,t,n)}function kr(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function yn(e){return e==null||e instanceof Array||e instanceof Ol?e:Array.from(e)}function St(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function vm(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Gb({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function Xb({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function Zb(e){return Gb(e)||Xb(e)||e.interval!==void 0}function Hs(e){return(e==null?void 0:e.toString)===Iz}function bm(e){return Hs(e)&&(e.type!==void 0||e.domain!==void 0)}function A3(e){return Hs(e)&&typeof e.transform!="function"}function Hl(e){return A3(e)&&e.value===void 0&&e.channel===void 0}function Qb(e,t,n,r=Pt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function E3(e,t){return e===void 0&&t===void 0?[$3,gm]:[e,t]}function Fz({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=r0(t)),e===void 0&&([e]=r0(n)),e}function s0(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Kb(e,t){return St(t,n=>e[n])}function Pz(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function gf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Oz(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function bc(e){let t;return[{transform:()=>t,label:Vs(e)},n=>t=n]}function Lr(e){return e==null?[e]:bc(e)}function Vs(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function yc(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Xn(r)||Xn(i)?St(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):St(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function Jb(e,t){const n=ey(t==null?void 0:t.interval,t==null?void 0:t.type);return n?St(e,n):e}function ey(e,t){const n=_3(e,t);return n&&(r=>Ls(r)?n.floor(r):r)}function _3(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>D4(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>D4(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?Az:jb)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function jo(e,t){if(e=_3(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Hz(e,t){if(e=jo(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function au(e){return e===void 0||A3(e)?e:{value:e}}function Vz(e){return e==null?null:{transform:t=>At(t,e,Float64Array),label:Vs(e)}}function o0(e){return e&&typeof e[Symbol.iterator]=="function"}function ty(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function pp(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Xn(e){for(const t of e)if(t!=null)return t instanceof Date}function Uz(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Vb(t)}function jz(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Wz(e){for(const t of e)if(t!=null)return typeof t=="number"}function a4(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function sh(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||Jr(e)!==null)}function Yz(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function an(e){return e==null||Vl(e)}function Vl(e){return/^\s*none\s*$/i.test(e)}function Gz(e){return/^\s*round\s*$/i.test(e)}function ny(e,t){return C3(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function z3(e="middle"){return ny(e,"frameAnchor")}function Lo(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Zl(t,n)}function Xz(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function Zz(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function ry(e){return o0(e)?Zz(e):e}const hr=Symbol("position"),l0=Symbol("color"),oh=Symbol("radius"),lh=Symbol("length"),uh=Symbol("opacity"),fh=Symbol("symbol"),iy=Symbol("projection"),ht=new Map([["x",hr],["y",hr],["fx",hr],["fy",hr],["r",oh],["color",l0],["opacity",uh],["symbol",fh],["length",lh],["projection",iy]]);function Qz(e){return e===hr||e===iy}const Kz=Math.sqrt(3),Jz=2/Kz,eD={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Jz,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},ay=new Map([["asterisk",Sb],["circle",x3],["cross",kb],["diamond",Tb],["diamond2",Cb],["hexagon",eD],["plus",Ab],["square",Eb],["square2",_b],["star",Db],["times",Bb],["triangle",Ib],["triangle2",Nb],["wye",qb]]);function sy(e){return e&&typeof e.draw=="function"}function tD(e){return sy(e)?!0:typeof e!="string"?!1:ay.has(e.toLowerCase())}function D3(e){if(e==null||sy(e))return e;const t=ay.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function I3({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=oy(e)),t!=null&&!Hl(t)&&(r=s4(r,uy(t))),n&&(r=s4(r,ly))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||Hl(t))&&{sort:t},transform:s4(r,s)}}function wc({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=oy(e)),t!=null&&!Hl(t)&&(r=o4(r,uy(t))),n&&(r=o4(r,ly))),{...i,...(t===null||Hl(t))&&{sort:t},initializer:o4(r,a)}}function s4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,yn(n),r,i)}}function o4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,o,l,u,f,c;return{data:o=n,facets:l=r,channels:s}=e.call(this,n,r,i,...a),{data:f=o,facets:c=l,channels:u}=t.call(this,o,l,{...i,...s},...a),{data:f,facets:c,channels:{...s,...u}}}}function oy(e){return(t,n)=>{const r=At(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function ly(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function uy(e){return(typeof e=="function"&&e.length!==1?nD:rD)(e)}function nD(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function rD(e){let t,n;({channel:t,value:e,order:n}={...au(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?gc:Gn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Gn;break;case"descending":n=gc;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let o;if(t===void 0)o=At(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(o=s[t],!o)return{};o=o.value}const l=(u,f)=>n(o[u],o[f]);return{data:i,facets:a.map(u=>u.slice().sort(l))}}}function vf(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function iD(e,t,n=fy){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",cD]),t.href!=null&&e.href===void 0&&r.push(["href",dy]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?aD(i):n(i,a,t))}function fy(e,t,n,r=cy){let i;Hs(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const a=r(e,t,n),[s,o]=bc(a.label);let l;return{name:e,output:i===void 0?s:{value:s,scale:i},initialize(u){a.initialize(u),l=o([])},scope(u,f){a.scope(u,f)},reduce(u,f){l.push(a.reduce(u,f))}}}function aD(e){return{name:e,initialize(){},scope(){},reduce(){}}}function cy(e,t,n,r=N3){const i=Oz(e,n),a=r(t,i);let s,o;return{label:Vs(a===xc?null:i,a.label),initialize(l){s=i===void 0?l:At(l,i),a.scope==="data"&&(o=a.reduceIndex(s0(l),s))},scope(l,u){a.scope===l&&(o=a.reduceIndex(u,s))},reduce(l,u){return a.scope==null?a.reduceIndex(l,s,u):a.reduceIndex(l,s,o,u)}}}function gp(e,t){return t?_l(Xm(e,n=>t[n]),$3):[[,e]]}function N3(e,t,n=sD){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Hs(e))return uD(e);if(typeof e=="function")return fD(e);if(/^p\d{2}$/i.test(e))return Fr(Rz(e));switch(`${e}`.toLowerCase()){case"first":return dy;case"last":return hD;case"identity":return hy;case"count":return xc;case"distinct":return dD;case"sum":return t==null?xc:mD;case"proportion":return bp(t,"data");case"proportion-facet":return bp(t,"facet");case"deviation":return Fr(h9);case"min":return Fr(Kr);case"min-index":return Fr(CS);case"max":return Fr(vr);case"max-index":return Fr(TS);case"mean":return vp(_S);case"median":return vp(Vf);case"variance":return Fr(c9);case"mode":return Fr(DS)}return n(e)}function sD(e){throw new Error(`invalid reduce: ${e}`)}function oD(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function lD(e,t,n){if(t){const r=t.output.transform(),i=(a,s)=>Gn(r[a],r[s]);e.forEach(a=>a.sort(i))}n&&e.forEach(r=>r.reverse())}function uD(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function fD(e){return{reduceIndex(t,n,r){return e(Kb(n,t),r)}}}function Fr(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function vp(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Xn(n)?new Date(r):r}}}const hy={reduceIndex(e,t){return Kb(t,e)}},dy={reduceIndex(e,t){return t[e[0]]}},cD={reduceIndex(e,t){const r=_l(Mo(e,a=>a.length,a=>t[a]),gm),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[5-1]=[`… ${a.length.toLocaleString("en-US")} more`,P0(a,gm)]}return i.map(([a,s])=>`${a} (${s.toLocaleString("en-US")})`).join(`
`)}},hD={reduceIndex(e,t){return t[e[e.length-1]]}},xc={label:"Frequency",reduceIndex(e){return e.length}},dD={label:"Distinct",reduceIndex(e,t){const n=new Gm;for(const r of e)n.add(t[r]);return n.size}},mD=Fr(P0);function bp(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>P0(n,a=>r[a])/i}}function Ul(e,{scale:t,type:n,value:r,filter:i,hint:a},s){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),my(s,{scale:t,type:n,value:At(e,r),label:Vs(r),filter:i,hint:a})}function pD(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Ul(t,r,n)]))}function gD(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:St(a,s)]}));return n.channels=e,n}function my(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&a4(r,sh)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&a4(r,Yz)?null:"opacity";break;case"symbol":n!==!0&&a4(r,tD)?(t.scale=null,t.value=St(r,D3)):t.scale="symbol";break;default:t.scale=ht.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ht.has(n))throw new Error(`unknown scale: ${n}`);return t}function vD(e,t,n,r,i){const{order:a,reverse:s,reduce:o=!0,limit:l}=i;for(const u in i){if(!ht.has(u))continue;let{value:f,order:c=a,reverse:h=s,reduce:d=o,limit:p=l}=au(i[u]);const b=f==null?void 0:f.startsWith("-");if(b&&(f=f.slice(1)),c=c===void 0?b!==(f==="width"||f==="height")?gy:py:wD(c),d==null||d===!1)continue;const y=u==="fx"||u==="fy"?yD(t,r[u]):bD(n,u);if(!y)throw new Error(`missing channel for scale: ${u}`);const w=y.value,[k=0,E=1/0]=o0(p)?p:p<0?[p]:[0,p];if(f==null)y.domain=()=>{let $=Array.from(new Gm(w));return h&&($=$.reverse()),(k!==0||E!==1/0)&&($=$.slice(k,E)),$};else{const $=f==="data"?e:f==="height"?yp(n,"y1","y2"):f==="width"?yp(n,"x1","x2"):ym(n,f,f==="y"?"y2":f==="x"?"x2":void 0),A=N3(d===!0?"max":d,$);y.domain=()=>{let z=wS(s0(w),_=>A.reduceIndex(_,$),_=>w[_]);return c&&z.sort(c),h&&z.reverse(),(k!==0||E!==1/0)&&(z=z.slice(k,E)),z.map($3)}}}}function bD(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function yD(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const o of e[a])i[o]=s}return t}function yp(e,t,n){const r=ym(e,t),i=ym(e,n);return St(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function ym(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function wD(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return py;case"descending":return gy}throw new Error(`invalid order: ${e}`)}function py([e,t],[n,r]){return Gn(t,r)||Gn(e,n)}function gy([e,t],[n,r]){return gc(t,r)||Gn(e,n)}function xD(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function MD(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const SD=MD(e=>new Intl.NumberFormat(e));function kD(e="en-US"){const t=SD(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function $D(e){return xz(e,"Invalid Date")}function TD(e="en-US"){const t=kD(e);return n=>(n instanceof Date?$D:typeof n=="number"?t:Vt)(n)}const q0=TD();let wm=0;function CD(){const e=wm;return wm=0,e}function $o(e){console.warn(e),++wm}const gn=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let AD=0;function wp(){return`plot-clip-${++AD}`}function ED(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:o,fillOpacity:l,stroke:u,strokeWidth:f,strokeOpacity:c,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:b,strokeDashoffset:y,opacity:w,mixBlendMode:k,imageFilter:E,paintOrder:$,pointerEvents:A,shapeRendering:z,channels:_},{ariaLabel:j,fill:H="currentColor",fillOpacity:S,stroke:C="none",strokeOpacity:L,strokeWidth:R,strokeLinecap:X,strokeLinejoin:I,strokeMiterlimit:W,paintOrder:ae}){H===null&&(o=null,l=null),C===null&&(u=null,c=null),an(H)?!an(C)&&(!an(o)||_!=null&&_.fill)&&(C="none"):an(C)&&(!an(u)||_!=null&&_.stroke)&&(H="none");const[re,le]=r0(o,H),[ee,se]=pn(l,S),[oe,ne]=r0(u,C),[Se,Ce]=pn(c,L),[_e,fe]=pn(w);Vl(ne)||(f===void 0&&(f=R),d===void 0&&(d=X),h===void 0&&(h=I),p===void 0&&!Gz(h)&&(p=W),!Vl(le)&&$===void 0&&($=ae));const[he,te]=pn(f);return H!==null&&(e.fill=xt(le,"currentColor"),e.fillOpacity=al(se,1)),C!==null&&(e.stroke=xt(ne,"none"),e.strokeWidth=al(te,1),e.strokeOpacity=al(Ce,1),e.strokeLinejoin=xt(h,"miter"),e.strokeLinecap=xt(d,"butt"),e.strokeMiterlimit=al(p,4),e.strokeDasharray=xt(b,"none"),e.strokeDashoffset=xt(y,"0")),e.target=Vt(s),e.ariaLabel=Vt(j),e.ariaDescription=Vt(i),e.ariaHidden=Vt(a),e.opacity=al(fe,1),e.mixBlendMode=xt(k,"normal"),e.imageFilter=xt(E,"none"),e.paintOrder=xt($,"normal"),e.pointerEvents=xt(A,"auto"),e.shapeRendering=xt(z,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:re,scale:"auto",optional:!0},fillOpacity:{value:ee,scale:"auto",optional:!0},stroke:{value:oe,scale:"auto",optional:!0},strokeOpacity:{value:Se,scale:"auto",optional:!0},strokeWidth:{value:he,optional:!0},opacity:{value:_e,scale:"auto",optional:!0}}}function _D(e,t){t&&e.filter(n=>Pb(t[n])).append("title").call(zD,t)}function zD(e,t){t&&e.text(n=>q0(t[n]))}function Us(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:f,href:c}){r&&We(e,"aria-label",h=>r[h]),a&&We(e,"fill",h=>a[h]),s&&We(e,"fill-opacity",h=>s[h]),o&&We(e,"stroke",h=>o[h]),l&&We(e,"stroke-opacity",h=>l[h]),u&&We(e,"stroke-width",h=>u[h]),f&&We(e,"opacity",h=>f[h]),c&&ID(e,h=>c[h],t),n||_D(e,i)}function vy(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=kr(e,"clip",["frame","sphere"])),e}function DD(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:o,marginLeft:l,marginRight:u,marginTop:f,marginBottom:c}=n,h=wp();i=`url(#${h})`,e=Xt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",h).append("rect").attr("x",l).attr("y",f).attr("width",s-u-l).attr("height",o-f-c)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const o=wp();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",kg(s)({type:"Sphere"}));break}}We(e,"aria-label",t.ariaLabel),We(e,"aria-description",t.ariaDescription),We(e,"aria-hidden",t.ariaHidden),We(e,"clip-path",i)}function j0(e,t,n,r){DD(e,t,n,r),We(e,"fill",t.fill),We(e,"fill-opacity",t.fillOpacity),We(e,"stroke",t.stroke),We(e,"stroke-width",t.strokeWidth),We(e,"stroke-opacity",t.strokeOpacity),We(e,"stroke-linejoin",t.strokeLinejoin),We(e,"stroke-linecap",t.strokeLinecap),We(e,"stroke-miterlimit",t.strokeMiterlimit),We(e,"stroke-dasharray",t.strokeDasharray),We(e,"stroke-dashoffset",t.strokeDashoffset),We(e,"shape-rendering",t.shapeRendering),We(e,"filter",t.imageFilter),We(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;We(e,"pointer-events",i)}function W0(e,t){ND(e,"mix-blend-mode",t.mixBlendMode),We(e,"opacity",t.opacity)}function ID(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(Eo.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Eo.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function We(e,t,n){n!=null&&e.attr(t,n)}function ND(e,t,n){n!=null&&e.style(t,n)}function u0(e,t,{x:n,y:r},i=gn,a=gn){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function xt(e,t){if((e=Vt(e))!==t)return e}function al(e,t){if((e=rt(e))!==t)return e}const qD=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function q3(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!qD.test(e))throw new Error(`invalid class name: ${e}`);return e}function B3(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function ch({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function R3(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:vy(n)}}function Xt(e,{document:t}){return yl(qc(e).call(t.documentElement))}const by=Math.PI,qr=2*by,xp=.618;function BD({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let o,l,u="frame";if(Hs(e)){let A;if({type:e,domain:l,inset:A,insetTop:n=A!==void 0?A:n,insetRight:r=A!==void 0?A:r,insetBottom:i=A!==void 0?A:i,insetLeft:a=A!==void 0?A:a,clip:u=u,...o}=e,e==null)return}typeof e!="function"&&({type:e}=yy(e));const{width:f,height:c,marginLeft:h,marginRight:d,marginTop:p,marginBottom:b}=s,y=f-h-d-a-r,w=c-p-b-n-i;if(e=e==null?void 0:e({width:y,height:w,clip:u,...o}),e==null)return;u=RD(u,h,p,f-d,c-b);let k=h+a,E=p+n,$;if(l!=null){const[[A,z],[_,j]]=kg(e).bounds(l),H=Math.min(y/(_-A),w/(j-z));H>0?(k-=(H*(A+_)-y)/2,E-=(H*(z+j)-w)/2,$=sm({point(S,C){this.stream.point(S*H+k,C*H+E)}})):$o("Warning: the projection could not be fit to the specified domain; using the default scale.")}return $??($=k===0&&E===0?wy():sm({point(A,z){this.stream.point(A+k,z+E)}})),{stream:A=>e.stream($.stream(u(A)))}}function yy(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Rn(fA,.7463,.4673);case"albers":return bf(Eg,.7463,.4673);case"azimuthal-equal-area":return Rn(cA,4,4);case"azimuthal-equidistant":return Rn(hA,qr,qr);case"conic-conformal":return bf(pA,qr,qr);case"conic-equal-area":return bf(lc,6.1702,2.9781);case"conic-equidistant":return bf(bA,7.312,3.6282);case"equal-earth":return Rn(wA,5.4133,2.6347);case"equirectangular":return Rn(gA,qr,by);case"gnomonic":return Rn(xA,3.4641,3.4641);case"identity":return{type:wy};case"reflect-y":return{type:LD};case"mercator":return Rn(dA,qr,qr);case"orthographic":return Rn(MA,2,2);case"stereographic":return Rn(SA,2,2);case"transverse-mercator":return Rn(kA,qr,qr);default:throw new Error(`unknown projection type: ${e}`)}}function RD(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return hg(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Rn(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:o})=>{var u,f,c;const l=e();return s!=null&&((u=l.precision)==null||u.call(l,s)),a!=null&&((f=l.rotate)==null||f.call(l,a)),typeof o=="number"&&((c=l.clipAngle)==null||c.call(l,o)),l.scale(Math.min(r/t,i/n)),l.translate([r/2,i/2]),l},aspectRatio:n/t}}function bf(e,t,n){const{type:r,aspectRatio:i}=Rn(e,t,n);return{type:a=>{const{parallels:s,domain:o,width:l,height:u}=a,f=r(a);return s!=null&&(f.parallels(s),o===void 0&&f.fitSize([l,u],{type:"Sphere"})),f},aspectRatio:i}}const wy=iu({stream:e=>e}),LD=iu(sm({point(e,t){this.stream.point(e,-t)}}));function FD(e,t,n,r){const i=n[e],a=n[t],s=i.length,o=n[e]=new Float64Array(s).fill(NaN),l=n[t]=new Float64Array(s).fill(NaN);let u;const f=r.stream({point(c,h){o[u]=c,l[u]=h}});for(u=0;u<s;++u)f.point(i[u],a[u])}function PD({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Hs(e)&&(e=e.type),e!=null)}function OD(e){if(typeof(e==null?void 0:e.stream)=="function")return xp;if(Hs(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=yy(e);if(t)return t}return xp}}function HD(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,o){t.push(s),n.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)Ts(s,a);return[r,i]}const xy=new Map([["accent",XE],["category10",GE],["dark2",ZE],["paired",QE],["pastel1",KE],["pastel2",JE],["set1",e_],["set2",t_],["set3",n_],["tableau10",r_]]);function VD(e){return e!=null&&xy.has(`${e}`.toLowerCase())}const Mp=new Map([...xy,["brbg",Br(pv,gv)],["prgn",Br(vv,bv)],["piyg",Br(yv,wv)],["puor",Br(xv,Mv)],["rdbu",Br(cm,hc)],["rdgy",Br(Sv,kv)],["rdylbu",Br(hm,dc)],["rdylgn",Br($v,Tv)],["spectral",Br(Cv,Av)],["burd",Sp(cm,hc)],["buylrd",Sp(hm,dc)],["blues",Tt(Jv,eb)],["greens",Tt(tb,nb)],["greys",Tt(rb,ib)],["oranges",Tt(ub,fb)],["purples",Tt(ab,sb)],["reds",Tt(ob,lb)],["turbo",Rr(vb)],["viridis",Rr(bb)],["magma",Rr(yb)],["inferno",Rr(wb)],["plasma",Rr(xb)],["cividis",Rr(cb)],["cubehelix",Rr(hb)],["warm",Rr(db)],["cool",Rr(mb)],["bugn",Tt(Ev,_v)],["bupu",Tt(zv,Dv)],["gnbu",Tt(Iv,Nv)],["orrd",Tt(qv,Bv)],["pubu",Tt(Fv,Pv)],["pubugn",Tt(Rv,Lv)],["purd",Tt(Ov,Hv)],["rdpu",Tt(Vv,Uv)],["ylgn",Tt(Yv,Gv)],["ylgnbu",Tt(jv,Wv)],["ylorbr",Tt(Xv,Zv)],["ylorrd",Tt(Qv,Kv)],["rainbow",kp(pb)],["sinebow",kp(gb)]]);function Tt(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?jn(t,n):e[n])}function Br(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?jn(t,n):e[n])}function Sp(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?jn(r=>t(1-r),n):e[n].slice().reverse())}function Rr(e){return({length:t})=>jn(e,Math.max(2,Math.floor(t)))}function kp(e){return({length:t})=>jn(e,Math.floor(t)+1).slice(0,-1)}function My(e){const t=`${e}`.toLowerCase();if(!Mp.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Mp.get(t)}function hh(e,t){const n=My(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function UD(e,t="greys"){const n=new Set,[r,i]=hh(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const $p=new Map([["brbg",gv],["prgn",bv],["piyg",wv],["puor",Mv],["rdbu",hc],["rdgy",kv],["rdylbu",dc],["rdylgn",Tv],["spectral",Av],["burd",e=>hc(1-e)],["buylrd",e=>dc(1-e)],["blues",eb],["greens",nb],["greys",ib],["purples",sb],["reds",lb],["oranges",fb],["turbo",vb],["viridis",bb],["magma",yb],["inferno",wb],["plasma",xb],["cividis",cb],["cubehelix",hb],["warm",db],["cool",mb],["bugn",_v],["bupu",Dv],["gnbu",Nv],["orrd",Bv],["pubugn",Lv],["pubu",Pv],["purd",Hv],["rdpu",Uv],["ylgnbu",Wv],["ylgn",Gv],["ylorbr",Zv],["ylorrd",Kv],["rainbow",pb],["sinebow",gb]]);function L3(e){const t=`${e}`.toLowerCase();if(!$p.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return $p.get(t)}const jD=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function WD(e){return e!=null&&jD.has(`${e}`.toLowerCase())}const Sy=e=>t=>e(1-t),l4=[0,1],Tp=new Map([["number",Lt],["rgb",Is],["hsl",rT],["hcl",sT],["lab",iT]]);function ky(e){const t=`${e}`.toLowerCase();if(!Tp.has(t))throw new Error(`unknown interpolator: ${t}`);return Tp.get(t)}function su(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:o=Ty(e,n),unknown:l,round:u,scheme:f,interval:c,range:h=ht.get(e)===oh?rI(n,o):ht.get(e)===lh?iI(n,o):ht.get(e)===uh?l4:void 0,interpolate:d=ht.get(e)===l0?f==null&&h!==void 0?Is:L3(f!==void 0?f:r==="cyclical"?"rainbow":"turbo"):u?i3:Lt,reverse:p}){if(c=jo(c,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=ky(d)),p=!!p,h!==void 0){const b=(o=yn(o)).length,y=(h=yn(h)).length;if(b!==y){if(d.length===1)throw new Error("invalid piecewise interpolator");d=Lc(d,h),h=void 0}}if(d.length===1?(p&&(d=Sy(d),p=!1),h===void 0&&(h=Float64Array.from(o,(b,y)=>y/(o.length-1)),h.length===2&&(h=l4)),t.interpolate((h===l4?iu:P3)(d))):t.interpolate(d),s){const[b,y]=Vn(o);(b>0||y<0)&&(o=vm(o),Lo(o)!==Math.sign(b)?o[o.length-1]=0:o[0]=0)}return p&&(o=Uf(o)),t.domain(o).unknown(l),i&&(t.nice(YD(i,r)),o=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:o,range:h,scale:t,interpolate:d,interval:c}}function YD(e,t){return e===!0?void 0:typeof e=="number"?e:Hz(e,t)}function GD(e,t,n){return su(e,g3(),t,n)}function XD(e,t,n){return $y(e,t,{...n,exponent:.5})}function $y(e,t,{exponent:n=1,...r}){return su(e,Gg().exponent(n),t,{...r,type:"pow"})}function ZD(e,t,{base:n=10,domain:r=aI(t),...i}){return su(e,Ug().base(n),t,{...i,domain:r})}function QD(e,t,{constant:n=1,...r}){return su(e,Wg().constant(n),t,r)}function KD(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=sI(t),unknown:o,interpolate:l,reverse:u}){return n===void 0&&(n=l!==void 0?jn(l,i):ht.get(e)===l0?hh(a,i):void 0),s.length>0&&(s=Xg(s,n===void 0?{length:i}:n).quantiles()),F3(e,t,{domain:s,range:n,reverse:u,unknown:o})}function JD(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Ty(e,t),unknown:s,interpolate:o,reverse:l}){const[u,f]=Vn(a);let c;return n===void 0?(c=zl(u,f,r),c[0]<=u&&c.splice(0,1),c[c.length-1]>=f&&c.pop(),r=c.length+1,n=o!==void 0?jn(o,r):ht.get(e)===l0?hh(i,r):void 0):(c=jn(Lt(u,f),r+1).slice(1,-1),u instanceof Date&&(c=c.map(h=>new Date(h)))),Lo(yn(a))<0&&c.reverse(),F3(e,t,{domain:c,range:n,reverse:l,unknown:s})}function F3(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?jn(a,n.length+1):ht.get(e)===l0?hh(i,n.length+1):void 0,reverse:o}){n=yn(n);const l=Lo(n);if(!isNaN(l)&&!eI(n,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return o&&(s=Uf(s)),{type:"threshold",scale:Zg(l<0?Uf(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function eI(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=Zl(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function tI(){return{type:"identity",scale:Og()}}function jl(e,t=Ob){return e.length?[Kr(e,({value:n})=>n===void 0?n:Kr(n,t)),vr(e,({value:n})=>n===void 0?n:vr(n,t))]:[0,1]}function Ty(e,t){const n=ht.get(e);return(n===oh||n===uh||n===lh?nI:jl)(t)}function nI(e){return[0,e.length?vr(e,({value:t})=>t===void 0?t:vr(t,Ob)):1]}function rI(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=Ao(e,.5,({value:s})=>s===void 0?NaN:Ao(s,.25,S3)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/vr(i);return a<1?i.map(s=>s*a):i}function iI(e,t){const n=Vf(e,({value:a})=>a===void 0?NaN:Vf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/vr(r);return i<1?r.map(a=>a*i):r}function aI(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return jl(e,S3);if(n<0)return jl(e,Hb)}return[1,10]}function sI(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function P3(e){return(t,n)=>r=>e(t+r*(n-t))}function dh(e,t,n,r,{type:i,nice:a,clamp:s,domain:o=jl(r),unknown:l,pivot:u=0,scheme:f,range:c,symmetric:h=!0,interpolate:d=ht.get(e)===l0?f==null&&c!==void 0?Is:L3(f!==void 0?f:"rdbu"):Lt,reverse:p}){u=+u,o=yn(o);let[b,y]=o;if(o.length>2&&$o(`Warning: the diverging ${e} scale domain contains extra elements.`),Zl(b,y)<0&&([b,y]=[y,b],p=!p),b=Math.min(b,u),y=Math.max(y,u),typeof d!="function"&&(d=ky(d)),c!==void 0&&(d=d.length===1?P3(d)(...c):Lc(d,c)),p&&(d=Sy(d)),h){const w=n.apply(u),k=w-n.apply(b),E=n.apply(y)-w;k<E?b=n.invert(w-E):k>E&&(y=n.invert(w+k))}return t.domain([b,u,y]).unknown(l).interpolator(d),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[b,y],pivot:u,interpolate:d,scale:t}}function oI(e,t,n){return dh(e,cv(),cI,t,n)}function lI(e,t,n){return Cy(e,t,{...n,exponent:.5})}function Cy(e,t,{exponent:n=1,...r}){return dh(e,mv().exponent(n=+n),mI(n),t,{...r,type:"diverging-pow"})}function uI(e,t,{base:n=10,pivot:r=1,domain:i=jl(t,r<0?Hb:S3),...a}){return dh(e,hv().base(n=+n),hI,t,{domain:i,pivot:r,...a})}function fI(e,t,{constant:n=1,...r}){return dh(e,dv().constant(n=+n),pI(n),t,r)}const cI={apply(e){return e},invert(e){return e}},hI={apply:Math.log,invert:Math.exp},dI={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function mI(e){return e===.5?dI:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function pI(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Ay(e,t,n,r){return su(e,t,n,r)}function gI(e,t,n){return Ay(e,WE(),t,n)}function vI(e,t,n){return Ay(e,YE(),t,n)}const ou=Symbol("ordinal");function Ey(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:o,hint:l}){return i=jo(i,r),a===void 0&&(a=zy(n,i,e)),(r==="categorical"||r===ou)&&(r="ordinal"),o&&(a=Uf(a)),t.domain(a),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:l,interval:i}}function bI(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:o,...l}){r=jo(r,n),i===void 0&&(i=zy(t,r,e));let u;if(ht.get(e)===fh)u=xI(t),a=a===void 0?MI(u):St(a,D3);else if(ht.get(e)===l0&&(a===void 0&&(n==="ordinal"||n===ou)&&(a=UD(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"tableau10"),s!==void 0))if(a!==void 0){const f=L3(s),c=a[0],h=a[1]-a[0];a=({length:d})=>jn(p=>f(c+h*p),d)}else a=My(s);if(o===lm)throw new Error(`implicit unknown on ${e} scale is not supported`);return Ey(e,p3().unknown(o),t,{...l,type:n,domain:i,range:a,hint:u})}function yI(e,t,{align:n=.5,padding:r=.5,...i}){return _y(CA().align(n).padding(r),t,i,e)}function wI(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return _y(Uc().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function _y(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Ey(r,e,t,n),e.round=i,e}function zy(e,t,n){const r=new Gm;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=Vn(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&ht.get(n)===hr)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return _l(r,Gn)}function Cp(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function xI(e){return{fill:Cp(e,"fill"),stroke:Cp(e,"stroke")}}function MI(e){return an(e.fill)?m_:d_}function xm(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:o,nice:l,clamp:u,zero:f,align:c,padding:h,projection:d,facet:{label:p=t}={},...b}={}){const y={};for(const[w,k]of e){const E=b[w],$=TI(w,k,{round:ht.get(w)===hr?o:void 0,nice:l,clamp:u,zero:f,align:c,padding:h,projection:d,...E});if($){let{label:A=w==="fx"||w==="fy"?p:t,percent:z,transform:_,inset:j,insetTop:H=j!==void 0?j:w==="y"?r:0,insetRight:S=j!==void 0?j:w==="x"?i:0,insetBottom:C=j!==void 0?j:w==="y"?a:0,insetLeft:L=j!==void 0?j:w==="x"?s:0}=E||{};if(_==null)_=void 0;else if(typeof _!="function")throw new Error("invalid scale transform; not a function");$.percent=!!z,$.label=A===void 0?kI(k,$):A,$.transform=_,w==="x"||w==="fx"?($.insetLeft=+L,$.insetRight=+S):(w==="y"||w==="fy")&&($.insetTop=+H,$.insetBottom=+C),y[w]=$}}return y}function Ap(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function SI(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?O3(t):t;i&&Ep(i,s),a&&_p(a,s);const o=i||a?Dy(e,t):t;n&&Ep(n,o),r&&_p(r,o)}function kI(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!js(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function O3(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:o,marginRight:l,marginBottom:u,marginLeft:f}}=e;return{marginTop:Math.max(t,o),marginRight:Math.max(n,l),marginBottom:Math.max(r,u),marginLeft:Math.max(i,f),width:a,height:s}}function Dy({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=O3(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:o,height:t?t.scale.bandwidth()+r+a:l,facet:{width:o,height:l}}}function Ep(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,o=a+n,l=i-s-r;e.range=[o,Math.max(o,l)],js(e)||(e.range=Ny(e)),e.scale.range(e.range)}Iy(e)}function _p(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,o=a+n,l=i-s-r;e.range=[Math.max(o,l),o],js(e)?e.range.reverse():e.range=Ny(e),e.scale.range(e.range)}Iy(e)}function Iy(e){e.round===void 0&&AI(e)&&$I(e)<=30&&e.scale.round(!0)}function $I({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,o=Math.abs(r-n)/Math.max(1,s+a*2);return(o-Math.floor(o))*s}function Ny(e){const t=e.scale.domain().length+qy(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function TI(e,t=[],n={}){const r=CI(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&js({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Xn)?$o(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${vo(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${vo(r)}".`):i.some(Uz)?$o(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${vo(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${vo(r)}".`):i.some(jz)&&$o(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${vo(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${vo(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=yf(t,n,vc);break;case"identity":switch(ht.get(e)){case hr:n=yf(t,n,vc);break;case fh:n=yf(t,n,EI);break}break;case"utc":case"time":n=yf(t,n,Lz);break}switch(r){case"diverging":return oI(e,t,n);case"diverging-sqrt":return lI(e,t,n);case"diverging-pow":return Cy(e,t,n);case"diverging-log":return uI(e,t,n);case"diverging-symlog":return fI(e,t,n);case"categorical":case"ordinal":case ou:return bI(e,t,n);case"cyclical":case"sequential":case"linear":return GD(e,t,n);case"sqrt":return XD(e,t,n);case"threshold":return F3(e,t,n);case"quantile":return KD(e,t,n);case"quantize":return JD(e,t,n);case"pow":return $y(e,t,n);case"log":return ZD(e,t,n);case"symlog":return QD(e,t,n);case"utc":return vI(e,t,n);case"time":return gI(e,t,n);case"point":return yI(e,t,n);case"band":return wI(e,t,n);case"identity":return ht.get(e)===hr?tI():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function vo(e){return typeof e=="symbol"?e.description:e}const zp={toString:()=>"projection"};function CI(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:o}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&o!=null&&(n=zp);for(const{type:u}of t)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===zp)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=ht.get(e);if(l===oh)return"sqrt";if(l===uh||l===lh)return"linear";if(l===fh)return"ordinal";if((r||i||[]).length>2)return u4(l);if(r!==void 0){if(pp(r))return u4(l);if(Xn(r))return"utc"}else{const u=t.map(({value:f})=>f).filter(f=>f!==void 0);if(u.some(pp))return u4(l);if(u.some(Xn))return"utc"}if(l===l0){if(s!=null||WD(a))return"diverging";if(VD(a))return"categorical"}return"linear"}function u4(e){switch(e){case hr:return"point";case l0:return ou;default:return"ordinal"}}function H3({type:e}){return e==="time"||e==="utc"}function js({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===ou}function qy({type:e}){return e==="threshold"}function AI({type:e}){return e==="point"||e==="band"}function dr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function yf(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function EI(e){return St(e,D3)}function _I(e){return t=>{if(!ht.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?zI(e[t]):void 0}}function zI({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:o,pivot:l}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const u=e.unknown?e.unknown():void 0;return{type:t,domain:vm(n),...r!==void 0&&{range:vm(r)},...s!==void 0&&{transform:s},...o&&{percent:o},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:f=>e(f),...e.invert&&{invert:f=>e.invert(f)}}}function DI(e,t,n={}){let r=.5-gn,i=.5+gn,a=.5+gn,s=.5-gn;for(const{marginTop:b,marginRight:y,marginBottom:w,marginLeft:k}of t)b>r&&(r=b),y>i&&(i=y),w>a&&(a=w),k>s&&(s=k);let{margin:o,marginTop:l=o!==void 0?o:r,marginRight:u=o!==void 0?o:i,marginBottom:f=o!==void 0?o:a,marginLeft:c=o!==void 0?o:s}=n;l=+l,u=+u,f=+f,c=+c;let{width:h=640,height:d=II(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,l-r+f-a)}=n;h=+h,d=+d;const p={width:h,height:d,marginTop:l,marginRight:u,marginBottom:f,marginLeft:c};if(e.fx||e.fy){let{margin:b,marginTop:y=b!==void 0?b:l,marginRight:w=b!==void 0?b:u,marginBottom:k=b!==void 0?b:f,marginLeft:E=b!==void 0?b:c}=n.facet??{};y=+y,w=+w,k=+k,E=+E,p.facet={marginTop:y,marginRight:w,marginBottom:k,marginLeft:E}}return p}function II({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:o,marginRightDefault:l,marginBottomDefault:u,marginLeftDefault:f}){const c=n?n.scale.domain().length:1,h=OD(i);if(h){const p=r?r.scale.domain().length:1,b=(1.1*c-.1)/(1.1*p-.1)*h,y=Math.max(.1,Math.min(10,b));return Math.round((s-f-l)*y+o+u)}const d=t?js(t)?t.scale.domain().length:Math.max(7,17/c):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Dp("y",t)/(Dp("x",e)*a),b=r?r.scale.bandwidth():1,y=n?n.scale.bandwidth():1,w=b*(s-f-l)-e.insetLeft-e.insetRight;return(p*w+t.insetTop+t.insetBottom)/y+o+u}return!!(t||n)*Math.max(1,Math.min(60,d*c))*20+!!r*30+60}function Dp(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=t.scale.exponent();i=l=>Math.pow(l,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=Vn(r);return Math.abs(i(s)-i(a))}function NI(e,t){const{fx:n,fy:r}=xm(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?bS(i,a).map(([s,o],l)=>({x:s,y:o,i:l})):i?i.map((s,o)=>({x:s,i:o})):a?a.map((s,o)=>({y:s,i:o})):void 0}function qI(e,{x:t,y:n}){return t&&(t=Mm(t)),n&&(n=Mm(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function V3(e,{fx:t,fy:n}){const r=s0(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Mo(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?Mo(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Mo(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function BI(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function RI(e){const t=[],n=new Uint32Array(P0(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const LI=new Map([["top",f4],["right",d4],["bottom",c4],["left",h4],["top-left",wf(f4,h4)],["top-right",wf(f4,d4)],["bottom-left",wf(c4,h4)],["bottom-right",wf(c4,d4)],["top-empty",OI],["right-empty",UI],["bottom-empty",HI],["left-empty",VI],["empty",jI]]);function FI(e){if(e==null)return null;const t=LI.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Ip=new WeakMap;function Mm(e){let t=Ip.get(e);return t||Ip.set(e,t=new zs(St(e,(n,r)=>[n,r]))),t}function Y0(e,t){return Mm(e).get(t)}function PI(e,t,n){return t=gf(t),n=gf(n),e.find(r=>Object.is(gf(r.x),t)&&Object.is(gf(r.y),n))}function mh(e,t,n){var r;return(r=PI(e,t,n))==null?void 0:r.empty}function f4(e,{y:t},{y:n}){return t?Y0(t,n)===0:!0}function c4(e,{y:t},{y:n}){return t?Y0(t,n)===t.length-1:!0}function h4(e,{x:t},{x:n}){return t?Y0(t,n)===0:!0}function d4(e,{x:t},{x:n}){return t?Y0(t,n)===t.length-1:!0}function OI(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Y0(t,r);if(a>0)return mh(e,n,t[a-1])}function HI(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Y0(t,r);if(a<t.length-1)return mh(e,n,t[a+1])}function VI(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Y0(t,n);if(a>0)return mh(e,t[a-1],r)}function UI(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=Y0(t,n);if(a<t.length-1)return mh(e,t[a+1],r)}function jI(e,t,{empty:n}){return n}function wf(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function m4(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class Qn{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:o,fy:l,sort:u,dx:f=0,dy:c=0,margin:h=0,marginTop:d=h,marginRight:p=h,marginBottom:b=h,marginLeft:y=h,clip:w=i==null?void 0:i.clip,channels:k,tip:E,render:$}=r;if(this.data=t,this.sort=Hl(u)?u:null,this.initializer=wc(r).initializer,this.transform=this.initializer?r.transform:I3(r).transform,a===null||a===!1?this.facet=null:(this.facet=kr(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Nf&&typeof o=="string"?[o]:o,this.fy=t===Nf&&typeof l=="string"?[l]:l),this.facetAnchor=FI(s),n=ry(n),k!==void 0&&(n={...WI(k),...n}),i!==void 0&&(n={...ED(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([A,z])=>{if(A3(z.value)){const{value:_,scale:j=z.scale}=z.value;z={...z,scale:j,value:_}}if(t===Nf&&typeof z.value=="string"){const{value:_}=z;z={...z,value:[_]}}return[A,z]}).filter(([A,{value:z,optional:_}])=>{if(z!=null)return!0;if(_)return!1;throw new Error(`missing channel value: ${A}`)})),this.dx=+f,this.dy=+c,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+b,this.marginLeft=+y,this.clip=vy(w),this.tip=YI(E),this.facet==="super"){if(o||l)throw new Error("super-faceting cannot use fx or fy");for(const A in this.channels){const{scale:z}=n[A];if(!(z!=="x"&&z!=="y"))throw new Error("super-faceting cannot use x or y")}}$!=null&&(this.render=Ry($,this.render))}initialize(t,n,r){let i=yn(this.data);t===void 0&&i!=null&&(t=[s0(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=yn(i)),t!==void 0&&(t.original=a);const s=pD(this.channels,i);return this.sort!=null&&vD(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=Ls}=n[i];if(a!==null){const s=r[i];t=t.filter(o=>a(s[o]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&FD(i,a,n,r.projection)}}scale(t,n,r){const i=gD(t,n);return r.projection&&this.project(t,i,r),i}}function By(...e){return e.plot=Qn.prototype.plot,e}function Ry(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,o){return e.call(this,n,r,i,a,s,(l,u,f,c,h)=>t.call(this,l,u,f,c,h,o))}}function WI(e){return Object.fromEntries(Object.entries(ry(e)).map(([t,n])=>(n=au(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function YI(e){return e===!0?"xy":e===!1?null:C3(e,"tip",["x","y","xy"])}function ph(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:e}const Np=new WeakMap;function U3(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:o,render:l,...u}={}){return s=+s,i!=null&&(n??(n=null),o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),o={...o,py:{value:a,scale:"y"}}),{x:n,y:r,channels:o,...u,render:Ry(function(f,c,h,d,p,b){p={...p,pointerSticky:!1};const y=p.ownerSVGElement,{data:w}=p.getMarkState(this);let k=Np.get(y);k||Np.set(y,k={sticky:!1,roots:[],renders:[]});let E=k.renders.push(ne)-1;const{x:$,y:A,fx:z,fy:_}=c;let j=z?z(f.fx)-d.marginLeft:0,H=_?_(f.fy)-d.marginTop:0;$!=null&&$.bandwidth&&(j+=$.bandwidth()/2),A!=null&&A.bandwidth&&(H+=A.bandwidth()/2);const S=f.fi!=null;let C;if(S){let fe=k.facetStates;fe||(k.facetStates=fe=new Map),C=fe.get(this),C||fe.set(this,C=new Map)}const[L,R]=ch(this,d),{px:X,py:I}=h,W=X?fe=>X[fe]:Ly(h,L),ae=I?fe=>I[fe]:Fy(h,R);let re,le,ee,se;function oe(fe,he){if(S)if(se&&(se=cancelAnimationFrame(se)),fe==null)C.delete(f.fi);else{C.set(f.fi,he),se=requestAnimationFrame(()=>{se=null;for(const[te,xe]of C)if(xe<he||xe===he&&te<f.fi){fe=null;break}ne(fe)});return}ne(fe)}function ne(fe){if(re===fe&&ee===k.sticky)return;re=fe,ee=p.pointerSticky=k.sticky;const he=re==null?[]:[re];S&&(he.fx=f.fx,he.fy=f.fy,he.fi=f.fi);const te=b(he,c,h,d,p);if(le){if(S){const xe=le.parentNode,Te=le.getAttribute("transform"),Y=te.getAttribute("transform");Te?te.setAttribute("transform",Te):te.removeAttribute("transform"),Y?xe.setAttribute("transform",Y):xe.removeAttribute("transform"),te.removeAttribute("aria-label"),te.removeAttribute("aria-description"),te.removeAttribute("aria-hidden")}le.replaceWith(te)}return k.roots[E]=le=te,re==null&&(C==null?void 0:C.size)>1||p.dispatchValue(re==null?null:w[re]),te}function Se(fe){if(k.sticky||fe.pointerType==="mouse"&&fe.buttons===1)return;let[he,te]=$$(fe);he-=j,te-=H;const xe=he<d.marginLeft||he>d.width-d.marginRight?1:e,Te=te<d.marginTop||te>d.height-d.marginBottom?1:t;let Y=null,ke=s*s;for(const Ee of f){const Be=xe*(W(Ee)-he),Re=Te*(ae(Ee)-te),Ge=Be*Be+Re*Re;Ge<=ke&&(Y=Ee,ke=Ge)}if(Y!=null&&(e!==1||t!==1)){const Ee=W(Y)-he,Be=ae(Y)-te;ke=Ee*Ee+Be*Be}oe(Y,ke)}function Ce(fe){fe.pointerType==="mouse"&&re!=null&&(k.sticky&&k.roots.some(he=>he==null?void 0:he.contains(fe.target))||(k.sticky?(k.sticky=!1,k.renders.forEach(he=>he(null))):(k.sticky=!0,ne(re)),fe.stopImmediatePropagation()))}function _e(fe){fe.pointerType==="mouse"&&(k.sticky||oe(null))}return y.addEventListener("pointerenter",Se),y.addEventListener("pointermove",Se),y.addEventListener("pointerdown",Ce),y.addEventListener("pointerleave",_e),ne(null)},l)}}function GI(e){return U3(1,1,e)}function XI(e){return U3(1,.01,e)}function ZI(e){return U3(.01,1,e)}function Ly({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Fy({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Py(e){return js(e)&&e.interval===void 0?void 0:"tabular-nums"}function QI(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:o=0,marginBottom:l=16+r,marginLeft:u=0,style:f,ticks:c=(i-u-o)/64,tickFormat:h,fontVariant:d=Py(e),round:p=!0,opacity:b,className:y}=t;const w=R3(t);y=q3(y),b=pn(b)[1],h===null&&(h=()=>null);const k=Xt("svg",w).attr("class",`${y}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(L=>L.append("style").text(`.${y}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${y}-ramp text {
  white-space: pre;
}`)).call(B3,f);let E=L=>L.selectAll(".tick line").attr("y1",s+l-a),$;const A=p?(L,R)=>L.rangeRound(R):(L,R)=>L.range(R),{type:z,domain:_,range:j,interpolate:H,scale:S,pivot:C}=e;if(H){const L=j===void 0?H:Lc(H.length===1?P3(H):H,j);$=A(S.copy(),jn(Lt(u,i-o),Math.min(_.length+(C!==void 0),j===void 0?1/0:j.length)));const R=256,X=w.document.createElement("canvas");X.width=R,X.height=1;const I=X.getContext("2d");for(let W=0,ae=R-1;W<R;++W)I.fillStyle=L(W/ae),I.fillRect(W,0,1,1);k.append("image").attr("opacity",b).attr("x",u).attr("y",s).attr("width",i-u-o).attr("height",a-s-l).attr("preserveAspectRatio","none").attr("xlink:href",X.toDataURL())}else if(z==="threshold"){const L=_,R=h===void 0?X=>X:typeof h=="string"?eu(h):h;$=A(g3().domain([-1,j.length-1]),[u,i-o]),k.append("g").attr("fill-opacity",b).selectAll().data(j).enter().append("rect").attr("x",(X,I)=>$(I-1)).attr("y",s).attr("width",(X,I)=>$(I)-$(I-1)).attr("height",a-s-l).attr("fill",X=>X),c=St(L,(X,I)=>I),h=X=>R(L[X],X)}else $=A(Uc().domain(_),[u,i-o]),k.append("g").attr("fill-opacity",b).selectAll().data(_).enter().append("rect").attr("x",$).attr("y",s).attr("width",Math.max(0,$.bandwidth()-1)).attr("height",a-s-l).attr("fill",S),E=()=>{};return k.append("g").attr("transform",`translate(0,${a-l})`).call(HS($).ticks(Array.isArray(c)?null:c,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(c)?c:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",xt(d,"normal")).call(E).call(L=>L.select(".domain").remove()),n!==void 0&&k.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),k.node()}const Oy=Math.PI/180;function Hy(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=p4(n),e.markerMid=p4(r),e.markerEnd=p4(i)}function p4(e){if(e==null||e===!1)return null;if(e===!0)return Bp;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return qp("auto");case"arrow-reverse":return qp("auto-start-reverse");case"dot":return KI;case"circle":case"circle-fill":return Bp;case"circle-stroke":return JI}throw new Error(`invalid marker: ${e}`)}function qp(e){return(t,n)=>Xt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function KI(e,t){return Xt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Bp(e,t){return Xt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function JI(e,t){return Xt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let eN=0;function Vy(e,t,{stroke:n},r){return tN(e,t,n&&(i=>n[i]),r)}function tN(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const o=new Map;function l(u){return function(f){const c=a(f);let h=o.get(u);h||o.set(u,h=new Map);let d=h.get(c);if(!d){const p=this.parentNode.insertBefore(u(c,s),this),b=`plot-marker-${++eN}`;p.setAttribute("id",b),h.set(c,d=`url(#${b})`)}return d}}t&&e.attr("marker-start",l(t)),n&&e.attr("marker-mid",l(n)),r&&e.attr("marker-end",l(r))}function gh({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=jy(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Uy({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=jy(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function jy(e,t,n){return e===void 0&&t===void 0&&n===void 0?gn?[1,0]:[.5,.5]:[t,n]}function Wy(e,{interval:t}){return e={...au(e)},e.interval=_3(e.interval===void 0?t:e.interval),e}function j3(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:o,interval:l}=Wy(i,n);if(o==null||l==null&&!r)return n;const u=Vs(i);if(l==null){let d;const p={transform:b=>d||(d=At(b,o)),label:u};return{...n,[e]:void 0,[`${e}1`]:a===void 0?p:a,[`${e}2`]:s===void 0?p:s}}let f,c;function h(d){return c!==void 0&&d===f?c:c=St(At(f=d,o),p=>l.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:u}:a,[`${e}2`]:s===void 0?{transform:d=>h(d).map(p=>l.offset(p)),label:u}:s})}function Yy(e,t,n){const{[e]:r}=n,{value:i,interval:a}=Wy(r,n);return i==null||a==null?n:t({...n,[e]:{label:Vs(r),transform:s=>{const o=St(At(s,i),u=>a.floor(u)),l=o.map(u=>a.offset(u));return o.map(Xn(o)?(u,f)=>u==null||isNaN(u=+u)||(f=l[f],f==null)||isNaN(f=+f)?void 0:new Date((u+f)/2):(u,f)=>u==null||(f=l[f],f==null)?NaN:(+u+ +f)/2)}}})}function nN(e={}){return j3("x",gh,e,!0)}function Gy(e={}){return j3("x",gh,e)}function rN(e={}){return j3("y",Uy,e)}function iN(e={}){return Yy("x",gh,e)}function aN(e={}){return Yy("y",Uy,e)}const Xy={ariaLabel:"rule",fill:null,stroke:"currentColor"};class sN extends Qn{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:o=s,insetBottom:l=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},ph(n,"x"),Xy),this.insetTop=rt(o),this.insetBottom=rt(l),Hy(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y1:u,y2:f}=r,{width:c,height:h,marginTop:d,marginRight:p,marginLeft:b,marginBottom:y}=i,{insetTop:w,insetBottom:k}=this;return Xt("svg:g",a).call(j0,this,i,a).call(u0,this,{x:l&&s},gn,0).call(E=>E.selectAll().data(t).enter().append("line").call(W0,this).attr("x1",l?$=>l[$]:(b+c-p)/2).attr("x2",l?$=>l[$]:(b+c-p)/2).attr("y1",u&&!dr(o)?$=>u[$]+w:d+w).attr("y2",f&&!dr(o)?o.bandwidth?$=>f[$]+o.bandwidth()-k:$=>f[$]-k:h-y-k).call(Us,this,r).call(Vy,this,r,a)).node()}}class oN extends Qn{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:o=s,insetLeft:l=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},ph(n,"y"),Xy),this.insetRight=rt(o),this.insetLeft=rt(l),Hy(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{y:l,x1:u,x2:f}=r,{width:c,height:h,marginTop:d,marginRight:p,marginLeft:b,marginBottom:y}=i,{insetLeft:w,insetRight:k}=this;return Xt("svg:g",a).call(j0,this,i,a).call(u0,this,{y:l&&o},0,gn).call(E=>E.selectAll().data(t).enter().append("line").call(W0,this).attr("x1",u&&!dr(s)?$=>u[$]+w:b+w).attr("x2",f&&!dr(s)?s.bandwidth?$=>f[$]+s.bandwidth()-k:$=>f[$]-k:c-p-k).attr("y1",l?$=>l[$]:(d+h-y)/2).attr("y2",l?$=>l[$]:(d+h-y)/2).call(Us,this,r).call(Vy,this,r,a)).node()}}function lN(e,t){let{x:n=Pt,y:r,y1:i,y2:a,...s}=rN(t);return[i,a]=Qy(r,i,a),new sN(e,{...s,x:n,y1:i,y2:a})}function Zy(e,t){let{y:n=Pt,x:r,x1:i,x2:a,...s}=Gy(t);return[i,a]=Qy(r,i,a),new oN(e,{...s,y:n,x1:i,x2:a})}function Qy(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Ky(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const uN={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Jy="­";class W3 extends Qn{constructor(t,n={}){const{x:r,y:i,text:a=o0(t)&&ty(t)?Pt:k3,frameAnchor:s,textAnchor:o=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:l=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:f=1/0,textOverflow:c,monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:b,fontVariant:y,fontWeight:w,rotate:k}=n,[E,$]=pn(k,0),[A,z]=pN(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:A,optional:!0},rotate:{value:Vz(E),optional:!0},text:{value:a,filter:Pb,optional:!0}},n,uN),this.rotate=$,this.textAnchor=xt(o,"middle"),this.lineAnchor=kr(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+f,this.textOverflow=ew(c),this.monospace=!!h,this.fontFamily=Vt(d),this.fontSize=z,this.fontStyle=Vt(b),this.fontVariant=Vt(y),this.fontWeight=Vt(w),this.frameAnchor=z3(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=nw(this),this.clipLine=rw(this)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,rotate:f,text:c,title:h,fontSize:d}=r,{rotate:p}=this,[b,y]=ch(this,i);return Xt("svg:g",a).call(j0,this,i,a).call(tw,this,c,i).call(u0,this,{x:l&&s,y:u&&o}).call(w=>w.selectAll().data(t).enter().append("text").call(W0,this).call(fN,this,c,h).attr("transform",Ky`translate(${l?k=>l[k]:b},${u?k=>u[k]:y})${f?k=>` rotate(${f[k]})`:p?` rotate(${p})`:""}`).call(We,"font-size",d&&(k=>d[k])).call(Us,this,r)).node()}}function ew(e){return e==null?null:kr(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function fN(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:o,clipLine:l}=t;e.each(function(u){const f=o(q0(n[u])??"").map(l),c=f.length,h=i==="top"?.71:i==="bottom"?1-c:(164-c*100)/200;if(c>1){let d=0;for(let p=0;p<c;++p){if(++d,!f[p])continue;const b=this.ownerDocument.createElementNS(Eo.svg,"tspan");b.setAttribute("x",0),p===d-1?b.setAttribute("y",`${(h+p)*a}em`):b.setAttribute("dy",`${d*a}em`),b.textContent=f[p],this.appendChild(b),d=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=f[0];if(s&&!r&&f[0]!==n[u]){const d=this.ownerDocument.createElementNS(Eo.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function Y3(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=E3(t,n)),new W3(e,{...r,x:t,y:n})}function cN(e,{x:t=Pt,...n}={}){return new W3(e,aN({...n,x:t}))}function hN(e,{y:t=Pt,...n}={}){return new W3(e,iN({...n,y:t}))}function tw(e,t,n){We(e,"text-anchor",t.textAnchor),We(e,"font-family",t.fontFamily),We(e,"font-size",t.fontSize),We(e,"font-style",t.fontStyle),We(e,"font-variant",t.fontVariant===void 0?dN(n):t.fontVariant),We(e,"font-weight",t.fontWeight)}function dN(e){return e&&(Wz(e)||Xn(e))?"tabular-nums":void 0}const mN=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function pN(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),mN.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function gN(e,t,n){const r=[];let i,a=0;for(const[s,o,l]of vN(e)){if(i===void 0&&(i=s),a>i&&n(e,i,o)>t&&(r.push(e.slice(i,a)+(e[a-1]===Jy?"-":"")),i=s),l){r.push(e.slice(i,o)),i=void 0;continue}a=o}return r}function*vN(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Jy:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Rp={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function G3(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Wo(e,i))r+=Rp[e[i]]??(aw(e,i)?120:Rp.e);return r}function X3(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Wo(e,i))r+=aw(e,i)?200:100;return r}function nw({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?X3:G3,i=t*100;return a=>gN(a,i,r)}function rw({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?X3:G3,i=t*100;switch(n){case"clip-start":return a=>Fp(a,i,r,"");case"clip-end":return a=>Lp(a,i,r,"");case"ellipsis-start":return a=>Fp(a,i,r,To);case"ellipsis-middle":return a=>bN(a,i,r,To);case"ellipsis-end":return a=>Lp(a,i,r,To)}}const To="…";function Fo(e,t,n,r){const i=[];let a=0;for(let s=0,o=0,l=e.length;s<l;s=o){o=Wo(e,s);const u=n(e,s,o);if(a+u>t){for(a+=r;a>t&&s>0;)o=s,s=i.pop(),a-=n(e,s,o);return[s,t-a]}a+=u,i.push(s)}return[-1,0]}function Lp(e,t,n,r){e=e.trim();const i=n(r),[a]=Fo(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function bN(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,o]=Fo(e,t/2,n,a),[l]=Fo(e,i-t/2-o+a,n,-a);return l<0?r:e.slice(0,s).trimEnd()+r+e.slice(Wo(e,l)).trimStart()}function Fp(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=Fo(e,i-t+a,n,-a);return s<0?r:r+e.slice(Wo(e,s)).trimStart()}const Sm=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Pp=/\p{Extended_Pictographic}/uy;function Wo(e,t){return t+=yN(e,t)?2:1,xN(e,t)&&(t=Sm.lastIndex),wN(e,t)?Wo(e,t+1):t}function iw(e,t){return e.charCodeAt(t)<128}function yN(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function wN(e,t){return e.charCodeAt(t)===8205}function xN(e,t){return iw(e,t)?!1:(Sm.lastIndex=t,Sm.test(e))}function aw(e,t){return iw(e,t)?!1:(Pp.lastIndex=t,Pp.test(e))}const MN={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},sw=3.5,SN=sw*5,ow={draw(e,t,n){const r=t*n/SN;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},kN={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},$N=new Map([["arrow",ow],["spike",kN]]);function TN(e){return e&&typeof e.draw=="function"}function CN(e){if(TN(e))return e;const t=$N.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class lw extends Qn{constructor(t,n={}){const{x:r,y:i,r:a=sw,length:s,rotate:o,shape:l=ow,anchor:u="middle",frameAnchor:f}=n,[c,h]=pn(s,12),[d,p]=pn(o,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:c,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,MN),this.r=+a,this.length=h,this.rotate=p,this.shape=CN(l),this.anchor=kr(u,"anchor",["start","middle","end"]),this.frameAnchor=z3(f)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,length:f,rotate:c}=r,{length:h,rotate:d,anchor:p,shape:b,r:y}=this,[w,k]=ch(this,i);return Xt("svg:g",a).call(j0,this,i,a).call(u0,this,{x:l&&s,y:u&&o}).call(E=>E.selectAll().data(t).enter().append("path").call(W0,this).attr("transform",Ky`translate(${l?$=>l[$]:w},${u?$=>u[$]:k})${c?$=>` rotate(${c[$]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?f?$=>` translate(0,${f[$]})`:` translate(0,${h})`:f?$=>` translate(0,${f[$]/2})`:` translate(0,${h/2})`}`).attr("d",f?$=>{const A=j4();return b.draw(A,f[$],y),A}:(()=>{const $=j4();return b.draw($,h,y),$})()).call(Us,this,r)).node()}}function AN(e,t={}){const{x:n=Pt,...r}=t;return new lw(e,{...r,x:n})}function EN(e,t={}){const{y:n=Pt,...r}=t;return new lw(e,{...r,y:n})}function G0(e,t){return arguments.length<2&&!o0(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function vh({anchor:e}={},t){return e===void 0?t[0]:kr(e,"anchor",t)}function uw(e){return vh(e,["left","right"])}function fw(e){return vh(e,["right","left"])}function cw(e){return vh(e,["bottom","top"])}function hw(e){return vh(e,["top","bottom"])}function dw(){const[e,t]=G0(...arguments);return pw("y",uw(t),e,t)}function _N(){const[e,t]=G0(...arguments);return pw("fy",fw(t),e,t)}function mw(){const[e,t]=G0(...arguments);return gw("x",cw(t),e,t)}function zN(){const[e,t]=G0(...arguments);return gw("fx",hw(t),e,t)}function pw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:f,textStroke:c,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=e==="y"?6:0,tickPadding:b,tickRotate:y,x:w,margin:k,marginTop:E=k===void 0?20:k,marginRight:$=k===void 0?t==="right"?40:0:k,marginBottom:A=k===void 0?20:k,marginLeft:z=k===void 0?t==="left"?40:0:k,label:_,labelAnchor:j,labelArrow:H,labelOffset:S,...C}){return p=rt(p),b=rt(b),y=rt(y),j!==void 0&&(j=kr(j,"labelAnchor",["center","top","bottom"])),H=kw(H),By(p&&!an(a)?DN(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:p,tickPadding:b,tickRotate:y,x:w,...C}):null,an(l)?null:NN(e,t,n,{fill:l,fillOpacity:u,stroke:c,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:b,tickRotate:y,x:w,marginTop:E,marginRight:$,marginBottom:A,marginLeft:z,...C}),!an(l)&&_!==null?Y3([],ww({fill:l,fillOpacity:u,...C},function(L,R,X,I,W){const ae=I[e],{marginTop:re,marginRight:le,marginBottom:ee,marginLeft:se}=e==="y"&&W.inset||W,oe=j??(ae.bandwidth?"center":"top"),ne=S??(t==="right"?le:se)-3;return oe==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=oe,this.frameAnchor=`${oe}-${t}`,this.rotate=0),this.dy=oe==="top"?3-re:oe==="bottom"?ee-3:0,this.dx=t==="right"?ne:-ne,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Sw(e,ae,{anchor:t,label:_,labelAnchor:oe,labelArrow:H})]}}}})):null)}function gw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:f,textStroke:c,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=e==="x"?6:0,tickPadding:b,tickRotate:y,y:w,margin:k,marginTop:E=k===void 0?t==="top"?30:0:k,marginRight:$=k===void 0?20:k,marginBottom:A=k===void 0?t==="bottom"?30:0:k,marginLeft:z=k===void 0?20:k,label:_,labelAnchor:j,labelArrow:H,labelOffset:S,...C}){return p=rt(p),b=rt(b),y=rt(y),j!==void 0&&(j=kr(j,"labelAnchor",["center","left","right"])),H=kw(H),By(p&&!an(a)?IN(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:p,tickPadding:b,tickRotate:y,y:w,...C}):null,an(l)?null:qN(e,t,n,{fill:l,fillOpacity:u,stroke:c,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:p,tickPadding:b,tickRotate:y,y:w,marginTop:E,marginRight:$,marginBottom:A,marginLeft:z,...C}),!an(l)&&_!==null?Y3([],ww({fill:l,fillOpacity:u,...C},function(L,R,X,I,W){const ae=I[e],{marginTop:re,marginRight:le,marginBottom:ee,marginLeft:se}=e==="x"&&W.inset||W,oe=j??(ae.bandwidth?"center":"right"),ne=S??(t==="top"?re:ee)-3;return oe==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${oe}`,this.textAnchor=oe==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ne:ne,this.dx=oe==="right"?le-3:oe==="left"?3-se:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Sw(e,ae,{anchor:t,label:_,labelAnchor:oe,labelArrow:H})]}}}})):null)}function DN(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetLeft:f=u,insetRight:c=u,dx:h=0,y:d=e==="y"?void 0:null,...p}){return Yo(EN,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:o,y:d,...p,dx:t==="left"?+h-gn+ +f:+h+gn-c,anchor:"start",length:l,shape:t==="left"?HN:VN})}function IN(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetTop:f=u,insetBottom:c=u,dy:h=0,x:d=e==="x"?void 0:null,...p}){return Yo(AN,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:o,x:d,...p,dy:t==="bottom"?+h-gn-c:+h+gn+ +f,anchor:"start",length:l,shape:t==="bottom"?PN:ON})}function NN(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*Oy):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:f=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:c=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:d=0,insetLeft:p=d,insetRight:b=d,dx:y=0,y:w=e==="y"?void 0:null,...k}){return Yo(hN,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:f,lineAnchor:c,fontVariant:h,rotate:s,y:w,...k,dx:t==="left"?+y-a-o+ +p:+y+ +a+ +o-b},function(E,$,A,z){h===void 0&&(this.fontVariant=Mw(E)),u===void 0&&(z.text=xw(E,$,A,l,t))})}function qN(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*Oy):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:f=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:d=0,insetTop:p=d,insetBottom:b=d,dy:y=0,x:w=e==="x"?void 0:null,...k}){return Yo(cN,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:f,lineAnchor:c,fontVariant:h,rotate:s,x:w,...k,dy:t==="bottom"?+y+ +a+ +o-b:+y-a-o+ +p},function(E,$,A,z){h===void 0&&(this.fontVariant=Mw(E)),u===void 0&&(z.text=xw(E,$,A,l,t))})}function BN(){const[e,t]=G0(...arguments);return vw("y",uw(t),e,t)}function RN(){const[e,t]=G0(...arguments);return vw("fy",fw(t),e,t)}function LN(){const[e,t]=G0(...arguments);return bw("x",cw(t),e,t)}function FN(){const[e,t]=G0(...arguments);return bw("fx",hw(t),e,t)}function vw(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...o}){return Yo(Zy,e,`${e}-grid`,n,{y:r,x1:a,x2:s,...yw(o)})}function bw(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...o}){return Yo(lN,e,`${e}-grid`,n,{x:r,y1:a,y2:s,...yw(o)})}function yw({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function ww({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u=!1},f){return[,e]=r0(e),[,t]=pn(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u,initializer:f}}function Yo(e,t,n,r,i,a){let s;function o(f,c,h,d,p,b){const y=f==null&&(t==="fx"||t==="fy"),{[t]:w}=d;if(!w)throw new Error(`missing scale: ${t}`);let{ticks:k,tickSpacing:E,interval:$}=i;if(H3(w)&&typeof k=="string"&&($=k,k=void 0),f==null){if(o0(k))f=yn(k);else if(w.ticks)if(k!==void 0)f=w.ticks(k);else if($=jo($===void 0?w.interval:$,w.type),$!==void 0){const[z,_]=Vn(w.domain());f=$.range(z,$.offset($.floor(_)))}else{const[z,_]=Vn(w.range());k=(_-z)/(E===void 0?t==="x"?80:35:E),f=w.ticks(k)}else f=w.domain();t==="y"||t==="x"?c=[s0(f)]:s[t]={scale:t,value:Pt}}a==null||a.call(this,w,f,k,s);const A=Object.fromEntries(Object.entries(s).map(([z,_])=>[z,{..._,value:At(f,_.value)}]));return y&&(c=b.filterFacets(f,A)),{data:f,facets:c,channels:A}}const l=wc(i).initializer,u=e(r,wc({...i,initializer:o},l));return r==null?(s=u.channels,u.channels={}):s={},u.ariaLabel=n,u.clip===void 0&&(u.clip=!1),u}function xw(e,t,n,r,i){return{value:Mc(e,t,n,r,i)}}function Mc(e,t,n,r,i){return r===void 0&&H3(e)?zz(e,t,n,i):e.tickFormat?e.tickFormat(o0(n)?null:n,r):r===void 0?Ez(e.interval)?Fl("%Y"):_z(e.interval)?Jc("%Y"):q0:typeof r=="string"?(Xn(e.domain())?Fl:eu)(r):iu(r)}const PN={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},ON={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},HN={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},VN={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Mw(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function UN(e){return Math.sign(Lo(e.domain()))*Math.sign(Lo(e.range()))}function Sw(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&jN(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=UN(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function kw(e="auto"){return an(e)?!1:typeof e=="boolean"?e:kr(e,"labelArrow",["auto","up","right","down","left"])}function jN(e){return H3(e)||e.interval!=null}function Op(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function WN(e,{opacity:t,...n}={}){if(!js(e)&&!qy(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return $w(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",pn(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function YN(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(f=>(f=e.hint)==null?void 0:f.stroke)()!==void 0?e.hint.stroke:an(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...o}={},l){const[c,h]=r0(t),[d,p]=r0(r),b=Op(l,c),y=Op(l,d),w=s*s*Math.PI;return n=pn(n)[1],i=pn(i)[1],a=pn(a)[1],$w(e,o,(k,E,$,A)=>k.append("svg").attr("viewBox","-8 -8 16 16").attr("width",$).attr("height",A).attr("fill",c==="color"?z=>b.scale(z):h).attr("fill-opacity",n).attr("stroke",d==="color"?z=>y.scale(z):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",z=>{const _=j4();return e.scale(z).draw(_,w),_}))}function $w(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=Py(e),swatchSize:s=15,swatchWidth:o=s,swatchHeight:l=s,marginLeft:u=0,className:f,style:c,width:h}=t;const d=R3(t);f=q3(f),typeof i!="function"&&(i=Mc(e.scale,e.domain,void 0,i));const p=Xt("div",d).attr("class",`${f}-swatches ${f}-swatches-${r!=null?"columns":"wrap"}`);let b;return r!=null?(b=`.${f}-swatches-columns .${f}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${f}-swatches-columns .${f}-swatch::before {
  flex-shrink: 0;
}
.${f}-swatches-columns .${f}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(n,e,o,l).call(y=>y.append("div").attr("class",`${f}-swatch-label`).attr("title",i).text(i))):(b=`.${f}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${f}-swatches-wrap .${f}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(n,e,o,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(y=>y.insert("style","*").text(`.${f}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${f}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${b}`)).style("margin-left",u?`${+u}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",xt(a,"normal")).call(B3,c).node()}const km=new Map([["symbol",YN],["color",Cw],["opacity",XN]]);function GN(e,t,n={}){return(r,i)=>{if(!km.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return km.get(r)(e[r],Tw(t,n[r],i),a=>e[a])}}function Tw({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return Xz(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Cw(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return WN(e,n);case"ramp":return QI(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function XN({type:e,interpolate:t,...n},{legend:r=!0,color:i=O0(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Cw({type:e,...n,interpolate:ZN(i)},{legend:r,...a})}function ZN(e){const{r:t,g:n,b:r}=O0(e)||O0(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function QN(e,t,n){const r=[];for(const[i,a]of km){const s=n[i];if(s!=null&&s.legend&&i in e){const o=a(e[i],Tw(t,e[i],s),l=>e[l]);o!=null&&r.push(o)}}return r}const KN={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},JN={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class eq extends Qn{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:o=r,rx:l,ry:u}=t;super(Nf,void 0,t,n==null?KN:JN),this.anchor=C3(n,"anchor",["top","right","bottom","left"]),this.insetTop=rt(i),this.insetRight=rt(a),this.insetBottom=rt(s),this.insetLeft=rt(o),this.rx=rt(l),this.ry=rt(u)}render(t,n,r,i,a){const{marginTop:s,marginRight:o,marginBottom:l,marginLeft:u,width:f,height:c}=i,{anchor:h,insetTop:d,insetRight:p,insetBottom:b,insetLeft:y,rx:w,ry:k}=this,E=u+y,$=f-o-p,A=s+d,z=c-l-b;return Xt(h?"svg:line":"svg:rect",a).datum(0).call(j0,this,i,a).call(W0,this).call(Us,this,r).call(u0,this,{}).call(h==="left"?_=>_.attr("x1",E).attr("x2",E).attr("y1",A).attr("y2",z):h==="right"?_=>_.attr("x1",$).attr("x2",$).attr("y1",A).attr("y2",z):h==="top"?_=>_.attr("x1",E).attr("x2",$).attr("y1",A).attr("y2",A):h==="bottom"?_=>_.attr("x1",E).attr("x2",$).attr("y1",z).attr("y2",z):_=>_.attr("x",E).attr("y",A).attr("width",$-E).attr("height",z-A).attr("rx",w).attr("ry",k)).node()}}function tq(e){return new eq(e)}const g4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},nq=new Set(["geometry","href","src","ariaLabel"]);class rq extends Qn{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&o0(t)&&ty(t)&&(n={...n,title:Pt});const{x:r,y:i,x1:a,x2:s,y1:o,y2:l,anchor:u,monospace:f,fontFamily:c=f?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:d,fontVariant:p,fontWeight:b,lineHeight:y=1,lineWidth:w=20,frameAnchor:k,textAnchor:E="start",textOverflow:$,textPadding:A=8,title:z,pointerSize:_=12,pathFilter:j="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&l!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:o,scale:"y",optional:l==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:o==null},title:{value:z,optional:!0}},n,g4),this.anchor=ny(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=z3(k),this.textAnchor=xt(E,"middle"),this.textPadding=+A,this.pointerSize=+_,this.pathFilter=Vt(j),this.lineHeight=+y,this.lineWidth=+w,this.textOverflow=ew($),this.monospace=!!f,this.fontFamily=Vt(c),this.fontSize=rt(h),this.fontStyle=Vt(d),this.fontVariant=Vt(p),this.fontWeight=Vt(b);for(const H in g4)H in this.channels&&(this[H]=g4[H]);this.splitLines=nw(this),this.clipLine=rw(this)}render(t,n,r,i,a){const s=this,{x:o,y:l,fx:u,fy:f}=n,{ownerSVGElement:c,document:h}=a,{anchor:d,monospace:p,lineHeight:b,lineWidth:y}=this,{textPadding:w,pointerSize:k,pathFilter:E}=this,{marginTop:$,marginLeft:A}=i,z=lq(r),{x1:_,y1:j,x2:H,y2:S,x:C=_??H,y:L=j??S}=r,R=u?u(t.fx)-A:0,X=f?f(t.fy)-$:0,[I,W]=ch(this,i),ae=Ly(r,I),re=Fy(r,W),le=p?X3:G3,ee=le(To),se=u&&Mc(u),oe=f&&Mc(f);function*ne(fe,he){if("title"in fe){const te=fe.title.value[he];for(const xe of s.splitLines(q0(te)))yield{name:"",value:s.clipLine(xe)};return}for(const te in fe){if(te==="x1"&&"x2"in fe||te==="y1"&&"y2"in fe)continue;const xe=fe[te],Te=xe.value[he];if(!(!Ls(Te)&&xe.scale==null))if(te==="x2"&&"x1"in fe)yield{name:Vp(n,fe.x1,xe,"x"),value:Hp(fe.x1,xe,he)};else if(te==="y2"&&"y1"in fe)yield{name:Vp(n,fe.y1,xe,"y"),value:Hp(fe.y1,xe,he)};else{const Y=xe.scale,ke={name:$m(n,xe,te),value:q0(Te)};(Y==="color"||Y==="opacity")&&(ke[Y]=r[te][he]),yield ke}}t.fi!=null&&u&&(yield{name:String(u.label??"fx"),value:se(t.fx)}),t.fi!=null&&f&&(yield{name:String(f.label??"fy"),value:oe(t.fy)})}const Se=Xt("svg:g",a).call(j0,this,i,a).call(tw,this).call(u0,this,{x:C&&o,y:L&&l}).call(fe=>fe.selectAll().data(t).enter().append("g").attr("transform",he=>`translate(${Math.round(ae(he))},${Math.round(re(he))})`).call(W0,this).call(he=>he.append("path").attr("filter",E)).call(he=>he.append("text").each(function(te){const xe=yl(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Te=new Set;for(const Y of ne(z,te)){const ke=Y.name;ke&&Te.has(ke)||(Te.add(ke),Ce(xe,Y))}})));function Ce(fe,{name:he,value:te,color:xe,opacity:Te}){const Y=xe!=null||Te!=null;let ke,Ee=y*100;const[Be]=Fo(he,Ee,le,ee);if(Be>=0)he=he.slice(0,Be).trimEnd()+To,ke=te.trim(),te="";else{(he||!te&&!Y)&&(te=" "+te);const[Ge]=Fo(te,Ee-le(he),le,ee);Ge>=0&&(te=te.slice(0,Ge).trimEnd()+To,ke=te.trim())}const Re=fe.append("tspan").attr("x",0).attr("dy",`${b}em`).text("​");he&&Re.append("tspan").attr("font-weight","bold").text(he),te&&Re.append(()=>h.createTextNode(te)),Y&&Re.append("tspan").text(" ■").attr("fill",xe).attr("fill-opacity",Te).style("user-select","none"),ke&&Re.append("title").text(ke)}function _e(){const{width:fe,height:he}=i.facet??i;Se.selectChildren().each(function(te){let{x:xe,width:Te,height:Y}=this.getBBox();Te=Math.round(Te),Y=Math.round(Y);let ke=d;if(ke===void 0){ke=s.previousAnchor;const Re=ae(te)+R,Ge=re(te)+X,mt=Re+Te+w*2<fe,yt=Re-Te-w*2>0,Ot=Ge+Y+k+w*2+7<he,Zt=Ge-Y-k-w*2>0,_t=(/-left$/.test(ke)?mt||!yt:mt&&!yt)?"left":"right",Ws=(/^top-/.test(ke)?Ot||!Zt:Ot&&!Zt)?"top":"bottom";ke=s.previousAnchor=`${Ws}-${_t}`}const Ee=this.firstChild,Be=this.lastChild;if(Ee.setAttribute("d",oq(ke,k,w,Te,Y)),xe)for(const Re of Be.childNodes)Re.setAttribute("x",-xe);Be.setAttribute("y",`${+aq(ke,Be.childNodes.length,b).toFixed(6)}em`),Be.setAttribute("transform",`translate(${sq(ke,k,w,Te,Y)})`)})}return c.isConnected?Promise.resolve().then(_e):typeof requestAnimationFrame<"u"&&requestAnimationFrame(_e),Se.node()}}function iq(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=E3(t,n)),new rq(e,{...r,x:t,y:n})}function aq(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function sq(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function oq(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function lq({channels:e}){const t={};for(const n in e){if(nq.has(n))continue;const r=xD(e,n);r&&(t[n]=r)}return t}function Hp(e,t,n){var r;return(r=t.hint)!=null&&r.length?`${q0(t.value[n]-e.value[n])}`:`${q0(e.value[n])}–${q0(t.value[n])}`}function Vp(e,t,n,r){const i=$m(e,t,r),a=$m(e,n,r);return i===a?i:`${i}–${a}`}function $m(e,t,n){var r;return String(((r=e[t.scale])==null?void 0:r.label)??(t==null?void 0:t.label)??n)}function lu(e={}){var le;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:o}=e,l=q3(e.className),u=e.marks===void 0?[]:jp(e.marks);u.push(...gq(u));const f=mq(t,e),c=new Map;for(const ee of u){const se=Wp(ee,f,e);se&&c.set(ee,se)}const h=new Map;f&&sl(h,[f],e),sl(h,c,e);const d=jp(vq(u,h,e));for(const ee of d){const se=Wp(ee,f,e);se&&c.set(ee,se)}u.unshift(...d);let p=NI(h,e);if(p!==void 0){const ee=f?m4(p,f):void 0;for(const oe of u){if(oe.facet===null||oe.facet==="super")continue;const ne=c.get(oe);ne!==void 0&&(ne.facetsIndex=oe.fx!=null||oe.fy!=null?m4(p,ne):ee)}const se=new Set;for(const{facetsIndex:oe}of c.values())oe==null||oe.forEach((ne,Se)=>{(ne==null?void 0:ne.length)>0&&se.add(Se)});p.forEach(0<se.size&&se.size<p.length?(oe,ne)=>oe.empty=!se.has(ne):oe=>oe.empty=!1);for(const oe of u)if(oe.facet==="exclude"){const ne=c.get(oe);ne!==void 0&&(ne.facetsIndex=RI(ne.facetsIndex))}}for(const ee of ht.keys())bm(e[ee])&&ee!=="fx"&&ee!=="fy"&&h.set(ee,[]);const b=new Map;for(const ee of u){if(b.has(ee))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:se,channels:oe}=c.get(ee)??{},{data:ne,facets:Se,channels:Ce}=ee.initialize(se,oe,e);Z3(Ce,e),b.set(ee,{data:ne,facets:Se,channels:Ce})}const y=xm(sl(h,b,e),e),w=Ap(y),k=DI(y,u,e);SI(y,k);const{fx:E,fy:$}=w,A=E||$?Dy(y,k):k,z=E||$?kq(w,k):k,_=R3(e),j=_.document,H=qc("svg").call(j.documentElement);let S=H;_.ownerSVGElement=H,_.className=l,_.projection=BD(e,A),_.filterFacets=(ee,se)=>m4(p,{channels:se,groups:V3(ee,se)}),_.getMarkState=ee=>{const se=b.get(ee),oe=c.get(ee);return{...se,channels:{...se.channels,...oe==null?void 0:oe.channels}}},_.dispatchValue=ee=>{S.value!==ee&&(S.value=ee,S.dispatchEvent(new Event("input",{bubbles:!0})))};const C=new Set;for(const[ee,se]of b)if(ee.initializer!=null){const oe=ee.facet==="super"?z:A,ne=ee.initializer(se.data,se.facets,se.channels,w,oe,_);if(ne.data!==void 0&&(se.data=ne.data),ne.facets!==void 0&&(se.facets=ne.facets),ne.channels!==void 0){const{fx:Se,fy:Ce,..._e}=ne.channels;dq(_e),Object.assign(se.channels,_e);for(const fe of Object.values(_e)){const{scale:he}=fe;he!=null&&!Qz(ht.get(he))&&(Aw(fe,e),C.add(he))}(Se!=null||Ce!=null)&&c.set(ee,!0)}}if(C.size){const ee=new Map;sl(ee,b,e,ne=>C.has(ne)),sl(h,b,e,ne=>C.has(ne));const se=Sq(xm(ee,e),y),oe=Ap(se);Object.assign(y,se),Object.assign(w,oe)}let L,R;p!==void 0&&(L={x:E==null?void 0:E.domain(),y:$==null?void 0:$.domain()},p=qI(p,L),R=BI(E,$,k));for(const[ee,se]of b)se.values=ee.scale(se.channels,w,_);const{width:X,height:I}=k;yl(H).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",X).attr("height",I).attr("viewBox",`0 0 ${X} ${I}`).attr("aria-label",s).attr("aria-description",o).call(ee=>ee.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(B3,n);for(const ee of u){const{channels:se,values:oe,facets:ne}=b.get(ee);if(p===void 0||ee.facet==="super"){let Se=null;if(ne&&(Se=ne[0],Se=ee.filter(Se,se,oe),Se.length===0))continue;const Ce=ee.render(Se,w,oe,z,_);if(Ce==null)continue;H.appendChild(Ce)}else{let Se;for(const Ce of p){if(!(((le=ee.facetAnchor)==null?void 0:le.call(ee,p,L,Ce))??!Ce.empty))continue;let _e=null;if(ne){const he=c.has(ee);if(_e=ne[he?Ce.i:0],_e=ee.filter(_e,se,oe),_e.length===0)continue;!he&&_e===ne[0]&&(_e=Pz(_e)),_e.fx=Ce.x,_e.fy=Ce.y,_e.fi=Ce.i}const fe=ee.render(_e,w,oe,A,_);if(fe!=null){(Se??(Se=yl(H).append("g"))).append(()=>fe).datum(Ce);for(const he of["aria-label","aria-description","aria-hidden","transform"])fe.hasAttribute(he)&&(Se.attr(he,fe.getAttribute(he)),fe.removeAttribute(he))}}Se==null||Se.selectChildren().attr("transform",R)}}const W=QN(y,_,e),{figure:ae=r!=null||i!=null||a!=null||W.length>0}=e;ae&&(S=j.createElement("figure"),S.className=`${l}-figure`,S.style.maxWidth="initial",r!=null&&S.append(Up(j,r,"h2")),i!=null&&S.append(Up(j,i,"h3")),S.append(...W,H),a!=null&&S.append(uq(j,a))),S.scale=_I(y),S.legend=GN(y,_,e);const re=CD();return re>0&&yl(H).append("text").attr("x",X).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${re.toLocaleString("en-US")} warning${re===1?"":"s"}. Please check the console.`),S}function Up(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(e.createTextNode(t)),r}function uq(e,t){const n=e.createElement("figcaption");return n.append(t.ownerDocument?t:e.createTextNode(t)),n}function fq({marks:e=[],...t}={}){return lu({...t,marks:[...e,this]})}Qn.prototype.plot=fq;function jp(e){return e.flat(1/0).filter(t=>t!=null).map(cq)}function cq(e){return typeof e.render=="function"?e:new hq(e)}class hq extends Qn{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Z3(e,t){for(const n in e)Aw(e[n],t);return e}function Aw(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:o=a?l=>l*100:ey(s,i)}=t[n]??{};o!=null&&(e.value=St(e.value,o),e.transform=!1)}function dq(e){for(const t in e)my(t,e[t])}function sl(e,t,n,r=Bz){var i,a;for(const{channels:s}of t.values())for(const o in s){const l=s[o],{scale:u}=l;if(u!=null&&r(u))if(u==="projection"){if(!PD(n)){const f=((i=n.x)==null?void 0:i.domain)===void 0,c=((a=n.y)==null?void 0:a.domain)===void 0;if(f||c){const[h,d]=HD(l);f&&v4(e,"x",h),c&&v4(e,"y",d)}}}else v4(e,u,l)}return e}function v4(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function mq(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=yn(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Ul(i,{value:n,scale:"fx"})),r!=null&&(a.fy=Ul(i,{value:r,scale:"fy"})),Z3(a,t);const s=V3(i,a);return{channels:a,groups:s,data:e.data}}function Wp(e,t,n){var l;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=yn(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const f={};return r!=null&&(f.fx=Ul(u,{value:r,scale:"fx"})),i!=null&&(f.fy=Ul(u,{value:i,scale:"fy"})),Z3(f,n),{channels:f,groups:V3(u,f)}}if(t===void 0)return;const{channels:a,groups:s,data:o}=t;if(e.facet!=="auto"||e.data===o)return{channels:a,groups:s};o.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((l=yn(e.data))==null?void 0:l.length)===o.length&&$o(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function pq(e,t={}){return wc({...t,x:null,y:null},(n,r,i,a,s,o)=>o.getMarkState(e))}function gq(e){const t=[];for(const n of e){const r=n.tip;if(r){const a=(r==="x"?XI:r==="y"?ZI:GI)(pq(n));a.title=null,t.push(iq(n.data,a))}}return t}function vq(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:o={},axis:l,grid:u,facet:f={},facet:{axis:c=l,grid:h}=f,x:{axis:d=l,grid:p=d===null?null:u}=i,y:{axis:b=l,grid:y=b===null?null:u}=a,fx:{axis:w=c,grid:k=w===null?null:h}=s,fy:{axis:E=c,grid:$=E===null?null:h}=o}=n;(r||!bm(i)&&!Yp("x",e))&&(d=p=null),(r||!bm(a)&&!Yp("y",e))&&(b=y=null),t.has("fx")||(w=k=null),t.has("fy")||(E=$=null),d===void 0&&(d=!Sf(e,"x")),b===void 0&&(b=!Sf(e,"y")),w===void 0&&(w=!Sf(e,"fx")),E===void 0&&(E=!Sf(e,"fy")),d===!0&&(d="bottom"),b===!0&&(b="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),E===!0&&(E=b==="right"||b===null?"left":"right");const A=[];return Mf(A,$,RN,o),xf(A,E,_N,"right","left",f,o),Mf(A,k,FN,s),xf(A,w,zN,"top","bottom",f,s),Mf(A,y,BN,a),xf(A,b,dw,"left","right",n,a),Mf(A,p,LN,i),xf(A,d,mw,"bottom","top",n,i),A}function xf(e,t,n,r,i,a,s){if(!t)return;const o=bq(t);s=yq(o?r:t,a,s);const{line:l}=s;(n===dw||n===mw)&&l&&!Vl(l)&&e.push(tq(wq(s))),e.push(n(s)),o&&e.push(n({...s,anchor:i,label:null}))}function Mf(e,t,n,r){!t||Vl(t)||e.push(n(xq(t,r)))}function bq(e){return/^\s*both\s*$/i.test(e)}function yq(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:c,label:h=t.label,labelAnchor:d,labelArrow:p=t.labelArrow,labelOffset:b}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:c,label:h,labelAnchor:d,labelArrow:p,labelOffset:b}}function wq(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function xq(e,{stroke:t=sh(e)?e:void 0,ticks:n=Mq(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function Mq(e){switch(typeof e){case"number":return!0;case"string":return!sh(e)}return o0(e)||typeof(e==null?void 0:e.range)=="function"}function Sf(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Yp(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function Sq(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function kq({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=O3(n),u=e&&Gp(e),f=t&&Gp(t);return{marginTop:t?f[0]:r,marginRight:e?o-u[1]:i,marginBottom:t?l-f[1]:a,marginLeft:e?u[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:o,height:l}}function Gp(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}function $q(e={y:"count"},t={}){[e,t]=Cq(e,t);const{x:n,y:r}=t;return Tq(Aq(n,t,Pt),null,null,r,e,gh(t))}function Tq(e,t,n,r,{data:i=hy,filter:a=xc,sort:s,reverse:o,...l}={},u={}){e=Xp(e),t=Xp(t),l=_q(l,u),i=zw(i,Pt),s=s==null?void 0:Ew("sort",s,u),a=a==null?void 0:_w("filter",a,u),n!=null&&vf(l,"x","x1","x2")&&(n=null),r!=null&&vf(l,"y","y1","y2")&&(r=null);const[f,c]=Lr(e),[h,d]=Lr(e),[p,b]=Lr(t),[y,w]=Lr(t),[k,E]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[$,A]=Lr(k),{x:z,y:_,z:j,fill:H,stroke:S,x1:C,x2:L,y1:R,y2:X,domain:I,cumulative:W,thresholds:ae,interval:re,...le}=u,[ee,se]=Lr(j),[oe]=r0(H),[ne]=r0(S),[Se,Ce]=Lr(oe),[_e,fe]=Lr(ne);return{..."z"in u&&{z:ee||j},..."fill"in u&&{fill:Se||H},..."stroke"in u&&{stroke:_e||S},...I3(le,(he,te,xe)=>{const Te=Jb(At(he,k),xe==null?void 0:xe[E]),Y=At(he,j),ke=At(he,oe),Ee=At(he,ne),Be=oD(l,{z:Y,fill:ke,stroke:Ee}),Re=[],Ge=[],mt=Te&&A([]),yt=Y&&se([]),Ot=ke&&Ce([]),Zt=Ee&&fe([]),_t=e&&c([]),Ws=e&&d([]),X0=t&&b([]),$r=t&&w([]),uu=Nq(e==null?void 0:e(he),t==null?void 0:t(he));let Ys=0;for(const Qt of l)Qt.initialize(he);s&&s.initialize(he),a&&a.initialize(he);for(const Qt of te){const Go=[];for(const Kn of l)Kn.scope("facet",Qt);s&&s.scope("facet",Qt),a&&a.scope("facet",Qt);for(const[Kn,Tr]of gp(Qt,Be))for(const[fu,Gs]of gp(Tr,Te))for(const[Dt,Jn]of uu(Gs))if(!(a&&!a.reduce(Dt,Jn))){Go.push(Ys++),Ge.push(i.reduceIndex(Dt,he,Jn)),Te&&mt.push(fu),Y&&yt.push(Be===Y?Kn:Y[Dt[0]]),ke&&Ot.push(Be===ke?Kn:ke[Dt[0]]),Ee&&Zt.push(Be===Ee?Kn:Ee[Dt[0]]),_t&&(_t.push(Jn.x1),Ws.push(Jn.x2)),X0&&(X0.push(Jn.y1),$r.push(Jn.y2));for(const Xs of l)Xs.reduce(Dt,Jn);s&&s.reduce(Dt)}Re.push(Go)}return lD(Re,s,o),{data:Ge,facets:Re}}),...!vf(l,"x")&&(f?{x1:f,x2:h,x:yc(f,h)}:{x:z,x1:C,x2:L}),...!vf(l,"y")&&(p?{y1:p,y2:y,y:yc(p,y)}:{y:_,y1:R,y2:X}),...$&&{[E]:$},...Object.fromEntries(l.map(({name:he,output:te})=>[he,te]))}}function Cq({cumulative:e,domain:t,thresholds:n,interval:r,...i},a){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...a}]}function Aq(e,{cumulative:t,domain:n,thresholds:r,interval:i},a){return e={...au(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=a),e.thresholds=Eq(e.thresholds,e.interval),e}function Xp(e){if(e==null)return;const{value:t,cumulative:n,domain:r=Vn,thresholds:i}=e,a=s=>{let o=At(s,t),l;if(Xn(o)||Dq(i)){o=St(o,Yb,Float64Array);let[f,c]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!gl(i)?i(o,f,c):i;typeof h=="number"&&(h=sv(f,c,h)),gl(h)&&(r===Vn&&(f=h.floor(f),c=h.offset(h.floor(c))),h=h.range(f,h.offset(c))),l=h}else{o=vc(o);let[f,c]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!gl(i)?i(o,f,c):i;if(typeof h=="number")if(r===Vn){let d=Hf(f,c,h);if(isFinite(d))if(d>0){let p=Math.round(f/d),b=Math.round(c/d);p*d<=f||--p,b*d>c||++b;let y=b-p+1;h=new Float64Array(y);for(let w=0;w<y;++w)h[w]=(p+w)*d}else if(d<0){d=-d;let p=Math.round(f*d),b=Math.round(c*d);p/d<=f||--p,b/d>c||++b;let y=b-p+1;h=new Float64Array(y);for(let w=0;w<y;++w)h[w]=(p+w)/d}else h=[f];else h=[f]}else h=zl(f,c,h);else gl(h)&&(r===Vn&&(f=h.floor(f),c=h.offset(h.floor(c))),h=h.range(f,h.offset(c)));l=h}const u=[];if(l.length===1)u.push([l[0],l[0]]);else for(let f=1;f<l.length;++f)u.push([l[f-1],l[f]]);return u.bin=(n<0?Bq:n>0?qq:Q3)(u,l,o),u};return a.label=Vs(t),a}function Eq(e,t,n=Zp){if(e===void 0)return t===void 0?n:jo(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return ES;case"scott":return y9;case"sturges":return $S;case"auto":return Zp}return jb(e)}return e}function _q(e,t){return iD(e,t,Ew)}function Ew(e,t,n){return fy(e,t,n,_w)}function _w(e,t,n){return cy(e,t,n,zw)}function zw(e,t){return N3(e,t,zq)}function zq(e){switch(`${e}`.toLowerCase()){case"x":return Rq;case"x1":return Fq;case"x2":return Pq;case"y":return Lq;case"y1":return Oq;case"y2":return Hq}throw new Error(`invalid bin reduce: ${e}`)}function Zp(e,t,n){return Math.min(200,y9(e,t,n))}function Dq(e){return Iq(e)||o0(e)&&Xn(e)}function Iq(e){return gl(e)&&typeof e=="function"&&e()instanceof Date}function gl(e){return typeof(e==null?void 0:e.range)=="function"}function Nq(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries()){const o=t.bin(r[i]);for(const[l,[u,f]]of t.entries())yield[o[l],{x1:a,y1:u,x2:s,y2:f}]}}:e?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries())yield[r[i],{x1:a,x2:s}]}:function*(n){const r=t.bin(n);for(const[i,[a,s]]of t.entries())yield[r[i],{y1:a,y2:s}]}}function Q3(e,t,n){return t=vc(t),r=>{var a;const i=e.map(()=>[]);for(const s of r)(a=i[Ic(t,n[s])-1])==null||a.push(s);return i}}function qq(e,t,n){const r=Q3(e,t,n);return i=>{const a=r(i);for(let s=1,o=a.length;s<o;++s){const l=a[s-1],u=a[s];for(const f of l)u.push(f)}return a}}function Bq(e,t,n){const r=Q3(e,t,n);return i=>{const a=r(i);for(let s=a.length-2;s>=0;--s){const o=a[s+1],l=a[s];for(const u of o)l.push(u)}return a}}function Dw(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const Rq={reduceIndex(e,t,{x1:n,x2:r}){return Dw(n,r)}},Lq={reduceIndex(e,t,{y1:n,y2:r}){return Dw(n,r)}},Fq={reduceIndex(e,t,{x1:n}){return n}},Pq={reduceIndex(e,t,{x2:n}){return n}},Oq={reduceIndex(e,t,{y1:n}){return n}},Hq={reduceIndex(e,t,{y2:n}){return n}};function Vq(e={}){return Gb(e)?e:{...e,x:Pt}}function Uq(e={}){return Xb(e)?e:{...e,y:Pt}}function jq(e={},t={}){arguments.length===1&&([e,t]=Iw(e));const{y1:n,y:r=n,x:i,...a}=t,[s,o,l,u]=Nw(r,i,"y","x",e,a);return{...s,y1:n,y:o,x1:l,x2:u,x:yc(l,u)}}function Wq(e={},t={}){arguments.length===1&&([e,t]=Iw(e));const{x1:n,x:r=n,y:i,...a}=t,[s,o,l,u]=Nw(r,i,"x","y",e,a);return{...s,x1:n,x:o,y1:l,y2:u,y:yc(l,u)}}function Yq({x:e,x1:t,x2:n,...r}={}){return r=ph(r,"y"),t===void 0&&n===void 0?jq({x:e,...r}):([t,n]=Qb(e,t,n),{...r,x1:t,x2:n})}function Gq({y:e,y1:t,y2:n,...r}={}){return r=ph(r,"x"),t===void 0&&n===void 0?Wq({y:e,...r}):([t,n]=Qb(e,t,n),{...r,y1:t,y2:n})}function Iw(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const Xq={length:!0};function Nw(e,t=qz,n,r,{offset:i,order:a,reverse:s},o){if(t===null)throw new Error(`stack requires ${r}`);const l=Fz(o),[u,f]=Lr(e),[c,h]=bc(t),[d,p]=bc(t);return c.hint=d.hint=Xq,i=Zq(i),a=Jq(a,i,r),[I3(o,(b,y,w)=>{const k=e==null?void 0:f(Jb(At(b,e),w==null?void 0:w[n])),E=At(b,t,Float64Array),$=At(b,l),A=a&&a(b,k,E,$),z=b.length,_=h(new Float64Array(z)),j=p(new Float64Array(z)),H=[];for(const S of y){const C=k?Array.from(Xm(S,L=>k[L]).values()):[S];if(A)for(const L of C)L.sort(A);for(const L of C){let R=0,X=0;s&&L.reverse();for(const I of L){const W=E[I];W<0?R=j[I]=(_[I]=R)+W:W>0?X=j[I]=(_[I]=X)+W:j[I]=_[I]=X}}H.push(C)}return i&&i(H,_,j,$),{data:b,facets:y}}),u,c,d]}function Zq(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Qq;case"center":case"silhouette":return Kq;case"wiggle":return Bw}throw new Error(`unknown offset: ${e}`)}}function qw(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function Qq(e,t,n){for(const r of e)for(const i of r){const[a,s]=qw(i,n);for(const o of i){const l=1/(s-a||1);t[o]=l*(t[o]-a),n[o]=l*(n[o]-a)}}}function Kq(e,t,n){for(const r of e){for(const i of r){const[a,s]=qw(i,n);for(const o of i){const l=(s+a)/2;t[o]-=l,n[o]-=l}}Rw(r,t,n)}Lw(e,t,n)}function Bw(e,t,n,r){for(const i of e){const a=new zs;let s=0;for(const o of i){let l=-1;const u=o.map(d=>Math.abs(n[d]-t[d])),f=o.map(d=>{l=r?r[d]:++l;const p=n[d]-t[d],b=a.has(l)?p-a.get(l):0;return a.set(l,p),b}),c=[0,...yS(f)];for(const d of o)t[d]+=s,n[d]+=s;const h=P0(u);h&&(s-=P0(u,(d,p)=>(f[p]/2+c[p])*d)/h)}Rw(i,t,n)}Lw(e,t,n)}function Rw(e,t,n){const r=Kr(e,i=>Kr(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Lw(e,t,n){const r=e.length;if(r===1)return;const i=e.map(o=>o.flat()),a=i.map(o=>(Kr(o,l=>t[l])+vr(o,l=>n[l]))/2),s=Kr(a);for(let o=0;o<r;o++){const l=s-a[o];for(const u of i[o])t[u]+=l,n[u]+=l}}function Jq(e,t,n){if(e===void 0&&t===Bw)return Qp(Gn);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?gc:Gn;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return eB(i);case"z":return tB(i);case"sum":return nB(i);case"appearance":return rB(i);case"inside-out":return Qp(i)}return Kp(Wb(e))}if(typeof e=="function")return(e.length===1?Kp:iB)(e);if(Array.isArray(e))return aB(e);throw new Error(`invalid order: ${e}`)}}function eB(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function tB(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function nB(e){return bh(e,(t,n,r,i)=>Qm(s0(t),a=>P0(a,s=>r[s]),a=>i[a]))}function rB(e){return bh(e,(t,n,r,i)=>Qm(s0(t),a=>n[b9(a,s=>r[s])],a=>i[a]))}function Qp(e){return bh(e,(t,n,r,i)=>{const a=s0(t),s=Qm(a,c=>n[b9(c,h=>r[h])],c=>i[c]),o=Mo(a,c=>P0(c,h=>r[h]),c=>i[c]),l=[],u=[];let f=0;for(const c of s)f<0?(f+=o.get(c),l.push(c)):(f-=o.get(c),u.push(c));return u.reverse().concat(l)})}function Kp(e){return t=>{const n=At(t,e);return(r,i)=>Gn(n[r],n[i])}}function iB(e){return t=>(n,r)=>e(t[n],t[r])}function aB(e){return bh(Gn,()=>e)}function bh(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new zs(t(n,r,i,a).map((o,l)=>[o,l]));return(o,l)=>e(s.get(a[o]),s.get(a[l]))}}class Fw extends Qn{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:o=a,insetBottom:l=a,insetLeft:u=a,rx:f,ry:c}=r;this.insetTop=rt(s),this.insetRight=rt(o),this.insetBottom=rt(l),this.insetLeft=rt(u),this.rx=xt(f,"auto"),this.ry=xt(c,"auto")}render(t,n,r,i,a){const{rx:s,ry:o}=this;return Xt("svg:g",a).call(j0,this,i,a).call(this._transform,this,n).call(l=>l.selectAll().data(t).enter().append("rect").call(W0,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(We,"rx",s).call(We,"ry",o).call(Us,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}}const sB={ariaLabel:"bar"};class oB extends Fw{constructor(t,n={}){const{x1:r,x2:i,y:a}=n;super(t,{x1:{value:r,scale:"x"},x2:{value:i,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,sB)}_transform(t,n,{x:r}){t.call(u0,n,{x:r},0,0)}_x({x:t},{x1:n,x2:r},{marginLeft:i}){const{insetLeft:a}=this;return dr(t)?i+a:s=>Math.min(n[s],r[s])+a}_width({x:t},{x1:n,x2:r},{marginRight:i,marginLeft:a,width:s}){const{insetLeft:o,insetRight:l}=this;return dr(t)?s-i-a-o-l:u=>Math.max(0,Math.abs(r[u]-n[u])-o-l)}}function Pw(e,t={}){return Zb(t)||(t={...t,y:k3,x2:Pt}),new oB(e,Yq(Gy(Vq(t))))}const lB={ariaLabel:"cell"};class uB extends Fw{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,lB)}_transform(t,n){t.call(u0,n,{},0,0)}}function fB(e,{x:t,y:n,...r}={}){return[t,n]=E3(t,n),new uB(e,{...r,x:t,y:n})}const cB={ariaLabel:"rect"};class hB extends Qn{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:o=0,insetTop:l=o,insetRight:u=o,insetBottom:f=o,insetLeft:c=o,rx:h,ry:d}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,cB),this.insetTop=rt(l),this.insetRight=rt(u),this.insetBottom=rt(f),this.insetLeft=rt(c),this.rx=xt(h,"auto"),this.ry=xt(d,"auto")}render(t,n,r,i,a){const{x:s,y:o}=n,{x1:l,y1:u,x2:f,y2:c}=r,{marginTop:h,marginRight:d,marginBottom:p,marginLeft:b,width:y,height:w}=i,{projection:k}=a,{insetTop:E,insetRight:$,insetBottom:A,insetLeft:z,rx:_,ry:j}=this;return Xt("svg:g",a).call(j0,this,i,a).call(u0,this,{x:l&&f&&s,y:u&&c&&o},0,0).call(H=>H.selectAll().data(t).enter().append("rect").call(W0,this).attr("x",l&&f&&(k||!dr(s))?S=>Math.min(l[S],f[S])+z:b+z).attr("y",u&&c&&(k||!dr(o))?S=>Math.min(u[S],c[S])+E:h+E).attr("width",l&&f&&(k||!dr(s))?S=>Math.max(0,Math.abs(f[S]-l[S])-z-$):y-d-b-$-z).attr("height",u&&c&&(k||!dr(o))?S=>Math.max(0,Math.abs(u[S]-c[S])-E-A):w-h-p-E-A).call(We,"rx",_).call(We,"ry",j).call(Us,this,r)).node()}}function dB(e,t={}){return Zb(t)||(t={...t,x:k3,y2:Pt,interval:1}),new hB(e,Gq(nN(Uq(t))))}function mB(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=P(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){O(t,"role","img")},m(i,a){D(i,t,a),e[9](t),n||(r=vt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[9](null),n=!1,r()}}}function Jp(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function pB(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:f="background: none;"}=t;function c(d){$c.call(this,e,d)}function h(d){Un[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,f=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:f}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let p=Jp(a,o);s&&(p=p.concat(Jp(s,o,"Quantized Weights (Q)"))),i==null||i.append(lu({padding:0,grid:!0,x:{axis:null,label:"column",inset:30},y:{axis:null,label:"row"},color:{type:"diverging",scheme:"RdBu",legend:!0,style:"background:none;"},marks:[fB(p,{x:"i",y:"j",fx:"label",fill:"weight",inset:.5,tip:!0})],...r,facet:{label:null}}))}},[i,a,s,o,l,u,f,r,c,h]}class gB extends Wt{constructor(t){super(),Yt(this,t,pB,mB,jt,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function vB(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=P(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){O(t,"role","img")},m(i,a){D(i,t,a),e[9](t),n||(r=vt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[9](null),n=!1,r()}}}function e8(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function bB(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:f="background: none;"}=t;function c(d){$c.call(this,e,d)}function h(d){Un[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,f=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:f}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let p=e8(a,o);s&&(p=p.concat(e8(s,o,"Quantized Weights (Q)"))),i==null||i.append(lu({facet:{label:null},y:{grid:!0},color:{style:"background:none;",type:"diverging",scheme:"RdBu"},marks:[dB(p,$q({y:"count"},{x:"weight",fx:"label",fill:"weight"})),Zy([0])],...r}))}},[i,a,s,o,l,u,f,r,c,h]}class yB extends Wt{constructor(t){super(),Yt(this,t,bB,vB,jt,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function wB(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=P(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){O(t,"role","img")},m(i,a){D(i,t,a),e[8](t),n||(r=vt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[8](null),n=!1,r()}}}function xB(e,t,n){let r,i,{data:a=[{error:0,label:"Operator Norm"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function f(h){$c.call(this,e,h)}function c(h){Un[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&99&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(lu({marginLeft:80,marginRight:50,x:{domain:u},y:{label:null},marks:[Pw(d,{y:"label",x:"error",fill:"darkgrey",fillOpacity:.5}),Y3(d,{x:"error",y:"label",text:p=>p.error.toFixed(3),textAnchor:"start",dx:5,fontSize:14,fontStyle:"italic"})],...r}))}},[i,a,s,o,l,u,r,f,c]}class MB extends Wt{constructor(t){super(),Yt(this,t,xB,wB,jt,{data:1,width:2,height:3,style:4,domain:5})}}function SB(e){const t=$B(e),n=K_(t);return kB(n)}function kB(e){const[t,n]=[e.rows,e.columns],r=Ke.$(t*n,[t,n],"f32");for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[r.index2D(i,a)]=e.data[i][a];return r}function $B(e){const[t,n]=e.shape,r=new De(t,n);for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[i][a]=e.value2D(i,a);return r}function TB(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=P(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){O(t,"role","img")},m(i,a){D(i,t,a),e[8](t),n||(r=vt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[8](null),n=!1,r()}}}function CB(e,t,n){let r,i,{data:a=[{size:2e3,label:"Original"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function f(h){$c.call(this,e,h)}function c(h){Un[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&67&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(lu({marginLeft:80,marginRight:50,x:{},y:{label:null},marks:[Pw(d,{y:"label",x:"size",fill:"darkgrey",fillOpacity:.5})],...r}))}},[i,a,s,o,l,u,r,f,c]}class AB extends Wt{constructor(t){super(),Yt(this,t,CB,TB,jt,{data:1,width:2,height:3,style:4,domain:5})}}function b4(e){const t=e.slice(),n=t[3].reconstruct();return t[13]=n,t}function t8(e,t,n){const r=e.slice();return r[14]=t[n],r}function n8(e){let t,n=e[14]+"",r;return{c(){t=F("option"),r=K(n),this.h()},l(i){t=P(i,"OPTION",{});var a=ie(t);r=J(a,n),a.forEach(M),this.h()},h(){t.__value=e[14],Gr(t,t.__value)},m(i,a){D(i,t,a),N(t,r)},p:Xe,d(i){i&&M(t)}}}function r8(e){let t,n,r,i;return t=new gB({props:{data:e[2].data,data2:e[13].data,shape:[kl,$l],height:200}}),r=new yB({props:{data:e[2].data,data2:e[13].data,shape:[kl,$l],height:200}}),{c(){ge(t.$$.fragment),n=Z(),ge(r.$$.fragment)},l(a){ve(t.$$.fragment,a),n=Q(a),ve(r.$$.fragment,a)},m(a,s){be(t,a,s),D(a,n,s),be(r,a,s),i=!0},p(a,s){const o={};s&4&&(o.data=a[2].data),s&8&&(o.data2=a[13].data),t.$set(o);const l={};s&4&&(l.data=a[2].data),s&8&&(l.data2=a[13].data),r.$set(l)},i(a){i||(de(t.$$.fragment,a),de(r.$$.fragment,a),i=!0)},o(a){me(t.$$.fragment,a),me(r.$$.fragment,a),i=!1},d(a){a&&M(n),ye(t,a),ye(r,a)}}}function EB(e){let t,n,r,i,a,s,o,l,u,f,c,h,d,p,b,y,w=e[4].toFixed(3)+"",k,E,$,A,z,_=(e[5]*e[4]).toFixed(3)+"",j,H,S,C,L=B0(Object.keys(e[6])),R=[];for(let I=0;I<L.length;I+=1)R[I]=n8(t8(e,L,I));let X=e[2]&&r8(b4(e));return f=new AB({props:{data:[{label:"W bytes",size:kf(e[2])/8},{label:"Q bytes",size:kf(e[3],e[1])/8}]}}),h=new MB({props:{data:[{label:"||W-Q||/||W||",error:e[5]}]}}),b=new ze({props:{text:"||W|| \\ ||W^[-1]||"}}),A=new ze({props:{text:"\\left(||W||| \\ |W^[-1]||\\right)\\left(||W-Q||/||W||\\right)"}}),{c(){t=F("select");for(let I=0;I<R.length;I+=1)R[I].c();n=Z(),r=F("input"),i=Z(),a=F("span"),s=K(e[1]),o=K(" bits"),l=Z(),X&&X.c(),u=Z(),ge(f.$$.fragment),c=Z(),ge(h.$$.fragment),d=Z(),p=F("div"),ge(b.$$.fragment),y=K(" as condition number = "),k=K(w),E=Z(),$=F("div"),ge(A.$$.fragment),z=K(` as
	combined error = `),j=K(_),this.h()},l(I){t=P(I,"SELECT",{});var W=ie(t);for(let ee=0;ee<R.length;ee+=1)R[ee].l(W);W.forEach(M),n=Q(I),r=P(I,"INPUT",{type:!0,min:!0,max:!0}),i=Q(I),a=P(I,"SPAN",{class:!0});var ae=ie(a);s=J(ae,e[1]),o=J(ae," bits"),ae.forEach(M),l=Q(I),X&&X.l(I),u=Q(I),ve(f.$$.fragment,I),c=Q(I),ve(h.$$.fragment,I),d=Q(I),p=P(I,"DIV",{class:!0});var re=ie(p);ve(b.$$.fragment,re),y=J(re," as condition number = "),k=J(re,w),re.forEach(M),E=Q(I),$=P(I,"DIV",{class:!0});var le=ie($);ve(A.$$.fragment,le),z=J(le,` as
	combined error = `),j=J(le,_),le.forEach(M),this.h()},h(){e[0]===void 0&&Uw(()=>e[7].call(t)),O(r,"type","range"),O(r,"min","1"),O(r,"max","8"),O(a,"class","label svelte-93sz7w"),O(p,"class","label svelte-93sz7w"),O($,"class","label svelte-93sz7w")},m(I,W){D(I,t,W);for(let ae=0;ae<R.length;ae+=1)R[ae]&&R[ae].m(t,null);c6(t,e[0],!0),D(I,n,W),D(I,r,W),Gr(r,e[1]),D(I,i,W),D(I,a,W),N(a,s),N(a,o),D(I,l,W),X&&X.m(I,W),D(I,u,W),be(f,I,W),D(I,c,W),be(h,I,W),D(I,d,W),D(I,p,W),be(b,p,null),N(p,y),N(p,k),D(I,E,W),D(I,$,W),be(A,$,null),N($,z),N($,j),H=!0,S||(C=[vt(t,"change",e[7]),vt(r,"change",e[8]),vt(r,"input",e[8])],S=!0)},p(I,[W]){if(W&64){L=B0(Object.keys(I[6]));let le;for(le=0;le<L.length;le+=1){const ee=t8(I,L,le);R[le]?R[le].p(ee,W):(R[le]=n8(ee),R[le].c(),R[le].m(t,null))}for(;le<R.length;le+=1)R[le].d(1);R.length=L.length}W&65&&c6(t,I[0]),W&2&&Gr(r,I[1]),(!H||W&2)&&sn(s,I[1]),I[2]?X?(X.p(b4(I),W),W&4&&de(X,1)):(X=r8(b4(I)),X.c(),de(X,1),X.m(u.parentNode,u)):X&&(d8(),me(X,1,1,()=>{X=null}),m8());const ae={};W&14&&(ae.data=[{label:"W bytes",size:kf(I[2])/8},{label:"Q bytes",size:kf(I[3],I[1])/8}]),f.$set(ae);const re={};W&32&&(re.data=[{label:"||W-Q||/||W||",error:I[5]}]),h.$set(re),(!H||W&16)&&w!==(w=I[4].toFixed(3)+"")&&sn(k,w),(!H||W&48)&&_!==(_=(I[5]*I[4]).toFixed(3)+"")&&sn(j,_)},i(I){H||(de(X),de(f.$$.fragment,I),de(h.$$.fragment,I),de(b.$$.fragment,I),de(A.$$.fragment,I),H=!0)},o(I){me(X),me(f.$$.fragment,I),me(h.$$.fragment,I),me(b.$$.fragment,I),me(A.$$.fragment,I),H=!1},d(I){I&&(M(t),M(n),M(r),M(i),M(a),M(l),M(u),M(c),M(d),M(p),M(E),M($)),Tc(R,I),X&&X.d(I),ye(f,I),ye(h,I),ye(b),ye(A),S=!1,Wl(C)}}}const kl=20,$l=20;function Sc(e){let t=-1/0;for(let n=0;n<e.shape[1];n++)for(let r=0;r<e.shape[0];r++){const i=Math.abs(e.value2D(r,n));i>t&&(t=i)}return t}function _B(e,t){return Sc(e.sub(t,!0))/Sc(e)}function zB(e){const t=e.dtype==="f32"?32:8;return e.shape[0]*e.shape[1]*t}function kf(e,t=-1){const n=zB(e);if(t===-1)return n;{const r=2**t;return n+r*8}}function DB(e,t,n){let r,i,a,s;const o={uniform:Ke.randu([kl,$l],-2,2),normal:Ke.randn([kl,$l],0,1),outlier:h(Ke.randn([kl,$l],0,1),25,1)};let l="normal",u=1;const f={};function c(y,w,k){const E=`${y}-${k}`;return E in f||(f[E]=wz(w,k)),f[E]}function h(y,w=10,k=1){for(let E=0;E<k;E++){const $=F7(y.shape[0]-1)(),A=F7(y.shape[1]-1)();y.data[y.index2D($,A)]=w}return y}function d(y){return Sc(y)*Sc(SB(y))}function p(){l=jw(this),n(0,l),n(6,o)}function b(){u=kc(this.value),n(1,u)}return e.$$.update=()=>{e.$$.dirty&1&&n(2,r=o[l]),e.$$.dirty&7&&n(3,i=c(l,r,u)),e.$$.dirty&12&&n(5,a=_B(r,i)),e.$$.dirty&4&&n(4,s=d(r))},[l,u,r,i,s,a,o,p,b]}class IB extends Wt{constructor(t){super(),Yt(this,t,DB,EB,jt,{})}}function i8(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function a8(e,t,n){const r=e.slice();return r[20]=t[n],r[19]=n,r}function s8(e,t,n){const r=e.slice();r[20]=t[n],r[28]=n;const i=Ow/i0;r[22]=i;const a=r[6][r[28]*i0+r[19]];r[23]=a;const s=`rgb(${r[23].R}, ${r[23].G}, ${r[23].B})`;r[24]=s;const o=r[22]/2;r[25]=o;const l=3;return r[26]=l,r}function NB(e){let t,n,r,i,a,s,o,l,u,f,c,h,d,p,b=e[6]&&o8(e),y=e[5]&&c8(e);return{c(){t=F("canvas"),n=Z(),r=Bt("svg"),i=Bt("rect"),a=Z(),s=F("div"),o=F("div"),l=K("Magnified"),u=Z(),f=Bt("svg"),b&&b.c(),c=K(`

		indexes into →

		`),h=F("div"),y&&y.c(),this.h()},l(w){t=P(w,"CANVAS",{width:!0,height:!0,class:!0}),ie(t).forEach(M),n=Q(w),r=Rt(w,"svg",{width:!0,height:!0,style:!0});var k=ie(r);i=Rt(k,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),ie(i).forEach(M),k.forEach(M),a=Q(w),s=P(w,"DIV",{});var E=ie(s);o=P(E,"DIV",{style:!0});var $=ie(o);l=J($,"Magnified"),$.forEach(M),u=Q(E),f=Rt(E,"svg",{width:!0,height:!0,style:!0});var A=ie(f);b&&b.l(A),A.forEach(M),E.forEach(M),c=J(w,`

		indexes into →

		`),h=P(w,"DIV",{});var z=ie(h);y&&y.l(z),z.forEach(M),this.h()},h(){O(t,"width",e[0]),O(t,"height",e[1]),O(t,"class","svelte-1jbpmen"),O(i,"x",e[2]),O(i,"y",e[3]),O(i,"width",i0),O(i,"height",i0),O(i,"fill","none"),O(i,"stroke",y4),O(i,"stroke-width",2),O(r,"width",e[0]),O(r,"height",e[1]),Ye(r,"position","absolute"),Ye(r,"left","0"),Ye(r,"top","0"),Ye(r,"cursor","none"),Ye(o,"color",y4),Ye(o,"margin-bottom","5px"),O(f,"width",Ow),O(f,"height",LB),Ye(f,"outline",y4+" solid 2px")},m(w,k){D(w,t,k),e[9](t),D(w,n,k),D(w,r,k),N(r,i),D(w,a,k),D(w,s,k),N(s,o),N(o,l),N(s,u),N(s,f),b&&b.m(f,null),D(w,c,k),D(w,h,k),y&&y.m(h,null),d||(p=vt(r,"mousemove",e[10]),d=!0)},p(w,k){k&1&&O(t,"width",w[0]),k&2&&O(t,"height",w[1]),k&4&&O(i,"x",w[2]),k&8&&O(i,"y",w[3]),k&1&&O(r,"width",w[0]),k&2&&O(r,"height",w[1]),w[6]?b?b.p(w,k):(b=o8(w),b.c(),b.m(f,null)):b&&(b.d(1),b=null),w[5]?y?y.p(w,k):(y=c8(w),y.c(),y.m(h,null)):y&&(y.d(1),y=null)},d(w){w&&(M(t),M(n),M(r),M(a),M(s),M(c),M(h)),e[9](null),b&&b.d(),y&&y.d(),d=!1,p()}}}function qB(e){let t;return{c(){t=K(`Canvas context imageSmoothingEnabled not working or Canvas Pixelated CSS
		property not working in your browser, try Chrome.`)},l(n){t=J(n,`Canvas context imageSmoothingEnabled not working or Canvas Pixelated CSS
		property not working in your browser, try Chrome.`)},m(n,r){D(n,t,r)},p:Xe,d(n){n&&M(t)}}}function o8(e){let t,n=B0({length:i0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=f8(a8(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ln()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=ln()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);D(i,t,a)},p(i,a){if(a&64){n=B0({length:i0});let s;for(s=0;s<n.length;s+=1){const o=a8(i,n,s);r[s]?r[s].p(o,a):(r[s]=f8(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&M(t),Tc(r,i)}}}function l8(e){let t,n,r,i=e[23].index+"",a;return{c(){t=Bt("rect"),r=Bt("text"),a=K(i),this.h()},l(s){t=Rt(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-opacity":!0}),ie(t).forEach(M),r=Rt(s,"text",{x:!0,y:!0,fill:!0,style:!0,"text-anchor":!0});var o=ie(r);a=J(o,i),o.forEach(M),this.h()},h(){O(t,"x",e[19]*e[22]),O(t,"y",e[28]*e[22]),O(t,"width",e[22]),O(t,"height",e[22]),O(t,"fill",n=e[24]),O(t,"stroke","white"),O(t,"stroke-width",1),O(t,"stroke-opacity",.2),O(r,"x",e[19]*e[22]+e[25]),O(r,"y",e[28]*e[22]+e[25]+e[26]),O(r,"fill","white"),Ye(r,"font-size","10px"),Ye(r,"font-family","menlo"),Ye(r,"font-weight","200"),O(r,"text-anchor","middle")},m(s,o){D(s,t,o),D(s,r,o),N(r,a)},p(s,o){o&64&&n!==(n=s[24])&&O(t,"fill",n),o&64&&i!==(i=s[23].index+"")&&sn(a,i)},d(s){s&&(M(t),M(r))}}}function u8(e){let t,n=e[23].index!==-1&&l8(e);return{c(){n&&n.c(),t=ln()},l(r){n&&n.l(r),t=ln()},m(r,i){n&&n.m(r,i),D(r,t,i)},p(r,i){r[23].index!==-1?n?n.p(r,i):(n=l8(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&M(t),n&&n.d(r)}}}function f8(e){let t,n=B0({length:i0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=u8(s8(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ln()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=ln()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);D(i,t,a)},p(i,a){if(a&64){n=B0({length:i0});let s;for(s=0;s<n.length;s+=1){const o=s8(i,n,s);r[s]?r[s].p(o,a):(r[s]=u8(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&M(t),Tc(r,i)}}}function c8(e){let t,n="Shared Weights",r,i,a,s,o=B0(Object.keys(e[5])),l=[];for(let u=0;u<o.length;u+=1)l[u]=h8(i8(e,o,u));return{c(){t=F("b"),t.textContent=n,r=Z(),i=F("br"),a=Z();for(let u=0;u<l.length;u+=1)l[u].c();s=ln()},l(u){t=P(u,"B",{"data-svelte-h":!0}),we(t)!=="svelte-sl4iro"&&(t.textContent=n),r=Q(u),i=P(u,"BR",{}),a=Q(u);for(let f=0;f<l.length;f+=1)l[f].l(u);s=ln()},m(u,f){D(u,t,f),D(u,r,f),D(u,i,f),D(u,a,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(u,f);D(u,s,f)},p(u,f){if(f&32){o=B0(Object.keys(u[5]));let c;for(c=0;c<o.length;c+=1){const h=i8(u,o,c);l[c]?l[c].p(h,f):(l[c]=h8(h),l[c].c(),l[c].m(s.parentNode,s))}for(;c<l.length;c+=1)l[c].d(1);l.length=o.length}},d(u){u&&(M(t),M(r),M(i),M(a),M(s)),Tc(l,u)}}}function BB(e){let t,n,r=e[5][e[17]]+"",i,a,s,o=e[17]+"",l,u;return{c(){t=F("div"),n=F("span"),i=K(r),a=Z(),s=F("div"),l=K(o),u=Z(),this.h()},l(f){t=P(f,"DIV",{style:!0});var c=ie(t);n=P(c,"SPAN",{style:!0});var h=ie(n);i=J(h,r),h.forEach(M),a=Q(c),s=P(c,"DIV",{style:!0});var d=ie(s);l=J(d,o),d.forEach(M),u=Q(c),c.forEach(M),this.h()},h(){Ye(n,"font-family","menlo"),Ye(s,"background",e[17]),Ye(s,"color","white"),Ye(s,"display","inline"),Ye(t,"width","160px")},m(f,c){D(f,t,c),N(t,n),N(n,i),N(t,a),N(t,s),N(s,l),N(t,u)},p(f,c){c&32&&r!==(r=f[5][f[17]]+"")&&sn(i,r),c&32&&o!==(o=f[17]+"")&&sn(l,o),c&32&&Ye(s,"background",f[17])},d(f){f&&M(t)}}}function h8(e){let t,n=e[19]<8&&BB(e);return{c(){n&&n.c(),t=ln()},l(r){n&&n.l(r),t=ln()},m(r,i){n&&n.m(r,i),D(r,t,i)},p(r,i){r[19]<8&&n.p(r,i)},d(r){r&&M(t),n&&n.d(r)}}}function RB(e){let t;function n(a,s){return a[7]?qB:NB}let r=n(e),i=r(e);return{c(){t=F("div"),i.c(),this.h()},l(a){t=P(a,"DIV",{style:!0});var s=ie(t);i.l(s),s.forEach(M),this.h()},h(){Ye(t,"position","relative"),Ye(t,"display","flex"),Ye(t,"gap","10px"),Ye(t,"align-items","center")},m(a,s){D(a,t,s),i.m(t,null)},p(a,[s]){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t,null)))},i:Xe,o:Xe,d(a){a&&M(t),i.d()}}}let i0=8,Ow=125,LB=125,y4="salmon";function FB(e,t,n){const r=.6840909090909091;let{width:i=250}=t,{height:a=r*i}=t,s,o,l=200,u=85;function f($,A){return new Promise((_,j)=>{const H=new Image;H.src=A,H.onload=function(){$.drawImage(H,0,0,i,a),_()}})}let c=!1;Tm(async()=>{o=s.getContext("2d",{willReadFrequently:!0}),o.imageSmoothingEnabled=!1,await f(o,"8.png"),d(o.getImageData(0,0,i,a).data),n(8,c=!0)});let h;function d($){n(5,h={});let A=0,z=[];for(let _=0;_<$.length;_+=4){const j=$[_],H=$[_+1],S=$[_+2],C=`rgb(${j},${H},${S})`;C in h||(n(5,h[C]=A,h),A++)}return z}let p;function b($){let A=[];for(let z=0;z<$.length;z+=4){const _=$[z],j=$[z+1],H=$[z+2],S=`rgb(${_},${j},${H})`,C=h[S]??-1;C>8&&n(7,w=!0),A.push({R:_,G:j,B:H,index:C})}return A}function y($,A,z=3){const _=o.getImageData($,A,z,z).data;n(6,p=b(_))}let w=!1;function k($){Un[$?"unshift":"push"](()=>{s=$,n(4,s)})}const E=$=>{n(2,l=$.offsetX),n(3,u=$.offsetY)};return e.$$set=$=>{"width"in $&&n(0,i=$.width),"height"in $&&n(1,a=$.height)},e.$$.update=()=>{e.$$.dirty&268&&c&&l!==void 0&&u!==void 0&&y(l,u,i0)},[i,a,l,u,s,h,p,w,c,k,E]}class PB extends Wt{constructor(t){super(),Yt(this,t,FB,RB,jt,{width:0,height:1})}}class $s{constructor(t,n){this.weight=Ke.$(t*n,[n,t]),this.bias=Ke.$(n,[n,1])}forward(t){return t.matmul(this.weight.T).add(this.bias.T)}}class $f{forward(t){return t.relu()}}class OB{forward(t){return t.sigmoid()}}class HB{constructor(...t){this.layers=t}forward(t){for(const n of this.layers)t=n.forward(t);return t}splitStateKey(t){const n=t.split(".");let r,i,a;return n.length===3?(r=+n[1],i=n[2]):n.length===4&&(r=+n[1],i=n[2],a=n[3],a==="weights"&&(a=void 0)),[r,i,a]}load(t,n,r=256){const[i,a,s]=this.splitStateKey(t),o=this.layers[+i];if(s){if(a==="weight"){if(s==="codebook")o.weight.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.weight.codebook;o.weight=Ke.$(n,[o.weight.shape[0],o.weight.shape[1]],"u8"),o.weight.codebook=l}}else if(a==="bias"){if(s==="codebook")o.bias.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.bias.codebook;o.bias=Ke.$(n,[o.bias.shape[0],o.bias.shape[1]],"u8"),o.bias.codebook=l}}}else a==="weight"?o.weight.data=new Float32Array(n):a==="bias"&&(o.bias.data=new Float32Array(n))}loadStateDict(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,a]=n[r];this.load(i,a.data)}return this}get bytes(){let t=0;for(const n of this.layers)n instanceof $s&&(t+=n.weight.bytes+n.bias.bytes);return t}MB(){return this.bytes/1024**2}}function VB(e){let t,n,r,i,a,s;return{c(){t=Bt("svg"),n=Bt("path"),r=Bt("defs"),i=Bt("linearGradient"),a=Bt("stop"),s=Bt("stop"),this.h()},l(o){t=Rt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=ie(t);n=Rt(l,"path",{d:!0,stroke:!0,"stroke-width":!0}),ie(n).forEach(M),r=Rt(l,"defs",{});var u=ie(r);i=Rt(u,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var f=ie(i);a=Rt(f,"stop",{"stop-color":!0}),ie(a).forEach(M),s=Rt(f,"stop",{offset:!0,"stop-color":!0}),ie(s).forEach(M),f.forEach(M),u.forEach(M),l.forEach(M),this.h()},h(){O(n,"d","M511 323.648V10.3519C511 7.18199 507.489 5.27159 504.827 6.99341L10.1727 327.007C7.51126 328.728 4 326.818 4 323.648V10.3519C4 7.18199 7.51127 5.27159 10.1727 6.99341L504.827 327.007C507.489 328.728 511 326.818 511 323.648Z"),O(n,"stroke","url(#paint0_linear_19_2)"),O(n,"stroke-width","7"),O(a,"stop-color","#4682B4"),O(s,"offset","1"),O(s,"stop-color","#FA8171"),O(i,"id","paint0_linear_19_2"),O(i,"x1","4"),O(i,"y1","131.5"),O(i,"x2","511"),O(i,"y2","134.5"),O(i,"gradientUnits","userSpaceOnUse"),O(t,"width",e[0]),O(t,"height",e[1]),O(t,"viewBox","0 0 515 336"),O(t,"fill","none"),O(t,"xmlns","http://www.w3.org/2000/svg")},m(o,l){D(o,t,l),N(t,n),N(t,r),N(r,i),N(i,a),N(i,s)},p(o,[l]){l&1&&O(t,"width",o[0]),l&2&&O(t,"height",o[1])},i:Xe,o:Xe,d(o){o&&M(t)}}}function UB(e,t,n){let{width:r=250}=t,{height:i=170}=t;return e.$$set=a=>{"width"in a&&n(0,r=a.width),"height"in a&&n(1,i=a.height)},[r,i]}class jB extends Wt{constructor(t){super(),Yt(this,t,UB,VB,jt,{width:0,height:1})}}function WB(e){let t,n,r,i,a,s,o,l,u,f,c="Input | You drag to draw!",h,d,p,b,y,w="Clear Canvas",k,E,$,A="Autoencoder",z,_,j,H,S,C="Output",L,R,X,I,W,ae,re,le,ee=(e[6]/1048576).toFixed(3)+"",se,oe,ne,Se,Ce,_e=(e[7]/1024**2).toFixed(3)+"",fe,he,te,xe,Te;return _=new jB({props:{color:"steelblue"}}),{c(){t=F("div"),n=F("input"),r=Z(),i=F("span"),a=K(e[1]),s=K(" bits"),o=Z(),l=F("div"),u=F("div"),f=F("div"),f.textContent=c,h=Z(),d=F("div"),p=F("canvas"),b=Z(),y=F("button"),y.textContent=w,k=Z(),E=F("div"),$=F("div"),$.textContent=A,z=Z(),ge(_.$$.fragment),j=Z(),H=F("div"),S=F("div"),S.textContent=C,L=Z(),R=F("div"),X=F("canvas"),I=Z(),W=F("br"),ae=Z(),re=F("div"),le=K("Original: "),se=K(ee),oe=K(" mega bytes"),ne=Z(),Se=F("div"),Ce=K("Quantized: "),fe=K(_e),he=K(" mega bytes"),this.h()},l(Y){t=P(Y,"DIV",{class:!0});var ke=ie(t);n=P(ke,"INPUT",{type:!0,min:!0,max:!0}),r=Q(ke),i=P(ke,"SPAN",{class:!0});var Ee=ie(i);a=J(Ee,e[1]),s=J(Ee," bits"),Ee.forEach(M),ke.forEach(M),o=Q(Y),l=P(Y,"DIV",{class:!0});var Be=ie(l);u=P(Be,"DIV",{});var Re=ie(u);f=P(Re,"DIV",{class:!0,"data-svelte-h":!0}),we(f)!=="svelte-14bwmx0"&&(f.textContent=c),h=Q(Re),d=P(Re,"DIV",{});var Ge=ie(d);p=P(Ge,"CANVAS",{class:!0,width:!0,height:!0}),ie(p).forEach(M),Ge.forEach(M),b=Q(Re),y=P(Re,"BUTTON",{"data-svelte-h":!0}),we(y)!=="svelte-1ts6e04"&&(y.textContent=w),Re.forEach(M),k=Q(Be),E=P(Be,"DIV",{});var mt=ie(E);$=P(mt,"DIV",{class:!0,"data-svelte-h":!0}),we($)!=="svelte-1dyqkas"&&($.textContent=A),z=Q(mt),ve(_.$$.fragment,mt),mt.forEach(M),j=Q(Be),H=P(Be,"DIV",{});var yt=ie(H);S=P(yt,"DIV",{class:!0,"data-svelte-h":!0}),we(S)!=="svelte-w6dby0"&&(S.textContent=C),L=Q(yt),R=P(yt,"DIV",{});var Ot=ie(R);X=P(Ot,"CANVAS",{width:!0,height:!0,class:!0}),ie(X).forEach(M),Ot.forEach(M),yt.forEach(M),Be.forEach(M),I=Q(Y),W=P(Y,"BR",{}),ae=Q(Y),re=P(Y,"DIV",{class:!0});var Zt=ie(re);le=J(Zt,"Original: "),se=J(Zt,ee),oe=J(Zt," mega bytes"),Zt.forEach(M),ne=Q(Y),Se=P(Y,"DIV",{class:!0});var _t=ie(Se);Ce=J(_t,"Quantized: "),fe=J(_t,_e),he=J(_t," mega bytes"),_t.forEach(M),this.h()},h(){O(n,"type","range"),O(n,"min","0"),O(n,"max",e[13].length-1),O(i,"class","label svelte-axyz63"),O(t,"class","container svelte-axyz63"),O(f,"class","label svelte-axyz63"),O(p,"class","input-canvas svelte-axyz63"),O(p,"width",e[10]),O(p,"height",e[11]),O($,"class","label svelte-axyz63"),O(S,"class","label svelte-axyz63"),O(X,"width",e[10]),O(X,"height",e[11]),O(X,"class","output-canvas svelte-axyz63"),O(l,"class","container svelte-axyz63"),O(re,"class","label svelte-axyz63"),O(Se,"class","label svelte-axyz63")},m(Y,ke){D(Y,t,ke),N(t,n),Gr(n,e[0]),N(t,r),N(t,i),N(i,a),N(i,s),D(Y,o,ke),D(Y,l,ke),N(l,u),N(u,f),N(u,h),N(u,d),N(d,p),e[17](p),N(u,b),N(u,y),N(l,k),N(l,E),N(E,$),N(E,z),be(_,E,null),N(l,j),N(l,H),N(H,S),N(H,L),N(H,R),N(R,X),e[22](X),D(Y,I,ke),D(Y,W,ke),D(Y,ae,ke),D(Y,re,ke),N(re,le),N(re,se),N(re,oe),D(Y,ne,ke),D(Y,Se,ke),N(Se,Ce),N(Se,fe),N(Se,he),te=!0,xe||(Te=[vt(n,"change",e[16]),vt(n,"input",e[16]),vt(p,"mousedown",e[18]),vt(p,"mouseup",e[19]),vt(p,"mousemove",e[20]),vt(y,"click",e[21])],xe=!0)},p(Y,[ke]){ke&1&&Gr(n,Y[0]),(!te||ke&2)&&sn(a,Y[1]),(!te||ke&64)&&ee!==(ee=(Y[6]/1024**2).toFixed(3)+"")&&sn(se,ee),(!te||ke&128)&&_e!==(_e=(Y[7]/1024**2).toFixed(3)+"")&&sn(fe,_e)},i(Y){te||(de(_.$$.fragment,Y),te=!0)},o(Y){me(_.$$.fragment,Y),te=!1},d(Y){Y&&(M(t),M(o),M(l),M(I),M(W),M(ae),M(re),M(ne),M(Se)),e[17](null),ye(_),e[22](null),xe=!1,Wl(Te)}}}let qt=28;async function YB(e){return(await fetch(e)).json()}function GB(e,t,n){let r;function i(){return new HB(new $s(qt*qt,1e3),new $f,new $s(1e3,256),new $f,new $s(256,256),new $f,new $s(256,1e3),new $f,new $s(1e3,qt*qt),new OB)}function a(re,le=0){let ee=0,se=0;for(let oe=0;oe<re.layers.length;oe++){const ne=re.layers[oe];if(ne instanceof $s){const Se=ne.weight,Ce=2**le*32,_e=Se.shape[0]*Se.shape[1]*8;ee+=Ce+_e,se+=Se.shape[0]*Se.shape[1]*32}}return[se,ee]}async function s(re){const le=z.map(se=>YB(`ae/q${se}.json`));return(await Promise.all(le)).map(se=>re().loadStateDict(se))}let o,l,u=!1;Tm(async()=>{o=await s(i),n(14,l=o.at(-1)),n(3,b=p.getContext("2d",{willReadFrequently:!0})),n(3,b.fillStyle="black",b),b.fillRect(0,0,k,E),w=y.getContext("2d"),w.fillStyle="black",w.fillRect(0,0,k,E),n(15,u=!0)});function f(re,le,ee){re.fillStyle="white",re.fillRect(le,ee,$,$)}function c(re,le,ee,se){const oe=Ke.$(qt*qt,[1,qt*qt],"f32");for(let ne=0;ne<qt;ne++)for(let Se=0;Se<qt;Se++){const Ce=re.getImageData(ne*se,Se*se,se,se).data[0]/255;oe.data[Se*qt+ne]=Ce}return oe}function h(re,le){re.fillStyle="black",re.fillRect(0,0,k,E);for(let ee=0;ee<qt;ee++)for(let se=0;se<qt;se++){const oe=le.data[se*qt+ee],ne=Jr("hsl(0, 0%, "+oe*100+"%)");re.fillStyle=ne.toString(),re.fillRect(ee*$,se*$,$,$)}}function d(){const re=c(b,k,E,$),le=l.forward(re);h(w,le)}let p,b,y,w,k=qt*6,E=k,$=k/qt,A=!1;const z=[1,2,3,4,5,6,7,8];let _=z.length-1;function j(re){n(14,l=o[+re]),d()}let H,S;function C(){_=kc(this.value),n(0,_)}function L(re){Un[re?"unshift":"push"](()=>{p=re,n(2,p)})}const R=()=>{n(5,A=!0)},X=()=>{n(5,A=!1),d()},I=re=>{if(A){let le=re.offsetX,ee=re.offsetY;le-=le%$,ee-=ee%$,f(b,le,ee)}},W=()=>{n(3,b.fillStyle="black",b),b.fillRect(0,0,k,E),d()};function ae(re){Un[re?"unshift":"push"](()=>{y=re,n(4,y)})}return e.$$.update=()=>{e.$$.dirty&1&&n(1,r=z[_]),e.$$.dirty&32769&&u&&j(_),e.$$.dirty&49154&&u&&n(6,[H,S]=a(l,+r),H,(n(7,S),n(15,u),n(14,l),n(1,r),n(0,_)))},[_,r,p,b,y,A,H,S,f,d,k,E,$,z,l,u,C,L,R,X,I,W,ae]}class XB extends Wt{constructor(t){super(),Yt(this,t,GB,WB,jt,{})}}function ZB(e){let t,n="<strong>Abstract:</strong> Often, the best models are the biggest. Too big for you or me to run. Luckily, with model compression we can drastically reduce the size of these models. This article runs through a simple way to compress neural network weights with k-means quantization. Through interactive visuals, I&#39;ll explore a simple approach as well as it&#39;s shortcomings (error).",r,i,a,s,o='<a href="#Introduction" class="svp-title-anchor" aria-label="Introduction"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Introduction',l,u,f="Modern deep learning is quite extraordinary. I don't need to convince you. You've likely seen the latest generative art models.",c,h,d,p,b,y,w,k,E,$,A,z,_,j,H,S="Size enables amazing capabilities, but also limits who can run the models. Most people don't have fast GPUs with lots of memory. To fit these models on our hardware, we must to reduce the size.",C,L,R,X,I='<a href="#Sharing-as-Compression" class="svp-title-anchor" aria-label="Sharing as Compression"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing as Compression',W,ae,re,le,ee,se,oe,ne="Suppose you owned 20 dogs. An army of golden retrievers. And also suppose you are on the market for dog toys.",Se,Ce,_e="Should you buy 20 toys for all 20 dogs? That would be quite expensive! If each toy was $20, then you'd pay $400. (as you can tell I love the number 20)",fe,he,te="But you are a clever one you. You could reason that buying 5 toys would be totally fine. The dogs can share. Now your bill would only be $100 for the 5 toys.",xe,Te,Y="Not only that, but sharing might increase the amount of fun the dogs have! But sharing might also favor the more dominant and strong dogs. There is a tradeoff, but we're on a budget, so it's fine.",ke,Ee,Be="Morale of the short story: sharing under constraints is reasonable. More than that. It's a good idea. Don't pay for more than you need to if you're on a budget. But also don't delude yourself in thinking there aren't downsides because there are.",Re,Ge,mt="In some sense we are compressing our budget through sharing.",yt,Ot,Zt,_t,Ws='<a href="#Sharing-Pixels" class="svp-title-anchor" aria-label="Sharing Pixels"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing Pixels',X0,$r,uu="Images and neural network weights are held in similar data structures so let's first look at the more intuitive image use-case. It will be the same.",Ys,Qt,Go="For image compression, the goal is to reduce the memory footprint while maintaining what the original image looked like. In other words, the budget is the size.",Kn,Tr,fu="As you know, images are made up of tons of small colored squares: pixels. I'll start with a 880 pixels wide by 602 pixels tall image of this cutest golden retriever you've ever seen.",Gs,Dt,Jn,Xs,Kt,yh,Z0,wh,Q0,K3="red",xh,K0,J3="green",Mh,J0,e5="blue",Sh,cu,ei,t5="Instead of each pixel having it's own unique color, why not pick the most important colors and force the pixels to share? Exactly like the previous example with buying toys. Instead of storing three numbers per every pixel, I can now just store a few colors that each pixel can index into.",hu,ti,n5="First, I'll take an average over all the pixels to get the one most important color. Making all the pixels share that one pixel I get:",du,ni,mu,ri,r5="It is significantly smaller in terms of memory, but looks nothing like the dog.",pu,ii,i5="Now, let's share two colors instead of just one.",gu,ai,vu,si,a5="Starting to look like a dog!",bu,oi,s5="So what happens when we increase beyond two colors? Let's try!",yu,f0,o5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider to increase the number of colors to share.</p></div>',wu,li,xu,ui,l5="After sharing just 256 colors, the images look remarkably similar. And we're only storing just 256 colors instead of nearly 5 million!",Mu,c0,fi,u5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',Cr,Zs,f5="I've left out some information on how to compute these multiple averages.",Qs,c5="<strong>For the purposes of this article, you can ignore how I compute the averages.</strong>",ci,kh,hi,$h,di,Th,mi,Ch,Su,pi,h5="Instead of storing three numbers per pixel, I store one that indexes into the shared important color pixels.",ku,gi,$u,xn,Ah,vi,d5="window",Eh,bi,_h,yi,m5="window",zh,Tu,wi,Cu,xi,p5='<a href="#Quantifying-Error" class="svp-title-anchor" aria-label="Quantifying Error"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Quantifying Error',Au,Mi,g5="You get the point. We can indeed reduce our budget without losing the main use-case.",Eu,Si,v5="You can apply this exact method to the weight matrix in a linear layer of a neural network! But in some ways, the problem is harder.",_u,ki,b5="First, how do we know when we've compressed the weights adequately? With the image example, we could just view all the different quantizations and see which was closest. How would you do this for arbitrary numbers learned in a neural network? You can't just look at them and see if they look good.",zu,$i,y5="Instead, we need a metric that tells us how good the compression is compared to the original.",Du,Ti,w5="Let's go back to the image case because it's more intuitive. I will assume that the image compression when the colors are far away from the true colors. In other words, the difference between the original pixels and the compressed pixels is how bad our error is.",Iu,h0,x5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider increase the number of colors quantized. Observe the pixels that are deep red for high error.</p></div>',Nu,Ci,qu,Ai,M5="As you can see, when the images look very similar, the red error is almost nonexistent. I can further summarize the error with an average into one number.",Bu,Ei,S5="This example shows it's entirely possible to attach a number to how good the compression is.",Ru,d0,_i,k5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',m0,zt,Dh,zi,Ih,Di,Nh,Ii,qh,Ni,Bh,qi,Rh,Bi,Lh,cn,Fh,Ri,Ph,Li,Oh,Fi,Hh,Pi,Vh,hn,Uh,Oi,jh,Hi,Wh,Ks,$5="Average Error",Yh,Vi,Gh,Lu,Ui,Fu,ji,T5='<a href="#Matrix-Multiplication" class="svp-title-anchor" aria-label="Matrix Multiplication"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Matrix Multiplication',Pu,Wi,C5="Then, how do we attach a number to the compression error for neural networks? Again, we aren't viewing them as images. So what makes their compression good or not?",Ou,Jt,Xh,Yi,Zh,Gi,Qh,Xi,Kh,Zi,Jh,Hu,Qi,A5="Just like image example, we must create a metric based on the use-case. Since almost all the operations on the weights are matrix multiplies, it might be a good idea to take this operation into account as the use-case. In other words, how does the approximate compressed weights differ after a matrix multiplication of the same input compared to the original/exact weights? It might be the case the the multiplies and adds amplify or even hide element-wise error!",Vu,p0,E5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 11 11"><path d="M6.62 8.5l3.11 1.55l-.45.89L5.5 9.06l-3.78 1.89l-.45-.89L4.38 8.5l-3.1-1.55l.45-.89L5.5 7.94l3.78-1.89l.44.9l-3.1 1.55zM8.5 3.21v.29l-1 1v1l-2 1l-2-1v-1l-1-1V3a2.9 2.9 0 0 1 3-3a3.09 3.09 0 0 1 3 3.21zm-3.79-.5a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79zM5 4.5h-.5v1H5v-1zm1.5 0H6v1h.5v-1zm1.36-1.79a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79z" fill="currentColor"></path></svg></span>MATH WARNING</div><div class="admonition-content"><p>Things are about to get mathematically dense for a small while.</p></div>',Uu,pt,e2,Ki,t2,Ji,n2,ea,r2,ta,i2,na,a2,ra,s2,ia,o2,ju,nt,l2,aa,u2,sa,f2,oa,c2,la,h2,ua,d2,fa,m2,ca,p2,ha,g2,da,v2,ma,b2,Wu,g0,pa,_5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',Js,ga,y2,va,w2,Yu,Mn,x2,ba,M2,ya,S2,wa,k2,Gu,eo,xa,Xu,Ma,z5="simply by how I defined things. Nothing new yet.",Zu,It,$2,Sa,T2,ka,C2,$a,A2,Ta,E2,Ca,_2,Qu,v0,Aa,D5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',b0,Ar,z2,Ea,D2,_a,I2,to,I5="I use the matrix operator norm because the vector norm of a matrix doesn't capture the important information. The matrix operator norm tells me how the matrix transforms vectors under matrix multiplication which is exactly what I need.",za,N2,Da,q2,Ku,Sn,B2,Ia,R2,Na,L2,qa,F2,Ju,Ba,N5="Let's see what error looks like on some different weight matrices!",e1,y0,Ra,q5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN',Er,no,B5="Select a distribution for the weights and how much you'd like to quantize the weights by dragging the slider.",La,P2,Fa,O2,ro,R5="Then, observe the error terms and when the weights look similar.",io,L5="You might also consider hovering over the weights to see the exact values.",t1,Pa,n1,Oa,F5="Unsurprisingly, the error drops drastically when we have enough weights to share. Additionally, the error gets close to zero and the quantization makes the weights 4 times smaller! That is a total win!",r1,Ha,P5="My second observation is that not all weight distributions have the same condition number. Additionally, it seems to be that k-means quantization does quite well, if not better, when the condition number is higher. How could this be? Surely this is wrong.",i1,Va,O5="Yes I'm partially wrong. The condition number, which scales the error term, becomes very high with spiked values (outliers). This makes sense given small errors to these values would change the matrix multiply drastically. But at the very same time, k-means is known to be sensitive to outliers (to a fault). So k-means gives an entire shared weight to the outlier. Most of the time this is terrible for compression, but since k-means quantization is non-linear, it's a total win for this small example.",a1,Ua,H5="This is a bit of a tangent, but k-means has a clear advantage over linear quantization schemes in terms of minimizing error depending on how large your weight matrix is.",s1,w0,V5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE</div><div class="admonition-content"><p>Depending on the underlying distribution, it may be that k-means does not encode an entire value to the outlier point. So more analysis is needed here to minimize error or predict performance.</p></div>',o1,ja,l1,Wa,U5='<a href="#More-layers" class="svp-title-anchor" aria-label="More layers"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>More layers',u1,Ya,j5="Okay, but what about more than just one weight matrix.",f1,Ga,W5="Instead of just one layer of weights, now I'll scale up to multiple layers with a real usable model.",c1,Xa,Y5='I&#39;ll use a simple autoencoder architecture takes takes images of handwritten digits<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup> (0 through 9) and attempts to reconstruct the image after a bottleneck.',h1,x0,H2,Za,V2,d1,Qa,kn,_r,G5=`<code><span class="line"><span style="color: #1E754F">import</span><span style="color: #393A34"> torch</span></span>
<span class="line"><span style="color: #393A34">model </span><span style="color: #AB5959">=</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sequential</span><span style="color: #999999">(</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sigmoid</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #999999">)</span></span></code>`,U2,zr,X5=`<code><span class="line"><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> torch</span></span>
<span class="line"><span style="color: #D6DEEB">model </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> torch.nn.</span><span style="color: #B2CCD6">Sequential</span><span style="color: #D6DEEB">(</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Sigmoid</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #D6DEEB">)</span></span></code>`,j2,Ka,Z5="python",W2,Ja,m1,er,Y2,es,G2,ts,X2,p1,M0,Z2,ns,Q2,g1,S0,Q5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Draw on the left side blackboard a number and see how the model reconstructs your digit. Drag the slider to change the level of quantization.</p></div>',v1,rs,b1,is,K5="As you can see, with a small number of bits, the output reconstruction is terrible. But as you pass some threshold it becomes quite good and doesn't improve by too much. Very importantly, the quantized models are four times smaller than the original.",y1,k0,K2,as,J2,w1,ss,x1,os,J5='<a href="#Conclusion" class="svp-title-anchor" aria-label="Conclusion"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Conclusion',M1,ls,e6="I hope you learned some things. I certainly did!",S1,us,t6="Overall, yes it's possible to quantize the vast majority of weights in your neural network with little error. But make sure you're using the right error metrics!",k1,fs,n6="Until next time 😄",$1,cs,T1,hs,r6='<a href="#Acknowledgments" class="svp-title-anchor" aria-label="Acknowledgments"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Acknowledgments',C1,en,Dr,ed,ds,td,ms,nd,rd,ps,id,gs,ad,sd,ao,vs,od,ld,so,bs,ud,fd,oo,ys,cd,A1,tr,$0,i6="Footnotes",hd,Xo,lo,T0,dd,ws,md,nr,a6="↩",E1;return w=new wt({props:{to:"https://lexica.art/?q=cyberpunk+city",label:"Lexica"}}),z=new wt({props:{to:"https://stability.ai/stablediffusion",label:"Stable Diffusion XL"}}),le=new wt({props:{to:"https://arxiv.org/abs/1510.00149",label:"Deep Compression"}}),Z0=new ze({props:{text:"880 \\cdot 602"}}),ni=new Sd({props:{selected:0}}),ai=new Sd({props:{selected:1}}),li=new Sd({props:{selected:1,showSlider:!0}}),hi=new wt({props:{to:"https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html",label:"k-means algorithm"}}),mi=new wt({props:{to:KB+"/blob/main/notebooks/image.ipynb",label:"image.ipynb"}}),gi=new PB({}),bi=new ze({props:{text:"2^3"}}),Ci=new ux({}),zi=new ze({props:{text:"i"}}),Di=new ze({props:{text:"Q"}}),Ii=new ze({props:{text:"W"}}),Ni=new ze({props:{text:"(0,0,0)"}}),qi=new ze({props:{text:"(255,255,255)"}}),Bi=new ze({props:{text:"|255-0| + |255-0| + |255-0| = 765"}}),Ri=new ze({props:{text:"E"}}),Li=new ze({props:{text:"E_[i] = \\sum_[c=1]^[3] |W_[i, c] - Q_[i,c]| \\tag1",big:!0}}),Fi=new ze({props:{text:"i"}}),Pi=new ze({props:{text:"c"}}),Oi=new ze({props:{text:"E"}}),Hi=new ze({props:{text:"(1)"}}),Vi=new ze({props:{text:"\\frac[1][N]\\sum_[i=1]^[N] E_i"}}),Yi=new ze({props:{text:"\\text[ReLU]\\left(\\text[ReLU]\\left(xW_1^T + b_1\\right)W_2^T + b_2\\right)W_3^T + b_3.\\tag[2]",big:!0}}),Gi=new ze({props:{text:"W_i"}}),Xi=new ze({props:{text:"b_i"}}),Zi=new ze({props:{text:"i"}}),Ki=new ze({props:{text:"Wx = y"}}),Ji=new ze({props:{text:"W"}}),ea=new ze({props:{text:"x"}}),ta=new ze({props:{text:"y"}}),na=new ze({props:{text:"W"}}),ra=new ze({props:{text:"x"}}),ia=new ze({props:{text:"y"}}),aa=new ze({props:{text:"W"}}),sa=new ze({props:{text:"Q"}}),oa=new ze({props:{text:"Q"}}),la=new ze({props:{text:"x"}}),ua=new ze({props:{text:"\\hat[y]"}}),fa=new ze({props:{text:"Q"}}),ca=new ze({props:{text:"W"}}),ha=new ze({props:{text:"y"}}),da=new ze({props:{text:"\\hat[y]"}}),ma=new ze({props:{text:"\\text[error] &:= \\frac[||y - \\hat[y]||][||y||]\\tag[3]",begin:"align*"}}),va=new ze({props:{text:"||\\cdot||"}}),ba=new ze({props:{text:"Wx = y"}}),ya=new ze({props:{text:"Qx = \\hat[y]"}}),wa=new ze({props:{text:"(3)"}}),xa=new ze({props:{text:`
\\frac[||y - \\hat[y]||][||y||] = \\frac[||Wx - Qx||][||Wx||]\\tag[4]\\\\
`,begin:"align*"}}),Sa=new ze({props:{text:"(4)"}}),ka=new ze({props:{text:"W"}}),$a=new ze({props:{text:"Q"}}),Ta=new ze({props:{text:"W"}}),Ca=new ze({props:{begin:"align*",text:`
\\frac[||Wx - Qx||][||Wx||] &= \\frac[||(W-Q)x||][||Wx||]\\\\
&= \\frac[||(W-Q)W^[-1]y||][||Wx||]&&\\text[since ] x = W^[-1]y\\\\
&\\leq \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||y||][||Wx||]&&\\text[since ] ||AB|| \\leq ||A|| \\ ||B||\\\\
&= \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||Wx||][||Wx||]&&\\text[since ] ||Wx|| = ||y||\\\\
&= ||W-Q|| \\ ||W^[-1]||\\\\
&= \\frac[||W||][||W||] \\ ||W-Q|| \\ ||W^[-1]||\\\\
&= \\left(||W|| \\ ||W^[-1]||\\right) \\left(\\frac[||W-Q||][||W||]\\right). \\tag[5]\\\\
`}}),Ea=new ze({props:{text:"(5)"}}),_a=new wt({props:{to:"https://www.cs.cornell.edu/~bindel/class/cs4220-s15/lec/2015-02-04-notes.pdf",label:"CS 4220 Numerical Analysis"}}),Da=new wt({props:{to:"https://www.youtube.com/watch?v=G2RKg1pHApc",label:"good video"}}),Ia=new ze({props:{text:"W"}}),Na=new ze({props:{text:"||W|| \\ ||W^[-1]||"}}),qa=new ze({props:{text:"\\frac[||W-Q||][||W||]"}}),Fa=new ze({props:{text:"2^[\\text[bits]]"}}),Pa=new IB({}),Za=new wt({props:{to:"https://pytorch.org/docs/stable/index.html",label:"PyTorch"}}),Ja=new tx({}),es=new wt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/mnist_autoencoder.ipynb",label:"mnist_autoencoder.ipynb"}}),ts=new wt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/quantized_mnist_autoencoder.ipynb",label:"quantized_mnist_autoencoder.ipynb"}}),ns=new wt({props:{to:"https://github.com/xnought/docs/blob/main/ui/src/components/tensor.js",label:"mini neural network library"}}),rs=new XB({}),as=new wt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/ae_cond.ipynb",label:"ae_cond.ipynb"}}),ds=new wt({props:{to:"https://donnybertucci.com",label:"Donny Bertucci"}}),ms=new wt({props:{to:"https://perer.org/",label:"Adam Perer"}}),gs=new wt({props:{to:"https://www.youtube.com/watch?v=AlASZb93rrc",label:"here"}}),vs=new wt({props:{to:"https://observablehq.com/plot/",label:"Observable Plot"}}),bs=new wt({props:{to:"https://sveltepress.site/",label:"SveltePress"}}),ys=new wt({props:{to:"https://katex.org/",label:"KaTeX"}}),ws=new wt({props:{to:"https://pytorch.org/vision/stable/generated/torchvision.datasets.MNIST.html",label:"MNIST"}}),{c(){t=F("p"),t.innerHTML=n,r=Z(),i=F("div"),a=Z(),s=F("h2"),s.innerHTML=o,l=Z(),u=F("p"),u.textContent=f,c=Z(),h=F("div"),d=Z(),p=F("p"),b=F("em"),y=K("From "),ge(w.$$.fragment),k=K("'s Aperture Model."),E=Z(),$=F("p"),A=K("These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ge(z.$$.fragment),_=K(" transform your text and images with over 3 billion parameters into something awesome!"),j=Z(),H=F("p"),H.textContent=S,C=Z(),L=F("div"),R=Z(),X=F("h2"),X.innerHTML=I,W=Z(),ae=F("p"),re=K("In this article I'll use the weight sharing scheme from "),ge(le.$$.fragment),ee=K(" to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),se=Z(),oe=F("p"),oe.textContent=ne,Se=Z(),Ce=F("p"),Ce.textContent=_e,fe=Z(),he=F("p"),he.textContent=te,xe=Z(),Te=F("p"),Te.textContent=Y,ke=Z(),Ee=F("p"),Ee.textContent=Be,Re=Z(),Ge=F("p"),Ge.textContent=mt,yt=Z(),Ot=F("div"),Zt=Z(),_t=F("h2"),_t.innerHTML=Ws,X0=Z(),$r=F("p"),$r.textContent=uu,Ys=Z(),Qt=F("p"),Qt.textContent=Go,Kn=Z(),Tr=F("p"),Tr.textContent=fu,Gs=Z(),Dt=F("img"),Xs=Z(),Kt=F("p"),yh=K("In total, there are 4,824,160 colors in the image ("),ge(Z0.$$.fragment),wh=K("): one for each pixel. Each color is represented by three numbers: "),Q0=F("span"),Q0.textContent=K3,xh=K(", "),K0=F("span"),K0.textContent=J3,Mh=K(", and "),J0=F("span"),J0.textContent=e5,Sh=K(" that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),cu=Z(),ei=F("p"),ei.textContent=t5,hu=Z(),ti=F("p"),ti.textContent=n5,du=Z(),ge(ni.$$.fragment),mu=Z(),ri=F("p"),ri.textContent=r5,pu=Z(),ii=F("p"),ii.textContent=i5,gu=Z(),ge(ai.$$.fragment),vu=Z(),si=F("p"),si.textContent=a5,bu=Z(),oi=F("p"),oi.textContent=s5,yu=Z(),f0=F("div"),f0.innerHTML=o5,wu=Z(),ge(li.$$.fragment),xu=Z(),ui=F("p"),ui.textContent=l5,Mu=Z(),c0=F("div"),fi=F("div"),fi.innerHTML=u5,Cr=F("div"),Zs=F("p"),Zs.textContent=f5,Qs=F("p"),Qs.innerHTML=c5,ci=F("p"),kh=K("However, if you must know: I use the "),ge(hi.$$.fragment),$h=K(" on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),di=F("p"),Th=K("Check out "),ge(mi.$$.fragment),Ch=K(" to see how I used k-means on the images."),Su=Z(),pi=F("p"),pi.textContent=h5,ku=Z(),ge(gi.$$.fragment),$u=Z(),xn=F("p"),Ah=K("Above, the "),vi=F("span"),vi.textContent=d5,Eh=K(" shows a small portion of the pixels at eight (or three bit since "),ge(bi.$$.fragment),_h=K(") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),yi=F("span"),yi.textContent=m5,zh=K("!"),Tu=Z(),wi=F("div"),Cu=Z(),xi=F("h2"),xi.innerHTML=p5,Au=Z(),Mi=F("p"),Mi.textContent=g5,Eu=Z(),Si=F("p"),Si.textContent=v5,_u=Z(),ki=F("p"),ki.textContent=b5,zu=Z(),$i=F("p"),$i.textContent=y5,Du=Z(),Ti=F("p"),Ti.textContent=w5,Iu=Z(),h0=F("div"),h0.innerHTML=x5,Nu=Z(),ge(Ci.$$.fragment),qu=Z(),Ai=F("p"),Ai.textContent=M5,Bu=Z(),Ei=F("p"),Ei.textContent=S5,Ru=Z(),d0=F("div"),_i=F("div"),_i.innerHTML=k5,m0=F("div"),zt=F("p"),Dh=K("For each pixel at (location "),ge(zi.$$.fragment),Ih=K(") I find the difference between the corresponding color channels of the compressed/quantized image "),ge(Di.$$.fragment),Nh=K(" and the original image "),ge(Ii.$$.fragment),qh=K(". For example if the original color was black "),ge(Ni.$$.fragment),Bh=K(" and the quantized color was white "),ge(qi.$$.fragment),Rh=K(", the summed error would be "),ge(Bi.$$.fragment),Lh=K(" for that one pixel."),cn=F("p"),Fh=K("I store each error term in this "),ge(Ri.$$.fragment),Ph=K(" matrix where each number is the error "),ge(Li.$$.fragment),Oh=K(" such that "),ge(Fi.$$.fragment),Hh=K(" is the pixel index and "),ge(Pi.$$.fragment),Vh=K(" is the color channel (one of rgb)."),hn=F("p"),Uh=K("This error image "),ge(Oi.$$.fragment),jh=K(" is what you see in red above. Then I simply average over these error matrix values from "),ge(Hi.$$.fragment),Wh=K(" to get the "),Ks=F("strong"),Ks.textContent=$5,Yh=K(" as "),ge(Vi.$$.fragment),Gh=K("."),Lu=Z(),Ui=F("div"),Fu=Z(),ji=F("h2"),ji.innerHTML=T5,Pu=Z(),Wi=F("p"),Wi.textContent=C5,Ou=Z(),Jt=F("p"),Xh=K("Take this three layer neural network "),ge(Yi.$$.fragment),Zh=K(" where "),ge(Gi.$$.fragment),Qh=K(" are weights and "),ge(Xi.$$.fragment),Kh=K(" are biases at layer "),ge(Zi.$$.fragment),Jh=K("."),Hu=Z(),Qi=F("p"),Qi.textContent=A5,Vu=Z(),p0=F("div"),p0.innerHTML=E5,Uu=Z(),pt=F("p"),e2=K("With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the input vector. Namely, "),ge(Ki.$$.fragment),t2=K(" where "),ge(Ji.$$.fragment),n2=K(" is the matrix, "),ge(ea.$$.fragment),r2=K(" is the column vector, and "),ge(ta.$$.fragment),i2=K(" is the output of the matrix multiply. Alternatively, think of "),ge(na.$$.fragment),a2=K(" as transforming "),ge(ra.$$.fragment),s2=K(" into "),ge(ia.$$.fragment),o2=K("."),ju=Z(),nt=F("p"),l2=K("I can also define "),ge(aa.$$.fragment),u2=K(" compressed/quantized as "),ge(sa.$$.fragment),f2=K(". The "),ge(oa.$$.fragment),c2=K(" matrix transforms the input "),ge(la.$$.fragment),h2=K(" into some approximate output "),ge(ua.$$.fragment),d2=K(". Since "),ge(fa.$$.fragment),m2=K(" is an approximate "),ge(ca.$$.fragment),p2=K(", the output would also be approximate. I can then express the differences between the outputs "),ge(ha.$$.fragment),g2=K(" and "),ge(da.$$.fragment),v2=K(` in a single error term
`),ge(ma.$$.fragment),b2=K(" which is the size of how wrong the approximation is after the matrix multiply."),Wu=Z(),g0=F("div"),pa=F("div"),pa.innerHTML=_5,Js=F("div"),ga=F("p"),y2=K("I use the vector 1-norm here denoted by "),ge(va.$$.fragment),w2=K(" to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),Yu=Z(),Mn=F("p"),x2=K("And since "),ge(ba.$$.fragment),M2=K(" and "),ge(ya.$$.fragment),S2=K(" I can write the equation "),ge(wa.$$.fragment),k2=K(" only in terms of the inputs as"),Gu=Z(),eo=F("p"),ge(xa.$$.fragment),Xu=Z(),Ma=F("p"),Ma.textContent=z5,Zu=Z(),It=F("p"),$2=K("As is turns out, I can factor the error term in "),ge(Sa.$$.fragment),T2=K(" into one term that only contains "),ge(ka.$$.fragment),C2=K(" and other term that contains both "),ge($a.$$.fragment),A2=K(" and "),ge(Ta.$$.fragment),E2=K(` through the steps
`),ge(Ca.$$.fragment),_2=K(" where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),Qu=Z(),v0=F("div"),Aa=F("div"),Aa.innerHTML=D5,b0=F("div"),Ar=F("p"),z2=K("The above formulation "),ge(Ea.$$.fragment),D2=K(" was adapted from the lecture notes "),ge(_a.$$.fragment),I2=K("."),to=F("p"),to.textContent=I5,za=F("p"),N2=K("This is a "),ge(Da.$$.fragment),q2=K(" on the matrix operator norm induced by the 2-norm for some intuition."),Ku=Z(),Sn=F("p"),B2=K("The first term "),ge(Ia.$$.fragment),R2=K(" as "),ge(Na.$$.fragment),L2=K(" is a very useful number in many applications for linear problems: the condition number. The second term "),ge(qa.$$.fragment),F2=K(" looks quite similar to the image pixel error case. What's really important is that there is error inherent to the original matrix in the condition number. The condition number then scales the difference between original and compressed (the second term)."),Ju=Z(),Ba=F("p"),Ba.textContent=N5,e1=Z(),y0=F("div"),Ra=F("div"),Ra.innerHTML=q5,Er=F("div"),no=F("p"),no.textContent=B5,La=F("p"),P2=K("The bits is the level of quantization. Really this means we're sharing "),ge(Fa.$$.fragment),O2=K(" values. I use the bits notation because that will be the size of our index number after quantization."),ro=F("p"),ro.textContent=R5,io=F("p"),io.textContent=L5,t1=Z(),ge(Pa.$$.fragment),n1=Z(),Oa=F("p"),Oa.textContent=F5,r1=Z(),Ha=F("p"),Ha.textContent=P5,i1=Z(),Va=F("p"),Va.textContent=O5,a1=Z(),Ua=F("p"),Ua.textContent=H5,s1=Z(),w0=F("div"),w0.innerHTML=V5,o1=Z(),ja=F("div"),l1=Z(),Wa=F("h2"),Wa.innerHTML=U5,u1=Z(),Ya=F("p"),Ya.textContent=j5,f1=Z(),Ga=F("p"),Ga.textContent=W5,c1=Z(),Xa=F("p"),Xa.innerHTML=Y5,h1=Z(),x0=F("p"),H2=K("In "),ge(Za.$$.fragment),V2=K(" I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),d1=Z(),Qa=F("div"),kn=F("div"),_r=F("pre"),_r.innerHTML=G5,U2=Z(),zr=F("pre"),zr.innerHTML=X5,j2=Z(),Ka=F("div"),Ka.textContent=Z5,W2=Z(),ge(Ja.$$.fragment),m1=Z(),er=F("p"),Y2=K("The training and definitions are in "),ge(es.$$.fragment),G2=K(" and the quantization is in "),ge(ts.$$.fragment),X2=K(" if you're interested."),p1=Z(),M0=F("p"),Z2=K("I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ge(ns.$$.fragment),Q2=K(" in JavaScript."),g1=Z(),S0=F("div"),S0.innerHTML=Q5,v1=Z(),ge(rs.$$.fragment),b1=Z(),is=F("p"),is.textContent=K5,y1=Z(),k0=F("p"),K2=K("Despite this neural network having a high maximum condition number (computed by taking the condition number over each layer and taking the max "),ge(as.$$.fragment),J2=K("), using k-means quantization, the outputs look quite good: the reconstruction is accurate. I speculate again that with extra shared numbers to spare, k-means was sensitive tot he outlier which caused the high condition number, thereby masking the large effects."),w1=Z(),ss=F("div"),x1=Z(),os=F("h2"),os.innerHTML=J5,M1=Z(),ls=F("p"),ls.textContent=e6,S1=Z(),us=F("p"),us.textContent=t6,k1=Z(),fs=F("p"),fs.textContent=n6,$1=Z(),cs=F("div"),T1=Z(),hs=F("h2"),hs.innerHTML=r6,C1=Z(),en=F("ul"),Dr=F("li"),ed=K("I thank myself "),ge(ds.$$.fragment),td=K(" for writing the article and "),ge(ms.$$.fragment),nd=K(" for discussing ideas and giving me valuable feedback"),rd=Z(),ps=F("li"),id=K("Inspiration from "),ge(gs.$$.fragment),ad=K(" which evidently is by the author of that Deep Compression Paper I referenced earlier"),sd=Z(),ao=F("li"),ge(vs.$$.fragment),od=K(" was extremely useful"),ld=Z(),so=F("li"),ge(bs.$$.fragment),ud=K(" is really awesome out of the box"),fd=Z(),oo=F("li"),ge(ys.$$.fragment),cd=K(" for math equations"),A1=Z(),tr=F("section"),$0=F("h2"),$0.textContent=i6,hd=Z(),Xo=F("ol"),lo=F("li"),T0=F("p"),dd=K("Chose "),ge(ws.$$.fragment),md=K(" so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),nr=F("a"),nr.textContent=a6,this.h()},l(g){t=P(g,"P",{"data-svelte-h":!0}),we(t)!=="svelte-1g21cvi"&&(t.innerHTML=n),r=Q(g),i=P(g,"DIV",{id:!0,class:!0}),ie(i).forEach(M),a=Q(g),s=P(g,"H2",{"data-svelte-h":!0}),we(s)!=="svelte-ruhe6q"&&(s.innerHTML=o),l=Q(g),u=P(g,"P",{"data-svelte-h":!0}),we(u)!=="svelte-s62896"&&(u.textContent=f),c=Q(g),h=P(g,"DIV",{style:!0,class:!0}),ie(h).forEach(M),d=Q(g),p=P(g,"P",{});var V=ie(p);b=P(V,"EM",{});var _1=ie(b);y=J(_1,"From "),ve(w.$$.fragment,_1),k=J(_1,"'s Aperture Model."),_1.forEach(M),V.forEach(M),E=Q(g),$=P(g,"P",{});var z1=ie($);A=J(z1,"These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ve(z.$$.fragment,z1),_=J(z1," transform your text and images with over 3 billion parameters into something awesome!"),z1.forEach(M),j=Q(g),H=P(g,"P",{"data-svelte-h":!0}),we(H)!=="svelte-c230rd"&&(H.textContent=S),C=Q(g),L=P(g,"DIV",{id:!0,class:!0}),ie(L).forEach(M),R=Q(g),X=P(g,"H2",{"data-svelte-h":!0}),we(X)!=="svelte-13wc126"&&(X.innerHTML=I),W=Q(g),ae=P(g,"P",{});var D1=ie(ae);re=J(D1,"In this article I'll use the weight sharing scheme from "),ve(le.$$.fragment,D1),ee=J(D1," to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),D1.forEach(M),se=Q(g),oe=P(g,"P",{"data-svelte-h":!0}),we(oe)!=="svelte-jjbxih"&&(oe.textContent=ne),Se=Q(g),Ce=P(g,"P",{"data-svelte-h":!0}),we(Ce)!=="svelte-1dlvibq"&&(Ce.textContent=_e),fe=Q(g),he=P(g,"P",{"data-svelte-h":!0}),we(he)!=="svelte-1hz6bb9"&&(he.textContent=te),xe=Q(g),Te=P(g,"P",{"data-svelte-h":!0}),we(Te)!=="svelte-4hvpcj"&&(Te.textContent=Y),ke=Q(g),Ee=P(g,"P",{"data-svelte-h":!0}),we(Ee)!=="svelte-6rjtcm"&&(Ee.textContent=Be),Re=Q(g),Ge=P(g,"P",{"data-svelte-h":!0}),we(Ge)!=="svelte-j391qh"&&(Ge.textContent=mt),yt=Q(g),Ot=P(g,"DIV",{id:!0,class:!0}),ie(Ot).forEach(M),Zt=Q(g),_t=P(g,"H2",{"data-svelte-h":!0}),we(_t)!=="svelte-z4t4s0"&&(_t.innerHTML=Ws),X0=Q(g),$r=P(g,"P",{"data-svelte-h":!0}),we($r)!=="svelte-jn7zu2"&&($r.textContent=uu),Ys=Q(g),Qt=P(g,"P",{"data-svelte-h":!0}),we(Qt)!=="svelte-2eegx6"&&(Qt.textContent=Go),Kn=Q(g),Tr=P(g,"P",{"data-svelte-h":!0}),we(Tr)!=="svelte-hycxe9"&&(Tr.textContent=fu),Gs=Q(g),Dt=P(g,"IMG",{src:!0,style:!0,class:!0}),Xs=Q(g),Kt=P(g,"P",{});var rr=ie(Kt);yh=J(rr,"In total, there are 4,824,160 colors in the image ("),ve(Z0.$$.fragment,rr),wh=J(rr,"): one for each pixel. Each color is represented by three numbers: "),Q0=P(rr,"SPAN",{style:!0,"data-svelte-h":!0}),we(Q0)!=="svelte-17efn44"&&(Q0.textContent=K3),xh=J(rr,", "),K0=P(rr,"SPAN",{style:!0,"data-svelte-h":!0}),we(K0)!=="svelte-ixmvcs"&&(K0.textContent=J3),Mh=J(rr,", and "),J0=P(rr,"SPAN",{style:!0,"data-svelte-h":!0}),we(J0)!=="svelte-yxcr95"&&(J0.textContent=e5),Sh=J(rr," that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),rr.forEach(M),cu=Q(g),ei=P(g,"P",{"data-svelte-h":!0}),we(ei)!=="svelte-1s1w0ap"&&(ei.textContent=t5),hu=Q(g),ti=P(g,"P",{"data-svelte-h":!0}),we(ti)!=="svelte-10fp00t"&&(ti.textContent=n5),du=Q(g),ve(ni.$$.fragment,g),mu=Q(g),ri=P(g,"P",{"data-svelte-h":!0}),we(ri)!=="svelte-191ux2d"&&(ri.textContent=r5),pu=Q(g),ii=P(g,"P",{"data-svelte-h":!0}),we(ii)!=="svelte-y7jh1z"&&(ii.textContent=i5),gu=Q(g),ve(ai.$$.fragment,g),vu=Q(g),si=P(g,"P",{"data-svelte-h":!0}),we(si)!=="svelte-1mbtwn3"&&(si.textContent=a5),bu=Q(g),oi=P(g,"P",{"data-svelte-h":!0}),we(oi)!=="svelte-c0oqny"&&(oi.textContent=s5),yu=Q(g),f0=P(g,"DIV",{class:!0,"data-svelte-h":!0}),we(f0)!=="svelte-pvhyf7"&&(f0.innerHTML=o5),wu=Q(g),ve(li.$$.fragment,g),xu=Q(g),ui=P(g,"P",{"data-svelte-h":!0}),we(ui)!=="svelte-1sqnw4i"&&(ui.textContent=l5),Mu=Q(g),c0=P(g,"DIV",{class:!0});var pd=ie(c0);fi=P(pd,"DIV",{class:!0,"data-svelte-h":!0}),we(fi)!=="svelte-1cy0qbn"&&(fi.innerHTML=u5),Cr=P(pd,"DIV",{class:!0});var Zo=ie(Cr);Zs=P(Zo,"P",{"data-svelte-h":!0}),we(Zs)!=="svelte-1b2zkjk"&&(Zs.textContent=f5),Qs=P(Zo,"P",{"data-svelte-h":!0}),we(Qs)!=="svelte-1pybshj"&&(Qs.innerHTML=c5),ci=P(Zo,"P",{});var I1=ie(ci);kh=J(I1,"However, if you must know: I use the "),ve(hi.$$.fragment,I1),$h=J(I1," on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),I1.forEach(M),di=P(Zo,"P",{});var N1=ie(di);Th=J(N1,"Check out "),ve(mi.$$.fragment,N1),Ch=J(N1," to see how I used k-means on the images."),N1.forEach(M),Zo.forEach(M),pd.forEach(M),Su=Q(g),pi=P(g,"P",{"data-svelte-h":!0}),we(pi)!=="svelte-10470hz"&&(pi.textContent=h5),ku=Q(g),ve(gi.$$.fragment,g),$u=Q(g),xn=P(g,"P",{});var C0=ie(xn);Ah=J(C0,"Above, the "),vi=P(C0,"SPAN",{style:!0,"data-svelte-h":!0}),we(vi)!=="svelte-18c939o"&&(vi.textContent=d5),Eh=J(C0," shows a small portion of the pixels at eight (or three bit since "),ve(bi.$$.fragment,C0),_h=J(C0,") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),yi=P(C0,"SPAN",{style:!0,"data-svelte-h":!0}),we(yi)!=="svelte-18c939o"&&(yi.textContent=m5),zh=J(C0,"!"),C0.forEach(M),Tu=Q(g),wi=P(g,"DIV",{id:!0,class:!0}),ie(wi).forEach(M),Cu=Q(g),xi=P(g,"H2",{"data-svelte-h":!0}),we(xi)!=="svelte-o0se0e"&&(xi.innerHTML=p5),Au=Q(g),Mi=P(g,"P",{"data-svelte-h":!0}),we(Mi)!=="svelte-1293b40"&&(Mi.textContent=g5),Eu=Q(g),Si=P(g,"P",{"data-svelte-h":!0}),we(Si)!=="svelte-14roup4"&&(Si.textContent=v5),_u=Q(g),ki=P(g,"P",{"data-svelte-h":!0}),we(ki)!=="svelte-k48m7"&&(ki.textContent=b5),zu=Q(g),$i=P(g,"P",{"data-svelte-h":!0}),we($i)!=="svelte-1kk5d34"&&($i.textContent=y5),Du=Q(g),Ti=P(g,"P",{"data-svelte-h":!0}),we(Ti)!=="svelte-15vrspb"&&(Ti.textContent=w5),Iu=Q(g),h0=P(g,"DIV",{class:!0,"data-svelte-h":!0}),we(h0)!=="svelte-gsmdzw"&&(h0.innerHTML=x5),Nu=Q(g),ve(Ci.$$.fragment,g),qu=Q(g),Ai=P(g,"P",{"data-svelte-h":!0}),we(Ai)!=="svelte-1cwra3o"&&(Ai.textContent=M5),Bu=Q(g),Ei=P(g,"P",{"data-svelte-h":!0}),we(Ei)!=="svelte-1fjd55h"&&(Ei.textContent=S5),Ru=Q(g),d0=P(g,"DIV",{class:!0});var gd=ie(d0);_i=P(gd,"DIV",{class:!0,"data-svelte-h":!0}),we(_i)!=="svelte-1cy0qbn"&&(_i.innerHTML=k5),m0=P(gd,"DIV",{class:!0});var q1=ie(m0);zt=P(q1,"P",{});var tn=ie(zt);Dh=J(tn,"For each pixel at (location "),ve(zi.$$.fragment,tn),Ih=J(tn,") I find the difference between the corresponding color channels of the compressed/quantized image "),ve(Di.$$.fragment,tn),Nh=J(tn," and the original image "),ve(Ii.$$.fragment,tn),qh=J(tn,". For example if the original color was black "),ve(Ni.$$.fragment,tn),Bh=J(tn," and the quantized color was white "),ve(qi.$$.fragment,tn),Rh=J(tn,", the summed error would be "),ve(Bi.$$.fragment,tn),Lh=J(tn," for that one pixel."),tn.forEach(M),cn=P(q1,"P",{});var ir=ie(cn);Fh=J(ir,"I store each error term in this "),ve(Ri.$$.fragment,ir),Ph=J(ir," matrix where each number is the error "),ve(Li.$$.fragment,ir),Oh=J(ir," such that "),ve(Fi.$$.fragment,ir),Hh=J(ir," is the pixel index and "),ve(Pi.$$.fragment,ir),Vh=J(ir," is the color channel (one of rgb)."),ir.forEach(M),hn=P(q1,"P",{});var ar=ie(hn);Uh=J(ar,"This error image "),ve(Oi.$$.fragment,ar),jh=J(ar," is what you see in red above. Then I simply average over these error matrix values from "),ve(Hi.$$.fragment,ar),Wh=J(ar," to get the "),Ks=P(ar,"STRONG",{"data-svelte-h":!0}),we(Ks)!=="svelte-po1o1d"&&(Ks.textContent=$5),Yh=J(ar," as "),ve(Vi.$$.fragment,ar),Gh=J(ar,"."),ar.forEach(M),q1.forEach(M),gd.forEach(M),Lu=Q(g),Ui=P(g,"DIV",{id:!0,class:!0}),ie(Ui).forEach(M),Fu=Q(g),ji=P(g,"H2",{"data-svelte-h":!0}),we(ji)!=="svelte-1pnd2wq"&&(ji.innerHTML=T5),Pu=Q(g),Wi=P(g,"P",{"data-svelte-h":!0}),we(Wi)!=="svelte-680tq2"&&(Wi.textContent=C5),Ou=Q(g),Jt=P(g,"P",{});var sr=ie(Jt);Xh=J(sr,"Take this three layer neural network "),ve(Yi.$$.fragment,sr),Zh=J(sr," where "),ve(Gi.$$.fragment,sr),Qh=J(sr," are weights and "),ve(Xi.$$.fragment,sr),Kh=J(sr," are biases at layer "),ve(Zi.$$.fragment,sr),Jh=J(sr,"."),sr.forEach(M),Hu=Q(g),Qi=P(g,"P",{"data-svelte-h":!0}),we(Qi)!=="svelte-5uai62"&&(Qi.textContent=A5),Vu=Q(g),p0=P(g,"DIV",{class:!0,"data-svelte-h":!0}),we(p0)!=="svelte-gg0y1z"&&(p0.innerHTML=E5),Uu=Q(g),pt=P(g,"P",{});var Nt=ie(pt);e2=J(Nt,"With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the input vector. Namely, "),ve(Ki.$$.fragment,Nt),t2=J(Nt," where "),ve(Ji.$$.fragment,Nt),n2=J(Nt," is the matrix, "),ve(ea.$$.fragment,Nt),r2=J(Nt," is the column vector, and "),ve(ta.$$.fragment,Nt),i2=J(Nt," is the output of the matrix multiply. Alternatively, think of "),ve(na.$$.fragment,Nt),a2=J(Nt," as transforming "),ve(ra.$$.fragment,Nt),s2=J(Nt," into "),ve(ia.$$.fragment,Nt),o2=J(Nt,"."),Nt.forEach(M),ju=Q(g),nt=P(g,"P",{});var ut=ie(nt);l2=J(ut,"I can also define "),ve(aa.$$.fragment,ut),u2=J(ut," compressed/quantized as "),ve(sa.$$.fragment,ut),f2=J(ut,". The "),ve(oa.$$.fragment,ut),c2=J(ut," matrix transforms the input "),ve(la.$$.fragment,ut),h2=J(ut," into some approximate output "),ve(ua.$$.fragment,ut),d2=J(ut,". Since "),ve(fa.$$.fragment,ut),m2=J(ut," is an approximate "),ve(ca.$$.fragment,ut),p2=J(ut,", the output would also be approximate. I can then express the differences between the outputs "),ve(ha.$$.fragment,ut),g2=J(ut," and "),ve(da.$$.fragment,ut),v2=J(ut,` in a single error term
`),ve(ma.$$.fragment,ut),b2=J(ut," which is the size of how wrong the approximation is after the matrix multiply."),ut.forEach(M),Wu=Q(g),g0=P(g,"DIV",{class:!0});var vd=ie(g0);pa=P(vd,"DIV",{class:!0,"data-svelte-h":!0}),we(pa)!=="svelte-1cy0qbn"&&(pa.innerHTML=_5),Js=P(vd,"DIV",{class:!0});var s6=ie(Js);ga=P(s6,"P",{});var B1=ie(ga);y2=J(B1,"I use the vector 1-norm here denoted by "),ve(va.$$.fragment,B1),w2=J(B1," to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),B1.forEach(M),s6.forEach(M),vd.forEach(M),Yu=Q(g),Mn=P(g,"P",{});var A0=ie(Mn);x2=J(A0,"And since "),ve(ba.$$.fragment,A0),M2=J(A0," and "),ve(ya.$$.fragment,A0),S2=J(A0," I can write the equation "),ve(wa.$$.fragment,A0),k2=J(A0," only in terms of the inputs as"),A0.forEach(M),Gu=Q(g),eo=P(g,"P",{});var o6=ie(eo);ve(xa.$$.fragment,o6),o6.forEach(M),Xu=Q(g),Ma=P(g,"P",{"data-svelte-h":!0}),we(Ma)!=="svelte-1g0yiop"&&(Ma.textContent=z5),Zu=Q(g),It=P(g,"P",{});var $n=ie(It);$2=J($n,"As is turns out, I can factor the error term in "),ve(Sa.$$.fragment,$n),T2=J($n," into one term that only contains "),ve(ka.$$.fragment,$n),C2=J($n," and other term that contains both "),ve($a.$$.fragment,$n),A2=J($n," and "),ve(Ta.$$.fragment,$n),E2=J($n,` through the steps
`),ve(Ca.$$.fragment,$n),_2=J($n," where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),$n.forEach(M),Qu=Q(g),v0=P(g,"DIV",{class:!0});var bd=ie(v0);Aa=P(bd,"DIV",{class:!0,"data-svelte-h":!0}),we(Aa)!=="svelte-1cy0qbn"&&(Aa.innerHTML=D5),b0=P(bd,"DIV",{class:!0});var R1=ie(b0);Ar=P(R1,"P",{});var uo=ie(Ar);z2=J(uo,"The above formulation "),ve(Ea.$$.fragment,uo),D2=J(uo," was adapted from the lecture notes "),ve(_a.$$.fragment,uo),I2=J(uo,"."),uo.forEach(M),to=P(R1,"P",{"data-svelte-h":!0}),we(to)!=="svelte-kkkuki"&&(to.textContent=I5),za=P(R1,"P",{});var L1=ie(za);N2=J(L1,"This is a "),ve(Da.$$.fragment,L1),q2=J(L1," on the matrix operator norm induced by the 2-norm for some intuition."),L1.forEach(M),R1.forEach(M),bd.forEach(M),Ku=Q(g),Sn=P(g,"P",{});var E0=ie(Sn);B2=J(E0,"The first term "),ve(Ia.$$.fragment,E0),R2=J(E0," as "),ve(Na.$$.fragment,E0),L2=J(E0," is a very useful number in many applications for linear problems: the condition number. The second term "),ve(qa.$$.fragment,E0),F2=J(E0," looks quite similar to the image pixel error case. What's really important is that there is error inherent to the original matrix in the condition number. The condition number then scales the difference between original and compressed (the second term)."),E0.forEach(M),Ju=Q(g),Ba=P(g,"P",{"data-svelte-h":!0}),we(Ba)!=="svelte-12mmrko"&&(Ba.textContent=N5),e1=Q(g),y0=P(g,"DIV",{class:!0});var yd=ie(y0);Ra=P(yd,"DIV",{class:!0,"data-svelte-h":!0}),we(Ra)!=="svelte-12o2pjt"&&(Ra.innerHTML=q5),Er=P(yd,"DIV",{class:!0});var Qo=ie(Er);no=P(Qo,"P",{"data-svelte-h":!0}),we(no)!=="svelte-hfhk2z"&&(no.textContent=B5),La=P(Qo,"P",{});var F1=ie(La);P2=J(F1,"The bits is the level of quantization. Really this means we're sharing "),ve(Fa.$$.fragment,F1),O2=J(F1," values. I use the bits notation because that will be the size of our index number after quantization."),F1.forEach(M),ro=P(Qo,"P",{"data-svelte-h":!0}),we(ro)!=="svelte-me62zw"&&(ro.textContent=R5),io=P(Qo,"P",{"data-svelte-h":!0}),we(io)!=="svelte-1dr614i"&&(io.textContent=L5),Qo.forEach(M),yd.forEach(M),t1=Q(g),ve(Pa.$$.fragment,g),n1=Q(g),Oa=P(g,"P",{"data-svelte-h":!0}),we(Oa)!=="svelte-1p3fkjh"&&(Oa.textContent=F5),r1=Q(g),Ha=P(g,"P",{"data-svelte-h":!0}),we(Ha)!=="svelte-4mfrmk"&&(Ha.textContent=P5),i1=Q(g),Va=P(g,"P",{"data-svelte-h":!0}),we(Va)!=="svelte-15yii5i"&&(Va.textContent=O5),a1=Q(g),Ua=P(g,"P",{"data-svelte-h":!0}),we(Ua)!=="svelte-tg7qqj"&&(Ua.textContent=H5),s1=Q(g),w0=P(g,"DIV",{class:!0,"data-svelte-h":!0}),we(w0)!=="svelte-1qtqrka"&&(w0.innerHTML=V5),o1=Q(g),ja=P(g,"DIV",{id:!0,class:!0}),ie(ja).forEach(M),l1=Q(g),Wa=P(g,"H2",{"data-svelte-h":!0}),we(Wa)!=="svelte-lt4h7y"&&(Wa.innerHTML=U5),u1=Q(g),Ya=P(g,"P",{"data-svelte-h":!0}),we(Ya)!=="svelte-ajbibf"&&(Ya.textContent=j5),f1=Q(g),Ga=P(g,"P",{"data-svelte-h":!0}),we(Ga)!=="svelte-1aq8px0"&&(Ga.textContent=W5),c1=Q(g),Xa=P(g,"P",{"data-svelte-h":!0}),we(Xa)!=="svelte-muq9ia"&&(Xa.innerHTML=Y5),h1=Q(g),x0=P(g,"P",{});var P1=ie(x0);H2=J(P1,"In "),ve(Za.$$.fragment,P1),V2=J(P1," I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),P1.forEach(M),d1=Q(g),Qa=P(g,"DIV",{class:!0});var l6=ie(Qa);kn=P(l6,"DIV",{class:!0});var _0=ie(kn);_r=P(_0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),we(_r)!=="svelte-2kshyc"&&(_r.innerHTML=G5),U2=Q(_0),zr=P(_0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),we(zr)!=="svelte-1xjekbd"&&(zr.innerHTML=X5),j2=Q(_0),Ka=P(_0,"DIV",{class:!0,"data-svelte-h":!0}),we(Ka)!=="svelte-lxlwao"&&(Ka.textContent=Z5),W2=Q(_0),ve(Ja.$$.fragment,_0),_0.forEach(M),l6.forEach(M),m1=Q(g),er=P(g,"P",{});var fo=ie(er);Y2=J(fo,"The training and definitions are in "),ve(es.$$.fragment,fo),G2=J(fo," and the quantization is in "),ve(ts.$$.fragment,fo),X2=J(fo," if you're interested."),fo.forEach(M),p1=Q(g),M0=P(g,"P",{});var O1=ie(M0);Z2=J(O1,"I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ve(ns.$$.fragment,O1),Q2=J(O1," in JavaScript."),O1.forEach(M),g1=Q(g),S0=P(g,"DIV",{class:!0,"data-svelte-h":!0}),we(S0)!=="svelte-jqajp3"&&(S0.innerHTML=Q5),v1=Q(g),ve(rs.$$.fragment,g),b1=Q(g),is=P(g,"P",{"data-svelte-h":!0}),we(is)!=="svelte-jsjnm2"&&(is.textContent=K5),y1=Q(g),k0=P(g,"P",{});var H1=ie(k0);K2=J(H1,"Despite this neural network having a high maximum condition number (computed by taking the condition number over each layer and taking the max "),ve(as.$$.fragment,H1),J2=J(H1,"), using k-means quantization, the outputs look quite good: the reconstruction is accurate. I speculate again that with extra shared numbers to spare, k-means was sensitive tot he outlier which caused the high condition number, thereby masking the large effects."),H1.forEach(M),w1=Q(g),ss=P(g,"DIV",{id:!0,class:!0}),ie(ss).forEach(M),x1=Q(g),os=P(g,"H2",{"data-svelte-h":!0}),we(os)!=="svelte-nbmqct"&&(os.innerHTML=J5),M1=Q(g),ls=P(g,"P",{"data-svelte-h":!0}),we(ls)!=="svelte-xjgjeq"&&(ls.textContent=e6),S1=Q(g),us=P(g,"P",{"data-svelte-h":!0}),we(us)!=="svelte-1qv4i6b"&&(us.textContent=t6),k1=Q(g),fs=P(g,"P",{"data-svelte-h":!0}),we(fs)!=="svelte-f850hp"&&(fs.textContent=n6),$1=Q(g),cs=P(g,"DIV",{id:!0,class:!0}),ie(cs).forEach(M),T1=Q(g),hs=P(g,"H2",{"data-svelte-h":!0}),we(hs)!=="svelte-1hcknps"&&(hs.innerHTML=r6),C1=Q(g),en=P(g,"UL",{});var or=ie(en);Dr=P(or,"LI",{});var co=ie(Dr);ed=J(co,"I thank myself "),ve(ds.$$.fragment,co),td=J(co," for writing the article and "),ve(ms.$$.fragment,co),nd=J(co," for discussing ideas and giving me valuable feedback"),co.forEach(M),rd=Q(or),ps=P(or,"LI",{});var V1=ie(ps);id=J(V1,"Inspiration from "),ve(gs.$$.fragment,V1),ad=J(V1," which evidently is by the author of that Deep Compression Paper I referenced earlier"),V1.forEach(M),sd=Q(or),ao=P(or,"LI",{});var wd=ie(ao);ve(vs.$$.fragment,wd),od=J(wd," was extremely useful"),wd.forEach(M),ld=Q(or),so=P(or,"LI",{});var xd=ie(so);ve(bs.$$.fragment,xd),ud=J(xd," is really awesome out of the box"),xd.forEach(M),fd=Q(or),oo=P(or,"LI",{});var Md=ie(oo);ve(ys.$$.fragment,Md),cd=J(Md," for math equations"),Md.forEach(M),or.forEach(M),A1=Q(g),tr=P(g,"SECTION",{"data-footnotes":!0,class:!0});var U1=ie(tr);$0=P(U1,"H2",{class:!0,id:!0,"data-svelte-h":!0}),we($0)!=="svelte-lkgpaz"&&($0.textContent=i6),hd=Q(U1),Xo=P(U1,"OL",{});var u6=ie(Xo);lo=P(u6,"LI",{id:!0});var f6=ie(lo);T0=P(f6,"P",{});var Ko=ie(T0);dd=J(Ko,"Chose "),ve(ws.$$.fragment,Ko),md=J(Ko," so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),nr=P(Ko,"A",{href:!0,"data-footnote-backref":!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),we(nr)!=="svelte-1ge09vi"&&(nr.textContent=a6),Ko.forEach(M),f6.forEach(M),u6.forEach(M),U1.forEach(M),this.h()},h(){O(i,"id","Introduction"),O(i,"class","svp-anchor-item"),Ye(h,"background-image","url(cyber.jpg)"),Ye(h,"height","50px"),Ye(h,"margin-bottom","-12px"),O(h,"class","thumb svelte-1erdxyx"),O(L,"id","Sharing-as-Compression"),O(L,"class","svp-anchor-item"),O(Ot,"id","Sharing-Pixels"),O(Ot,"class","svp-anchor-item"),Tf(Dt.src,Jn="dog.png")||O(Dt,"src",Jn),Ye(Dt,"width","300px"),O(Dt,"class","svelte-1erdxyx"),Ye(Q0,"color","rgb(255, 0, 0)"),Ye(K0,"color","rgb(0, 255, 0)"),Ye(J0,"color","rgb(0, 0, 255)"),O(f0,"class","admonition admonition-important"),O(fi,"class","admonition-heading"),O(Cr,"class","admonition-content"),O(c0,"class","admonition admonition-note"),Ye(vi,"color","salmon"),Ye(yi,"color","salmon"),O(wi,"id","Quantifying-Error"),O(wi,"class","svp-anchor-item"),O(h0,"class","admonition admonition-important"),O(_i,"class","admonition-heading"),O(m0,"class","admonition-content"),O(d0,"class","admonition admonition-note"),O(Ui,"id","Matrix-Multiplication"),O(Ui,"class","svp-anchor-item"),O(p0,"class","admonition admonition-warning"),O(pa,"class","admonition-heading"),O(Js,"class","admonition-content"),O(g0,"class","admonition admonition-note"),O(Aa,"class","admonition-heading"),O(b0,"class","admonition-content"),O(v0,"class","admonition admonition-note"),O(Ra,"class","admonition-heading"),O(Er,"class","admonition-content"),O(y0,"class","admonition admonition-important"),O(w0,"class","admonition admonition-note"),O(ja,"id","More-layers"),O(ja,"class","svp-anchor-item"),O(_r,"class","shiki vitesse-light"),Ye(_r,"background-color","#ffffff"),O(_r,"tabindex","0"),O(zr,"class","shiki night-owl"),Ye(zr,"background-color","#011627"),O(zr,"tabindex","0"),O(Ka,"class","svp-code-block--lang"),O(kn,"class","svp-code-block"),O(Qa,"class","svp-code-block-wrapper"),O(S0,"class","admonition admonition-important"),O(ss,"id","Conclusion"),O(ss,"class","svp-anchor-item"),O(cs,"id","Acknowledgments"),O(cs,"class","svp-anchor-item"),O($0,"class","sr-only"),O($0,"id","footnote-label"),O(nr,"href","#user-content-fnref-1"),O(nr,"data-footnote-backref",""),O(nr,"class","data-footnote-backref"),O(nr,"aria-label","Back to content"),O(lo,"id","user-content-fn-1"),O(tr,"data-footnotes",""),O(tr,"class","footnotes")},m(g,V){D(g,t,V),D(g,r,V),D(g,i,V),D(g,a,V),D(g,s,V),D(g,l,V),D(g,u,V),D(g,c,V),D(g,h,V),D(g,d,V),D(g,p,V),N(p,b),N(b,y),be(w,b,null),N(b,k),D(g,E,V),D(g,$,V),N($,A),be(z,$,null),N($,_),D(g,j,V),D(g,H,V),D(g,C,V),D(g,L,V),D(g,R,V),D(g,X,V),D(g,W,V),D(g,ae,V),N(ae,re),be(le,ae,null),N(ae,ee),D(g,se,V),D(g,oe,V),D(g,Se,V),D(g,Ce,V),D(g,fe,V),D(g,he,V),D(g,xe,V),D(g,Te,V),D(g,ke,V),D(g,Ee,V),D(g,Re,V),D(g,Ge,V),D(g,yt,V),D(g,Ot,V),D(g,Zt,V),D(g,_t,V),D(g,X0,V),D(g,$r,V),D(g,Ys,V),D(g,Qt,V),D(g,Kn,V),D(g,Tr,V),D(g,Gs,V),D(g,Dt,V),D(g,Xs,V),D(g,Kt,V),N(Kt,yh),be(Z0,Kt,null),N(Kt,wh),N(Kt,Q0),N(Kt,xh),N(Kt,K0),N(Kt,Mh),N(Kt,J0),N(Kt,Sh),D(g,cu,V),D(g,ei,V),D(g,hu,V),D(g,ti,V),D(g,du,V),be(ni,g,V),D(g,mu,V),D(g,ri,V),D(g,pu,V),D(g,ii,V),D(g,gu,V),be(ai,g,V),D(g,vu,V),D(g,si,V),D(g,bu,V),D(g,oi,V),D(g,yu,V),D(g,f0,V),D(g,wu,V),be(li,g,V),D(g,xu,V),D(g,ui,V),D(g,Mu,V),D(g,c0,V),N(c0,fi),N(c0,Cr),N(Cr,Zs),N(Cr,Qs),N(Cr,ci),N(ci,kh),be(hi,ci,null),N(ci,$h),N(Cr,di),N(di,Th),be(mi,di,null),N(di,Ch),D(g,Su,V),D(g,pi,V),D(g,ku,V),be(gi,g,V),D(g,$u,V),D(g,xn,V),N(xn,Ah),N(xn,vi),N(xn,Eh),be(bi,xn,null),N(xn,_h),N(xn,yi),N(xn,zh),D(g,Tu,V),D(g,wi,V),D(g,Cu,V),D(g,xi,V),D(g,Au,V),D(g,Mi,V),D(g,Eu,V),D(g,Si,V),D(g,_u,V),D(g,ki,V),D(g,zu,V),D(g,$i,V),D(g,Du,V),D(g,Ti,V),D(g,Iu,V),D(g,h0,V),D(g,Nu,V),be(Ci,g,V),D(g,qu,V),D(g,Ai,V),D(g,Bu,V),D(g,Ei,V),D(g,Ru,V),D(g,d0,V),N(d0,_i),N(d0,m0),N(m0,zt),N(zt,Dh),be(zi,zt,null),N(zt,Ih),be(Di,zt,null),N(zt,Nh),be(Ii,zt,null),N(zt,qh),be(Ni,zt,null),N(zt,Bh),be(qi,zt,null),N(zt,Rh),be(Bi,zt,null),N(zt,Lh),N(m0,cn),N(cn,Fh),be(Ri,cn,null),N(cn,Ph),be(Li,cn,null),N(cn,Oh),be(Fi,cn,null),N(cn,Hh),be(Pi,cn,null),N(cn,Vh),N(m0,hn),N(hn,Uh),be(Oi,hn,null),N(hn,jh),be(Hi,hn,null),N(hn,Wh),N(hn,Ks),N(hn,Yh),be(Vi,hn,null),N(hn,Gh),D(g,Lu,V),D(g,Ui,V),D(g,Fu,V),D(g,ji,V),D(g,Pu,V),D(g,Wi,V),D(g,Ou,V),D(g,Jt,V),N(Jt,Xh),be(Yi,Jt,null),N(Jt,Zh),be(Gi,Jt,null),N(Jt,Qh),be(Xi,Jt,null),N(Jt,Kh),be(Zi,Jt,null),N(Jt,Jh),D(g,Hu,V),D(g,Qi,V),D(g,Vu,V),D(g,p0,V),D(g,Uu,V),D(g,pt,V),N(pt,e2),be(Ki,pt,null),N(pt,t2),be(Ji,pt,null),N(pt,n2),be(ea,pt,null),N(pt,r2),be(ta,pt,null),N(pt,i2),be(na,pt,null),N(pt,a2),be(ra,pt,null),N(pt,s2),be(ia,pt,null),N(pt,o2),D(g,ju,V),D(g,nt,V),N(nt,l2),be(aa,nt,null),N(nt,u2),be(sa,nt,null),N(nt,f2),be(oa,nt,null),N(nt,c2),be(la,nt,null),N(nt,h2),be(ua,nt,null),N(nt,d2),be(fa,nt,null),N(nt,m2),be(ca,nt,null),N(nt,p2),be(ha,nt,null),N(nt,g2),be(da,nt,null),N(nt,v2),be(ma,nt,null),N(nt,b2),D(g,Wu,V),D(g,g0,V),N(g0,pa),N(g0,Js),N(Js,ga),N(ga,y2),be(va,ga,null),N(ga,w2),D(g,Yu,V),D(g,Mn,V),N(Mn,x2),be(ba,Mn,null),N(Mn,M2),be(ya,Mn,null),N(Mn,S2),be(wa,Mn,null),N(Mn,k2),D(g,Gu,V),D(g,eo,V),be(xa,eo,null),D(g,Xu,V),D(g,Ma,V),D(g,Zu,V),D(g,It,V),N(It,$2),be(Sa,It,null),N(It,T2),be(ka,It,null),N(It,C2),be($a,It,null),N(It,A2),be(Ta,It,null),N(It,E2),be(Ca,It,null),N(It,_2),D(g,Qu,V),D(g,v0,V),N(v0,Aa),N(v0,b0),N(b0,Ar),N(Ar,z2),be(Ea,Ar,null),N(Ar,D2),be(_a,Ar,null),N(Ar,I2),N(b0,to),N(b0,za),N(za,N2),be(Da,za,null),N(za,q2),D(g,Ku,V),D(g,Sn,V),N(Sn,B2),be(Ia,Sn,null),N(Sn,R2),be(Na,Sn,null),N(Sn,L2),be(qa,Sn,null),N(Sn,F2),D(g,Ju,V),D(g,Ba,V),D(g,e1,V),D(g,y0,V),N(y0,Ra),N(y0,Er),N(Er,no),N(Er,La),N(La,P2),be(Fa,La,null),N(La,O2),N(Er,ro),N(Er,io),D(g,t1,V),be(Pa,g,V),D(g,n1,V),D(g,Oa,V),D(g,r1,V),D(g,Ha,V),D(g,i1,V),D(g,Va,V),D(g,a1,V),D(g,Ua,V),D(g,s1,V),D(g,w0,V),D(g,o1,V),D(g,ja,V),D(g,l1,V),D(g,Wa,V),D(g,u1,V),D(g,Ya,V),D(g,f1,V),D(g,Ga,V),D(g,c1,V),D(g,Xa,V),D(g,h1,V),D(g,x0,V),N(x0,H2),be(Za,x0,null),N(x0,V2),D(g,d1,V),D(g,Qa,V),N(Qa,kn),N(kn,_r),N(kn,U2),N(kn,zr),N(kn,j2),N(kn,Ka),N(kn,W2),be(Ja,kn,null),D(g,m1,V),D(g,er,V),N(er,Y2),be(es,er,null),N(er,G2),be(ts,er,null),N(er,X2),D(g,p1,V),D(g,M0,V),N(M0,Z2),be(ns,M0,null),N(M0,Q2),D(g,g1,V),D(g,S0,V),D(g,v1,V),be(rs,g,V),D(g,b1,V),D(g,is,V),D(g,y1,V),D(g,k0,V),N(k0,K2),be(as,k0,null),N(k0,J2),D(g,w1,V),D(g,ss,V),D(g,x1,V),D(g,os,V),D(g,M1,V),D(g,ls,V),D(g,S1,V),D(g,us,V),D(g,k1,V),D(g,fs,V),D(g,$1,V),D(g,cs,V),D(g,T1,V),D(g,hs,V),D(g,C1,V),D(g,en,V),N(en,Dr),N(Dr,ed),be(ds,Dr,null),N(Dr,td),be(ms,Dr,null),N(Dr,nd),N(en,rd),N(en,ps),N(ps,id),be(gs,ps,null),N(ps,ad),N(en,sd),N(en,ao),be(vs,ao,null),N(ao,od),N(en,ld),N(en,so),be(bs,so,null),N(so,ud),N(en,fd),N(en,oo),be(ys,oo,null),N(oo,cd),D(g,A1,V),D(g,tr,V),N(tr,$0),N(tr,hd),N(tr,Xo),N(Xo,lo),N(lo,T0),N(T0,dd),be(ws,T0,null),N(T0,md),N(T0,nr),E1=!0},p:Xe,i(g){E1||(de(w.$$.fragment,g),de(z.$$.fragment,g),de(le.$$.fragment,g),de(Z0.$$.fragment,g),de(ni.$$.fragment,g),de(ai.$$.fragment,g),de(li.$$.fragment,g),de(hi.$$.fragment,g),de(mi.$$.fragment,g),de(gi.$$.fragment,g),de(bi.$$.fragment,g),de(Ci.$$.fragment,g),de(zi.$$.fragment,g),de(Di.$$.fragment,g),de(Ii.$$.fragment,g),de(Ni.$$.fragment,g),de(qi.$$.fragment,g),de(Bi.$$.fragment,g),de(Ri.$$.fragment,g),de(Li.$$.fragment,g),de(Fi.$$.fragment,g),de(Pi.$$.fragment,g),de(Oi.$$.fragment,g),de(Hi.$$.fragment,g),de(Vi.$$.fragment,g),de(Yi.$$.fragment,g),de(Gi.$$.fragment,g),de(Xi.$$.fragment,g),de(Zi.$$.fragment,g),de(Ki.$$.fragment,g),de(Ji.$$.fragment,g),de(ea.$$.fragment,g),de(ta.$$.fragment,g),de(na.$$.fragment,g),de(ra.$$.fragment,g),de(ia.$$.fragment,g),de(aa.$$.fragment,g),de(sa.$$.fragment,g),de(oa.$$.fragment,g),de(la.$$.fragment,g),de(ua.$$.fragment,g),de(fa.$$.fragment,g),de(ca.$$.fragment,g),de(ha.$$.fragment,g),de(da.$$.fragment,g),de(ma.$$.fragment,g),de(va.$$.fragment,g),de(ba.$$.fragment,g),de(ya.$$.fragment,g),de(wa.$$.fragment,g),de(xa.$$.fragment,g),de(Sa.$$.fragment,g),de(ka.$$.fragment,g),de($a.$$.fragment,g),de(Ta.$$.fragment,g),de(Ca.$$.fragment,g),de(Ea.$$.fragment,g),de(_a.$$.fragment,g),de(Da.$$.fragment,g),de(Ia.$$.fragment,g),de(Na.$$.fragment,g),de(qa.$$.fragment,g),de(Fa.$$.fragment,g),de(Pa.$$.fragment,g),de(Za.$$.fragment,g),de(Ja.$$.fragment,g),de(es.$$.fragment,g),de(ts.$$.fragment,g),de(ns.$$.fragment,g),de(rs.$$.fragment,g),de(as.$$.fragment,g),de(ds.$$.fragment,g),de(ms.$$.fragment,g),de(gs.$$.fragment,g),de(vs.$$.fragment,g),de(bs.$$.fragment,g),de(ys.$$.fragment,g),de(ws.$$.fragment,g),E1=!0)},o(g){me(w.$$.fragment,g),me(z.$$.fragment,g),me(le.$$.fragment,g),me(Z0.$$.fragment,g),me(ni.$$.fragment,g),me(ai.$$.fragment,g),me(li.$$.fragment,g),me(hi.$$.fragment,g),me(mi.$$.fragment,g),me(gi.$$.fragment,g),me(bi.$$.fragment,g),me(Ci.$$.fragment,g),me(zi.$$.fragment,g),me(Di.$$.fragment,g),me(Ii.$$.fragment,g),me(Ni.$$.fragment,g),me(qi.$$.fragment,g),me(Bi.$$.fragment,g),me(Ri.$$.fragment,g),me(Li.$$.fragment,g),me(Fi.$$.fragment,g),me(Pi.$$.fragment,g),me(Oi.$$.fragment,g),me(Hi.$$.fragment,g),me(Vi.$$.fragment,g),me(Yi.$$.fragment,g),me(Gi.$$.fragment,g),me(Xi.$$.fragment,g),me(Zi.$$.fragment,g),me(Ki.$$.fragment,g),me(Ji.$$.fragment,g),me(ea.$$.fragment,g),me(ta.$$.fragment,g),me(na.$$.fragment,g),me(ra.$$.fragment,g),me(ia.$$.fragment,g),me(aa.$$.fragment,g),me(sa.$$.fragment,g),me(oa.$$.fragment,g),me(la.$$.fragment,g),me(ua.$$.fragment,g),me(fa.$$.fragment,g),me(ca.$$.fragment,g),me(ha.$$.fragment,g),me(da.$$.fragment,g),me(ma.$$.fragment,g),me(va.$$.fragment,g),me(ba.$$.fragment,g),me(ya.$$.fragment,g),me(wa.$$.fragment,g),me(xa.$$.fragment,g),me(Sa.$$.fragment,g),me(ka.$$.fragment,g),me($a.$$.fragment,g),me(Ta.$$.fragment,g),me(Ca.$$.fragment,g),me(Ea.$$.fragment,g),me(_a.$$.fragment,g),me(Da.$$.fragment,g),me(Ia.$$.fragment,g),me(Na.$$.fragment,g),me(qa.$$.fragment,g),me(Fa.$$.fragment,g),me(Pa.$$.fragment,g),me(Za.$$.fragment,g),me(Ja.$$.fragment,g),me(es.$$.fragment,g),me(ts.$$.fragment,g),me(ns.$$.fragment,g),me(rs.$$.fragment,g),me(as.$$.fragment,g),me(ds.$$.fragment,g),me(ms.$$.fragment,g),me(gs.$$.fragment,g),me(vs.$$.fragment,g),me(bs.$$.fragment,g),me(ys.$$.fragment,g),me(ws.$$.fragment,g),E1=!1},d(g){g&&(M(t),M(r),M(i),M(a),M(s),M(l),M(u),M(c),M(h),M(d),M(p),M(E),M($),M(j),M(H),M(C),M(L),M(R),M(X),M(W),M(ae),M(se),M(oe),M(Se),M(Ce),M(fe),M(he),M(xe),M(Te),M(ke),M(Ee),M(Re),M(Ge),M(yt),M(Ot),M(Zt),M(_t),M(X0),M($r),M(Ys),M(Qt),M(Kn),M(Tr),M(Gs),M(Dt),M(Xs),M(Kt),M(cu),M(ei),M(hu),M(ti),M(du),M(mu),M(ri),M(pu),M(ii),M(gu),M(vu),M(si),M(bu),M(oi),M(yu),M(f0),M(wu),M(xu),M(ui),M(Mu),M(c0),M(Su),M(pi),M(ku),M($u),M(xn),M(Tu),M(wi),M(Cu),M(xi),M(Au),M(Mi),M(Eu),M(Si),M(_u),M(ki),M(zu),M($i),M(Du),M(Ti),M(Iu),M(h0),M(Nu),M(qu),M(Ai),M(Bu),M(Ei),M(Ru),M(d0),M(Lu),M(Ui),M(Fu),M(ji),M(Pu),M(Wi),M(Ou),M(Jt),M(Hu),M(Qi),M(Vu),M(p0),M(Uu),M(pt),M(ju),M(nt),M(Wu),M(g0),M(Yu),M(Mn),M(Gu),M(eo),M(Xu),M(Ma),M(Zu),M(It),M(Qu),M(v0),M(Ku),M(Sn),M(Ju),M(Ba),M(e1),M(y0),M(t1),M(n1),M(Oa),M(r1),M(Ha),M(i1),M(Va),M(a1),M(Ua),M(s1),M(w0),M(o1),M(ja),M(l1),M(Wa),M(u1),M(Ya),M(f1),M(Ga),M(c1),M(Xa),M(h1),M(x0),M(d1),M(Qa),M(m1),M(er),M(p1),M(M0),M(g1),M(S0),M(v1),M(b1),M(is),M(y1),M(k0),M(w1),M(ss),M(x1),M(os),M(M1),M(ls),M(S1),M(us),M(k1),M(fs),M($1),M(cs),M(T1),M(hs),M(C1),M(en),M(A1),M(tr)),ye(w),ye(z),ye(le),ye(Z0),ye(ni,g),ye(ai,g),ye(li,g),ye(hi),ye(mi),ye(gi,g),ye(bi),ye(Ci,g),ye(zi),ye(Di),ye(Ii),ye(Ni),ye(qi),ye(Bi),ye(Ri),ye(Li),ye(Fi),ye(Pi),ye(Oi),ye(Hi),ye(Vi),ye(Yi),ye(Gi),ye(Xi),ye(Zi),ye(Ki),ye(Ji),ye(ea),ye(ta),ye(na),ye(ra),ye(ia),ye(aa),ye(sa),ye(oa),ye(la),ye(ua),ye(fa),ye(ca),ye(ha),ye(da),ye(ma),ye(va),ye(ba),ye(ya),ye(wa),ye(xa),ye(Sa),ye(ka),ye($a),ye(Ta),ye(Ca),ye(Ea),ye(_a),ye(Da),ye(Ia),ye(Na),ye(qa),ye(Fa),ye(Pa,g),ye(Za),ye(Ja),ye(es),ye(ts),ye(ns),ye(rs,g),ye(as),ye(ds),ye(ms),ye(gs),ye(vs),ye(bs),ye(ys),ye(ws)}}}function QB(e){let t,n;return t=new Ww({props:{fm:e[0],$$slots:{default:[ZB]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},l(r){ve(t.$$.fragment,r)},m(r,i){be(t,r,i),n=!0},p(r,[i]){const a={};i&2&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(de(t.$$.fragment,r),n=!0)},o(r){me(t.$$.fragment,r),n=!1},d(r){ye(t,r)}}}const KB="https://github.com/xnought/docs";function JB(e){return[{pageType:"md",lastUpdate:"August 2023",title:"Compressing Neural Network Weights",anchors:[{slugId:"Introduction",title:"Introduction",depth:2},{slugId:"Sharing-as-Compression",title:"Sharing as Compression",depth:2},{slugId:"Sharing-Pixels",title:"Sharing Pixels",depth:2},{slugId:"Quantifying-Error",title:"Quantifying Error",depth:2},{slugId:"Matrix-Multiplication",title:"Matrix Multiplication",depth:2},{slugId:"More-layers",title:"More layers",depth:2},{slugId:"Conclusion",title:"Conclusion",depth:2},{slugId:"Acknowledgments",title:"Acknowledgments",depth:2}]}]}class aR extends Wt{constructor(t){super(),Yt(this,t,JB,QB,jt,{})}}export{aR as component};

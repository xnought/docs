import{s as Yt,w as Lt,x as Rt,h as te,d as x,j as R,i as z,r as _,u as Xe,e as un,p as Gn,f as F,g as L,F as yt,J as pu,a as X,c as Z,Y as he,M as tf,k as Re,l as K,m as J,Z as t0,n as on,_ as eh,o as gm,K as Vx,L as Ux,$ as th,V as jx,a0 as f6,C as nh,a1 as Wx}from"../chunks/scheduler.655c61ae.js";import{S as Gt,i as Xt,g as m9,t as de,c as p9,a as fe,b as ge,d as ve,m as ye,e as be}from"../chunks/index.9e10714d.js";import{P as Yx}from"../chunks/CopyCode.svelte_svelte_type_style_lang.97ce6ff2.js";import{e as W0}from"../chunks/Link.svelte_svelte_type_style_lang.44d27ae6.js";import{L as gt}from"../chunks/Link.55466aff.js";function Gx(e){let t,n,r;return{c(){t=Lt("svg"),n=Lt("path"),r=Lt("path"),this.h()},l(i){t=Rt(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=te(t);n=Rt(a,"path",{fill:!0,d:!0}),te(n).forEach(x),r=Rt(a,"path",{fill:!0,d:!0}),te(r).forEach(x),a.forEach(x),this.h()},h(){R(n,"fill","currentColor"),R(n,"d","M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"),R(r,"fill","currentColor"),R(r,"d","M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"),R(t,"xmlns","http://www.w3.org/2000/svg"),R(t,"width","1em"),R(t,"height","1em"),R(t,"viewBox","0 0 24 24")},m(i,a){z(i,t,a),_(t,n),_(t,r)},p:Xe,i:Xe,o:Xe,d(i){i&&x(t)}}}class Xx extends Gt{constructor(t){super(),Xt(this,t,null,Gx,Yt,{})}}function Zx(e){let t,n;return{c(){t=Lt("svg"),n=Lt("path"),this.h()},l(r){t=Rt(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=te(t);n=Rt(i,"path",{fill:!0,d:!0}),te(n).forEach(x),i.forEach(x),this.h()},h(){R(n,"fill","currentColor"),R(n,"d","M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4L9 16.2z"),R(t,"xmlns","http://www.w3.org/2000/svg"),R(t,"width","1em"),R(t,"height","1em"),R(t,"viewBox","0 0 24 24")},m(r,i){z(r,t,i),_(t,n)},p:Xe,i:Xe,o:Xe,d(r){r&&x(t)}}}class Qx extends Gt{constructor(t){super(),Xt(this,t,null,Zx,Yt,{})}}function Kx(e){let t,n,r,i,a;return n=new Xx({}),{c(){t=F("div"),ge(n.$$.fragment),this.h()},l(s){t=L(s,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var o=te(t);ve(n.$$.fragment,o),o.forEach(x),this.h()},h(){R(t,"class","svp-code-bock--copy-code"),R(t,"role","button"),R(t,"tabindex","0"),R(t,"aria-label","Copy code")},m(s,o){z(s,t,o),ye(n,t,null),e[3](t),r=!0,i||(a=[yt(t,"click",e[2]),yt(t,"keyup",e[2])],i=!0)},p:Xe,i(s){r||(fe(n.$$.fragment,s),r=!0)},o(s){de(n.$$.fragment,s),r=!1},d(s){s&&x(t),be(n),e[3](null),i=!1,pu(a)}}}function Jx(e){let t,n,r;return n=new Qx({}),{c(){t=F("div"),ge(n.$$.fragment),this.h()},l(i){t=L(i,"DIV",{class:!0});var a=te(t);ve(n.$$.fragment,a),a.forEach(x),this.h()},h(){R(t,"class","svp-code-bock--copy-code")},m(i,a){z(i,t,a),ye(n,t,null),r=!0},p:Xe,i(i){r||(fe(n.$$.fragment,i),r=!0)},o(i){de(n.$$.fragment,i),r=!1},d(i){i&&x(t),be(n)}}}function eM(e){let t,n,r,i;const a=[Jx,Kx],s=[];function o(l,u){return l[1]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=un()},l(l){n.l(l),r=un()},m(l,u){s[t].m(l,u),z(l,r,u),i=!0},p(l,[u]){let c=t;t=o(l),t===c?s[t].p(l,u):(m9(),de(s[c],1,1,()=>{s[c]=null}),p9(),n=s[t],n?n.p(l,u):(n=s[t]=a[t](l),n.c()),fe(n,1),n.m(r.parentNode,r))},i(l){i||(fe(n),i=!0)},o(l){de(n),i=!1},d(l){l&&x(r),s[t].d(l)}}}function tM(e,t,n){let r,i=!1;function a(){var l,u;const o=((u=(l=r==null?void 0:r.parentElement)==null?void 0:l.querySelector(".shiki"))==null?void 0:u.textContent)||"";navigator.clipboard.writeText(o),n(1,i=!0),setTimeout(()=>{n(1,i=!1)},2e3)}function s(o){Gn[o?"unshift":"push"](()=>{r=o,n(0,r)})}return[r,i,a,s]}class h4 extends Gt{constructor(t){super(),Xt(this,t,tM,eM,Yt,{})}}function h6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=F("input"),n=X(),r=F("span"),a=K(i),s=K(" colors"),this.h()},l(u){t=L(u,"INPUT",{type:!0,min:!0,max:!0}),n=Z(u),r=L(u,"SPAN",{class:!0});var c=te(r);a=J(c,i),s=J(c," colors"),c.forEach(x),this.h()},h(){R(t,"type","range"),R(t,"min","0"),R(t,"max",e[3].length-1),R(r,"class","label svelte-qipmvq")},m(u,c){z(u,t,c),t0(t,e[0]),z(u,n,c),z(u,r,c),_(r,a),_(r,s),o||(l=[yt(t,"change",e[4]),yt(t,"input",e[4])],o=!0)},p(u,c){c&1&&t0(t,u[0]),c&1&&i!==(i=2**u[0]+"")&&on(a,i)},d(u){u&&(x(t),x(n),x(r)),o=!1,pu(l)}}}function nM(e){let t=2**e[0]+"",n,r;return{c(){n=K(t),r=K(" colors")},l(i){n=J(i,t),r=J(i," colors")},m(i,a){z(i,n,a),z(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&on(n,t)},d(i){i&&(x(n),x(r))}}}function rM(e){let t=2**e[0]+"",n,r;return{c(){n=K(t),r=K(" color")},l(i){n=J(i,t),r=J(i," color")},m(i,a){z(i,n,a),z(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&on(n,t)},d(i){i&&(x(n),x(r))}}}function iM(e){let t,n,r,i,a="Compressed",s,o,l,u,c,f,h,d,g,y="Original",b,w,k,E,$,T,I="4,824,160 colors",D=e[2]&&h6(e);function j(C,H){return C[0]===0?rM:nM}let U=j(e),S=U(e);return{c(){D&&D.c(),t=X(),n=F("div"),r=F("div"),i=F("div"),i.textContent=a,s=X(),o=F("div"),l=F("img"),c=X(),f=F("div"),S.c(),h=X(),d=F("div"),g=F("div"),g.textContent=y,b=X(),w=F("div"),k=F("img"),$=X(),T=F("div"),T.textContent=I,this.h()},l(C){D&&D.l(C),t=Z(C),n=L(C,"DIV",{id:!0,class:!0});var H=te(n);r=L(H,"DIV",{id:!0,class:!0});var P=te(r);i=L(P,"DIV",{class:!0,"data-svelte-h":!0}),he(i)!=="svelte-gr914o"&&(i.textContent=a),s=Z(P),o=L(P,"DIV",{});var Q=te(o);l=L(Q,"IMG",{id:!0,src:!0,style:!0,class:!0}),Q.forEach(x),c=Z(P),f=L(P,"DIV",{class:!0});var N=te(f);S.l(N),N.forEach(x),P.forEach(x),h=Z(H),d=L(H,"DIV",{id:!0,class:!0});var W=te(d);g=L(W,"DIV",{class:!0,"data-svelte-h":!0}),he(g)!=="svelte-1go56d2"&&(g.textContent=y),b=Z(W),w=L(W,"DIV",{});var ae=te(w);k=L(ae,"IMG",{id:!0,src:!0,style:!0,class:!0}),ae.forEach(x),$=Z(W),T=L(W,"DIV",{class:!0,"data-svelte-h":!0}),he(T)!=="svelte-b5me6g"&&(T.textContent=I),W.forEach(x),H.forEach(x),this.h()},h(){R(i,"class","label svelte-qipmvq"),R(l,"id","compressed"),tf(l.src,u=e[3][e[0]])||R(l,"src",u),Re(l,"width",e[1]+"px"),R(l,"class","svelte-qipmvq"),R(f,"class","label svelte-qipmvq"),R(r,"id","k"),R(r,"class","svelte-qipmvq"),R(g,"class","label svelte-qipmvq"),R(k,"id","original"),tf(k.src,E="dog.png")||R(k,"src",E),Re(k,"width",e[1]+"px"),R(k,"class","svelte-qipmvq"),R(T,"class","label svelte-qipmvq"),R(d,"id","og"),R(d,"class","svelte-qipmvq"),R(n,"id","kmeans-container"),R(n,"class","svelte-qipmvq")},m(C,H){D&&D.m(C,H),z(C,t,H),z(C,n,H),_(n,r),_(r,i),_(r,s),_(r,o),_(o,l),_(r,c),_(r,f),S.m(f,null),_(n,h),_(n,d),_(d,g),_(d,b),_(d,w),_(w,k),_(d,$),_(d,T)},p(C,[H]){C[2]?D?D.p(C,H):(D=h6(C),D.c(),D.m(t.parentNode,t)):D&&(D.d(1),D=null),H&1&&!tf(l.src,u=C[3][C[0]])&&R(l,"src",u),H&2&&Re(l,"width",C[1]+"px"),U===(U=j(C))&&S?S.p(C,H):(S.d(1),S=U(C),S&&(S.c(),S.m(f,null))),H&2&&Re(k,"width",C[1]+"px")},i:Xe,o:Xe,d(C){C&&(x(t),x(n)),D&&D.d(C),S.d()}}}function aM(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(l=>`${l}.png`);let{selected:i=2}=t,{width:a=300}=t,{showSlider:s=!1}=t;function o(){i=eh(this.value),n(0,i)}return e.$$set=l=>{"selected"in l&&n(0,i=l.selected),"width"in l&&n(1,a=l.width),"showSlider"in l&&n(2,s=l.showSlider)},[i,a,s,r,o]}class d4 extends Gt{constructor(t){super(),Xt(this,t,aM,iM,Yt,{selected:0,width:1,showSlider:2})}}function d6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=F("input"),n=X(),r=F("span"),a=K(i),s=K(" colors"),this.h()},l(u){t=L(u,"INPUT",{type:!0,min:!0,max:!0}),n=Z(u),r=L(u,"SPAN",{class:!0});var c=te(r);a=J(c,i),s=J(c," colors"),c.forEach(x),this.h()},h(){R(t,"type","range"),R(t,"min","0"),R(t,"max",e[6].length-1),R(r,"class","label svelte-1vkjyq0")},m(u,c){z(u,t,c),t0(t,e[0]),z(u,n,c),z(u,r,c),_(r,a),_(r,s),o||(l=[yt(t,"change",e[8]),yt(t,"input",e[8])],o=!0)},p(u,c){c&1&&t0(t,u[0]),c&1&&i!==(i=2**u[0]+"")&&on(a,i)},d(u){u&&(x(t),x(n),x(r)),o=!1,pu(l)}}}function sM(e){let t,n,r,i,a="Compressed",s,o,l,u,c,f,h="Original",d,g,y,b,w,k,E,$,T=e[4].toFixed(2)+"",I,D,j,U=e[2]&&d6(e);return{c(){U&&U.c(),t=X(),n=F("div"),r=F("div"),i=F("div"),i.textContent=a,s=X(),o=F("div"),l=F("canvas"),u=X(),c=F("div"),f=F("div"),f.textContent=h,d=X(),g=F("div"),y=F("canvas"),b=X(),w=F("div"),k=F("div"),E=F("b"),$=K("Average Error: "),I=K(T),D=X(),j=F("canvas"),this.h()},l(S){U&&U.l(S),t=Z(S),n=L(S,"DIV",{id:!0,class:!0});var C=te(n);r=L(C,"DIV",{id:!0,class:!0});var H=te(r);i=L(H,"DIV",{class:!0,"data-svelte-h":!0}),he(i)!=="svelte-gr914o"&&(i.textContent=a),s=Z(H),o=L(H,"DIV",{});var P=te(o);l=L(P,"CANVAS",{width:!0,height:!0,class:!0}),te(l).forEach(x),P.forEach(x),H.forEach(x),u=Z(C),c=L(C,"DIV",{id:!0,class:!0});var Q=te(c);f=L(Q,"DIV",{class:!0,"data-svelte-h":!0}),he(f)!=="svelte-1go56d2"&&(f.textContent=h),d=Z(Q),g=L(Q,"DIV",{});var N=te(g);y=L(N,"CANVAS",{width:!0,height:!0,class:!0}),te(y).forEach(x),N.forEach(x),Q.forEach(x),b=Z(C),w=L(C,"DIV",{});var W=te(w);k=L(W,"DIV",{class:!0});var ae=te(k);E=L(ae,"B",{});var ie=te(E);$=J(ie,"Average Error: "),I=J(ie,T),ie.forEach(x),ae.forEach(x),D=Z(W),j=L(W,"CANVAS",{width:!0,height:!0,class:!0}),te(j).forEach(x),W.forEach(x),C.forEach(x),this.h()},h(){R(i,"class","label svelte-1vkjyq0"),R(l,"width",e[1]),R(l,"height",e[3]),R(l,"class","svelte-1vkjyq0"),R(r,"id","k"),R(r,"class","svelte-1vkjyq0"),R(f,"class","label svelte-1vkjyq0"),R(y,"width",e[1]),R(y,"height",e[3]),R(y,"class","svelte-1vkjyq0"),R(c,"id","og"),R(c,"class","svelte-1vkjyq0"),R(k,"class","label svelte-1vkjyq0"),R(j,"width",e[1]),R(j,"height",e[3]),R(j,"class","svelte-1vkjyq0"),R(n,"id","kmeans-container"),R(n,"class","svelte-1vkjyq0")},m(S,C){U&&U.m(S,C),z(S,t,C),z(S,n,C),_(n,r),_(r,i),_(r,s),_(r,o),_(o,l),e[9](l),_(n,u),_(n,c),_(c,f),_(c,d),_(c,g),_(g,y),e[10](y),_(n,b),_(n,w),_(w,k),_(k,E),_(E,$),_(E,I),_(w,D),_(w,j),e[11](j)},p(S,[C]){S[2]?U?U.p(S,C):(U=d6(S),U.c(),U.m(t.parentNode,t)):U&&(U.d(1),U=null),C&2&&R(l,"width",S[1]),C&8&&R(l,"height",S[3]),C&2&&R(y,"width",S[1]),C&8&&R(y,"height",S[3]),C&16&&T!==(T=S[4].toFixed(2)+"")&&on(I,T),C&2&&R(j,"width",S[1]),C&8&&R(j,"height",S[3])},i:Xe,o:Xe,d(S){S&&(x(t),x(n)),U&&U.d(S),e[9](null),e[10](null),e[11](null)}}}const oM="dog.png";function m6(e){e.imageSmoothingEnabled=!1}function lM(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(T=>`${T}.png`);let{selected:i=0}=t,a=r[i],{width:s=230}=t,{showSlider:o=!0}=t,{height:l=150}=t,u=0,c={original:void 0,image:void 0,diff:void 0},f={original:void 0,image:void 0,diff:void 0};function h(T,I){return new Promise((j,U)=>{const S=new Image;S.src=I,S.onload=function(){T.drawImage(S,0,0,s,l),j()}})}function d(T,I,D){const j=new Uint8ClampedArray(s*l*4);n(4,u=0);for(let S=0;S<s*l*4;S+=4){const C=Math.abs(I[S]-D[S]),H=Math.abs(I[S+1]-D[S+1]),P=Math.abs(I[S+2]-D[S+2]),Q=255*3,N=C+H+P,W=N/Q;j[S]=255,j[S+3]=Math.round(W*255),n(4,u+=N)}const U=new ImageData(j,s,l,{colorSpace:"srgb"});T.diff.putImageData(U,0,0),n(4,u/=s*l)}let g,y;gm(async()=>{f.original=c.original.getContext("2d"),f.image=c.image.getContext("2d",{willReadFrequently:!0}),f.diff=c.diff.getContext("2d"),m6(f.image),m6(f.diff),await Promise.allSettled([h(f.image,a),h(f.original,oM)]).then(()=>{g=f.image.getImageData(0,0,s,l),y=f.original.getImageData(0,0,s,l),d(f,g.data,y.data)})});async function b(T){f.diff&&y&&await h(f.image,T).then(()=>{g=f.image.getImageData(0,0,s,l),d(f,g.data,y.data)})}function w(){i=eh(this.value),n(0,i)}function k(T){Gn[T?"unshift":"push"](()=>{c.image=T,n(5,c)})}function E(T){Gn[T?"unshift":"push"](()=>{c.original=T,n(5,c)})}function $(T){Gn[T?"unshift":"push"](()=>{c.diff=T,n(5,c)})}return e.$$set=T=>{"selected"in T&&n(0,i=T.selected),"width"in T&&n(1,s=T.width),"showSlider"in T&&n(2,o=T.showSlider),"height"in T&&n(3,l=T.height)},e.$$.update=()=>{e.$$.dirty&129&&(n(7,a=r[i]),b(a))},[i,s,o,l,u,c,r,a,w,k,E,$]}class uM extends Gt{constructor(t){super(),Xt(this,t,lM,sM,Yt,{selected:0,width:1,showSlider:2,height:3})}}class mn{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new mn(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class vr{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new vr(n,mn.range(this,t))}}class we{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var c;a+15<o.length?c=o.slice(a,a+15)+"…":c=o.slice(a),r+=u+l+c}var f=new Error(r);return f.name="ParseError",f.__proto__=we.prototype,f.position=i,i!=null&&a!=null&&(f.length=a-i),f.rawMessage=t,f}}we.prototype.__proto__=Error.prototype;var cM=function(t,n){return t.indexOf(n)!==-1},fM=function(t,n){return t===void 0?n:t},hM=/([A-Z])/g,dM=function(t){return t.replace(hM,"-$1").toLowerCase()},mM={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},pM=/[&><"']/g;function gM(e){return String(e).replace(pM,t=>mM[t])}var g9=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},vM=function(t){var n=g9(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},yM=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},bM=function(t){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return n!=null?n[1]:"_relative"},qe={contains:cM,deflt:fM,escape:gM,hyphenate:dM,getBaseElem:g9,isCharacterBox:vM,protocolFromUrl:bM},nf={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function wM(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class vm{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in nf)if(nf.hasOwnProperty(n)){var r=nf[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:wM(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new we("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=qe.protocolFromUrl(t.url));var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class O0{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return fr[xM[this.id]]}sub(){return fr[MM[this.id]]}fracNum(){return fr[SM[this.id]]}fracDen(){return fr[kM[this.id]]}cramp(){return fr[$M[this.id]]}text(){return fr[AM[this.id]]}isTight(){return this.size>=2}}var ym=0,ff=1,Uo=2,Jr=3,Xl=4,In=5,Zo=6,Wt=7,fr=[new O0(ym,0,!1),new O0(ff,0,!0),new O0(Uo,1,!1),new O0(Jr,1,!0),new O0(Xl,2,!1),new O0(In,2,!0),new O0(Zo,3,!1),new O0(Wt,3,!0)],xM=[Xl,In,Xl,In,Zo,Wt,Zo,Wt],MM=[In,In,In,In,Wt,Wt,Wt,Wt],SM=[Uo,Jr,Xl,In,Zo,Wt,Zo,Wt],kM=[Jr,Jr,In,In,Wt,Wt,Wt,Wt],$M=[ff,ff,Jr,Jr,In,In,Wt,Wt],AM=[ym,ff,Uo,Jr,Uo,Jr,Uo,Jr],Ie={DISPLAY:fr[ym],TEXT:fr[Uo],SCRIPT:fr[Xl],SCRIPTSCRIPT:fr[Zo]},c3=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function CM(e){for(var t=0;t<c3.length;t++)for(var n=c3[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var rf=[];c3.forEach(e=>e.blocks.forEach(t=>rf.push(...t)));function v9(e){for(var t=0;t<rf.length;t+=2)if(e>=rf[t]&&e<=rf[t+1])return!0;return!1}var Bo=80,TM=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},EM=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},DM=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},_M=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},zM=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},IM=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},NM=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},qM=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=TM(n,Bo);break;case"sqrtSize1":i=EM(n,Bo);break;case"sqrtSize2":i=DM(n,Bo);break;case"sqrtSize3":i=_M(n,Bo);break;case"sqrtSize4":i=zM(n,Bo);break;case"sqrtTall":i=NM(n,Bo,r)}return i},BM=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},p6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},FM=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class gu{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return qe.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var mr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},xc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},g6={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function LM(e,t){mr[e]=t}function bm(e,t,n){if(!mr[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=mr[t][r];if(!i&&e[0]in g6&&(r=g6[e[0]].charCodeAt(0),i=mr[t][r]),!i&&n==="text"&&v9(r)&&(i=mr[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var m4={};function RM(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!m4[t]){var n=m4[t]={cssEmPerMu:xc.quad[t]/18};for(var r in xc)xc.hasOwnProperty(r)&&(n[r]=xc[r][t])}return m4[t]}var PM=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],v6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],y6=function(t,n){return n.size<2?t:PM[t-1][n.size-1]};class Yr{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Yr.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=v6[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Yr(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:y6(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:v6[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=y6(Yr.BASESIZE,t);return this.size===n&&this.textSize===Yr.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Yr.BASESIZE?["sizing","reset-size"+this.size,"size"+Yr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=RM(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Yr.BASESIZE=6;var f3={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},OM={ex:!0,em:!0,mu:!0},y9=function(t){return typeof t!="string"&&(t=t.unit),t in f3||t in OM||t==="ex"},lt=function(t,n){var r;if(t.unit in f3)r=f3[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new we("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Me=function(t){return+t.toFixed(4)+"em"},Y0=function(t){return t.filter(n=>n).join(" ")},b9=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},w9=function(t){var n=document.createElement(t);n.className=Y0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},x9=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+qe.escape(Y0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+qe.escape(r)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(n+=" "+a+'="'+qe.escape(this.attributes[a])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class vu{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,b9.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return w9.call(this,"span")}toMarkup(){return x9.call(this,"span")}}class wm{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,b9.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return w9.call(this,"a")}toMarkup(){return x9.call(this,"a")}}class HM{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=qe.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+qe.escape(n)+'"'),t+="'/>",t}}var VM={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ln{constructor(t,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=CM(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=VM[this.text])}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Me(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Y0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=qe.escape(Y0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+qe.escape(r)+'"');var a=qe.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class n0{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class G0{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",p6[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+p6[this.pathName]+"'/>"}}class h3{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");return t+="/>",t}}function b6(e){if(e instanceof Ln)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function UM(e){if(e instanceof vu)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var jM={bin:1,close:1,inner:1,open:1,punct:1,rel:1},WM={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},at={math:{},text:{}};function m(e,t,n,r,i,a){at[e][i]={font:t,group:n,replace:r},a&&r&&(at[e][r]=at[e][i])}var v="math",ue="text",M="main",q="ams",st="accent-token",Te="bin",Zt="close",ul="inner",Ne="mathord",bt="op-token",xn="open",rh="punct",B="rel",h0="spacing",V="textord";m(v,M,B,"≡","\\equiv",!0);m(v,M,B,"≺","\\prec",!0);m(v,M,B,"≻","\\succ",!0);m(v,M,B,"∼","\\sim",!0);m(v,M,B,"⊥","\\perp");m(v,M,B,"⪯","\\preceq",!0);m(v,M,B,"⪰","\\succeq",!0);m(v,M,B,"≃","\\simeq",!0);m(v,M,B,"∣","\\mid",!0);m(v,M,B,"≪","\\ll",!0);m(v,M,B,"≫","\\gg",!0);m(v,M,B,"≍","\\asymp",!0);m(v,M,B,"∥","\\parallel");m(v,M,B,"⋈","\\bowtie",!0);m(v,M,B,"⌣","\\smile",!0);m(v,M,B,"⊑","\\sqsubseteq",!0);m(v,M,B,"⊒","\\sqsupseteq",!0);m(v,M,B,"≐","\\doteq",!0);m(v,M,B,"⌢","\\frown",!0);m(v,M,B,"∋","\\ni",!0);m(v,M,B,"∝","\\propto",!0);m(v,M,B,"⊢","\\vdash",!0);m(v,M,B,"⊣","\\dashv",!0);m(v,M,B,"∋","\\owns");m(v,M,rh,".","\\ldotp");m(v,M,rh,"⋅","\\cdotp");m(v,M,V,"#","\\#");m(ue,M,V,"#","\\#");m(v,M,V,"&","\\&");m(ue,M,V,"&","\\&");m(v,M,V,"ℵ","\\aleph",!0);m(v,M,V,"∀","\\forall",!0);m(v,M,V,"ℏ","\\hbar",!0);m(v,M,V,"∃","\\exists",!0);m(v,M,V,"∇","\\nabla",!0);m(v,M,V,"♭","\\flat",!0);m(v,M,V,"ℓ","\\ell",!0);m(v,M,V,"♮","\\natural",!0);m(v,M,V,"♣","\\clubsuit",!0);m(v,M,V,"℘","\\wp",!0);m(v,M,V,"♯","\\sharp",!0);m(v,M,V,"♢","\\diamondsuit",!0);m(v,M,V,"ℜ","\\Re",!0);m(v,M,V,"♡","\\heartsuit",!0);m(v,M,V,"ℑ","\\Im",!0);m(v,M,V,"♠","\\spadesuit",!0);m(v,M,V,"§","\\S",!0);m(ue,M,V,"§","\\S");m(v,M,V,"¶","\\P",!0);m(ue,M,V,"¶","\\P");m(v,M,V,"†","\\dag");m(ue,M,V,"†","\\dag");m(ue,M,V,"†","\\textdagger");m(v,M,V,"‡","\\ddag");m(ue,M,V,"‡","\\ddag");m(ue,M,V,"‡","\\textdaggerdbl");m(v,M,Zt,"⎱","\\rmoustache",!0);m(v,M,xn,"⎰","\\lmoustache",!0);m(v,M,Zt,"⟯","\\rgroup",!0);m(v,M,xn,"⟮","\\lgroup",!0);m(v,M,Te,"∓","\\mp",!0);m(v,M,Te,"⊖","\\ominus",!0);m(v,M,Te,"⊎","\\uplus",!0);m(v,M,Te,"⊓","\\sqcap",!0);m(v,M,Te,"∗","\\ast");m(v,M,Te,"⊔","\\sqcup",!0);m(v,M,Te,"◯","\\bigcirc",!0);m(v,M,Te,"∙","\\bullet",!0);m(v,M,Te,"‡","\\ddagger");m(v,M,Te,"≀","\\wr",!0);m(v,M,Te,"⨿","\\amalg");m(v,M,Te,"&","\\And");m(v,M,B,"⟵","\\longleftarrow",!0);m(v,M,B,"⇐","\\Leftarrow",!0);m(v,M,B,"⟸","\\Longleftarrow",!0);m(v,M,B,"⟶","\\longrightarrow",!0);m(v,M,B,"⇒","\\Rightarrow",!0);m(v,M,B,"⟹","\\Longrightarrow",!0);m(v,M,B,"↔","\\leftrightarrow",!0);m(v,M,B,"⟷","\\longleftrightarrow",!0);m(v,M,B,"⇔","\\Leftrightarrow",!0);m(v,M,B,"⟺","\\Longleftrightarrow",!0);m(v,M,B,"↦","\\mapsto",!0);m(v,M,B,"⟼","\\longmapsto",!0);m(v,M,B,"↗","\\nearrow",!0);m(v,M,B,"↩","\\hookleftarrow",!0);m(v,M,B,"↪","\\hookrightarrow",!0);m(v,M,B,"↘","\\searrow",!0);m(v,M,B,"↼","\\leftharpoonup",!0);m(v,M,B,"⇀","\\rightharpoonup",!0);m(v,M,B,"↙","\\swarrow",!0);m(v,M,B,"↽","\\leftharpoondown",!0);m(v,M,B,"⇁","\\rightharpoondown",!0);m(v,M,B,"↖","\\nwarrow",!0);m(v,M,B,"⇌","\\rightleftharpoons",!0);m(v,q,B,"≮","\\nless",!0);m(v,q,B,"","\\@nleqslant");m(v,q,B,"","\\@nleqq");m(v,q,B,"⪇","\\lneq",!0);m(v,q,B,"≨","\\lneqq",!0);m(v,q,B,"","\\@lvertneqq");m(v,q,B,"⋦","\\lnsim",!0);m(v,q,B,"⪉","\\lnapprox",!0);m(v,q,B,"⊀","\\nprec",!0);m(v,q,B,"⋠","\\npreceq",!0);m(v,q,B,"⋨","\\precnsim",!0);m(v,q,B,"⪹","\\precnapprox",!0);m(v,q,B,"≁","\\nsim",!0);m(v,q,B,"","\\@nshortmid");m(v,q,B,"∤","\\nmid",!0);m(v,q,B,"⊬","\\nvdash",!0);m(v,q,B,"⊭","\\nvDash",!0);m(v,q,B,"⋪","\\ntriangleleft");m(v,q,B,"⋬","\\ntrianglelefteq",!0);m(v,q,B,"⊊","\\subsetneq",!0);m(v,q,B,"","\\@varsubsetneq");m(v,q,B,"⫋","\\subsetneqq",!0);m(v,q,B,"","\\@varsubsetneqq");m(v,q,B,"≯","\\ngtr",!0);m(v,q,B,"","\\@ngeqslant");m(v,q,B,"","\\@ngeqq");m(v,q,B,"⪈","\\gneq",!0);m(v,q,B,"≩","\\gneqq",!0);m(v,q,B,"","\\@gvertneqq");m(v,q,B,"⋧","\\gnsim",!0);m(v,q,B,"⪊","\\gnapprox",!0);m(v,q,B,"⊁","\\nsucc",!0);m(v,q,B,"⋡","\\nsucceq",!0);m(v,q,B,"⋩","\\succnsim",!0);m(v,q,B,"⪺","\\succnapprox",!0);m(v,q,B,"≆","\\ncong",!0);m(v,q,B,"","\\@nshortparallel");m(v,q,B,"∦","\\nparallel",!0);m(v,q,B,"⊯","\\nVDash",!0);m(v,q,B,"⋫","\\ntriangleright");m(v,q,B,"⋭","\\ntrianglerighteq",!0);m(v,q,B,"","\\@nsupseteqq");m(v,q,B,"⊋","\\supsetneq",!0);m(v,q,B,"","\\@varsupsetneq");m(v,q,B,"⫌","\\supsetneqq",!0);m(v,q,B,"","\\@varsupsetneqq");m(v,q,B,"⊮","\\nVdash",!0);m(v,q,B,"⪵","\\precneqq",!0);m(v,q,B,"⪶","\\succneqq",!0);m(v,q,B,"","\\@nsubseteqq");m(v,q,Te,"⊴","\\unlhd");m(v,q,Te,"⊵","\\unrhd");m(v,q,B,"↚","\\nleftarrow",!0);m(v,q,B,"↛","\\nrightarrow",!0);m(v,q,B,"⇍","\\nLeftarrow",!0);m(v,q,B,"⇏","\\nRightarrow",!0);m(v,q,B,"↮","\\nleftrightarrow",!0);m(v,q,B,"⇎","\\nLeftrightarrow",!0);m(v,q,B,"△","\\vartriangle");m(v,q,V,"ℏ","\\hslash");m(v,q,V,"▽","\\triangledown");m(v,q,V,"◊","\\lozenge");m(v,q,V,"Ⓢ","\\circledS");m(v,q,V,"®","\\circledR");m(ue,q,V,"®","\\circledR");m(v,q,V,"∡","\\measuredangle",!0);m(v,q,V,"∄","\\nexists");m(v,q,V,"℧","\\mho");m(v,q,V,"Ⅎ","\\Finv",!0);m(v,q,V,"⅁","\\Game",!0);m(v,q,V,"‵","\\backprime");m(v,q,V,"▲","\\blacktriangle");m(v,q,V,"▼","\\blacktriangledown");m(v,q,V,"■","\\blacksquare");m(v,q,V,"⧫","\\blacklozenge");m(v,q,V,"★","\\bigstar");m(v,q,V,"∢","\\sphericalangle",!0);m(v,q,V,"∁","\\complement",!0);m(v,q,V,"ð","\\eth",!0);m(ue,M,V,"ð","ð");m(v,q,V,"╱","\\diagup");m(v,q,V,"╲","\\diagdown");m(v,q,V,"□","\\square");m(v,q,V,"□","\\Box");m(v,q,V,"◊","\\Diamond");m(v,q,V,"¥","\\yen",!0);m(ue,q,V,"¥","\\yen",!0);m(v,q,V,"✓","\\checkmark",!0);m(ue,q,V,"✓","\\checkmark");m(v,q,V,"ℶ","\\beth",!0);m(v,q,V,"ℸ","\\daleth",!0);m(v,q,V,"ℷ","\\gimel",!0);m(v,q,V,"ϝ","\\digamma",!0);m(v,q,V,"ϰ","\\varkappa");m(v,q,xn,"┌","\\@ulcorner",!0);m(v,q,Zt,"┐","\\@urcorner",!0);m(v,q,xn,"└","\\@llcorner",!0);m(v,q,Zt,"┘","\\@lrcorner",!0);m(v,q,B,"≦","\\leqq",!0);m(v,q,B,"⩽","\\leqslant",!0);m(v,q,B,"⪕","\\eqslantless",!0);m(v,q,B,"≲","\\lesssim",!0);m(v,q,B,"⪅","\\lessapprox",!0);m(v,q,B,"≊","\\approxeq",!0);m(v,q,Te,"⋖","\\lessdot");m(v,q,B,"⋘","\\lll",!0);m(v,q,B,"≶","\\lessgtr",!0);m(v,q,B,"⋚","\\lesseqgtr",!0);m(v,q,B,"⪋","\\lesseqqgtr",!0);m(v,q,B,"≑","\\doteqdot");m(v,q,B,"≓","\\risingdotseq",!0);m(v,q,B,"≒","\\fallingdotseq",!0);m(v,q,B,"∽","\\backsim",!0);m(v,q,B,"⋍","\\backsimeq",!0);m(v,q,B,"⫅","\\subseteqq",!0);m(v,q,B,"⋐","\\Subset",!0);m(v,q,B,"⊏","\\sqsubset",!0);m(v,q,B,"≼","\\preccurlyeq",!0);m(v,q,B,"⋞","\\curlyeqprec",!0);m(v,q,B,"≾","\\precsim",!0);m(v,q,B,"⪷","\\precapprox",!0);m(v,q,B,"⊲","\\vartriangleleft");m(v,q,B,"⊴","\\trianglelefteq");m(v,q,B,"⊨","\\vDash",!0);m(v,q,B,"⊪","\\Vvdash",!0);m(v,q,B,"⌣","\\smallsmile");m(v,q,B,"⌢","\\smallfrown");m(v,q,B,"≏","\\bumpeq",!0);m(v,q,B,"≎","\\Bumpeq",!0);m(v,q,B,"≧","\\geqq",!0);m(v,q,B,"⩾","\\geqslant",!0);m(v,q,B,"⪖","\\eqslantgtr",!0);m(v,q,B,"≳","\\gtrsim",!0);m(v,q,B,"⪆","\\gtrapprox",!0);m(v,q,Te,"⋗","\\gtrdot");m(v,q,B,"⋙","\\ggg",!0);m(v,q,B,"≷","\\gtrless",!0);m(v,q,B,"⋛","\\gtreqless",!0);m(v,q,B,"⪌","\\gtreqqless",!0);m(v,q,B,"≖","\\eqcirc",!0);m(v,q,B,"≗","\\circeq",!0);m(v,q,B,"≜","\\triangleq",!0);m(v,q,B,"∼","\\thicksim");m(v,q,B,"≈","\\thickapprox");m(v,q,B,"⫆","\\supseteqq",!0);m(v,q,B,"⋑","\\Supset",!0);m(v,q,B,"⊐","\\sqsupset",!0);m(v,q,B,"≽","\\succcurlyeq",!0);m(v,q,B,"⋟","\\curlyeqsucc",!0);m(v,q,B,"≿","\\succsim",!0);m(v,q,B,"⪸","\\succapprox",!0);m(v,q,B,"⊳","\\vartriangleright");m(v,q,B,"⊵","\\trianglerighteq");m(v,q,B,"⊩","\\Vdash",!0);m(v,q,B,"∣","\\shortmid");m(v,q,B,"∥","\\shortparallel");m(v,q,B,"≬","\\between",!0);m(v,q,B,"⋔","\\pitchfork",!0);m(v,q,B,"∝","\\varpropto");m(v,q,B,"◀","\\blacktriangleleft");m(v,q,B,"∴","\\therefore",!0);m(v,q,B,"∍","\\backepsilon");m(v,q,B,"▶","\\blacktriangleright");m(v,q,B,"∵","\\because",!0);m(v,q,B,"⋘","\\llless");m(v,q,B,"⋙","\\gggtr");m(v,q,Te,"⊲","\\lhd");m(v,q,Te,"⊳","\\rhd");m(v,q,B,"≂","\\eqsim",!0);m(v,M,B,"⋈","\\Join");m(v,q,B,"≑","\\Doteq",!0);m(v,q,Te,"∔","\\dotplus",!0);m(v,q,Te,"∖","\\smallsetminus");m(v,q,Te,"⋒","\\Cap",!0);m(v,q,Te,"⋓","\\Cup",!0);m(v,q,Te,"⩞","\\doublebarwedge",!0);m(v,q,Te,"⊟","\\boxminus",!0);m(v,q,Te,"⊞","\\boxplus",!0);m(v,q,Te,"⋇","\\divideontimes",!0);m(v,q,Te,"⋉","\\ltimes",!0);m(v,q,Te,"⋊","\\rtimes",!0);m(v,q,Te,"⋋","\\leftthreetimes",!0);m(v,q,Te,"⋌","\\rightthreetimes",!0);m(v,q,Te,"⋏","\\curlywedge",!0);m(v,q,Te,"⋎","\\curlyvee",!0);m(v,q,Te,"⊝","\\circleddash",!0);m(v,q,Te,"⊛","\\circledast",!0);m(v,q,Te,"⋅","\\centerdot");m(v,q,Te,"⊺","\\intercal",!0);m(v,q,Te,"⋒","\\doublecap");m(v,q,Te,"⋓","\\doublecup");m(v,q,Te,"⊠","\\boxtimes",!0);m(v,q,B,"⇢","\\dashrightarrow",!0);m(v,q,B,"⇠","\\dashleftarrow",!0);m(v,q,B,"⇇","\\leftleftarrows",!0);m(v,q,B,"⇆","\\leftrightarrows",!0);m(v,q,B,"⇚","\\Lleftarrow",!0);m(v,q,B,"↞","\\twoheadleftarrow",!0);m(v,q,B,"↢","\\leftarrowtail",!0);m(v,q,B,"↫","\\looparrowleft",!0);m(v,q,B,"⇋","\\leftrightharpoons",!0);m(v,q,B,"↶","\\curvearrowleft",!0);m(v,q,B,"↺","\\circlearrowleft",!0);m(v,q,B,"↰","\\Lsh",!0);m(v,q,B,"⇈","\\upuparrows",!0);m(v,q,B,"↿","\\upharpoonleft",!0);m(v,q,B,"⇃","\\downharpoonleft",!0);m(v,M,B,"⊶","\\origof",!0);m(v,M,B,"⊷","\\imageof",!0);m(v,q,B,"⊸","\\multimap",!0);m(v,q,B,"↭","\\leftrightsquigarrow",!0);m(v,q,B,"⇉","\\rightrightarrows",!0);m(v,q,B,"⇄","\\rightleftarrows",!0);m(v,q,B,"↠","\\twoheadrightarrow",!0);m(v,q,B,"↣","\\rightarrowtail",!0);m(v,q,B,"↬","\\looparrowright",!0);m(v,q,B,"↷","\\curvearrowright",!0);m(v,q,B,"↻","\\circlearrowright",!0);m(v,q,B,"↱","\\Rsh",!0);m(v,q,B,"⇊","\\downdownarrows",!0);m(v,q,B,"↾","\\upharpoonright",!0);m(v,q,B,"⇂","\\downharpoonright",!0);m(v,q,B,"⇝","\\rightsquigarrow",!0);m(v,q,B,"⇝","\\leadsto");m(v,q,B,"⇛","\\Rrightarrow",!0);m(v,q,B,"↾","\\restriction");m(v,M,V,"‘","`");m(v,M,V,"$","\\$");m(ue,M,V,"$","\\$");m(ue,M,V,"$","\\textdollar");m(v,M,V,"%","\\%");m(ue,M,V,"%","\\%");m(v,M,V,"_","\\_");m(ue,M,V,"_","\\_");m(ue,M,V,"_","\\textunderscore");m(v,M,V,"∠","\\angle",!0);m(v,M,V,"∞","\\infty",!0);m(v,M,V,"′","\\prime");m(v,M,V,"△","\\triangle");m(v,M,V,"Γ","\\Gamma",!0);m(v,M,V,"Δ","\\Delta",!0);m(v,M,V,"Θ","\\Theta",!0);m(v,M,V,"Λ","\\Lambda",!0);m(v,M,V,"Ξ","\\Xi",!0);m(v,M,V,"Π","\\Pi",!0);m(v,M,V,"Σ","\\Sigma",!0);m(v,M,V,"Υ","\\Upsilon",!0);m(v,M,V,"Φ","\\Phi",!0);m(v,M,V,"Ψ","\\Psi",!0);m(v,M,V,"Ω","\\Omega",!0);m(v,M,V,"A","Α");m(v,M,V,"B","Β");m(v,M,V,"E","Ε");m(v,M,V,"Z","Ζ");m(v,M,V,"H","Η");m(v,M,V,"I","Ι");m(v,M,V,"K","Κ");m(v,M,V,"M","Μ");m(v,M,V,"N","Ν");m(v,M,V,"O","Ο");m(v,M,V,"P","Ρ");m(v,M,V,"T","Τ");m(v,M,V,"X","Χ");m(v,M,V,"¬","\\neg",!0);m(v,M,V,"¬","\\lnot");m(v,M,V,"⊤","\\top");m(v,M,V,"⊥","\\bot");m(v,M,V,"∅","\\emptyset");m(v,q,V,"∅","\\varnothing");m(v,M,Ne,"α","\\alpha",!0);m(v,M,Ne,"β","\\beta",!0);m(v,M,Ne,"γ","\\gamma",!0);m(v,M,Ne,"δ","\\delta",!0);m(v,M,Ne,"ϵ","\\epsilon",!0);m(v,M,Ne,"ζ","\\zeta",!0);m(v,M,Ne,"η","\\eta",!0);m(v,M,Ne,"θ","\\theta",!0);m(v,M,Ne,"ι","\\iota",!0);m(v,M,Ne,"κ","\\kappa",!0);m(v,M,Ne,"λ","\\lambda",!0);m(v,M,Ne,"μ","\\mu",!0);m(v,M,Ne,"ν","\\nu",!0);m(v,M,Ne,"ξ","\\xi",!0);m(v,M,Ne,"ο","\\omicron",!0);m(v,M,Ne,"π","\\pi",!0);m(v,M,Ne,"ρ","\\rho",!0);m(v,M,Ne,"σ","\\sigma",!0);m(v,M,Ne,"τ","\\tau",!0);m(v,M,Ne,"υ","\\upsilon",!0);m(v,M,Ne,"ϕ","\\phi",!0);m(v,M,Ne,"χ","\\chi",!0);m(v,M,Ne,"ψ","\\psi",!0);m(v,M,Ne,"ω","\\omega",!0);m(v,M,Ne,"ε","\\varepsilon",!0);m(v,M,Ne,"ϑ","\\vartheta",!0);m(v,M,Ne,"ϖ","\\varpi",!0);m(v,M,Ne,"ϱ","\\varrho",!0);m(v,M,Ne,"ς","\\varsigma",!0);m(v,M,Ne,"φ","\\varphi",!0);m(v,M,Te,"∗","*",!0);m(v,M,Te,"+","+");m(v,M,Te,"−","-",!0);m(v,M,Te,"⋅","\\cdot",!0);m(v,M,Te,"∘","\\circ",!0);m(v,M,Te,"÷","\\div",!0);m(v,M,Te,"±","\\pm",!0);m(v,M,Te,"×","\\times",!0);m(v,M,Te,"∩","\\cap",!0);m(v,M,Te,"∪","\\cup",!0);m(v,M,Te,"∖","\\setminus",!0);m(v,M,Te,"∧","\\land");m(v,M,Te,"∨","\\lor");m(v,M,Te,"∧","\\wedge",!0);m(v,M,Te,"∨","\\vee",!0);m(v,M,V,"√","\\surd");m(v,M,xn,"⟨","\\langle",!0);m(v,M,xn,"∣","\\lvert");m(v,M,xn,"∥","\\lVert");m(v,M,Zt,"?","?");m(v,M,Zt,"!","!");m(v,M,Zt,"⟩","\\rangle",!0);m(v,M,Zt,"∣","\\rvert");m(v,M,Zt,"∥","\\rVert");m(v,M,B,"=","=");m(v,M,B,":",":");m(v,M,B,"≈","\\approx",!0);m(v,M,B,"≅","\\cong",!0);m(v,M,B,"≥","\\ge");m(v,M,B,"≥","\\geq",!0);m(v,M,B,"←","\\gets");m(v,M,B,">","\\gt",!0);m(v,M,B,"∈","\\in",!0);m(v,M,B,"","\\@not");m(v,M,B,"⊂","\\subset",!0);m(v,M,B,"⊃","\\supset",!0);m(v,M,B,"⊆","\\subseteq",!0);m(v,M,B,"⊇","\\supseteq",!0);m(v,q,B,"⊈","\\nsubseteq",!0);m(v,q,B,"⊉","\\nsupseteq",!0);m(v,M,B,"⊨","\\models");m(v,M,B,"←","\\leftarrow",!0);m(v,M,B,"≤","\\le");m(v,M,B,"≤","\\leq",!0);m(v,M,B,"<","\\lt",!0);m(v,M,B,"→","\\rightarrow",!0);m(v,M,B,"→","\\to");m(v,q,B,"≱","\\ngeq",!0);m(v,q,B,"≰","\\nleq",!0);m(v,M,h0," ","\\ ");m(v,M,h0," ","\\space");m(v,M,h0," ","\\nobreakspace");m(ue,M,h0," ","\\ ");m(ue,M,h0," "," ");m(ue,M,h0," ","\\space");m(ue,M,h0," ","\\nobreakspace");m(v,M,h0,null,"\\nobreak");m(v,M,h0,null,"\\allowbreak");m(v,M,rh,",",",");m(v,M,rh,";",";");m(v,q,Te,"⊼","\\barwedge",!0);m(v,q,Te,"⊻","\\veebar",!0);m(v,M,Te,"⊙","\\odot",!0);m(v,M,Te,"⊕","\\oplus",!0);m(v,M,Te,"⊗","\\otimes",!0);m(v,M,V,"∂","\\partial",!0);m(v,M,Te,"⊘","\\oslash",!0);m(v,q,Te,"⊚","\\circledcirc",!0);m(v,q,Te,"⊡","\\boxdot",!0);m(v,M,Te,"△","\\bigtriangleup");m(v,M,Te,"▽","\\bigtriangledown");m(v,M,Te,"†","\\dagger");m(v,M,Te,"⋄","\\diamond");m(v,M,Te,"⋆","\\star");m(v,M,Te,"◃","\\triangleleft");m(v,M,Te,"▹","\\triangleright");m(v,M,xn,"{","\\{");m(ue,M,V,"{","\\{");m(ue,M,V,"{","\\textbraceleft");m(v,M,Zt,"}","\\}");m(ue,M,V,"}","\\}");m(ue,M,V,"}","\\textbraceright");m(v,M,xn,"{","\\lbrace");m(v,M,Zt,"}","\\rbrace");m(v,M,xn,"[","\\lbrack",!0);m(ue,M,V,"[","\\lbrack",!0);m(v,M,Zt,"]","\\rbrack",!0);m(ue,M,V,"]","\\rbrack",!0);m(v,M,xn,"(","\\lparen",!0);m(v,M,Zt,")","\\rparen",!0);m(ue,M,V,"<","\\textless",!0);m(ue,M,V,">","\\textgreater",!0);m(v,M,xn,"⌊","\\lfloor",!0);m(v,M,Zt,"⌋","\\rfloor",!0);m(v,M,xn,"⌈","\\lceil",!0);m(v,M,Zt,"⌉","\\rceil",!0);m(v,M,V,"\\","\\backslash");m(v,M,V,"∣","|");m(v,M,V,"∣","\\vert");m(ue,M,V,"|","\\textbar",!0);m(v,M,V,"∥","\\|");m(v,M,V,"∥","\\Vert");m(ue,M,V,"∥","\\textbardbl");m(ue,M,V,"~","\\textasciitilde");m(ue,M,V,"\\","\\textbackslash");m(ue,M,V,"^","\\textasciicircum");m(v,M,B,"↑","\\uparrow",!0);m(v,M,B,"⇑","\\Uparrow",!0);m(v,M,B,"↓","\\downarrow",!0);m(v,M,B,"⇓","\\Downarrow",!0);m(v,M,B,"↕","\\updownarrow",!0);m(v,M,B,"⇕","\\Updownarrow",!0);m(v,M,bt,"∐","\\coprod");m(v,M,bt,"⋁","\\bigvee");m(v,M,bt,"⋀","\\bigwedge");m(v,M,bt,"⨄","\\biguplus");m(v,M,bt,"⋂","\\bigcap");m(v,M,bt,"⋃","\\bigcup");m(v,M,bt,"∫","\\int");m(v,M,bt,"∫","\\intop");m(v,M,bt,"∬","\\iint");m(v,M,bt,"∭","\\iiint");m(v,M,bt,"∏","\\prod");m(v,M,bt,"∑","\\sum");m(v,M,bt,"⨂","\\bigotimes");m(v,M,bt,"⨁","\\bigoplus");m(v,M,bt,"⨀","\\bigodot");m(v,M,bt,"∮","\\oint");m(v,M,bt,"∯","\\oiint");m(v,M,bt,"∰","\\oiiint");m(v,M,bt,"⨆","\\bigsqcup");m(v,M,bt,"∫","\\smallint");m(ue,M,ul,"…","\\textellipsis");m(v,M,ul,"…","\\mathellipsis");m(ue,M,ul,"…","\\ldots",!0);m(v,M,ul,"…","\\ldots",!0);m(v,M,ul,"⋯","\\@cdots",!0);m(v,M,ul,"⋱","\\ddots",!0);m(v,M,V,"⋮","\\varvdots");m(v,M,st,"ˊ","\\acute");m(v,M,st,"ˋ","\\grave");m(v,M,st,"¨","\\ddot");m(v,M,st,"~","\\tilde");m(v,M,st,"ˉ","\\bar");m(v,M,st,"˘","\\breve");m(v,M,st,"ˇ","\\check");m(v,M,st,"^","\\hat");m(v,M,st,"⃗","\\vec");m(v,M,st,"˙","\\dot");m(v,M,st,"˚","\\mathring");m(v,M,Ne,"","\\@imath");m(v,M,Ne,"","\\@jmath");m(v,M,V,"ı","ı");m(v,M,V,"ȷ","ȷ");m(ue,M,V,"ı","\\i",!0);m(ue,M,V,"ȷ","\\j",!0);m(ue,M,V,"ß","\\ss",!0);m(ue,M,V,"æ","\\ae",!0);m(ue,M,V,"œ","\\oe",!0);m(ue,M,V,"ø","\\o",!0);m(ue,M,V,"Æ","\\AE",!0);m(ue,M,V,"Œ","\\OE",!0);m(ue,M,V,"Ø","\\O",!0);m(ue,M,st,"ˊ","\\'");m(ue,M,st,"ˋ","\\`");m(ue,M,st,"ˆ","\\^");m(ue,M,st,"˜","\\~");m(ue,M,st,"ˉ","\\=");m(ue,M,st,"˘","\\u");m(ue,M,st,"˙","\\.");m(ue,M,st,"¸","\\c");m(ue,M,st,"˚","\\r");m(ue,M,st,"ˇ","\\v");m(ue,M,st,"¨",'\\"');m(ue,M,st,"˝","\\H");m(ue,M,st,"◯","\\textcircled");var M9={"--":!0,"---":!0,"``":!0,"''":!0};m(ue,M,V,"–","--",!0);m(ue,M,V,"–","\\textendash");m(ue,M,V,"—","---",!0);m(ue,M,V,"—","\\textemdash");m(ue,M,V,"‘","`",!0);m(ue,M,V,"‘","\\textquoteleft");m(ue,M,V,"’","'",!0);m(ue,M,V,"’","\\textquoteright");m(ue,M,V,"“","``",!0);m(ue,M,V,"“","\\textquotedblleft");m(ue,M,V,"”","''",!0);m(ue,M,V,"”","\\textquotedblright");m(v,M,V,"°","\\degree",!0);m(ue,M,V,"°","\\degree");m(ue,M,V,"°","\\textdegree",!0);m(v,M,V,"£","\\pounds");m(v,M,V,"£","\\mathsterling",!0);m(ue,M,V,"£","\\pounds");m(ue,M,V,"£","\\textsterling",!0);m(v,q,V,"✠","\\maltese");m(ue,q,V,"✠","\\maltese");var w6='0123456789/@."';for(var p4=0;p4<w6.length;p4++){var x6=w6.charAt(p4);m(v,M,V,x6,x6)}var M6='0123456789!@*()-=+";:?/.,';for(var g4=0;g4<M6.length;g4++){var S6=M6.charAt(g4);m(ue,M,V,S6,S6)}var hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var v4=0;v4<hf.length;v4++){var Mc=hf.charAt(v4);m(v,M,Ne,Mc,Mc),m(ue,M,V,Mc,Mc)}m(v,q,V,"C","ℂ");m(ue,q,V,"C","ℂ");m(v,q,V,"H","ℍ");m(ue,q,V,"H","ℍ");m(v,q,V,"N","ℕ");m(ue,q,V,"N","ℕ");m(v,q,V,"P","ℙ");m(ue,q,V,"P","ℙ");m(v,q,V,"Q","ℚ");m(ue,q,V,"Q","ℚ");m(v,q,V,"R","ℝ");m(ue,q,V,"R","ℝ");m(v,q,V,"Z","ℤ");m(ue,q,V,"Z","ℤ");m(v,M,Ne,"h","ℎ");m(ue,M,Ne,"h","ℎ");var Le="";for(var rn=0;rn<hf.length;rn++){var vt=hf.charAt(rn);Le=String.fromCharCode(55349,56320+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56372+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56424+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56580+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56736+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56788+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56840+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56944+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),rn<26&&(Le=String.fromCharCode(55349,56632+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le),Le=String.fromCharCode(55349,56476+rn),m(v,M,Ne,vt,Le),m(ue,M,V,vt,Le))}Le=String.fromCharCode(55349,56668);m(v,M,Ne,"k",Le);m(ue,M,V,"k",Le);for(var Vs=0;Vs<10;Vs++){var H0=Vs.toString();Le=String.fromCharCode(55349,57294+Vs),m(v,M,Ne,H0,Le),m(ue,M,V,H0,Le),Le=String.fromCharCode(55349,57314+Vs),m(v,M,Ne,H0,Le),m(ue,M,V,H0,Le),Le=String.fromCharCode(55349,57324+Vs),m(v,M,Ne,H0,Le),m(ue,M,V,H0,Le),Le=String.fromCharCode(55349,57334+Vs),m(v,M,Ne,H0,Le),m(ue,M,V,H0,Le)}var d3="ÐÞþ";for(var y4=0;y4<d3.length;y4++){var Sc=d3.charAt(y4);m(v,M,Ne,Sc,Sc),m(ue,M,V,Sc,Sc)}var kc=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],k6=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],YM=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[kc[o][2],kc[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[k6[l][2],k6[l][s]]}else{if(a===120485||a===120486)return[kc[0][2],kc[0][s]];if(120486<a&&a<120782)return["",""];throw new we("Unsupported character: "+t)}},ih=function(t,n,r){return at[r][t]&&at[r][t].replace&&(t=at[r][t].replace),{value:t,metrics:bm(t,n,r)}},Un=function(t,n,r,i,a){var s=ih(t,n,r),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new Ln(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),l=new Ln(t,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},GM=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&ih(t,"Main-Bold",n).metrics?Un(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||at[n][t].font==="main"?Un(t,"Main-Regular",n,r,i):Un(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},XM=function(t,n,r,i,a){return a!=="textord"&&ih(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},ZM=function(t,n,r){var i=t.mode,a=t.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily;if(a.charCodeAt(0)===55349){var[u,c]=YM(a,i);return Un(a,u,i,n,s.concat(c))}else if(l){var f,h;if(l==="boldsymbol"){var d=XM(a,i,n,s,r);f=d.fontName,h=[d.fontClass]}else o?(f=$9[l].fontName,h=[l]):(f=$c(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(ih(a,f,i).metrics)return Un(a,f,i,n,s.concat(h));if(M9.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var g=[],y=0;y<a.length;y++)g.push(Un(a[y],f,i,n,s.concat(h)));return k9(g)}}if(r==="mathord")return Un(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var b=at[i][a]&&at[i][a].font;if(b==="ams"){var w=$c("amsrm",n.fontWeight,n.fontShape);return Un(a,w,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(b==="main"||!b){var k=$c("textrm",n.fontWeight,n.fontShape);return Un(a,k,i,n,s.concat(n.fontWeight,n.fontShape))}else{var E=$c(b,n.fontWeight,n.fontShape);return Un(a,E,i,n,s.concat(E,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},QM=(e,t)=>{if(Y0(e.classes)!==Y0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},KM=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Ln&&r instanceof Ln&&QM(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},xm=function(t){for(var n=0,r=0,i=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},an=function(t,n,r,i){var a=new vu(t,n,r,i);return xm(a),a},S9=(e,t,n,r)=>new vu(e,t,n,r),JM=function(t,n,r){var i=an([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Me(i.height),i.maxFontSize=1,i},eS=function(t,n,r,i){var a=new wm(t,n,r,i);return xm(a),a},k9=function(t){var n=new gu(t);return xm(n),n},tS=function(t,n){return t instanceof gu?an([],[t],n):t},nS=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var c=t.positionData,f=0;f<t.children.length;f++){var h=t.children[f];c-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=c}else if(t.positionType==="bottom")u=-t.positionData;else{var d=t.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-d.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},rS=function(t,n){for(var{children:r,depth:i}=nS(t),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=an(["pstrut"],[]);u.style.height=Me(a);for(var c=[],f=i,h=i,d=i,g=0;g<r.length;g++){var y=r[g];if(y.type==="kern")d+=y.size;else{var b=y.elem,w=y.wrapperClasses||[],k=y.wrapperStyle||{},E=an(w,[u,b],void 0,k);E.style.top=Me(-a-d-b.depth),y.marginLeft&&(E.style.marginLeft=y.marginLeft),y.marginRight&&(E.style.marginRight=y.marginRight),c.push(E),d+=b.height+b.depth}f=Math.min(f,d),h=Math.max(h,d)}var $=an(["vlist"],c);$.style.height=Me(h);var T;if(f<0){var I=an([],[]),D=an(["vlist"],[I]);D.style.height=Me(-f);var j=an(["vlist-s"],[new Ln("​")]);T=[an(["vlist-r"],[$,j]),an(["vlist-r"],[D])]}else T=[an(["vlist-r"],[$])];var U=an(["vlist-t"],T);return T.length===2&&U.classes.push("vlist-t2"),U.height=h,U.depth=-f,U},iS=(e,t)=>{var n=an(["mspace"],[],t),r=lt(e,t);return n.style.marginRight=Me(r),n},$c=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},$9={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},A9={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},aS=function(t,n){var[r,i,a]=A9[t],s=new G0(r),o=new n0([s],{width:Me(i),height:Me(a),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=S9(["overlay"],[o],n);return l.height=a,l.style.height=Me(a),l.style.width=Me(i),l},G={fontMap:$9,makeSymbol:Un,mathsym:GM,makeSpan:an,makeSvgSpan:S9,makeLineSpan:JM,makeAnchor:eS,makeFragment:k9,wrapFragment:tS,makeVList:rS,makeOrd:ZM,makeGlue:iS,staticSvg:aS,svgData:A9,tryCombineChars:KM},ot={number:3,unit:"mu"},Us={number:4,unit:"mu"},Pr={number:5,unit:"mu"},sS={mord:{mop:ot,mbin:Us,mrel:Pr,minner:ot},mop:{mord:ot,mop:ot,mrel:Pr,minner:ot},mbin:{mord:Us,mop:Us,mopen:Us,minner:Us},mrel:{mord:Pr,mop:Pr,mopen:Pr,minner:Pr},mopen:{},mclose:{mop:ot,mbin:Us,mrel:Pr,minner:ot},mpunct:{mord:ot,mop:ot,mrel:Pr,mopen:ot,mclose:ot,mpunct:ot,minner:ot},minner:{mord:ot,mop:ot,mbin:Us,mrel:Pr,mopen:ot,mpunct:ot,minner:ot}},oS={mord:{mop:ot},mop:{mord:ot,mop:ot},mbin:{},mrel:{},mopen:{},mclose:{mop:ot},mpunct:{},minner:{mop:ot}},C9={},df={},mf={};function $e(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)C9[n[l]]=o;t&&(a&&(df[t]=a),s&&(mf[t]=s))}function oo(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;$e({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var pf=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},dt=function(t){return t.type==="ordgroup"?t.body:[t]},r0=G.makeSpan,lS=["leftmost","mbin","mopen","mrel","mop","mpunct"],uS=["rightmost","mrel","mclose","mpunct"],cS={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT},fS={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Mt=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=Ze(t[s],n);if(o instanceof gu){var l=o.children;a.push(...l)}else a.push(o)}if(G.tryCombineChars(a),!r)return a;var u=n;if(t.length===1){var c=t[0];c.type==="sizing"?u=n.havingSize(c.size):c.type==="styling"&&(u=n.havingStyle(cS[c.style]))}var f=r0([i[0]||"leftmost"],[],n),h=r0([i[1]||"rightmost"],[],n),d=r==="root";return $6(a,(g,y)=>{var b=y.classes[0],w=g.classes[0];b==="mbin"&&qe.contains(uS,w)?y.classes[0]="mord":w==="mbin"&&qe.contains(lS,b)&&(g.classes[0]="mord")},{node:f},h,d),$6(a,(g,y)=>{var b=m3(y),w=m3(g),k=b&&w?g.hasClass("mtight")?oS[b][w]:sS[b][w]:null;if(k)return G.makeGlue(k,u)},{node:f},h,d),a},$6=function e(t,n,r,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var o=t[s],l=T9(o);if(l){e(l.children,n,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var c=n(o,r.node);c&&(r.insertAfter?r.insertAfter(c):(t.unshift(c),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=r0(["leftmost"])),r.insertAfter=(f=>h=>{t.splice(f+1,0,h),s++})(s)}i&&t.pop()},T9=function(t){return t instanceof gu||t instanceof wm||t instanceof vu&&t.hasClass("enclosing")?t:null},hS=function e(t,n){var r=T9(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},m3=function(t,n){return t?(n&&(t=hS(t,n)),fS[t.classes[0]]||null):null},Zl=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return r0(n.concat(r))},Ze=function(t,n,r){if(!t)return r0();if(df[t.type]){var i=df[t.type](t,n);if(r&&n.size!==r.size){i=r0(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new we("Got group of unknown type: '"+t.type+"'")};function Ac(e,t){var n=r0(["base"],e,t),r=r0(["strut"]);return r.style.height=Me(n.height+n.depth),n.depth&&(r.style.verticalAlign=Me(-n.depth)),n.children.unshift(r),n}function p3(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=Mt(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(Ac(s,t)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Ac(s,t)),s=[]),a.push(r[o]));s.length>0&&a.push(Ac(s,t));var u;n?(u=Ac(Mt(n,t,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var c=r0(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=Me(c.height+c.depth),c.depth&&(f.style.verticalAlign=Me(-c.depth))}return c}function E9(e){return new gu(e)}class zn{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=Y0(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=qe.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+qe.escape(Y0(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Pl{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return qe.escape(this.toText())}toText(){return this.text}}class dS{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Me(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Me(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var me={MathNode:zn,TextNode:Pl,SpaceNode:dS,newDocumentFragment:E9},Rn=function(t,n,r){return at[n][t]&&at[n][t].replace&&t.charCodeAt(0)!==55349&&!(M9.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=at[n][t].replace),new me.TextNode(t)},Mm=function(t){return t.length===1?t[0]:new me.MathNode("mrow",t)},Sm=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=t.text;if(qe.contains(["\\imath","\\jmath"],a))return null;at[i][a]&&at[i][a].replace&&(a=at[i][a].replace);var s=G.fontMap[r].fontName;return bm(a,s,i)?G.fontMap[r].variant:null},fn=function(t,n,r){if(t.length===1){var i=et(t[0],n);return r&&i instanceof zn&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<t.length;o++){var l=et(t[o],n);if(l instanceof zn&&s instanceof zn){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof Pl&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof Pl&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof Pl&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),a.pop())}}}a.push(l),s=l}return a},X0=function(t,n,r){return Mm(fn(t,n,r))},et=function(t,n){if(!t)return new me.MathNode("mrow");if(mf[t.type]){var r=mf[t.type](t,n);return r}else throw new we("Got group of unknown type: '"+t.type+"'")};function A6(e,t,n,r,i){var a=fn(e,n),s;a.length===1&&a[0]instanceof zn&&qe.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new me.MathNode("mrow",a);var o=new me.MathNode("annotation",[new me.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new me.MathNode("semantics",[s,o]),u=new me.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return G.makeSpan([c],[u])}var D9=function(t){return new Yr({style:t.displayMode?Ie.DISPLAY:Ie.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},_9=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=G.makeSpan(r,[t])}return t},mS=function(t,n,r){var i=D9(r),a;if(r.output==="mathml")return A6(t,n,i,r.displayMode,!0);if(r.output==="html"){var s=p3(t,i);a=G.makeSpan(["katex"],[s])}else{var o=A6(t,n,i,r.displayMode,!1),l=p3(t,i);a=G.makeSpan(["katex"],[o,l])}return _9(a,r)},pS=function(t,n,r){var i=D9(r),a=p3(t,i),s=G.makeSpan(["katex"],[a]);return _9(s,r)},gS={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},vS=function(t){var n=new me.MathNode("mo",[new me.TextNode(gS[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},yS={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},bS=function(t){return t.type==="ordgroup"?t.body.length:1},wS=function(t,n){function r(){var o=4e5,l=t.label.slice(1);if(qe.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,c=bS(u.base),f,h,d;if(c>5)l==="widehat"||l==="widecheck"?(f=420,o=2364,d=.42,h=l+"4"):(f=312,o=2340,d=.34,h="tilde4");else{var g=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],f=[0,239,300,360,420][g],d=[0,.24,.3,.3,.36,.42][g],h=l+g):(o=[0,600,1033,2339,2340][g],f=[0,260,286,306,312][g],d=[0,.26,.286,.3,.306,.34][g],h="tilde"+g)}var y=new G0(h),b=new n0([y],{width:"100%",height:Me(d),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:G.makeSvgSpan([],[b],n),minWidth:0,height:d}}else{var w=[],k=yS[l],[E,$,T]=k,I=T/1e3,D=E.length,j,U;if(D===1){var S=k[3];j=["hide-tail"],U=[S]}else if(D===2)j=["halfarrow-left","halfarrow-right"],U=["xMinYMin","xMaxYMin"];else if(D===3)j=["brace-left","brace-center","brace-right"],U=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var C=0;C<D;C++){var H=new G0(E[C]),P=new n0([H],{width:"400em",height:Me(I),viewBox:"0 0 "+o+" "+T,preserveAspectRatio:U[C]+" slice"}),Q=G.makeSvgSpan([j[C]],[P],n);if(D===1)return{span:Q,minWidth:$,height:I};Q.style.height=Me(I),w.push(Q)}return{span:G.makeSpan(["stretchy"],w,n),minWidth:$,height:I}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=Me(s),a>0&&(i.style.minWidth=Me(a)),i},xS=function(t,n,r,i,a){var s,o=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=G.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new h3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new h3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new n0(u,{width:"100%",height:Me(o)});s=G.makeSvgSpan([],[c],a)}return s.height=o,s.style.height=Me(o),s},i0={encloseSpan:xS,mathMLnode:vS,svgSpan:wS};function He(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function km(e){var t=ah(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function ah(e){return e&&(e.type==="atom"||WM.hasOwnProperty(e.type))?e:null}var $m=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=He(e.base,"accent"),n=r.base,e.base=n,i=UM(Ze(e,t)),e.base=r):(r=He(e,"accent"),n=r.base);var a=Ze(n,t.havingCrampedStyle()),s=r.isShifty&&qe.isCharacterBox(n),o=0;if(s){var l=qe.getBaseElem(n),u=Ze(l,t.havingCrampedStyle());o=b6(u).skew}var c=r.label==="\\c",f=c?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=i0.svgSpan(r,t),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Me(2*o)+")",marginLeft:Me(2*o)}:void 0}]},t);else{var d,g;r.label==="\\vec"?(d=G.staticSvg("vec",t),g=G.svgData.vec[1]):(d=G.makeOrd({mode:r.mode,text:r.label},t,"textord"),d=b6(d),d.italic=0,g=d.width,c&&(f+=d.depth)),h=G.makeSpan(["accent-body"],[d]);var y=r.label==="\\textcircled";y&&(h.classes.push("accent-full"),f=a.height);var b=o;y||(b-=g/2),h.style.left=Me(b),r.label==="\\textcircled"&&(h.style.top=".2em"),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:h}]},t)}var w=G.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=w,i.height=Math.max(w.height,i.height),i.classes[0]="mord",i):w},z9=(e,t)=>{var n=e.isStretchy?i0.mathMLnode(e.label):new me.MathNode("mo",[Rn(e.label,e.mode)]),r=new me.MathNode("mover",[et(e.base,t),n]);return r.setAttribute("accent","true"),r},MS=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));$e({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=pf(t[0]),r=!MS.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:$m,mathmlBuilder:z9});$e({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:$m,mathmlBuilder:z9});$e({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Ze(e.base,t),r=i0.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=i0.mathMLnode(e.label),r=new me.MathNode("munder",[et(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Cc=e=>{var t=new me.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};$e({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=G.wrapFragment(Ze(e.body,r,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(r=t.havingStyle(n.sub()),s=G.wrapFragment(Ze(e.below,r,t),t),s.classes.push(a+"-arrow-pad"));var o=i0.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(s){var f=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;c=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:f}]},t)}else c=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},t);return c.children[0].children[0].children[1].classes.push("svg-align"),G.makeSpan(["mrel","x-arrow"],[c],t)},mathmlBuilder(e,t){var n=i0.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=Cc(et(e.body,t));if(e.below){var a=Cc(et(e.below,t));r=new me.MathNode("munderover",[n,a,i])}else r=new me.MathNode("mover",[n,i])}else if(e.below){var s=Cc(et(e.below,t));r=new me.MathNode("munder",[n,s])}else r=Cc(),r=new me.MathNode("mover",[n,r]);return r}});var SS=G.makeSpan;function I9(e,t){var n=Mt(e.body,t,!0);return SS([e.mclass],n,t)}function N9(e,t){var n,r=fn(e.body,t);return e.mclass==="minner"?n=new me.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new me.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new me.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}$e({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:dt(i),isCharacterBox:qe.isCharacterBox(i)}},htmlBuilder:I9,mathmlBuilder:N9});var sh=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};$e({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:sh(t[0]),body:dt(t[1]),isCharacterBox:qe.isCharacterBox(t[1])}}});$e({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],a=t[0],s;r!=="\\stackrel"?s=sh(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:dt(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:qe.isCharacterBox(l)}},htmlBuilder:I9,mathmlBuilder:N9});$e({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:sh(t[0]),body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!0),r=G.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=fn(e.body,t),r=new me.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var kS={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},C6=()=>({type:"styling",body:[],mode:"math",style:"display"}),T6=e=>e.type==="textord"&&e.text==="@",$S=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function AS(e,t,n){var r=kS[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function CS(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new we("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],a=0;a<t.length;a++){for(var s=t[a],o=C6(),l=0;l<s.length;l++)if(!T6(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=km(s[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var h=!0,d=l+1;d<s.length;d++){if($S(s[d],u)){h=!1,l=d;break}if(T6(s[d]))throw new we("Missing a "+u+" character to complete a CD arrow.",s[d]);c[f].body.push(s[d])}if(h)throw new we("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new we('Expected one of "<>AV=|." after @',s[l]);var g=AS(u,c,e),y={type:"styling",body:[g],mode:"math",style:"display"};r.push(y),o=C6()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}$e({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=G.wrapFragment(Ze(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Me(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new me.MathNode("mrow",[et(e.label,t)]);return n=new me.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new me.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});$e({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=G.wrapFragment(Ze(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new me.MathNode("mrow",[et(e.fragment,t)])}});$e({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=He(t[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=He(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new we("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new we("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var q9=(e,t)=>{var n=Mt(e.body,t.withColor(e.color),!1);return G.makeFragment(n)},B9=(e,t)=>{var n=fn(e.body,t.withColor(e.color)),r=new me.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};$e({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=He(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:dt(i)}},htmlBuilder:q9,mathmlBuilder:B9});$e({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=He(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:q9,mathmlBuilder:B9});$e({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&He(i,"size").value}},htmlBuilder(e,t){var n=G.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Me(lt(e.size,t)))),n},mathmlBuilder(e,t){var n=new me.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Me(lt(e.size,t)))),n}});var g3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},F9=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new we("Expected a control sequence",e);return t},TS=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},L9=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};$e({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(g3[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=g3[r.text]),He(t.parseFunction(),"internal");throw new we("Invalid token after macro prefix",r)}});$e({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new we("Expected a control sequence",r);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new we('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new we('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new we("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===g3[n]),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=F9(t.gullet.popToken());t.gullet.consumeSpaces();var i=TS(t);return L9(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=F9(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return L9(t,r,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Dl=function(t,n,r){var i=at.math[t]&&at.math[t].replace,a=bm(i||t,n,r);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},Am=function(t,n,r,i){var a=r.havingBaseStyle(n),s=G.makeSpan(i.concat(a.sizingClasses(r)),[t],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},R9=function(t,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Me(a),t.height-=a,t.depth+=a},ES=function(t,n,r,i,a,s){var o=G.makeSymbol(t,"Main-Regular",a,i),l=Am(o,n,i,s);return r&&R9(l,i,n),l},DS=function(t,n,r,i){return G.makeSymbol(t,"Size"+n+"-Regular",r,i)},P9=function(t,n,r,i,a,s){var o=DS(t,n,a,i),l=Am(G.makeSpan(["delimsizing","size"+n],[o],i),Ie.TEXT,i,s);return r&&R9(l,i,Ie.TEXT),l},b4=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=G.makeSpan(["delimsizinginner",i],[G.makeSpan([],[G.makeSymbol(t,n,r)])]);return{type:"elem",elem:a}},w4=function(t,n,r){var i=mr["Size4-Regular"][t.charCodeAt(0)]?mr["Size4-Regular"][t.charCodeAt(0)][4]:mr["Size1-Regular"][t.charCodeAt(0)][4],a=new G0("inner",BM(t,Math.round(1e3*n))),s=new n0([a],{width:Me(i),height:Me(n),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=G.makeSvgSpan([],[s],r);return o.height=n,o.style.height=Me(n),o.style.width=Me(i),{type:"elem",elem:o}},v3=.008,Tc={type:"kern",size:-1*v3},_S=["|","\\lvert","\\rvert","\\vert"],zS=["\\|","\\lVert","\\rVert","\\Vert"],O9=function(t,n,r,i,a,s){var o,l,u,c,f="",h=0;o=u=c=t,l=null;var d="Size1-Regular";t==="\\uparrow"?u=c="⏐":t==="\\Uparrow"?u=c="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",c="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",c="\\Downarrow"):qe.contains(_S,t)?(u="∣",f="vert",h=333):qe.contains(zS,t)?(u="∥",f="doublevert",h=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",c="⎣",d="Size4-Regular",f="lbrack",h=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",c="⎦",d="Size4-Regular",f="rbrack",h=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",c="⎣",d="Size4-Regular",f="lfloor",h=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=c="⎢",d="Size4-Regular",f="lceil",h=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",c="⎦",d="Size4-Regular",f="rfloor",h=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=c="⎥",d="Size4-Regular",f="rceil",h=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",c="⎝",d="Size4-Regular",f="lparen",h=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",c="⎠",d="Size4-Regular",f="rparen",h=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",c="⎩",u="⎪",d="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",c="⎭",u="⎪",d="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",c="⎩",u="⎪",d="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",c="⎭",u="⎪",d="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",c="⎭",u="⎪",d="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",c="⎩",u="⎪",d="Size4-Regular");var g=Dl(o,d,a),y=g.height+g.depth,b=Dl(u,d,a),w=b.height+b.depth,k=Dl(c,d,a),E=k.height+k.depth,$=0,T=1;if(l!==null){var I=Dl(l,d,a);$=I.height+I.depth,T=2}var D=y+E+$,j=Math.max(0,Math.ceil((n-D)/(T*w))),U=D+j*T*w,S=i.fontMetrics().axisHeight;r&&(S*=i.sizeMultiplier);var C=U/2-S,H=[];if(f.length>0){var P=U-y-E,Q=Math.round(U*1e3),N=FM(f,Math.round(P*1e3)),W=new G0(f,N),ae=(h/1e3).toFixed(3)+"em",ie=(Q/1e3).toFixed(3)+"em",le=new n0([W],{width:ae,height:ie,viewBox:"0 0 "+h+" "+Q}),ee=G.makeSvgSpan([],[le],i);ee.height=Q/1e3,ee.style.width=ae,ee.style.height=ie,H.push({type:"elem",elem:ee})}else{if(H.push(b4(c,d,a)),H.push(Tc),l===null){var se=U-y-E+2*v3;H.push(w4(u,se,i))}else{var oe=(U-y-E-$)/2+2*v3;H.push(w4(u,oe,i)),H.push(Tc),H.push(b4(l,d,a)),H.push(Tc),H.push(w4(u,oe,i))}H.push(Tc),H.push(b4(o,d,a))}var re=i.havingBaseStyle(Ie.TEXT),Se=G.makeVList({positionType:"bottom",positionData:C,children:H},re);return Am(G.makeSpan(["delimsizing","mult"],[Se],re),Ie.TEXT,i,s)},x4=80,M4=.08,S4=function(t,n,r,i,a){var s=qM(t,i,r),o=new G0(t,s),l=new n0([o],{width:"400em",height:Me(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return G.makeSvgSpan(["hide-tail"],[l],a)},IS=function(t,n){var r=n.havingBaseSizing(),i=j9("\\surd",t*r.sizeMultiplier,U9,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,f;return i.type==="small"?(c=1e3+1e3*s+x4,t<1?a=1:t<1.4&&(a=.7),l=(1+s+M4)/a,u=(1+s)/a,o=S4("sqrtMain",l,c,s,n),o.style.minWidth="0.853em",f=.833/a):i.type==="large"?(c=(1e3+x4)*Ol[i.size],u=(Ol[i.size]+s)/a,l=(Ol[i.size]+s+M4)/a,o=S4("sqrtSize"+i.size,l,c,s,n),o.style.minWidth="1.02em",f=1/a):(l=t+s+M4,u=t+s,c=Math.floor(1e3*t+s)+x4,o=S4("sqrtTall",l,c,s,n),o.style.minWidth="0.742em",f=1.056),o.height=u,o.style.height=Me(l),{span:o,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},H9=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],NS=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],V9=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ol=[0,1.2,1.8,2.4,3],qS=function(t,n,r,i,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),qe.contains(H9,t)||qe.contains(V9,t))return P9(t,n,!1,r,i,a);if(qe.contains(NS,t))return O9(t,Ol[n],!1,r,i,a);throw new we("Illegal delimiter: '"+t+"'")},BS=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],FS=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"stack"}],U9=[{type:"small",style:Ie.SCRIPTSCRIPT},{type:"small",style:Ie.SCRIPT},{type:"small",style:Ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],LS=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},j9=function(t,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=Dl(t,LS(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},W9=function(t,n,r,i,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;qe.contains(V9,t)?o=BS:qe.contains(H9,t)?o=U9:o=FS;var l=j9(t,n,o,i);return l.type==="small"?ES(t,l.style,r,i,a,s):l.type==="large"?P9(t,l.size,r,i,a,s):O9(t,n,r,i,a,s)},RS=function(t,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(n-o,r+o),f=Math.max(c/500*l,2*c-u);return W9(t,f,!0,i,a,s)},e0={sqrtImage:IS,sizedDelim:qS,sizeToMaxHeight:Ol,customSizedDelim:W9,leftRightDelim:RS},E6={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},PS=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function oh(e,t){var n=ah(e);if(n&&qe.contains(PS,n.text))return n;throw n?new we("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new we("Invalid delimiter type '"+e.type+"'",e)}$e({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=oh(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:E6[e.funcName].size,mclass:E6[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?G.makeSpan([e.mclass]):e0.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Rn(e.delim,e.mode));var n=new me.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Me(e0.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function D6(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}$e({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new we("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:oh(t[0],e).text,color:n}}});$e({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=oh(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=He(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{D6(e);for(var n=Mt(e.body,t,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var o;if(e.left==="."?o=Zl(t,["mopen"]):o=e0.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var u=n[l],c=u.isMiddle;c&&(n[l]=e0.leftRightDelim(c.delim,r,i,c.options,e.mode,[]))}var f;if(e.right===".")f=Zl(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;f=e0.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(f),G.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{D6(e);var n=fn(e.body,t);if(e.left!=="."){var r=new me.MathNode("mo",[Rn(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new me.MathNode("mo",[Rn(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return Mm(n)}});$e({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=oh(t[0],e);if(!e.parser.leftrightDepth)throw new we("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Zl(t,[]);else{n=e0.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Rn("|","text"):Rn(e.delim,e.mode),r=new me.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Cm=(e,t)=>{var n=G.wrapFragment(Ze(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,s=0,o=qe.isCharacterBox(e.body);if(r==="sout")a=G.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var l=lt({number:.6,unit:"pt"},t),u=lt({number:.35,unit:"ex"},t),c=t.havingBaseSizing();i=i/c.sizeMultiplier;var f=n.height+n.depth+l+u;n.style.paddingLeft=Me(f/2+l);var h=Math.floor(1e3*f*i),d=IM(h),g=new n0([new G0("phase",d)],{width:"400em",height:Me(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});a=G.makeSvgSpan(["hide-tail"],[g],t),a.style.height=Me(f),s=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,b=0,w=0;/box/.test(r)?(w=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(r==="colorbox"?0:w),b=y):r==="angl"?(w=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*w,b=Math.max(0,.25-n.depth)):(y=o?.2:0,b=y),a=i0.encloseSpan(n,r,y,b,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=Me(w)):r==="angl"&&w!==.049&&(a.style.borderTopWidth=Me(w),a.style.borderRightWidth=Me(w)),s=n.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var k;if(e.backgroundColor)k=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var E=/cancel|phase/.test(r)?["svg-align"]:[];k=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:E}]},t)}return/cancel/.test(r)&&(k.height=n.height,k.depth=n.depth),/cancel/.test(r)&&!o?G.makeSpan(["mord","cancel-lap"],[k],t):G.makeSpan(["mord"],[k],t)},Tm=(e,t)=>{var n=0,r=new me.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[et(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};$e({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=He(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:Cm,mathmlBuilder:Tm});$e({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=He(t[0],"color-token").color,s=He(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Cm,mathmlBuilder:Tm});$e({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});$e({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Cm,mathmlBuilder:Tm});$e({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var Y9={};function Mr(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)Y9[n[l]]=o;a&&(df[t]=a),s&&(mf[t]=s)}var G9={};function A(e,t){G9[e]=t}function _6(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var lh=e=>{var t=e.parser.settings;if(!t.displayMode)throw new we("{"+e.envName+"} can be used only in display mode.")};function Em(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function K0(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:f,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=e.gullet.expandMacroAsText("\\arraystretch");if(d==null)s=1;else if(s=parseFloat(d),!s||s<0)throw new we("Invalid \\arraystretch: "+d)}e.gullet.beginGroup();var g=[],y=[g],b=[],w=[],k=l!=null?[]:void 0;function E(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function $(){k&&(e.gullet.macros.get("\\df@tag")?(k.push(e.subparse([new vr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(E(),w.push(_6(e));;){var T=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),T={type:"ordgroup",mode:e.mode,body:T},n&&(T={type:"styling",mode:e.mode,style:n,body:[T]}),g.push(T);var I=e.fetch().text;if(I==="&"){if(f&&g.length===f){if(u||o)throw new we("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(I==="\\end"){$(),g.length===1&&T.type==="styling"&&T.body[0].body.length===0&&(y.length>1||!c)&&y.pop(),w.length<y.length+1&&w.push([]);break}else if(I==="\\\\"){e.consume();var D=void 0;e.gullet.future().text!==" "&&(D=e.parseSizeGroup(!0)),b.push(D?D.value:null),$(),w.push(_6(e)),g=[],y.push(g),E()}else throw new we("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:r,hLinesBeforeRow:w,colSeparationType:o,tags:k,leqno:h}}function Dm(e){return e.slice(0,1)==="d"?"display":"text"}var Sr=function(t,n){var r,i,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],c=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,h=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var d=n.havingStyle(Ie.SCRIPT).sizeMultiplier;h=.2778*(d/n.sizeMultiplier)}var g=t.colSeparationType==="CD"?lt({number:3,unit:"ex"},n):12*f,y=3*f,b=t.arraystretch*g,w=.7*b,k=.3*b,E=0;function $(mt){for(var wt=0;wt<mt.length;++wt)wt>0&&(E+=.25),u.push({pos:E,isDashed:mt[wt]})}for($(s[0]),r=0;r<t.body.length;++r){var T=t.body[r],I=w,D=k;o<T.length&&(o=T.length);var j=new Array(T.length);for(i=0;i<T.length;++i){var U=Ze(T[i],n);D<U.depth&&(D=U.depth),I<U.height&&(I=U.height),j[i]=U}var S=t.rowGaps[r],C=0;S&&(C=lt(S,n),C>0&&(C+=k,D<C&&(D=C),C=0)),t.addJot&&(D+=y),j.height=I,j.depth=D,E+=I,j.pos=E,E+=D+C,l[r]=j,$(s[r+1])}var H=E/2+n.fontMetrics().axisHeight,P=t.cols||[],Q=[],N,W,ae=[];if(t.tags&&t.tags.some(mt=>mt))for(r=0;r<a;++r){var ie=l[r],le=ie.pos-H,ee=t.tags[r],se=void 0;ee===!0?se=G.makeSpan(["eqn-num"],[],n):ee===!1?se=G.makeSpan([],[],n):se=G.makeSpan([],Mt(ee,n,!0),n),se.depth=ie.depth,se.height=ie.height,ae.push({type:"elem",elem:se,shift:le})}for(i=0,W=0;i<o||W<P.length;++i,++W){for(var oe=P[W]||{},re=!0;oe.type==="separator";){if(re||(N=G.makeSpan(["arraycolsep"],[]),N.style.width=Me(n.fontMetrics().doubleRuleSep),Q.push(N)),oe.separator==="|"||oe.separator===":"){var Se=oe.separator==="|"?"solid":"dashed",Ce=G.makeSpan(["vertical-separator"],[],n);Ce.style.height=Me(E),Ce.style.borderRightWidth=Me(c),Ce.style.borderRightStyle=Se,Ce.style.margin="0 "+Me(-c/2);var De=E-H;De&&(Ce.style.verticalAlign=Me(-De)),Q.push(Ce)}else throw new we("Invalid separator type: "+oe.separator);W++,oe=P[W]||{},re=!1}if(!(i>=o)){var ce=void 0;(i>0||t.hskipBeforeAndAfter)&&(ce=qe.deflt(oe.pregap,h),ce!==0&&(N=G.makeSpan(["arraycolsep"],[]),N.style.width=Me(ce),Q.push(N)));var pe=[];for(r=0;r<a;++r){var ne=l[r],xe=ne[i];if(xe){var Ae=ne.pos-H;xe.depth=ne.depth,xe.height=ne.height,pe.push({type:"elem",elem:xe,shift:Ae})}}pe=G.makeVList({positionType:"individualShift",children:pe},n),pe=G.makeSpan(["col-align-"+(oe.align||"c")],[pe]),Q.push(pe),(i<o-1||t.hskipBeforeAndAfter)&&(ce=qe.deflt(oe.postgap,h),ce!==0&&(N=G.makeSpan(["arraycolsep"],[]),N.style.width=Me(ce),Q.push(N)))}}if(l=G.makeSpan(["mtable"],Q),u.length>0){for(var Y=G.makeLineSpan("hline",n,c),ke=G.makeLineSpan("hdashline",n,c),Ee=[{type:"elem",elem:l,shift:0}];u.length>0;){var Be=u.pop(),Fe=Be.pos-H;Be.isDashed?Ee.push({type:"elem",elem:ke,shift:Fe}):Ee.push({type:"elem",elem:Y,shift:Fe})}l=G.makeVList({positionType:"individualShift",children:Ee},n)}if(ae.length===0)return G.makeSpan(["mord"],[l],n);var Ge=G.makeVList({positionType:"individualShift",children:ae},n);return Ge=G.makeSpan(["tag"],[Ge],n),G.makeFragment([l,Ge])},OS={c:"center ",l:"left ",r:"right "},kr=function(t,n){for(var r=[],i=new me.MathNode("mtd",[],["mtr-glue"]),a=new me.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new me.MathNode("mtd",[et(o[u],n)]));t.tags&&t.tags[s]&&(l.unshift(i),l.push(i),t.leqno?l.unshift(a):l.push(a)),r.push(new me.MathNode("mtr",l))}var c=new me.MathNode("mtable",r),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);c.setAttribute("rowspacing",Me(f));var h="",d="";if(t.cols&&t.cols.length>0){var g=t.cols,y="",b=!1,w=0,k=g.length;g[0].type==="separator"&&(h+="top ",w=1),g[g.length-1].type==="separator"&&(h+="bottom ",k-=1);for(var E=w;E<k;E++)g[E].type==="align"?(d+=OS[g[E].align],b&&(y+="none "),b=!0):g[E].type==="separator"&&b&&(y+=g[E].separator==="|"?"solid ":"dashed ",b=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(y)&&c.setAttribute("columnlines",y.trim())}if(t.colSeparationType==="align"){for(var $=t.cols||[],T="",I=1;I<$.length;I++)T+=I%2?"0em ":"1em ";c.setAttribute("columnspacing",T.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var D="",j=t.hLinesBeforeRow;h+=j[0].length>0?"left ":"",h+=j[j.length-1].length>0?"right ":"";for(var U=1;U<j.length-1;U++)D+=j[U].length===0?"none ":j[U][0]?"dashed ":"solid ";return/[sd]/.test(D)&&c.setAttribute("rowlines",D.trim()),h!==""&&(c=new me.MathNode("menclose",[c]),c.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(c=new me.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},X9=function(t,n){t.envName.indexOf("ed")===-1&&lh(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=K0(t.parser,{cols:r,addJot:!0,autoTag:a?void 0:Em(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var c="",f=0;f<n[0].body.length;f++){var h=He(n[0].body[f],"textord");c+=h.text}o=Number(c),l=o*2}var d=!l;s.body.forEach(function(w){for(var k=1;k<w.length;k+=2){var E=He(w[k],"styling"),$=He(E.body[0],"ordgroup");$.body.unshift(u)}if(d)l<w.length&&(l=w.length);else{var T=w.length/2;if(o<T)throw new we("Too many math in a row: "+("expected "+o+", but got "+T),w[0])}});for(var g=0;g<l;++g){var y="r",b=0;g%2===1?y="l":g>0&&d&&(b=1),r[g]={type:"align",align:y,pregap:b,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};Mr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=ah(t[0]),r=n?[t[0]]:He(t[0],"ordgroup").body,i=r.map(function(s){var o=km(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new we("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return K0(e.parser,a,Dm(e.envName))},htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new we("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=K0(e.parser,r,Dm(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=K0(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=ah(t[0]),r=n?[t[0]]:He(t[0],"ordgroup").body,i=r.map(function(s){var o=km(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new we("Unknown column alignment: "+l,s)});if(i.length>1)throw new we("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=K0(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new we("{subarray} can contain only one column");return a},htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=K0(e.parser,t,Dm(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:X9,htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){qe.contains(["gather","gather*"],e.envName)&&lh(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Em(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return K0(e.parser,t,"display")},htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:X9,htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){lh(e);var t={autoTag:Em(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return K0(e.parser,t,"display")},htmlBuilder:Sr,mathmlBuilder:kr});Mr({type:"array",names:["CD"],props:{numArgs:0},handler(e){return lh(e),CS(e.parser)},htmlBuilder:Sr,mathmlBuilder:kr});A("\\nonumber","\\gdef\\@eqnsw{0}");A("\\notag","\\nonumber");$e({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new we(e.funcName+" valid only within array environment")}});var z6=Y9;$e({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new we("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=He(i.body[s],"textord").text;if(r==="\\begin"){if(!z6.hasOwnProperty(a))throw new we("No such environment: "+a,i);var o=z6[a],{args:l,optArgs:u}=n.parseArguments("\\begin{"+a+"}",o),c={mode:n.mode,envName:a,parser:n},f=o.handler(c,l,u);n.expect("\\end",!1);var h=n.nextToken,d=He(n.parseFunction(),"environment");if(d.name!==a)throw new we("Mismatch: \\begin{"+a+"} matched by \\end{"+d.name+"}",h);return f}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var Z9=(e,t)=>{var n=e.font,r=t.withFont(n);return Ze(e.body,r)},Q9=(e,t)=>{var n=e.font,r=t.withFont(n);return et(e.body,r)},I6={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};$e({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=pf(t[0]),a=r;return a in I6&&(a=I6[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:Z9,mathmlBuilder:Q9});$e({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=qe.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:sh(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});$e({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:Z9,mathmlBuilder:Q9});var K9=(e,t)=>{var n=t;return e==="display"?n=n.id>=Ie.SCRIPT.id?n.text():Ie.DISPLAY:e==="text"&&n.size===Ie.DISPLAY.size?n=Ie.TEXT:e==="script"?n=Ie.SCRIPT:e==="scriptscript"&&(n=Ie.SCRIPTSCRIPT),n},_m=(e,t)=>{var n=K9(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a;a=t.havingStyle(r);var s=Ze(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(i);var u=Ze(e.denom,a,t),c,f,h;e.hasBarLine?(e.barSize?(f=lt(e.barSize,t),c=G.makeLineSpan("frac-line",t,f)):c=G.makeLineSpan("frac-line",t),f=c.height,h=c.height):(c=null,f=0,h=t.fontMetrics().defaultRuleThickness);var d,g,y;n.size===Ie.DISPLAY.size||e.size==="display"?(d=t.fontMetrics().num1,f>0?g=3*h:g=7*h,y=t.fontMetrics().denom1):(f>0?(d=t.fontMetrics().num2,g=h):(d=t.fontMetrics().num3,g=3*h),y=t.fontMetrics().denom2);var b;if(c){var k=t.fontMetrics().axisHeight;d-s.depth-(k+.5*f)<g&&(d+=g-(d-s.depth-(k+.5*f))),k-.5*f-(u.height-y)<g&&(y+=g-(k-.5*f-(u.height-y)));var E=-(k-.5*f);b=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:c,shift:E},{type:"elem",elem:s,shift:-d}]},t)}else{var w=d-s.depth-(u.height-y);w<g&&(d+=.5*(g-w),y+=.5*(g-w)),b=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:s,shift:-d}]},t)}a=t.havingStyle(n),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var $;n.size===Ie.DISPLAY.size?$=t.fontMetrics().delim1:n.size===Ie.SCRIPTSCRIPT.size?$=t.havingStyle(Ie.SCRIPT).fontMetrics().delim2:$=t.fontMetrics().delim2;var T,I;return e.leftDelim==null?T=Zl(t,["mopen"]):T=e0.customSizedDelim(e.leftDelim,$,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?I=G.makeSpan([]):e.rightDelim==null?I=Zl(t,["mclose"]):I=e0.customSizedDelim(e.rightDelim,$,!0,t.havingStyle(n),e.mode,["mclose"]),G.makeSpan(["mord"].concat(a.sizingClasses(t)),[T,G.makeSpan(["mfrac"],[b]),I],t)},zm=(e,t)=>{var n=new me.MathNode("mfrac",[et(e.numer,t),et(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=lt(e.barSize,t);n.setAttribute("linethickness",Me(r))}var i=K9(e.size,t.style);if(i.size!==t.style.size){n=new me.MathNode("mstyle",[n]);var a=i.size===Ie.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new me.MathNode("mo",[new me.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),e.rightDelim!=null){var l=new me.MathNode("mo",[new me.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Mm(s)}return n};$e({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:_m,mathmlBuilder:zm});$e({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});$e({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var N6=["display","text","script","scriptscript"],q6=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};$e({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],a=pf(t[0]),s=a.type==="atom"&&a.family==="open"?q6(a.text):null,o=pf(t[1]),l=o.type==="atom"&&o.family==="close"?q6(o.text):null,u=He(t[2],"size"),c,f=null;u.isBlank?c=!0:(f=u.value,c=f.number>0);var h="auto",d=t[3];if(d.type==="ordgroup"){if(d.body.length>0){var g=He(d.body[0],"textord");h=N6[Number(g.text)]}}else d=He(d,"textord"),h=N6[Number(d.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:f,leftDelim:s,rightDelim:l,size:h}},htmlBuilder:_m,mathmlBuilder:zm});$e({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:He(t[0],"size").value,token:i}}});$e({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=yM(He(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:_m,mathmlBuilder:zm});var J9=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?Ze(e.sup,t.havingStyle(n.sup()),t):Ze(e.sub,t.havingStyle(n.sub()),t),i=He(e.base,"horizBrace")):i=He(e,"horizBrace");var a=Ze(i.base,t.havingBaseStyle(Ie.DISPLAY)),s=i0.svgSpan(i,t),o;if(i.isOver?(o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=G.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);i.isOver?o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):o=G.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)},HS=(e,t)=>{var n=i0.mathMLnode(e.label);return new me.MathNode(e.isOver?"mover":"munder",[et(e.base,t),n])};$e({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:J9,mathmlBuilder:HS});$e({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=He(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:dt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1);return G.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=X0(e.body,t);return n instanceof zn||(n=new zn("mrow",[n])),n.setAttribute("href",e.href),n}});$e({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=He(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:dt(o)}}});$e({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!1);return G.makeFragment(n)},mathmlBuilder(e,t){return new me.MathNode("mrow",fn(e.body,t))}});$e({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,a=He(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length!==2)throw new we("Error parsing key-value for \\htmlData");l["data-"+f[0].trim()]=f[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:dt(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=G.makeSpan(r,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>X0(e.body,t)});$e({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:dt(t[0]),mathml:dt(t[1])}},htmlBuilder:(e,t)=>{var n=Mt(e.html,t,!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>X0(e.mathml,t)});var k4=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new we("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!y9(r))throw new we("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};$e({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=He(n[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length===2){var h=f[1].trim();switch(f[0].trim()){case"alt":o=h;break;case"width":i=k4(h);break;case"height":a=k4(h);break;case"totalheight":s=k4(h);break;default:throw new we("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var d=He(t[0],"url").url;return o===""&&(o=d,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=lt(e.height,t),r=0;e.totalheight.number>0&&(r=lt(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=lt(e.width,t));var a={height:Me(n+r)};i>0&&(a.width=Me(i)),r>0&&(a.verticalAlign=Me(-r));var s=new HM(e.src,e.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new me.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=lt(e.height,t),i=0;if(e.totalheight.number>0&&(i=lt(e.totalheight,t)-r,n.setAttribute("valign",Me(-i))),n.setAttribute("height",Me(r+i)),e.width.number>0){var a=lt(e.width,t);n.setAttribute("width",Me(a))}return n.setAttribute("src",e.src),n}});$e({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=He(t[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return G.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=lt(e.dimension,t);return new me.SpaceNode(n)}});$e({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=G.makeSpan([],[Ze(e.body,t)]),n=G.makeSpan(["inner"],[n],t)):n=G.makeSpan(["inner"],[Ze(e.body,t)]);var r=G.makeSpan(["fix"],[]),i=G.makeSpan([e.alignment],[n,r],t),a=G.makeSpan(["strut"]);return a.style.height=Me(i.height+i.depth),i.depth&&(a.style.verticalAlign=Me(-i.depth)),i.children.unshift(a),i=G.makeSpan(["thinbox"],[i],t),G.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new me.MathNode("mpadded",[et(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});$e({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});$e({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new we("Mismatched "+e.funcName)}});var B6=(e,t)=>{switch(t.style.size){case Ie.DISPLAY.size:return e.display;case Ie.TEXT.size:return e.text;case Ie.SCRIPT.size:return e.script;case Ie.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};$e({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:dt(t[0]),text:dt(t[1]),script:dt(t[2]),scriptscript:dt(t[3])}},htmlBuilder:(e,t)=>{var n=B6(e,t),r=Mt(n,t,!1);return G.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=B6(e,t);return X0(n,t)}});var eg=(e,t,n,r,i,a,s)=>{e=G.makeSpan([],[e]);var o=n&&qe.isCharacterBox(n),l,u;if(t){var c=Ze(t,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(n){var f=Ze(n,r.havingStyle(i.sub()),r);l={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var h;if(u&&l){var d=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+s;h=G.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=e.height-s;h=G.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},r)}else if(u){var y=e.depth+s;h=G.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var b=[h];if(l&&a!==0&&!o){var w=G.makeSpan(["mspace"],[],r);w.style.marginRight=Me(a),b.unshift(w)}return G.makeSpan(["mop","op-limits"],b,r)},tg=["\\smallint"],cl=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=He(e.base,"op"),i=!0):a=He(e,"op");var s=t.style,o=!1;s.size===Ie.DISPLAY.size&&a.symbol&&!qe.contains(tg,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(c=a.name.slice(1),a.name=c==="oiint"?"\\iint":"\\iiint"),l=G.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var f=l.italic,h=G.staticSvg(c+"Size"+(o?"2":"1"),t);l=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},t),a.name="\\"+c,l.classes.unshift("mop"),l.italic=f}}else if(a.body){var d=Mt(a.body,t,!0);d.length===1&&d[0]instanceof Ln?(l=d[0],l.classes[0]="mop"):l=G.makeSpan(["mop"],d,t)}else{for(var g=[],y=1;y<a.name.length;y++)g.push(G.mathsym(a.name[y],a.mode,t));l=G.makeSpan(["mop"],g,t)}var b=0,w=0;return(l instanceof Ln||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(l.height-l.depth)/2-t.fontMetrics().axisHeight,w=l.italic),i?eg(l,n,r,t,s,w,b):(b&&(l.style.position="relative",l.style.top=Me(b)),l)},yu=(e,t)=>{var n;if(e.symbol)n=new zn("mo",[Rn(e.name,e.mode)]),qe.contains(tg,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new zn("mo",fn(e.body,t));else{n=new zn("mi",[new Pl(e.name.slice(1))]);var r=new zn("mo",[Rn("⁡","text")]);e.parentIsSupSub?n=new zn("mrow",[n,r]):n=E9([n,r])}return n},VS={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};$e({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=VS[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:cl,mathmlBuilder:yu});$e({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:dt(r)}},htmlBuilder:cl,mathmlBuilder:yu});var US={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};$e({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:cl,mathmlBuilder:yu});$e({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:cl,mathmlBuilder:yu});$e({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=US[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:cl,mathmlBuilder:yu});var ng=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=He(e.base,"operatorname"),i=!0):a=He(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(f=>{var h=f.text;return typeof h=="string"?{type:"textord",mode:f.mode,text:h}:f}),l=Mt(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Ln&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=G.makeSpan(["mop"],l,t)}else s=G.makeSpan(["mop"],[],t);return i?eg(s,n,r,t,t.style,0,0):s},jS=(e,t)=>{for(var n=fn(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof me.SpaceNode))if(a instanceof me.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof me.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(c=>c.toText()).join("");n=[new me.TextNode(o)]}var l=new me.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new me.MathNode("mo",[Rn("⁡","text")]);return e.parentIsSupSub?new me.MathNode("mrow",[l,u]):me.newDocumentFragment([l,u])};$e({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:dt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:ng,mathmlBuilder:jS});A("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");oo({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?G.makeFragment(Mt(e.body,t,!1)):G.makeSpan(["mord"],Mt(e.body,t,!0),t)},mathmlBuilder(e,t){return X0(e.body,t,!0)}});$e({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle()),r=G.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return G.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new me.MathNode("mo",[new me.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new me.MathNode("mover",[et(e.body,t),n]);return r.setAttribute("accent","true"),r}});$e({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:dt(r)}},htmlBuilder:(e,t)=>{var n=Mt(e.body,t.withPhantom(),!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=fn(e.body,t);return new me.MathNode("mphantom",n)}});$e({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),G.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=fn(dt(e.body),t),r=new me.MathNode("mphantom",n),i=new me.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});$e({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan(["inner"],[Ze(e.body,t.withPhantom())]),r=G.makeSpan(["fix"],[]);return G.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=fn(dt(e.body),t),r=new me.MathNode("mphantom",n),i=new me.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});$e({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=He(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Ze(e.body,t),r=lt(e.dy,t);return G.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new me.MathNode("mpadded",[et(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});$e({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});$e({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],a=He(t[0],"size"),s=He(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&He(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var n=G.makeSpan(["mord","rule"],[],t),r=lt(e.width,t),i=lt(e.height,t),a=e.shift?lt(e.shift,t):0;return n.style.borderRightWidth=Me(r),n.style.borderTopWidth=Me(i),n.style.bottom=Me(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=lt(e.width,t),r=lt(e.height,t),i=e.shift?lt(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new me.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Me(n)),s.setAttribute("height",Me(r));var o=new me.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",Me(i)):(o.setAttribute("height",Me(i)),o.setAttribute("depth",Me(-i))),o.setAttribute("voffset",Me(i)),o}});function rg(e,t,n){for(var r=Mt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,t.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+t.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return G.makeFragment(r)}var F6=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],WS=(e,t)=>{var n=t.havingSize(e.size);return rg(e.body,n,t)};$e({type:"sizing",names:F6,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:F6.indexOf(r)+1,body:a}},htmlBuilder:WS,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=fn(e.body,n),i=new me.MathNode("mstyle",r);return i.setAttribute("mathsize",Me(n.sizeMultiplier)),i}});$e({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,a=!1,s=n[0]&&He(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var c=t[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return G.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new me.MathNode("mpadded",[et(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});$e({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],a=t[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=G.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,a=i;t.style.id<Ie.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:c}=e0.sqrtImage(o,t),f=l.height-u;f>n.height+n.depth+s&&(s=(s+f-n.height-n.depth)/2);var h=l.height-n.height-s-u;n.style.paddingLeft=Me(c);var d=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var g=t.havingStyle(Ie.SCRIPTSCRIPT),y=Ze(e.index,g,t),b=.6*(d.height-d.depth),w=G.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),k=G.makeSpan(["root"],[w]);return G.makeSpan(["mord","sqrt"],[k,d],t)}else return G.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new me.MathNode("mroot",[et(n,t),et(r,t)]):new me.MathNode("msqrt",[et(n,t)])}});var L6={display:Ie.DISPLAY,text:Ie.TEXT,script:Ie.SCRIPT,scriptscript:Ie.SCRIPTSCRIPT};$e({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var n=L6[e.style],r=t.havingStyle(n).withFont("");return rg(e.body,r,t)},mathmlBuilder(e,t){var n=L6[e.style],r=t.havingStyle(n),i=fn(e.body,r),a=new me.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var YS=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Ie.DISPLAY.size||r.alwaysHandleSupSub);return i?cl:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===Ie.DISPLAY.size||r.limits);return a?ng:null}else{if(r.type==="accent")return qe.isCharacterBox(r.base)?$m:null;if(r.type==="horizBrace"){var s=!t.sub;return s===r.isOver?J9:null}else return null}else return null};oo({type:"supsub",htmlBuilder(e,t){var n=YS(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:a}=e,s=Ze(r,t),o,l,u=t.fontMetrics(),c=0,f=0,h=r&&qe.isCharacterBox(r);if(i){var d=t.havingStyle(t.style.sup());o=Ze(i,d,t),h||(c=s.height-d.fontMetrics().supDrop*d.sizeMultiplier/t.sizeMultiplier)}if(a){var g=t.havingStyle(t.style.sub());l=Ze(a,g,t),h||(f=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}var y;t.style===Ie.DISPLAY?y=u.sup1:t.style.cramped?y=u.sup3:y=u.sup2;var b=t.sizeMultiplier,w=Me(.5/u.ptPerEm/b),k=null;if(l){var E=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Ln||E)&&(k=Me(-s.italic))}var $;if(o&&l){c=Math.max(c,y,o.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var T=u.defaultRuleThickness,I=4*T;if(c-o.depth-(l.height-f)<I){f=I-(c-o.depth)+l.height;var D=.8*u.xHeight-(c-o.depth);D>0&&(c+=D,f-=D)}var j=[{type:"elem",elem:l,shift:f,marginRight:w,marginLeft:k},{type:"elem",elem:o,shift:-c,marginRight:w}];$=G.makeVList({positionType:"individualShift",children:j},t)}else if(l){f=Math.max(f,u.sub1,l.height-.8*u.xHeight);var U=[{type:"elem",elem:l,marginLeft:k,marginRight:w}];$=G.makeVList({positionType:"shift",positionData:f,children:U},t)}else if(o)c=Math.max(c,y,o.depth+.25*u.xHeight),$=G.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:w}]},t);else throw new Error("supsub must have either sup or sub.");var S=m3(s,"right")||"mord";return G.makeSpan([S],[s,G.makeSpan(["msupsub"],[$])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[et(e.base,t)];e.sub&&a.push(et(e.sub,t)),e.sup&&a.push(et(e.sup,t));var s;if(n)s=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===Ie.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===Ie.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Ie.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Ie.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===Ie.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===Ie.DISPLAY)?s="mover":s="msup"}return new me.MathNode(s,a)}});oo({type:"atom",htmlBuilder(e,t){return G.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new me.MathNode("mo",[Rn(e.text,e.mode)]);if(e.family==="bin"){var r=Sm(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var ig={mi:"italic",mn:"normal",mtext:"normal"};oo({type:"mathord",htmlBuilder(e,t){return G.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new me.MathNode("mi",[Rn(e.text,e.mode,t)]),r=Sm(e,t)||"italic";return r!==ig[n.type]&&n.setAttribute("mathvariant",r),n}});oo({type:"textord",htmlBuilder(e,t){return G.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Rn(e.text,e.mode,t),r=Sm(e,t)||"normal",i;return e.mode==="text"?i=new me.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new me.MathNode("mn",[n]):e.text==="\\prime"?i=new me.MathNode("mo",[n]):i=new me.MathNode("mi",[n]),r!==ig[i.type]&&i.setAttribute("mathvariant",r),i}});var $4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},A4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};oo({type:"spacing",htmlBuilder(e,t){if(A4.hasOwnProperty(e.text)){var n=A4[e.text].className||"";if(e.mode==="text"){var r=G.makeOrd(e,t,"textord");return r.classes.push(n),r}else return G.makeSpan(["mspace",n],[G.mathsym(e.text,e.mode,t)],t)}else{if($4.hasOwnProperty(e.text))return G.makeSpan(["mspace",$4[e.text]],[],t);throw new we('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(A4.hasOwnProperty(e.text))n=new me.MathNode("mtext",[new me.TextNode(" ")]);else{if($4.hasOwnProperty(e.text))return new me.MathNode("mspace");throw new we('Unknown type of space "'+e.text+'"')}return n}});var R6=()=>{var e=new me.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};oo({type:"tag",mathmlBuilder(e,t){var n=new me.MathNode("mtable",[new me.MathNode("mtr",[R6(),new me.MathNode("mtd",[X0(e.body,t)]),R6(),new me.MathNode("mtd",[X0(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var P6={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},O6={"\\textbf":"textbf","\\textmd":"textmd"},GS={"\\textit":"textit","\\textup":"textup"},H6=(e,t)=>{var n=e.font;return n?P6[n]?t.withTextFontFamily(P6[n]):O6[n]?t.withTextFontWeight(O6[n]):t.withTextFontShape(GS[n]):t};$e({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:dt(i),font:r}},htmlBuilder(e,t){var n=H6(e,t),r=Mt(e.body,n,!0);return G.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=H6(e,t);return X0(e.body,n)}});$e({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=G.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new me.MathNode("mo",[new me.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new me.MathNode("munder",[et(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});$e({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return G.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new me.MathNode("mpadded",[et(e.body,t)],["vcenter"])}});$e({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new we("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=V6(e),r=[],i=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(G.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return G.makeSpan(["mord","text"].concat(i.sizingClasses(t)),G.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new me.TextNode(V6(e)),r=new me.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var V6=e=>e.body.replace(/ /g,e.star?"␣":" "),U0=C9,ag=`[ \r
	]`,XS="\\\\[a-zA-Z@]+",ZS="\\\\[^\uD800-\uDFFF]",QS="("+XS+")"+ag+"*",KS=`\\\\(
|[ \r	]+
?)[ \r	]*`,y3="[̀-ͯ]",JS=new RegExp(y3+"+$"),ek="("+ag+"+)|"+(KS+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(y3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(y3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+QS)+("|"+ZS+")");class U6{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(ek,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new vr("EOF",new mn(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new we("Unexpected character: '"+t[n]+"'",new vr(t[n],new mn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new vr(i,new mn(this,n,this.tokenRegex.lastIndex))}}class tk{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new we("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var nk=G9;A("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});A("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});A("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});A("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});A("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});A("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");A("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var j6={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};A("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new we("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=j6[t.text],r==null||r>=n)throw new we("Invalid base-"+n+" digit "+t.text);for(var i;(i=j6[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var Im=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new we("\\newcommand's first argument must be a macro name");var i=r[0].text,a=e.isDefined(i);if(a&&!t)throw new we("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!n)throw new we("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new we("Invalid number of arguments: "+o);s=parseInt(o),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:s}),""};A("\\newcommand",e=>Im(e,!1,!0));A("\\renewcommand",e=>Im(e,!0,!1));A("\\providecommand",e=>Im(e,!0,!0));A("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});A("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});A("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),U0[n],at.math[n],at.text[n]),""});A("\\bgroup","{");A("\\egroup","}");A("~","\\nobreakspace");A("\\lq","`");A("\\rq","'");A("\\aa","\\r a");A("\\AA","\\r A");A("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");A("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");A("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");A("ℬ","\\mathscr{B}");A("ℰ","\\mathscr{E}");A("ℱ","\\mathscr{F}");A("ℋ","\\mathscr{H}");A("ℐ","\\mathscr{I}");A("ℒ","\\mathscr{L}");A("ℳ","\\mathscr{M}");A("ℛ","\\mathscr{R}");A("ℭ","\\mathfrak{C}");A("ℌ","\\mathfrak{H}");A("ℨ","\\mathfrak{Z}");A("\\Bbbk","\\Bbb{k}");A("·","\\cdotp");A("\\llap","\\mathllap{\\textrm{#1}}");A("\\rlap","\\mathrlap{\\textrm{#1}}");A("\\clap","\\mathclap{\\textrm{#1}}");A("\\mathstrut","\\vphantom{(}");A("\\underbar","\\underline{\\text{#1}}");A("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');A("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");A("\\ne","\\neq");A("≠","\\neq");A("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");A("∉","\\notin");A("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");A("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");A("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");A("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");A("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");A("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");A("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");A("⟂","\\perp");A("‼","\\mathclose{!\\mkern-0.8mu!}");A("∌","\\notni");A("⌜","\\ulcorner");A("⌝","\\urcorner");A("⌞","\\llcorner");A("⌟","\\lrcorner");A("©","\\copyright");A("®","\\textregistered");A("️","\\textregistered");A("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');A("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');A("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');A("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');A("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");A("⋮","\\vdots");A("\\varGamma","\\mathit{\\Gamma}");A("\\varDelta","\\mathit{\\Delta}");A("\\varTheta","\\mathit{\\Theta}");A("\\varLambda","\\mathit{\\Lambda}");A("\\varXi","\\mathit{\\Xi}");A("\\varPi","\\mathit{\\Pi}");A("\\varSigma","\\mathit{\\Sigma}");A("\\varUpsilon","\\mathit{\\Upsilon}");A("\\varPhi","\\mathit{\\Phi}");A("\\varPsi","\\mathit{\\Psi}");A("\\varOmega","\\mathit{\\Omega}");A("\\substack","\\begin{subarray}{c}#1\\end{subarray}");A("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");A("\\boxed","\\fbox{$\\displaystyle{#1}$}");A("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");A("\\implies","\\DOTSB\\;\\Longrightarrow\\;");A("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var W6={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};A("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in W6?t=W6[n]:(n.slice(0,4)==="\\not"||n in at.math&&qe.contains(["bin","rel"],at.math[n].group))&&(t="\\dotsb"),t});var Nm={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};A("\\dotso",function(e){var t=e.future().text;return t in Nm?"\\ldots\\,":"\\ldots"});A("\\dotsc",function(e){var t=e.future().text;return t in Nm&&t!==","?"\\ldots\\,":"\\ldots"});A("\\cdots",function(e){var t=e.future().text;return t in Nm?"\\@cdots\\,":"\\@cdots"});A("\\dotsb","\\cdots");A("\\dotsm","\\cdots");A("\\dotsi","\\!\\cdots");A("\\dotsx","\\ldots\\,");A("\\DOTSI","\\relax");A("\\DOTSB","\\relax");A("\\DOTSX","\\relax");A("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");A("\\,","\\tmspace+{3mu}{.1667em}");A("\\thinspace","\\,");A("\\>","\\mskip{4mu}");A("\\:","\\tmspace+{4mu}{.2222em}");A("\\medspace","\\:");A("\\;","\\tmspace+{5mu}{.2777em}");A("\\thickspace","\\;");A("\\!","\\tmspace-{3mu}{.1667em}");A("\\negthinspace","\\!");A("\\negmedspace","\\tmspace-{4mu}{.2222em}");A("\\negthickspace","\\tmspace-{5mu}{.277em}");A("\\enspace","\\kern.5em ");A("\\enskip","\\hskip.5em\\relax");A("\\quad","\\hskip1em\\relax");A("\\qquad","\\hskip2em\\relax");A("\\tag","\\@ifstar\\tag@literal\\tag@paren");A("\\tag@paren","\\tag@literal{({#1})}");A("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new we("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});A("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");A("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");A("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");A("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");A("\\newline","\\\\\\relax");A("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var sg=Me(mr["Main-Regular"]["T".charCodeAt(0)][1]-.7*mr["Main-Regular"]["A".charCodeAt(0)][1]);A("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+sg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");A("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+sg+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");A("\\hspace","\\@ifstar\\@hspacer\\@hspace");A("\\@hspace","\\hskip #1\\relax");A("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");A("\\ordinarycolon",":");A("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");A("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');A("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');A("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');A("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');A("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');A("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');A("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');A("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');A("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');A("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');A("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');A("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');A("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');A("∷","\\dblcolon");A("∹","\\eqcolon");A("≔","\\coloneqq");A("≕","\\eqqcolon");A("⩴","\\Coloneqq");A("\\ratio","\\vcentcolon");A("\\coloncolon","\\dblcolon");A("\\colonequals","\\coloneqq");A("\\coloncolonequals","\\Coloneqq");A("\\equalscolon","\\eqqcolon");A("\\equalscoloncolon","\\Eqqcolon");A("\\colonminus","\\coloneq");A("\\coloncolonminus","\\Coloneq");A("\\minuscolon","\\eqcolon");A("\\minuscoloncolon","\\Eqcolon");A("\\coloncolonapprox","\\Colonapprox");A("\\coloncolonsim","\\Colonsim");A("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");A("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");A("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");A("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");A("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");A("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");A("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");A("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");A("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");A("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");A("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");A("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");A("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");A("\\nleqq","\\html@mathml{\\@nleqq}{≰}");A("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");A("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");A("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");A("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");A("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");A("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");A("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");A("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");A("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");A("\\imath","\\html@mathml{\\@imath}{ı}");A("\\jmath","\\html@mathml{\\@jmath}{ȷ}");A("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");A("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");A("⟦","\\llbracket");A("⟧","\\rrbracket");A("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");A("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");A("⦃","\\lBrace");A("⦄","\\rBrace");A("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");A("⦵","\\minuso");A("\\darr","\\downarrow");A("\\dArr","\\Downarrow");A("\\Darr","\\Downarrow");A("\\lang","\\langle");A("\\rang","\\rangle");A("\\uarr","\\uparrow");A("\\uArr","\\Uparrow");A("\\Uarr","\\Uparrow");A("\\N","\\mathbb{N}");A("\\R","\\mathbb{R}");A("\\Z","\\mathbb{Z}");A("\\alef","\\aleph");A("\\alefsym","\\aleph");A("\\Alpha","\\mathrm{A}");A("\\Beta","\\mathrm{B}");A("\\bull","\\bullet");A("\\Chi","\\mathrm{X}");A("\\clubs","\\clubsuit");A("\\cnums","\\mathbb{C}");A("\\Complex","\\mathbb{C}");A("\\Dagger","\\ddagger");A("\\diamonds","\\diamondsuit");A("\\empty","\\emptyset");A("\\Epsilon","\\mathrm{E}");A("\\Eta","\\mathrm{H}");A("\\exist","\\exists");A("\\harr","\\leftrightarrow");A("\\hArr","\\Leftrightarrow");A("\\Harr","\\Leftrightarrow");A("\\hearts","\\heartsuit");A("\\image","\\Im");A("\\infin","\\infty");A("\\Iota","\\mathrm{I}");A("\\isin","\\in");A("\\Kappa","\\mathrm{K}");A("\\larr","\\leftarrow");A("\\lArr","\\Leftarrow");A("\\Larr","\\Leftarrow");A("\\lrarr","\\leftrightarrow");A("\\lrArr","\\Leftrightarrow");A("\\Lrarr","\\Leftrightarrow");A("\\Mu","\\mathrm{M}");A("\\natnums","\\mathbb{N}");A("\\Nu","\\mathrm{N}");A("\\Omicron","\\mathrm{O}");A("\\plusmn","\\pm");A("\\rarr","\\rightarrow");A("\\rArr","\\Rightarrow");A("\\Rarr","\\Rightarrow");A("\\real","\\Re");A("\\reals","\\mathbb{R}");A("\\Reals","\\mathbb{R}");A("\\Rho","\\mathrm{P}");A("\\sdot","\\cdot");A("\\sect","\\S");A("\\spades","\\spadesuit");A("\\sub","\\subset");A("\\sube","\\subseteq");A("\\supe","\\supseteq");A("\\Tau","\\mathrm{T}");A("\\thetasym","\\vartheta");A("\\weierp","\\wp");A("\\Zeta","\\mathrm{Z}");A("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");A("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");A("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");A("\\bra","\\mathinner{\\langle{#1}|}");A("\\ket","\\mathinner{|{#1}\\rangle}");A("\\braket","\\mathinner{\\langle{#1}\\rangle}");A("\\Bra","\\left\\langle#1\\right|");A("\\Ket","\\left|#1\\right\\rangle");var og=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=f=>h=>{e&&(h.macros.set("|",s),i.length&&h.macros.set("\\|",o));var d=f;if(!f&&i.length){var g=h.future();g.text==="|"&&(h.popToken(),d=!0)}return{tokens:d?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,c=t.expandTokens([...a,...u,...n]);return t.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};A("\\bra@ket",og(!1));A("\\bra@set",og(!0));A("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");A("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");A("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");A("\\angln","{\\angl n}");A("\\blue","\\textcolor{##6495ed}{#1}");A("\\orange","\\textcolor{##ffa500}{#1}");A("\\pink","\\textcolor{##ff00af}{#1}");A("\\red","\\textcolor{##df0030}{#1}");A("\\green","\\textcolor{##28ae7b}{#1}");A("\\gray","\\textcolor{gray}{#1}");A("\\purple","\\textcolor{##9d38bd}{#1}");A("\\blueA","\\textcolor{##ccfaff}{#1}");A("\\blueB","\\textcolor{##80f6ff}{#1}");A("\\blueC","\\textcolor{##63d9ea}{#1}");A("\\blueD","\\textcolor{##11accd}{#1}");A("\\blueE","\\textcolor{##0c7f99}{#1}");A("\\tealA","\\textcolor{##94fff5}{#1}");A("\\tealB","\\textcolor{##26edd5}{#1}");A("\\tealC","\\textcolor{##01d1c1}{#1}");A("\\tealD","\\textcolor{##01a995}{#1}");A("\\tealE","\\textcolor{##208170}{#1}");A("\\greenA","\\textcolor{##b6ffb0}{#1}");A("\\greenB","\\textcolor{##8af281}{#1}");A("\\greenC","\\textcolor{##74cf70}{#1}");A("\\greenD","\\textcolor{##1fab54}{#1}");A("\\greenE","\\textcolor{##0d923f}{#1}");A("\\goldA","\\textcolor{##ffd0a9}{#1}");A("\\goldB","\\textcolor{##ffbb71}{#1}");A("\\goldC","\\textcolor{##ff9c39}{#1}");A("\\goldD","\\textcolor{##e07d10}{#1}");A("\\goldE","\\textcolor{##a75a05}{#1}");A("\\redA","\\textcolor{##fca9a9}{#1}");A("\\redB","\\textcolor{##ff8482}{#1}");A("\\redC","\\textcolor{##f9685d}{#1}");A("\\redD","\\textcolor{##e84d39}{#1}");A("\\redE","\\textcolor{##bc2612}{#1}");A("\\maroonA","\\textcolor{##ffbde0}{#1}");A("\\maroonB","\\textcolor{##ff92c6}{#1}");A("\\maroonC","\\textcolor{##ed5fa6}{#1}");A("\\maroonD","\\textcolor{##ca337c}{#1}");A("\\maroonE","\\textcolor{##9e034e}{#1}");A("\\purpleA","\\textcolor{##ddd7ff}{#1}");A("\\purpleB","\\textcolor{##c6b9fc}{#1}");A("\\purpleC","\\textcolor{##aa87ff}{#1}");A("\\purpleD","\\textcolor{##7854ab}{#1}");A("\\purpleE","\\textcolor{##543b78}{#1}");A("\\mintA","\\textcolor{##f5f9e8}{#1}");A("\\mintB","\\textcolor{##edf2df}{#1}");A("\\mintC","\\textcolor{##e0e5cc}{#1}");A("\\grayA","\\textcolor{##f6f7f7}{#1}");A("\\grayB","\\textcolor{##f0f1f2}{#1}");A("\\grayC","\\textcolor{##e3e5e6}{#1}");A("\\grayD","\\textcolor{##d6d8da}{#1}");A("\\grayE","\\textcolor{##babec2}{#1}");A("\\grayF","\\textcolor{##888d93}{#1}");A("\\grayG","\\textcolor{##626569}{#1}");A("\\grayH","\\textcolor{##3b3e40}{#1}");A("\\grayI","\\textcolor{##21242c}{#1}");A("\\kaBlue","\\textcolor{##314453}{#1}");A("\\kaGreen","\\textcolor{##71B307}{#1}");var lg={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class rk{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new tk(nk,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new U6(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new vr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new we("Extra }",a)}else if(a.text==="EOF")throw new we("Unexpected end of input in a macro argument, expected '"+(t&&r?t[o]:"}")+"'",a);if(t&&r)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new we("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new we("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new we("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new we("Too many expansions: infinite loop or need to increase maxExpand setting");var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new we("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new we("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new vr(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new U6(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:a};return c}return i}isDefined(t){return this.macros.has(t)||U0.hasOwnProperty(t)||at.math.hasOwnProperty(t)||at.text.hasOwnProperty(t)||lg.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:U0.hasOwnProperty(t)&&!U0[t].primitive}}var Y6=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Ec=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),C4={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},G6={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Ql{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new rk(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new we("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new vr("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Ql.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&U0[i.text]&&U0[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new we("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var a,s,o=t.slice(0,n),l=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,t[n],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new we("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new we("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new we("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new we("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new we("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(Ec[a.text]){var u=Ec[a.text],c=Y6.test(a.text);for(this.consume();;){var f=this.fetch().text;if(!Ec[f]||Y6.test(f)!==c)break;this.consume(),u+=Ec[f]}var h=new Ql(u,this.settings).parse();c?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,a=U0[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new we("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new we("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new we("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,t)}callFunction(t,n,r,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},o=U0[t];if(o&&o.handler)return o.handler(s,n,r);throw new we("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new we("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new we("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new we("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new we("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new we("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new we("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new we("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!y9(a))throw new we("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(t,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:mn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!lg.hasOwnProperty(i)){if(this.settings.throwOnError)throw new we("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],a=i.text;a==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:mn.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:mn.range(i,t[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[r+1].text===a&&(t.splice(r,2,{type:"textord",mode:"text",loc:mn.range(i,t[r+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new we(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}G6.hasOwnProperty(n[0])&&!at[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=G6[n[0]]+n.slice(1));var a=JS.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var s;if(at[this.mode][n]){this.settings.strict&&this.mode==="math"&&d3.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=at[this.mode][n].group,l=mn.range(t),u;if(jM.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(v9(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:mn.range(t),text:n};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var h=a[0][f];if(!C4[h])throw new we("Unknown accent ' "+h+"'",t);var d=C4[h][this.mode]||C4[h].text;if(!d)throw new we("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:mn.range(t),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}Ql.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var qm=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Ql(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new we("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new vr("\\df@tag")])}]}return i},ug=function(t,n,r){n.textContent="";var i=Bm(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),ug=function(){throw new we("KaTeX doesn't work in quirks mode.")});var ik=function(t,n){var r=Bm(t,n).toMarkup();return r},ak=function(t,n){var r=new vm(n);return qm(t,r)},cg=function(t,n,r){if(r.throwOnError||!(t instanceof we))throw t;var i=G.makeSpan(["katex-error"],[new Ln(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},Bm=function(t,n){var r=new vm(n);try{var i=qm(t,r);return mS(i,t,r)}catch(a){return cg(a,t,r)}},sk=function(t,n){var r=new vm(n);try{var i=qm(t,r);return pS(i,t,r)}catch(a){return cg(a,t,r)}},ok={version:"0.16.8",render:ug,renderToString:ik,ParseError:we,SETTINGS_SCHEMA:nf,__parse:ak,__renderToDomTree:Bm,__renderToHTMLTree:sk,__setFontMetrics:LM,__defineSymbol:m,__defineFunction:$e,__defineMacro:A,__domTree:{Span:vu,Anchor:wm,SymbolNode:Ln,SvgNode:n0,PathNode:G0,LineNode:h3}};function lk(e){let t,n;return{c(){t=new Vx(!1),n=un(),this.h()},l(r){t=Ux(r,!1),n=un(),this.h()},h(){t.a=n},m(r,i){t.m(e[0],r,i),z(r,n,i)},p(r,[i]){i&1&&t.p(r[0])},i:Xe,o:Xe,d(r){r&&(x(n),t.d())}}}function uk(e,t,n){let r="",{big:i=!1}=t,{text:a="c = \\pm\\sqrt{a^2 + b^2}"}=t,{begin:s=""}=t;return e.$$set=o=>{"big"in o&&n(1,i=o.big),"text"in o&&n(2,a=o.text),"begin"in o&&n(3,s=o.begin)},e.$$.update=()=>{if(e.$$.dirty&14){let o=a;s.length>0&&(o=`\\begin{${s}}`+o+`\\end{${s}}`),n(0,r=ok.renderToString(o.replaceAll("[","{").replaceAll("]","}"),{throwOnError:!1,displayMode:i||s.length>0}))}},[r,i,a,s]}class _e extends Gt{constructor(t){super(),Xt(this,t,uk,lk,Yt,{big:1,text:2,begin:3})}}function ln(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kl(e){let t,n,r;e.length!==2?(t=ln,n=(o,l)=>ln(e(o),l),r=(o,l)=>e(o)-l):(t=e===ln||e===bu?e:ck,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function ck(){return 0}function fg(e){return e===null?NaN:+e}function*fk(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const hk=Kl(ln),dk=hk.right;Kl(fg).center;const uh=dk;function Fm(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function mk(e){return e.length|0}function pk(e){return!(e>0)}function gk(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function vk(e){return t=>e(...t)}function yk(...e){const t=typeof e[e.length-1]=="function"&&vk(e.pop());e=e.map(gk);const n=e.map(mk),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(pk))return a;for(;;){a.push(i.map((o,l)=>e[l][o]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function bk(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function hg(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function dg(e,t){const n=hg(e,t);return n&&Math.sqrt(n)}function Yn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Ks{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class Js extends Map{constructor(t,n=gg){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(b3(this,t))}has(t){return super.has(b3(this,t))}set(t,n){return super.set(mg(this,t),n)}delete(t){return super.delete(pg(this,t))}}class Lm extends Set{constructor(t,n=gg){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(b3(this,t))}add(t){return super.add(mg(this,t))}delete(t){return super.delete(pg(this,t))}}function b3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mg({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function pg({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function gg(e){return e!==null&&typeof e=="object"?e.valueOf():e}function w3(e){return e}function Rm(e,...t){return Pm(e,w3,w3,t)}function jo(e,t,...n){return Pm(e,w3,t,n)}function wk(e,t,...n){return Pm(e,Array.from,t,n)}function Pm(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const o=new Js,l=r[s++];let u=-1;for(const c of a){const f=l(c,++u,a),h=o.get(f);h?h.push(c):o.set(f,[c])}for(const[c,f]of o)o.set(c,i(f,s));return t(o)}(e,0)}function xk(e,t){return Array.from(t,n=>e[n])}function Jl(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const o=gf(s[i],s[a]);if(o)return o}})):(n=e.map(n),r.sort((i,a)=>gf(n[i],n[a]))),xk(e,r)}return e.sort(vg(n))}function vg(e=ln){if(e===ln)return gf;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function gf(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Om(e,t,n){return(t.length!==2?Jl(jo(e,t,n),([r,i],[a,s])=>ln(i,s)||ln(r,a)):Jl(Rm(e,n),([r,i],[a,s])=>t(i,s)||ln(r,a))).map(([r])=>r)}const Mk=Math.sqrt(50),Sk=Math.sqrt(10),kk=Math.sqrt(2);function vf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Mk?10:a>=Sk?5:a>=kk?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?vf(e,t,n*2):[o,l,u]}function eu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?vf(t,e,n):vf(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function yf(e,t,n){return t=+t,e=+e,n=+n,vf(e,t,n)[2]}function x3(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yf(t,e,n):yf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $k(e){return Math.max(1,Math.ceil(Math.log(Fm(e))/Math.LN2)+1)}function wr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ak(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function a0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ck(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function yg(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?gf:vg(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(t-u*f/l+h)),g=Math.min(r,Math.floor(t+(l-u)*f/l+h));yg(e,t,d,g,i)}const a=e[t];let s=n,o=r;for(Ml(e,n,t),i(e[r],a)>0&&Ml(e,n,r);s<o;){for(Ml(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Ml(e,n,o):(++o,Ml(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Ml(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function bg(e,t=ln){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?ln(s,i)>0:ln(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Qo(e,t,n){if(e=Float64Array.from(fk(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return a0(e);if(t>=1)return wr(e);var r,i=(r-1)*t,a=Math.floor(i),s=wr(yg(e,a).subarray(0,a+1)),o=a0(e.subarray(a+1));return s+(o-s)*(i-a)}}function Tk(e,t,n=fg){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function Ek(e,t,n){const r=Fm(e),i=Qo(e,.75)-Qo(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function wg(e,t,n){const r=Fm(e),i=dg(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Dk(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function bf(e,t){return Qo(e,.5,t)}function*_k(e){for(const t of e)yield*t}function xg(e){return Array.from(_k(e))}function zk(e,t){const n=new Js;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function Ik(e,t=Nk){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function Nk(e,t){return[e,t]}function M3(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Z0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function wf(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function qk(e){return e}var T4=1,E4=2,S3=3,Dc=4,X6=1e-6;function Bk(e){return"translate("+e+",0)"}function Fk(e){return"translate(0,"+e+")"}function Lk(e){return t=>+e(t)}function Rk(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Pk(){return!this.__axis}function Ok(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===T4||e===Dc?-1:1,c=e===Dc||e===E4?"x":"y",f=e===T4||e===S3?Bk:Fk;function h(d){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,n):qk),b=Math.max(a,0)+o,w=t.range(),k=+w[0]+l,E=+w[w.length-1]+l,$=(t.bandwidth?Rk:Lk)(t.copy(),l),T=d.selection?d.selection():d,I=T.selectAll(".domain").data([null]),D=T.selectAll(".tick").data(g,t).order(),j=D.exit(),U=D.enter().append("g").attr("class","tick"),S=D.select("line"),C=D.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(U),S=S.merge(U.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),C=C.merge(U.append("text").attr("fill","currentColor").attr(c,u*b).attr("dy",e===T4?"0em":e===S3?"0.71em":"0.32em")),d!==T&&(I=I.transition(d),D=D.transition(d),S=S.transition(d),C=C.transition(d),j=j.transition(d).attr("opacity",X6).attr("transform",function(H){return isFinite(H=$(H))?f(H+l):this.getAttribute("transform")}),U.attr("opacity",X6).attr("transform",function(H){var P=this.parentNode.__axis;return f((P&&isFinite(P=P(H))?P:$(H))+l)})),j.remove(),I.attr("d",e===Dc||e===E4?s?"M"+u*s+","+k+"H"+l+"V"+E+"H"+u*s:"M"+l+","+k+"V"+E:s?"M"+k+","+u*s+"V"+l+"H"+E+"V"+u*s:"M"+k+","+l+"H"+E),D.attr("opacity",1).attr("transform",function(H){return f($(H)+l)}),S.attr(c+"2",u*a),C.attr(c,u*b).text(y),T.filter(Pk).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===E4?"start":e===Dc?"end":"middle"),T.each(function(){this.__axis=$})}return h.scale=function(d){return arguments.length?(t=d,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=s=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(o=+d,h):o},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function Hk(e){return Ok(S3,e)}var Vk={value:()=>{}};function Mg(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new af(n)}function af(e){this._=e}function Uk(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}af.prototype=Mg.prototype={constructor:af,on:function(e,t){var n=this._,r=Uk(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=jk(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=Z6(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Z6(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new af(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function jk(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Z6(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Vk,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var k3="http://www.w3.org/1999/xhtml";const Ko={svg:"http://www.w3.org/2000/svg",xhtml:k3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ch(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ko.hasOwnProperty(t)?{space:Ko[t],local:e}:e}function Wk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===k3&&t.documentElement.namespaceURI===k3?t.createElement(e):t.createElementNS(n,e)}}function Yk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fh(e){var t=ch(e);return(t.local?Yk:Wk)(t)}function Gk(){}function Hm(e){return e==null?Gk:function(){return this.querySelector(e)}}function Xk(e){typeof e!="function"&&(e=Hm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new yn(r,this._parents)}function Zk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Qk(){return[]}function Sg(e){return e==null?Qk:function(){return this.querySelectorAll(e)}}function Kk(e){return function(){return Zk(e.apply(this,arguments))}}function Jk(e){typeof e=="function"?e=Kk(e):e=Sg(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new yn(r,i)}function kg(e){return function(){return this.matches(e)}}function $g(e){return function(t){return t.matches(e)}}var e$=Array.prototype.find;function t$(e){return function(){return e$.call(this.children,e)}}function n$(){return this.firstElementChild}function r$(e){return this.select(e==null?n$:t$(typeof e=="function"?e:$g(e)))}var i$=Array.prototype.filter;function a$(){return Array.from(this.children)}function s$(e){return function(){return i$.call(this.children,e)}}function o$(e){return this.selectAll(e==null?a$:s$(typeof e=="function"?e:$g(e)))}function l$(e){typeof e!="function"&&(e=kg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new yn(r,this._parents)}function Ag(e){return new Array(e.length)}function u$(){return new yn(this._enter||this._groups.map(Ag),this._parents)}function xf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}xf.prototype={constructor:xf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function c$(e){return function(){return e}}function f$(e,t,n,r,i,a){for(var s=0,o,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new xf(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function h$(e,t,n,r,i,a,s){var o,l,u=new Map,c=t.length,f=a.length,h=new Array(c),d;for(o=0;o<c;++o)(l=t[o])&&(h[o]=d=s.call(l,l.__data__,o,t)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<f;++o)d=s.call(e,a[o],o,a)+"",(l=u.get(d))?(r[o]=l,l.__data__=a[o],u.delete(d)):n[o]=new xf(e,a[o]);for(o=0;o<c;++o)(l=t[o])&&u.get(h[o])===l&&(i[o]=l)}function d$(e){return e.__data__}function m$(e,t){if(!arguments.length)return Array.from(this,d$);var n=t?h$:f$,r=this._parents,i=this._groups;typeof e!="function"&&(e=c$(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],h=f.length,d=p$(e.call(c,c&&c.__data__,u,r)),g=d.length,y=o[u]=new Array(g),b=s[u]=new Array(g),w=l[u]=new Array(h);n(c,f,y,b,w,d,t);for(var k=0,E=0,$,T;k<g;++k)if($=y[k]){for(k>=E&&(E=k+1);!(T=b[E])&&++E<g;);$._next=T||null}}return s=new yn(s,r),s._enter=o,s._exit=l,s}function p$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g$(){return new yn(this._exit||this._groups.map(Ag),this._parents)}function v$(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function y$(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=o[l]=new Array(f),d,g=0;g<f;++g)(d=u[g]||c[g])&&(h[g]=d);for(;l<i;++l)o[l]=n[l];return new yn(o,this._parents)}function b$(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function w$(e){e||(e=x$);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,c=0;c<o;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new yn(i,this._parents).order()}function x$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function M$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function S$(){return Array.from(this)}function k$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function $$(){let e=0;for(const t of this)++e;return e}function A$(){return!this.node()}function C$(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function T$(e){return function(){this.removeAttribute(e)}}function E$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function D$(e,t){return function(){this.setAttribute(e,t)}}function _$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function z$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function I$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function N$(e,t){var n=ch(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?E$:T$:typeof t=="function"?n.local?I$:z$:n.local?_$:D$)(n,t))}function Cg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function q$(e){return function(){this.style.removeProperty(e)}}function B$(e,t,n){return function(){this.style.setProperty(e,t,n)}}function F$(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function L$(e,t,n){return arguments.length>1?this.each((t==null?q$:typeof t=="function"?F$:B$)(e,t,n??"")):Jo(this.node(),e)}function Jo(e,t){return e.style.getPropertyValue(t)||Cg(e).getComputedStyle(e,null).getPropertyValue(t)}function R$(e){return function(){delete this[e]}}function P$(e,t){return function(){this[e]=t}}function O$(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function H$(e,t){return arguments.length>1?this.each((t==null?R$:typeof t=="function"?O$:P$)(e,t)):this.node()[e]}function Tg(e){return e.trim().split(/^|\s+/)}function Vm(e){return e.classList||new Eg(e)}function Eg(e){this._node=e,this._names=Tg(e.getAttribute("class")||"")}Eg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Dg(e,t){for(var n=Vm(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function _g(e,t){for(var n=Vm(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function V$(e){return function(){Dg(this,e)}}function U$(e){return function(){_g(this,e)}}function j$(e,t){return function(){(t.apply(this,arguments)?Dg:_g)(this,e)}}function W$(e,t){var n=Tg(e+"");if(arguments.length<2){for(var r=Vm(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?j$:t?V$:U$)(n,t))}function Y$(){this.textContent=""}function G$(e){return function(){this.textContent=e}}function X$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Z$(e){return arguments.length?this.each(e==null?Y$:(typeof e=="function"?X$:G$)(e)):this.node().textContent}function Q$(){this.innerHTML=""}function K$(e){return function(){this.innerHTML=e}}function J$(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eA(e){return arguments.length?this.each(e==null?Q$:(typeof e=="function"?J$:K$)(e)):this.node().innerHTML}function tA(){this.nextSibling&&this.parentNode.appendChild(this)}function nA(){return this.each(tA)}function rA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iA(){return this.each(rA)}function aA(e){var t=typeof e=="function"?e:fh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sA(){return null}function oA(e,t){var n=typeof e=="function"?e:fh(e),r=t==null?sA:typeof t=="function"?t:Hm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lA(){var e=this.parentNode;e&&e.removeChild(this)}function uA(){return this.each(lA)}function cA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hA(e){return this.select(e?fA:cA)}function dA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mA(e){return function(t){e.call(this,t,this.__data__)}}function pA(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gA(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function vA(e,t,n){return function(){var r=this.__on,i,a=mA(t);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function yA(e,t,n){var r=pA(e+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<a;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(o=t?vA:gA,i=0;i<a;++i)this.each(o(r[i],t,n));return this}function zg(e,t,n){var r=Cg(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bA(e,t){return function(){return zg(this,e,t)}}function wA(e,t){return function(){return zg(this,e,t.apply(this,arguments))}}function xA(e,t){return this.each((typeof t=="function"?wA:bA)(e,t))}function*MA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var Ig=[null];function yn(e,t){this._groups=e,this._parents=t}function wu(){return new yn([[document.documentElement]],Ig)}function SA(){return this}yn.prototype=wu.prototype={constructor:yn,select:Xk,selectAll:Jk,selectChild:r$,selectChildren:o$,filter:l$,data:m$,enter:u$,exit:g$,join:v$,merge:y$,selection:SA,order:b$,sort:w$,call:M$,nodes:S$,node:k$,size:$$,empty:A$,each:C$,attr:N$,style:L$,property:H$,classed:W$,text:Z$,html:eA,raise:nA,lower:iA,append:aA,insert:oA,remove:uA,clone:hA,datum:dA,on:yA,dispatch:xA,[Symbol.iterator]:MA};function Hl(e){return typeof e=="string"?new yn([[document.querySelector(e)]],[document.documentElement]):new yn([[e]],Ig)}function kA(e){let t;for(;t=e.sourceEvent;)e=t;return e}function $A(e,t){if(e=kA(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function fl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function J0(){}var eo=.7,el=1/eo,Wo="\\s*([+-]?\\d+)\\s*",tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AA=/^#([0-9a-f]{3,8})$/,CA=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),TA=new RegExp(`^rgb\\(${yr},${yr},${yr}\\)$`),EA=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${tu}\\)$`),DA=new RegExp(`^rgba\\(${yr},${yr},${yr},${tu}\\)$`),_A=new RegExp(`^hsl\\(${tu},${yr},${yr}\\)$`),zA=new RegExp(`^hsla\\(${tu},${yr},${yr},${tu}\\)$`),Q6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fl(J0,s0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:K6,formatHex:K6,formatHex8:IA,formatHsl:NA,formatRgb:J6,toString:J6});function K6(){return this.rgb().formatHex()}function IA(){return this.rgb().formatHex8()}function NA(){return Ng(this).formatHsl()}function J6(){return this.rgb().formatRgb()}function s0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?e7(t):n===3?new Ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_c(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_c(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CA.exec(e))?new Ct(t[1],t[2],t[3],1):(t=TA.exec(e))?new Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EA.exec(e))?_c(t[1],t[2],t[3],t[4]):(t=DA.exec(e))?_c(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_A.exec(e))?r7(t[1],t[2]/100,t[3]/100,1):(t=zA.exec(e))?r7(t[1],t[2]/100,t[3]/100,t[4]):Q6.hasOwnProperty(e)?e7(Q6[e]):e==="transparent"?new Ct(NaN,NaN,NaN,0):null}function e7(e){return new Ct(e>>16&255,e>>8&255,e&255,1)}function _c(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ct(e,t,n,r)}function Um(e){return e instanceof J0||(e=s0(e)),e?(e=e.rgb(),new Ct(e.r,e.g,e.b,e.opacity)):new Ct}function Q0(e,t,n,r){return arguments.length===1?Um(e):new Ct(e,t,n,r??1)}function Ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fl(Ct,Q0,xu(J0,{brighter(e){return e=e==null?el:Math.pow(el,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?eo:Math.pow(eo,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ct(Zs(this.r),Zs(this.g),Zs(this.b),Mf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t7,formatHex:t7,formatHex8:qA,formatRgb:n7,toString:n7}));function t7(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}`}function qA(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}${Xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function n7(){const e=Mf(this.opacity);return`${e===1?"rgb(":"rgba("}${Zs(this.r)}, ${Zs(this.g)}, ${Zs(this.b)}${e===1?")":`, ${e})`}`}function Mf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xs(e){return e=Zs(e),(e<16?"0":"")+e.toString(16)}function r7(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jn(e,t,n,r)}function Ng(e){if(e instanceof jn)return new jn(e.h,e.s,e.l,e.opacity);if(e instanceof J0||(e=s0(e)),!e)return new jn;if(e instanceof jn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new jn(s,o,l,e.opacity)}function $3(e,t,n,r){return arguments.length===1?Ng(e):new jn(e,t,n,r??1)}function jn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fl(jn,$3,xu(J0,{brighter(e){return e=e==null?el:Math.pow(el,e),new jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?eo:Math.pow(eo,e),new jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ct(D4(e>=240?e-240:e+120,i,r),D4(e,i,r),D4(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new jn(i7(this.h),zc(this.s),zc(this.l),Mf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mf(this.opacity);return`${e===1?"hsl(":"hsla("}${i7(this.h)}, ${zc(this.s)*100}%, ${zc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function i7(e){return e=(e||0)%360,e<0?e+360:e}function zc(e){return Math.max(0,Math.min(1,e||0))}function D4(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qg=Math.PI/180,Bg=180/Math.PI,Sf=18,Fg=.96422,Lg=1,Rg=.82521,Pg=4/29,Yo=6/29,Og=3*Yo*Yo,BA=Yo*Yo*Yo;function Hg(e){if(e instanceof br)return new br(e.l,e.a,e.b,e.opacity);if(e instanceof Xr)return Vg(e);e instanceof Ct||(e=Um(e));var t=N4(e.r),n=N4(e.g),r=N4(e.b),i=_4((.2225045*t+.7168786*n+.0606169*r)/Lg),a,s;return t===n&&n===r?a=s=i:(a=_4((.4360747*t+.3850649*n+.1430804*r)/Fg),s=_4((.0139322*t+.0971045*n+.7141733*r)/Rg)),new br(116*i-16,500*(a-i),200*(i-s),e.opacity)}function A3(e,t,n,r){return arguments.length===1?Hg(e):new br(e,t,n,r??1)}function br(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}fl(br,A3,xu(J0,{brighter(e){return new br(this.l+Sf*(e??1),this.a,this.b,this.opacity)},darker(e){return new br(this.l-Sf*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Fg*z4(t),e=Lg*z4(e),n=Rg*z4(n),new Ct(I4(3.1338561*t-1.6168667*e-.4906146*n),I4(-.9787684*t+1.9161415*e+.033454*n),I4(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function _4(e){return e>BA?Math.pow(e,1/3):e/Og+Pg}function z4(e){return e>Yo?e*e*e:Og*(e-Pg)}function I4(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function N4(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function FA(e){if(e instanceof Xr)return new Xr(e.h,e.c,e.l,e.opacity);if(e instanceof br||(e=Hg(e)),e.a===0&&e.b===0)return new Xr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Bg;return new Xr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function C3(e,t,n,r){return arguments.length===1?FA(e):new Xr(e,t,n,r??1)}function Xr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Vg(e){if(isNaN(e.h))return new br(e.l,0,0,e.opacity);var t=e.h*qg;return new br(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}fl(Xr,C3,xu(J0,{brighter(e){return new Xr(this.h,this.c,this.l+Sf*(e??1),this.opacity)},darker(e){return new Xr(this.h,this.c,this.l-Sf*(e??1),this.opacity)},rgb(){return Vg(this).rgb()}}));var Ug=-.14861,jm=1.78277,Wm=-.29227,hh=-.90649,nu=1.97294,a7=nu*hh,s7=nu*jm,o7=jm*Wm-hh*Ug;function LA(e){if(e instanceof Qs)return new Qs(e.h,e.s,e.l,e.opacity);e instanceof Ct||(e=Um(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(o7*r+a7*t-s7*n)/(o7+a7-s7),a=r-i,s=(nu*(n-i)-Wm*a)/hh,o=Math.sqrt(s*s+a*a)/(nu*i*(1-i)),l=o?Math.atan2(s,a)*Bg-120:NaN;return new Qs(l<0?l+360:l,o,i,e.opacity)}function xr(e,t,n,r){return arguments.length===1?LA(e):new Qs(e,t,n,r??1)}function Qs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fl(Qs,xr,xu(J0,{brighter(e){return e=e==null?el:Math.pow(el,e),new Qs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?eo:Math.pow(eo,e),new Qs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*qg,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ct(255*(t+n*(Ug*r+jm*i)),255*(t+n*(Wm*r+hh*i)),255*(t+n*(nu*r)),this.opacity)}}));function RA(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function PA(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return RA((n-r/t)*t,s,i,a,o)}}const dh=e=>()=>e;function jg(e,t){return function(n){return e+n*t}}function OA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ym(e,t){var n=t-e;return n?jg(e,n>180||n<-180?n-360*Math.round(n/360):n):dh(isNaN(e)?t:e)}function HA(e){return(e=+e)==1?Ot:function(t,n){return n-t?OA(t,n,e):dh(isNaN(t)?n:t)}}function Ot(e,t){var n=t-e;return n?jg(e,n):dh(isNaN(e)?t:e)}const to=function e(t){var n=HA(t);function r(i,a){var s=n((i=Q0(i)).r,(a=Q0(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Ot(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function VA(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=Q0(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var UA=VA(PA);function jA(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function WA(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YA(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Mu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function GA(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function XA(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Mu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var T3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q4=new RegExp(T3.source,"g");function ZA(e){return function(){return e}}function QA(e){return function(t){return e(t)+""}}function Wg(e,t){var n=T3.lastIndex=q4.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=T3.exec(e))&&(i=q4.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Pt(r,i)})),n=q4.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?QA(l[0].x):ZA(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Mu(e,t){var n=typeof t,r;return t==null||n==="boolean"?dh(t):(n==="number"?Pt:n==="string"?(r=s0(t))?(t=r,to):Wg:t instanceof s0?to:t instanceof Date?GA:WA(t)?jA:Array.isArray(t)?YA:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XA:Pt)(e,t)}function Gm(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var l7=180/Math.PI,E3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yg(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*l7,skewX:Math.atan(l)*l7,scaleX:s,scaleY:o}}var Ic;function KA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?E3:Yg(t.a,t.b,t.c,t.d,t.e,t.f)}function JA(e){return e==null||(Ic||(Ic=document.createElementNS("http://www.w3.org/2000/svg","g")),Ic.setAttribute("transform",e),!(e=Ic.transform.baseVal.consolidate()))?E3:(e=e.matrix,Yg(e.a,e.b,e.c,e.d,e.e,e.f))}function Gg(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,h,d,g){if(u!==f||c!==h){var y=d.push("translate(",null,t,null,n);g.push({i:y-4,x:Pt(u,f)},{i:y-2,x:Pt(c,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Pt(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Pt(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,d,g){if(u!==f||c!==h){var y=d.push(i(d)+"scale(",null,",",null,")");g.push({i:y-4,x:Pt(u,f)},{i:y-2,x:Pt(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),o(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var g=-1,y=h.length,b;++g<y;)f[(b=h[g]).i]=b.x(d);return f.join("")}}}var eC=Gg(KA,"px, ","px)","deg)"),tC=Gg(JA,", ",")",")");function nC(e){return function(t,n){var r=e((t=$3(t)).h,(n=$3(n)).h),i=Ot(t.s,n.s),a=Ot(t.l,n.l),s=Ot(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const rC=nC(Ym);function iC(e,t){var n=Ot((e=A3(e)).l,(t=A3(t)).l),r=Ot(e.a,t.a),i=Ot(e.b,t.b),a=Ot(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function aC(e){return function(t,n){var r=e((t=C3(t)).h,(n=C3(n)).h),i=Ot(t.c,n.c),a=Ot(t.l,n.l),s=Ot(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const sC=aC(Ym);function Xg(e){return function t(n){n=+n;function r(i,a){var s=e((i=xr(i)).h,(a=xr(a)).h),o=Ot(i.s,a.s),l=Ot(i.l,a.l),u=Ot(i.opacity,a.opacity);return function(c){return i.h=s(c),i.s=o(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}Xg(Ym);var Xm=Xg(Ot);function mh(e,t){t===void 0&&(t=e,e=Mu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Xn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var tl=0,_l=0,Sl=0,Zg=1e3,kf,zl,$f=0,no=0,ph=0,ru=typeof performance=="object"&&performance.now?performance:Date,Qg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zm(){return no||(Qg(oC),no=ru.now()+ph)}function oC(){no=0}function Af(){this._call=this._time=this._next=null}Af.prototype=Kg.prototype={constructor:Af,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Zm():+n)+(t==null?0:+t),!this._next&&zl!==this&&(zl?zl._next=this:kf=this,zl=this),this._call=e,this._time=n,D3()},stop:function(){this._call&&(this._call=null,this._time=1/0,D3())}};function Kg(e,t,n){var r=new Af;return r.restart(e,t,n),r}function lC(){Zm(),++tl;for(var e=kf,t;e;)(t=no-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tl}function u7(){no=($f=ru.now())+ph,tl=_l=0;try{lC()}finally{tl=0,cC(),no=0}}function uC(){var e=ru.now(),t=e-$f;t>Zg&&(ph-=t,$f=e)}function cC(){for(var e,t=kf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:kf=n);zl=e,D3(r)}function D3(e){if(!tl){_l&&(_l=clearTimeout(_l));var t=e-no;t>24?(e<1/0&&(_l=setTimeout(u7,e-ru.now()-ph)),Sl&&(Sl=clearInterval(Sl))):(Sl||($f=ru.now(),Sl=setInterval(uC,Zg)),tl=1,Qg(u7))}}function c7(e,t,n){var r=new Af;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var fC=Mg("start","end","cancel","interrupt"),hC=[],Jg=0,f7=1,_3=2,sf=3,h7=4,z3=5,of=6;function gh(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;dC(e,n,{name:t,index:r,group:i,on:fC,tween:hC,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Jg})}function Qm(e,t){var n=er(e,t);if(n.state>Jg)throw new Error("too late; already scheduled");return n}function $r(e,t){var n=er(e,t);if(n.state>sf)throw new Error("too late; already running");return n}function er(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function dC(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Kg(a,0,n.time);function a(u){n.state=f7,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,d;if(n.state!==f7)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===sf)return c7(s);d.state===h7?(d.state=of,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=of,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(c7(function(){n.state===sf&&(n.state=h7,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=_3,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_3){for(n.state=sf,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function o(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=z3,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===z3&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=of,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function mC(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>_3&&r.state<z3,r.state=of,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function pC(e){return this.each(function(){mC(this,e)})}function gC(e,t){var n,r;return function(){var i=$r(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function vC(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=$r(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function yC(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=er(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?gC:vC)(n,e,t))}function Km(e,t,n){var r=e._id;return e.each(function(){var i=$r(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return er(i,r).value[t]}}function ev(e,t){var n;return(typeof t=="number"?Pt:t instanceof s0?to:(n=s0(t))?(t=n,to):Wg)(e,t)}function bC(e){return function(){this.removeAttribute(e)}}function wC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xC(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function MC(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function SC(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function kC(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function $C(e,t){var n=ch(e),r=n==="transform"?tC:ev;return this.attrTween(e,typeof t=="function"?(n.local?kC:SC)(n,r,Km(this,"attr."+e,t)):t==null?(n.local?wC:bC)(n):(n.local?MC:xC)(n,r,t))}function AC(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function CC(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function TC(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&CC(e,a)),n}return i._value=t,i}function EC(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&AC(e,a)),n}return i._value=t,i}function DC(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ch(e);return this.tween(n,(r.local?TC:EC)(r,t))}function _C(e,t){return function(){Qm(this,e).delay=+t.apply(this,arguments)}}function zC(e,t){return t=+t,function(){Qm(this,e).delay=t}}function IC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_C:zC)(t,e)):er(this.node(),t).delay}function NC(e,t){return function(){$r(this,e).duration=+t.apply(this,arguments)}}function qC(e,t){return t=+t,function(){$r(this,e).duration=t}}function BC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?NC:qC)(t,e)):er(this.node(),t).duration}function FC(e,t){if(typeof t!="function")throw new Error;return function(){$r(this,e).ease=t}}function LC(e){var t=this._id;return arguments.length?this.each(FC(t,e)):er(this.node(),t).ease}function RC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$r(this,e).ease=n}}function PC(e){if(typeof e!="function")throw new Error;return this.each(RC(this._id,e))}function OC(e){typeof e!="function"&&(e=kg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new o0(r,this._parents,this._name,this._id)}function HC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=t[o],u=n[o],c=l.length,f=s[o]=new Array(c),h,d=0;d<c;++d)(h=l[d]||u[d])&&(f[d]=h);for(;o<r;++o)s[o]=t[o];return new o0(s,this._parents,this._name,this._id)}function VC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function UC(e,t,n){var r,i,a=VC(t)?Qm:$r;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}function jC(e,t){var n=this._id;return arguments.length<2?er(this.node(),n).on.on(e):this.each(UC(n,e,t))}function WC(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function YC(){return this.on("end.remove",WC(this._id))}function GC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hm(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),c,f,h=0;h<l;++h)(c=o[h])&&(f=e.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,gh(u[h],t,n,h,u,er(c,n)));return new o0(a,this._parents,t,n)}function XC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Sg(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),d,g=er(c,n),y=0,b=h.length;y<b;++y)(d=h[y])&&gh(d,t,n,y,h,g);a.push(h),s.push(c)}return new o0(a,s,t,n)}var ZC=wu.prototype.constructor;function QC(){return new ZC(this._groups,this._parents)}function KC(e,t){var n,r,i;return function(){var a=Jo(this,e),s=(this.style.removeProperty(e),Jo(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function tv(e){return function(){this.style.removeProperty(e)}}function JC(e,t,n){var r,i=n+"",a;return function(){var s=Jo(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function eT(e,t,n){var r,i,a;return function(){var s=Jo(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Jo(this,e))),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}function tT(e,t){var n,r,i,a="style."+t,s="end."+a,o;return function(){var l=$r(this,e),u=l.on,c=l.value[a]==null?o||(o=tv(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function nT(e,t,n){var r=(e+="")=="transform"?eC:ev;return t==null?this.styleTween(e,KC(e,r)).on("end.style."+e,tv(e)):typeof t=="function"?this.styleTween(e,eT(e,r,Km(this,"style."+e,t))).each(tT(this._id,e)):this.styleTween(e,JC(e,r,t),n).on("end.style."+e,null)}function rT(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function iT(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&rT(e,s,n)),r}return a._value=t,a}function aT(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,iT(e,t,n??""))}function sT(e){return function(){this.textContent=e}}function oT(e){return function(){var t=e(this);this.textContent=t??""}}function lT(e){return this.tween("text",typeof e=="function"?oT(Km(this,"text",e)):sT(e==null?"":e+""))}function uT(e){return function(t){this.textContent=e.call(this,t)}}function cT(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&uT(i)),t}return r._value=e,r}function fT(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cT(e))}function hT(){for(var e=this._name,t=this._id,n=nv(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var c=er(l,t);gh(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new o0(r,this._parents,e,n)}function dT(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=$r(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&a()})}var mT=0;function o0(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function nv(){return++mT}var Or=wu.prototype;o0.prototype={constructor:o0,select:GC,selectAll:XC,selectChild:Or.selectChild,selectChildren:Or.selectChildren,filter:OC,merge:HC,selection:QC,transition:hT,call:Or.call,nodes:Or.nodes,node:Or.node,size:Or.size,empty:Or.empty,each:Or.each,on:jC,attr:$C,attrTween:DC,style:nT,styleTween:aT,text:lT,textTween:fT,remove:YC,tween:yC,delay:IC,duration:BC,ease:LC,easeVarying:PC,end:dT,[Symbol.iterator]:Or[Symbol.iterator]};function pT(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var gT={time:null,delay:0,duration:250,ease:pT};function vT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function yT(e){var t,n;e instanceof o0?(t=e._id,e=e._name):(t=nv(),(n=gT).time=Zm(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&gh(l,e,t,u,s,n||vT(l,t));return new o0(r,this._parents,e,t)}wu.prototype.interrupt=pC;wu.prototype.transition=yT;const I3=Math.PI,N3=2*I3,Ws=1e-6,bT=N3-Ws;function rv(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function wT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rv;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xT{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rv:wT(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Ws)if(!(Math.abs(f*l-u*c)>Ws)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,g=i-o,y=l*l+u*u,b=d*d+g*g,w=Math.sqrt(y),k=Math.sqrt(h),E=a*Math.tan((I3-Math.acos((y+h-b)/(2*w*k)))/2),$=E/k,T=E/w;Math.abs($-1)>Ws&&this._append`L${t+$*c},${n+$*f}`,this._append`A${a},${a},0,0,${+(f*d>c*g)},${this._x1=t+T*l},${this._y1=n+T*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ws||Math.abs(this._y1-c)>Ws)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%N3+N3),h>bT?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Ws&&this._append`A${r},${r},0,${+(h>=I3)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function q3(e=3){return new xT(+e)}function MT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nl(e){return e=Cf(Math.abs(e)),e?e[1]:NaN}function ST(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function kT(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $T=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iu(e){if(!(t=$T.exec(e)))throw new Error("invalid format: "+e);var t;return new Jm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}iu.prototype=Jm.prototype;function Jm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AT(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var iv;function CT(e,t){var n=Cf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(iv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cf(e,Math.max(0,t+a-1))[0]}function d7(e,t){var n=Cf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const m7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>d7(e*100,t),r:d7,s:CT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p7(e){return e}var g7=Array.prototype.map,v7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function TT(e){var t=e.grouping===void 0||e.thousands===void 0?p7:ST(g7.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?p7:kT(g7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=iu(f);var h=f.fill,d=f.align,g=f.sign,y=f.symbol,b=f.zero,w=f.width,k=f.comma,E=f.precision,$=f.trim,T=f.type;T==="n"?(k=!0,T="g"):m7[T]||(E===void 0&&(E=12),$=!0,T="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var I=y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",D=y==="$"?r:/[%p]/.test(T)?s:"",j=m7[T],U=/[defgprs%]/.test(T);E=E===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function S(C){var H=I,P=D,Q,N,W;if(T==="c")P=j(C)+P,C="";else{C=+C;var ae=C<0||1/C<0;if(C=isNaN(C)?l:j(Math.abs(C),E),$&&(C=AT(C)),ae&&+C==0&&g!=="+"&&(ae=!1),H=(ae?g==="("?g:o:g==="-"||g==="("?"":g)+H,P=(T==="s"?v7[8+iv/3]:"")+P+(ae&&g==="("?")":""),U){for(Q=-1,N=C.length;++Q<N;)if(W=C.charCodeAt(Q),48>W||W>57){P=(W===46?i+C.slice(Q+1):C.slice(Q))+P,C=C.slice(0,Q);break}}}k&&!b&&(C=t(C,1/0));var ie=H.length+C.length+P.length,le=ie<w?new Array(w-ie+1).join(h):"";switch(k&&b&&(C=t(le+C,le.length?w-P.length:1/0),le=""),d){case"<":C=H+C+P+le;break;case"=":C=H+le+C+P;break;case"^":C=le.slice(0,ie=le.length>>1)+H+C+P+le.slice(ie);break;default:C=le+H+C+P;break}return a(C)}return S.toString=function(){return f+""},S}function c(f,h){var d=u((f=iu(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(nl(h)/3)))*3,y=Math.pow(10,-g),b=v7[8+g/3];return function(w){return d(y*w)+b}}return{format:u,formatPrefix:c}}var Nc,Su,av;ET({thousands:",",grouping:[3],currency:["$",""]});function ET(e){return Nc=TT(e),Su=Nc.format,av=Nc.formatPrefix,Nc}function DT(e){return Math.max(0,-nl(Math.abs(e)))}function _T(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nl(t)/3)))*3-nl(Math.abs(e)))}function zT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nl(t)-nl(e))+1}var Oe=1e-6,sv=1e-12,We=Math.PI,ft=We/2,y7=We/4,bn=We*2,Ut=180/We,ct=We/180,Je=Math.abs,hl=Math.atan,l0=Math.atan2,Ue=Math.cos,ov=Math.exp,Tf=Math.log,B4=Math.pow,Pe=Math.sin,Nn=Math.sign||function(e){return e>0?1:e<0?-1:0},cn=Math.sqrt,e5=Math.tan;function lv(e){return e>1?0:e<-1?We:Math.acos(e)}function Pn(e){return e>1?ft:e<-1?-ft:Math.asin(e)}function qn(){}function Ef(e,t){e&&w7.hasOwnProperty(e.type)&&w7[e.type](e,t)}var b7={Feature:function(e,t){Ef(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Ef(n[r].geometry,t)}},w7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){B3(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)B3(n[r],t,0)},Polygon:function(e,t){x7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)x7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Ef(n[r],t)}};function B3(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function x7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)B3(e[n],t,1);t.polygonEnd()}function Gs(e,t){e&&b7.hasOwnProperty(e.type)?b7[e.type](e,t):Ef(e,t)}function F3(e){return[l0(e[1],e[0]),Pn(e[2])]}function rl(e){var t=e[0],n=e[1],r=Ue(n);return[r*Ue(t),r*Pe(t),Pe(n)]}function qc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Df(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function F4(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Bc(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function L3(e){var t=cn(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function R3(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function P3(e,t){return Je(e)>We&&(e-=Math.round(e/bn)*bn),[e,t]}P3.invert=P3;function uv(e,t,n){return(e%=bn)?t||n?R3(S7(e),k7(t,n)):S7(e):t||n?k7(t,n):P3}function M7(e){return function(t,n){return t+=e,Je(t)>We&&(t-=Math.round(t/bn)*bn),[t,n]}}function S7(e){var t=M7(e);return t.invert=M7(-e),t}function k7(e,t){var n=Ue(e),r=Pe(e),i=Ue(t),a=Pe(t);function s(o,l){var u=Ue(l),c=Ue(o)*u,f=Pe(o)*u,h=Pe(l),d=h*n+c*r;return[l0(f*i-d*a,c*n-h*r),Pn(d*i+f*a)]}return s.invert=function(o,l){var u=Ue(l),c=Ue(o)*u,f=Pe(o)*u,h=Pe(l),d=h*i-f*a;return[l0(f*i+h*a,c*n+d*r),Pn(d*n-c*r)]},s}function IT(e){e=uv(e[0]*ct,e[1]*ct,e.length>2?e[2]*ct:0);function t(n){return n=e(n[0]*ct,n[1]*ct),n[0]*=Ut,n[1]*=Ut,n}return t.invert=function(n){return n=e.invert(n[0]*ct,n[1]*ct),n[0]*=Ut,n[1]*=Ut,n},t}function NT(e,t,n,r,i,a){if(n){var s=Ue(t),o=Pe(t),l=r*n;i==null?(i=t+r*bn,a=t-l/2):(i=$7(s,i),a=$7(s,a),(r>0?i<a:i>a)&&(i+=r*bn));for(var u,c=i;r>0?c>a:c<a;c-=l)u=F3([s,-o*Ue(c),-o*Pe(c)]),e.point(u[0],u[1])}}function $7(e,t){t=rl(t),t[0]-=e,L3(t);var n=lv(-t[1]);return((-t[2]<0?-n:n)+bn-Oe)%bn}function cv(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:qn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function lf(e,t){return Je(e[0]-t[0])<Oe&&Je(e[1]-t[1])<Oe}function Fc(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fv(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(g){if(!((y=g.length-1)<=0)){var y,b=g[0],w=g[y],k;if(lf(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),o=0;o<y;++o)i.point((b=g[o])[0],b[1]);i.lineEnd();return}w[0]+=2*Oe}a.push(k=new Fc(b,g,null,!0)),s.push(k.o=new Fc(b,null,k,!1)),a.push(k=new Fc(w,g,null,!1)),s.push(k.o=new Fc(w,null,k,!0))}}),!!a.length){for(s.sort(t),A7(a),A7(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var u=a[0],c,f;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=c.length;o<l;++o)i.point((f=c[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((f=c[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);i.lineEnd()}}}function A7(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function L4(e){return Je(e[0])<=We?e[0]:Nn(e[0])*((Je(e[0])+We)%bn-We)}function qT(e,t){var n=L4(t),r=t[1],i=Pe(r),a=[Pe(n),-Ue(n),0],s=0,o=0,l=new Ks;i===1?r=ft+Oe:i===-1&&(r=-ft-Oe);for(var u=0,c=e.length;u<c;++u)if(h=(f=e[u]).length)for(var f,h,d=f[h-1],g=L4(d),y=d[1]/2+y7,b=Pe(y),w=Ue(y),k=0;k<h;++k,g=$,b=I,w=D,d=E){var E=f[k],$=L4(E),T=E[1]/2+y7,I=Pe(T),D=Ue(T),j=$-g,U=j>=0?1:-1,S=U*j,C=S>We,H=b*I;if(l.add(l0(H*U*Pe(S),w*D+H*Ue(S))),s+=C?j+U*bn:j,C^g>=n^$>=n){var P=Df(rl(d),rl(E));L3(P);var Q=Df(a,P);L3(Q);var N=(C^j>=0?-1:1)*Pn(Q[2]);(r>N||r===N&&(P[0]||P[1]))&&(o+=C^j>=0?1:-1)}}return(s<-Oe||s<Oe&&l<-sv)^o&1}function hv(e,t,n,r){return function(i){var a=t(i),s=cv(),o=t(s),l=!1,u,c,f,h={point:d,lineStart:y,lineEnd:b,polygonStart:function(){h.point=w,h.lineStart=k,h.lineEnd=E,c=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=y,h.lineEnd=b,c=xg(c);var $=qT(u,r);c.length?(l||(i.polygonStart(),l=!0),fv(c,FT,$,n,i)):$&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d($,T){e($,T)&&i.point($,T)}function g($,T){a.point($,T)}function y(){h.point=g,a.lineStart()}function b(){h.point=d,a.lineEnd()}function w($,T){f.push([$,T]),o.point($,T)}function k(){o.lineStart(),f=[]}function E(){w(f[0][0],f[0][1]),o.lineEnd();var $=o.clean(),T=s.result(),I,D=T.length,j,U,S;if(f.pop(),u.push(f),f=null,!!D){if($&1){if(U=T[0],(j=U.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),I=0;I<j;++I)i.point((S=U[I])[0],S[1]);i.lineEnd()}return}D>1&&$&2&&T.push(T.pop().concat(T.shift())),c.push(T.filter(BT))}}return h}}function BT(e){return e.length>1}function FT(e,t){return((e=e.x)[0]<0?e[1]-ft-Oe:ft-e[1])-((t=t.x)[0]<0?t[1]-ft-Oe:ft-t[1])}const C7=hv(function(){return!0},LT,PT,[-We,-ft]);function LT(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?We:-We,l=Je(a-t);Je(l-We)<Oe?(e.point(t,n=(n+s)/2>0?ft:-ft),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=We&&(Je(t-r)<Oe&&(t-=r*Oe),Je(a-o)<Oe&&(a-=o*Oe),n=RT(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function RT(e,t,n,r){var i,a,s=Pe(e-n);return Je(s)>Oe?hl((Pe(t)*(a=Ue(r))*Pe(n)-Pe(r)*(i=Ue(t))*Pe(e))/(i*a*s)):(t+r)/2}function PT(e,t,n,r){var i;if(e==null)i=n*ft,r.point(-We,i),r.point(0,i),r.point(We,i),r.point(We,0),r.point(We,-i),r.point(0,-i),r.point(-We,-i),r.point(-We,0),r.point(-We,i);else if(Je(e[0]-t[0])>Oe){var a=e[0]<t[0]?We:-We;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function OT(e){var t=Ue(e),n=6*ct,r=t>0,i=Je(t)>Oe;function a(c,f,h,d){NT(d,e,n,h,c,f)}function s(c,f){return Ue(c)*Ue(f)>t}function o(c){var f,h,d,g,y;return{lineStart:function(){g=d=!1,y=1},point:function(b,w){var k=[b,w],E,$=s(b,w),T=r?$?0:u(b,w):$?u(b+(b<0?We:-We),w):0;if(!f&&(g=d=$)&&c.lineStart(),$!==d&&(E=l(f,k),(!E||lf(f,E)||lf(k,E))&&(k[2]=1)),$!==d)y=0,$?(c.lineStart(),E=l(k,f),c.point(E[0],E[1])):(E=l(f,k),c.point(E[0],E[1],2),c.lineEnd()),f=E;else if(i&&f&&r^$){var I;!(T&h)&&(I=l(k,f,!0))&&(y=0,r?(c.lineStart(),c.point(I[0][0],I[0][1]),c.point(I[1][0],I[1][1]),c.lineEnd()):(c.point(I[1][0],I[1][1]),c.lineEnd(),c.lineStart(),c.point(I[0][0],I[0][1],3)))}$&&(!f||!lf(f,k))&&c.point(k[0],k[1]),f=k,d=$,h=T},lineEnd:function(){d&&c.lineEnd(),f=null},clean:function(){return y|(g&&d)<<1}}}function l(c,f,h){var d=rl(c),g=rl(f),y=[1,0,0],b=Df(d,g),w=qc(b,b),k=b[0],E=w-k*k;if(!E)return!h&&c;var $=t*w/E,T=-t*k/E,I=Df(y,b),D=Bc(y,$),j=Bc(b,T);F4(D,j);var U=I,S=qc(D,U),C=qc(U,U),H=S*S-C*(qc(D,D)-1);if(!(H<0)){var P=cn(H),Q=Bc(U,(-S-P)/C);if(F4(Q,D),Q=F3(Q),!h)return Q;var N=c[0],W=f[0],ae=c[1],ie=f[1],le;W<N&&(le=N,N=W,W=le);var ee=W-N,se=Je(ee-We)<Oe,oe=se||ee<Oe;if(!se&&ie<ae&&(le=ae,ae=ie,ie=le),oe?se?ae+ie>0^Q[1]<(Je(Q[0]-N)<Oe?ae:ie):ae<=Q[1]&&Q[1]<=ie:ee>We^(N<=Q[0]&&Q[0]<=W)){var re=Bc(U,(-S+P)/C);return F4(re,D),[Q,F3(re)]}}}function u(c,f){var h=r?e:We-e,d=0;return c<-h?d|=1:c>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return hv(s,o,a,r?[0,-e]:[-We,e-We])}function HT(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],u=t[1],c=0,f=1,h=l-s,d=u-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<c)return;g<f&&(f=g)}else if(h>0){if(g>f)return;g>c&&(c=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>f)return;g>c&&(c=g)}else if(h>0){if(g<c)return;g<f&&(f=g)}if(g=r-o,!(!d&&g>0)){if(g/=d,d<0){if(g<c)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>c&&(c=g)}if(g=a-o,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>c&&(c=g)}else if(d>0){if(g<c)return;g<f&&(f=g)}return c>0&&(e[0]=s+c*h,e[1]=o+c*d),f<1&&(t[0]=s+f*h,t[1]=o+f*d),!0}}}}}var Il=1e9,Lc=-Il;function dv(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function a(u,c,f,h){var d=0,g=0;if(u==null||(d=s(u,f))!==(g=s(c,f))||l(u,c)<0^f>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+f+4)%4)!==g);else h.point(c[0],c[1])}function s(u,c){return Je(u[0]-e)<Oe?c>0?0:3:Je(u[0]-n)<Oe?c>0?2:1:Je(u[1]-t)<Oe?c>0?1:0:c>0?3:2}function o(u,c){return l(u.x,c.x)}function l(u,c){var f=s(u,1),h=s(c,1);return f!==h?f-h:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=cv(),h,d,g,y,b,w,k,E,$,T,I,D={point:j,lineStart:H,lineEnd:P,polygonStart:S,polygonEnd:C};function j(N,W){i(N,W)&&c.point(N,W)}function U(){for(var N=0,W=0,ae=d.length;W<ae;++W)for(var ie=d[W],le=1,ee=ie.length,se=ie[0],oe,re,Se=se[0],Ce=se[1];le<ee;++le)oe=Se,re=Ce,se=ie[le],Se=se[0],Ce=se[1],re<=r?Ce>r&&(Se-oe)*(r-re)>(Ce-re)*(e-oe)&&++N:Ce<=r&&(Se-oe)*(r-re)<(Ce-re)*(e-oe)&&--N;return N}function S(){c=f,h=[],d=[],I=!0}function C(){var N=U(),W=I&&N,ae=(h=xg(h)).length;(W||ae)&&(u.polygonStart(),W&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),ae&&fv(h,o,N,a,u),u.polygonEnd()),c=u,h=d=g=null}function H(){D.point=Q,d&&d.push(g=[]),T=!0,$=!1,k=E=NaN}function P(){h&&(Q(y,b),w&&$&&f.rejoin(),h.push(f.result())),D.point=j,$&&c.lineEnd()}function Q(N,W){var ae=i(N,W);if(d&&g.push([N,W]),T)y=N,b=W,w=ae,T=!1,ae&&(c.lineStart(),c.point(N,W));else if(ae&&$)c.point(N,W);else{var ie=[k=Math.max(Lc,Math.min(Il,k)),E=Math.max(Lc,Math.min(Il,E))],le=[N=Math.max(Lc,Math.min(Il,N)),W=Math.max(Lc,Math.min(Il,W))];HT(ie,le,e,t,n,r)?($||(c.lineStart(),c.point(ie[0],ie[1])),c.point(le[0],le[1]),ae||c.lineEnd(),I=!1):ae&&(c.lineStart(),c.point(N,W),I=!1)}k=N,E=W,$=ae}return D}}const O3=e=>e;var R4=new Ks,H3=new Ks,mv,pv,V3,U3,V0={point:qn,lineStart:qn,lineEnd:qn,polygonStart:function(){V0.lineStart=VT,V0.lineEnd=jT},polygonEnd:function(){V0.lineStart=V0.lineEnd=V0.point=qn,R4.add(Je(H3)),H3=new Ks},result:function(){var e=R4/2;return R4=new Ks,e}};function VT(){V0.point=UT}function UT(e,t){V0.point=gv,mv=V3=e,pv=U3=t}function gv(e,t){H3.add(U3*e-V3*t),V3=e,U3=t}function jT(){gv(mv,pv)}const T7=V0;var il=1/0,_f=il,au=-il,zf=au,WT={point:YT,lineStart:qn,lineEnd:qn,polygonStart:qn,polygonEnd:qn,result:function(){var e=[[il,_f],[au,zf]];return au=zf=-(_f=il=1/0),e}};function YT(e,t){e<il&&(il=e),e>au&&(au=e),t<_f&&(_f=t),t>zf&&(zf=t)}const If=WT;var j3=0,W3=0,Nl=0,Nf=0,qf=0,Vo=0,Y3=0,G3=0,ql=0,vv,yv,hr,dr,Wn={point:ro,lineStart:E7,lineEnd:D7,polygonStart:function(){Wn.lineStart=ZT,Wn.lineEnd=QT},polygonEnd:function(){Wn.point=ro,Wn.lineStart=E7,Wn.lineEnd=D7},result:function(){var e=ql?[Y3/ql,G3/ql]:Vo?[Nf/Vo,qf/Vo]:Nl?[j3/Nl,W3/Nl]:[NaN,NaN];return j3=W3=Nl=Nf=qf=Vo=Y3=G3=ql=0,e}};function ro(e,t){j3+=e,W3+=t,++Nl}function E7(){Wn.point=GT}function GT(e,t){Wn.point=XT,ro(hr=e,dr=t)}function XT(e,t){var n=e-hr,r=t-dr,i=cn(n*n+r*r);Nf+=i*(hr+e)/2,qf+=i*(dr+t)/2,Vo+=i,ro(hr=e,dr=t)}function D7(){Wn.point=ro}function ZT(){Wn.point=KT}function QT(){bv(vv,yv)}function KT(e,t){Wn.point=bv,ro(vv=hr=e,yv=dr=t)}function bv(e,t){var n=e-hr,r=t-dr,i=cn(n*n+r*r);Nf+=i*(hr+e)/2,qf+=i*(dr+t)/2,Vo+=i,i=dr*e-hr*t,Y3+=i*(hr+e),G3+=i*(dr+t),ql+=i*3,ro(hr=e,dr=t)}const _7=Wn;function wv(e){this._context=e}wv.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,bn);break}}},result:qn};var X3=new Ks,P4,xv,Mv,Bl,Fl,Bf={point:qn,lineStart:function(){Bf.point=JT},lineEnd:function(){P4&&Sv(xv,Mv),Bf.point=qn},polygonStart:function(){P4=!0},polygonEnd:function(){P4=null},result:function(){var e=+X3;return X3=new Ks,e}};function JT(e,t){Bf.point=Sv,xv=Bl=e,Mv=Fl=t}function Sv(e,t){Bl-=e,Fl-=t,X3.add(cn(Bl*Bl+Fl*Fl)),Bl=e,Fl=t}const z7=Bf;let I7,Ff,N7,q7;class B7{constructor(t){this._append=t==null?kv:eE(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==N7||this._append!==Ff){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,N7=r,Ff=this._append,q7=this._,this._=i}this._+=q7;break}}}result(){const t=this._;return this._="",t.length?t:null}}function kv(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function eE(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return kv;if(t!==I7){const n=10**t;I7=t,Ff=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Ff}function $v(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Gs(o,i(a))),a.result()}return s.area=function(o){return Gs(o,i(T7)),T7.result()},s.measure=function(o){return Gs(o,i(z7)),z7.result()},s.bounds=function(o){return Gs(o,i(If)),If.result()},s.centroid=function(o){return Gs(o,i(_7)),_7.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,O3):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new B7(n)):new wv(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(a=new B7(n)),s},s.projection(e).digits(n).context(t)}function Z3(e){return{stream:vh(e)}}function vh(e){return function(t){var n=new Q3;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Q3(){}Q3.prototype={constructor:Q3,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function t5(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Gs(n,e.stream(If)),t(If.result()),r!=null&&e.clipExtent(r),e}function n5(e,t,n){return t5(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,l])},n)}function Av(e,t,n){return n5(e,[[0,0],t],n)}function Cv(e,t,n){return t5(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function Tv(e,t,n){return t5(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var F7=16,tE=Ue(30*ct);function L7(e,t){return+t?rE(e,t):nE(e)}function nE(e){return vh({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function rE(e,t){function n(r,i,a,s,o,l,u,c,f,h,d,g,y,b){var w=u-r,k=c-i,E=w*w+k*k;if(E>4*t&&y--){var $=s+h,T=o+d,I=l+g,D=cn($*$+T*T+I*I),j=Pn(I/=D),U=Je(Je(I)-1)<Oe||Je(a-f)<Oe?(a+f)/2:l0(T,$),S=e(U,j),C=S[0],H=S[1],P=C-r,Q=H-i,N=k*P-w*Q;(N*N/E>t||Je((w*P+k*Q)/E-.5)>.3||s*h+o*d+l*g<tE)&&(n(r,i,a,s,o,l,C,H,U,$/=D,T/=D,I,y,b),b.point(C,H),n(C,H,U,$,T,I,u,c,f,h,d,g,y,b))}}return function(r){var i,a,s,o,l,u,c,f,h,d,g,y,b={point:w,lineStart:k,lineEnd:$,polygonStart:function(){r.polygonStart(),b.lineStart=T},polygonEnd:function(){r.polygonEnd(),b.lineStart=k}};function w(j,U){j=e(j,U),r.point(j[0],j[1])}function k(){f=NaN,b.point=E,r.lineStart()}function E(j,U){var S=rl([j,U]),C=e(j,U);n(f,h,c,d,g,y,f=C[0],h=C[1],c=j,d=S[0],g=S[1],y=S[2],F7,r),r.point(f,h)}function $(){b.point=w,r.lineEnd()}function T(){k(),b.point=I,b.lineEnd=D}function I(j,U){E(i=j,U),a=f,s=h,o=d,l=g,u=y,b.point=E}function D(){n(f,h,c,d,g,y,a,s,i,o,l,u,F7,r),b.lineEnd=$,$()}return b}}var iE=vh({point:function(e,t){this.stream.point(e*ct,t*ct)}});function aE(e){return vh({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function sE(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function R7(e,t,n,r,i,a){if(!a)return sE(e,t,n,r,i);var s=Ue(a),o=Pe(a),l=s*e,u=o*e,c=s/e,f=o/e,h=(o*n-s*t)/e,d=(o*t+s*n)/e;function g(y,b){return y*=r,b*=i,[l*y-u*b+t,n-u*y-l*b]}return g.invert=function(y,b){return[r*(c*y-f*b+h),i*(d-f*y-c*b)]},g}function ei(e){return Ev(function(){return e})()}function Ev(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,l=0,u=0,c,f=0,h=1,d=1,g=null,y=C7,b=null,w,k,E,$=O3,T=.5,I,D,j,U,S;function C(N){return j(N[0]*ct,N[1]*ct)}function H(N){return N=j.invert(N[0],N[1]),N&&[N[0]*Ut,N[1]*Ut]}C.stream=function(N){return U&&S===N?U:U=iE(aE(c)(y(I($(S=N)))))},C.preclip=function(N){return arguments.length?(y=N,g=void 0,Q()):y},C.postclip=function(N){return arguments.length?($=N,b=w=k=E=null,Q()):$},C.clipAngle=function(N){return arguments.length?(y=+N?OT(g=N*ct):(g=null,C7),Q()):g*Ut},C.clipExtent=function(N){return arguments.length?($=N==null?(b=w=k=E=null,O3):dv(b=+N[0][0],w=+N[0][1],k=+N[1][0],E=+N[1][1]),Q()):b==null?null:[[b,w],[k,E]]},C.scale=function(N){return arguments.length?(n=+N,P()):n},C.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],P()):[r,i]},C.center=function(N){return arguments.length?(a=N[0]%360*ct,s=N[1]%360*ct,P()):[a*Ut,s*Ut]},C.rotate=function(N){return arguments.length?(o=N[0]%360*ct,l=N[1]%360*ct,u=N.length>2?N[2]%360*ct:0,P()):[o*Ut,l*Ut,u*Ut]},C.angle=function(N){return arguments.length?(f=N%360*ct,P()):f*Ut},C.reflectX=function(N){return arguments.length?(h=N?-1:1,P()):h<0},C.reflectY=function(N){return arguments.length?(d=N?-1:1,P()):d<0},C.precision=function(N){return arguments.length?(I=L7(D,T=N*N),Q()):cn(T)},C.fitExtent=function(N,W){return n5(C,N,W)},C.fitSize=function(N,W){return Av(C,N,W)},C.fitWidth=function(N,W){return Cv(C,N,W)},C.fitHeight=function(N,W){return Tv(C,N,W)};function P(){var N=R7(n,0,0,h,d,f).apply(null,t(a,s)),W=R7(n,r-N[0],i-N[1],h,d,f);return c=uv(o,l,u),D=R3(t,W),j=R3(c,D),I=L7(D,T),Q()}function Q(){return U=S=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&H,P()}}function r5(e){var t=0,n=We/3,r=Ev(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*ct,n=a[1]*ct):[t*Ut,n*Ut]},i}function oE(e){var t=Ue(e);function n(r,i){return[r*t,Pe(i)/t]}return n.invert=function(r,i){return[r/t,Pn(i*t)]},n}function lE(e,t){var n=Pe(e),r=(n+Pe(t))/2;if(Je(r)<Oe)return oE(e);var i=1+n*(2*r-n),a=cn(i)/r;function s(o,l){var u=cn(i-2*r*Pe(l))/r;return[u*Pe(o*=r),a-u*Ue(o)]}return s.invert=function(o,l){var u=a-l,c=l0(o,Je(u))*Nn(u);return u*r<0&&(c-=We*Nn(o)*Nn(u)),[c/r,Pn((i-(o*o+u*u)*r*r)/(2*r))]},s}function Lf(){return r5(lE).scale(155.424).center([0,33.6442])}function Dv(){return Lf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function uE(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function cE(){var e,t,n=Dv(),r,i=Lf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Lf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(h,d){l=[h,d]}};function c(h){var d=h[0],g=h[1];return l=null,r.point(d,g),l||(a.point(d,g),l)||(o.point(d,g),l)}c.invert=function(h){var d=n.scale(),g=n.translate(),y=(h[0]-g[0])/d,b=(h[1]-g[1])/d;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?i:b>=.166&&b<.234&&y>=-.214&&y<-.115?s:n).invert(h)},c.stream=function(h){return e&&t===h?e:e=uE([n.stream(t=h),i.stream(h),s.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),g=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[g-.455*d,y-.238*d],[g+.455*d,y+.238*d]]).stream(u),a=i.translate([g-.307*d,y+.201*d]).clipExtent([[g-.425*d+Oe,y+.12*d+Oe],[g-.214*d-Oe,y+.234*d-Oe]]).stream(u),o=s.translate([g-.205*d,y+.212*d]).clipExtent([[g-.214*d+Oe,y+.166*d+Oe],[g-.115*d-Oe,y+.234*d-Oe]]).stream(u),f()},c.fitExtent=function(h,d){return n5(c,h,d)},c.fitSize=function(h,d){return Av(c,h,d)},c.fitWidth=function(h,d){return Cv(c,h,d)},c.fitHeight=function(h,d){return Tv(c,h,d)};function f(){return e=t=null,c}return c.scale(1070)}function _v(e){return function(t,n){var r=Ue(t),i=Ue(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Pe(t),a*Pe(n)]}}function ku(e){return function(t,n){var r=cn(t*t+n*n),i=e(r),a=Pe(i),s=Ue(i);return[l0(t*a,r*s),Pn(r&&n*a/r)]}}var zv=_v(function(e){return cn(2/(1+e))});zv.invert=ku(function(e){return 2*Pn(e/2)});function fE(){return ei(zv).scale(124.75).clipAngle(180-.001)}var Iv=_v(function(e){return(e=lv(e))&&e/Pe(e)});Iv.invert=ku(function(e){return e});function hE(){return ei(Iv).scale(79.4188).clipAngle(180-.001)}function yh(e,t){return[e,Tf(e5((ft+t)/2))]}yh.invert=function(e,t){return[e,2*hl(ov(t))-ft]};function dE(){return Nv(yh).scale(961/bn)}function Nv(e){var t=ei(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=o=l=u=null:(s=+f[0][0],o=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):s==null?null:[[s,o],[l,u]]};function c(){var f=We*r(),h=t(IT(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:e===yh?[[Math.max(h[0]-f,s),o],[Math.min(h[0]+f,l),u]]:[[s,Math.max(h[1]-f,o)],[l,Math.min(h[1]+f,u)]])}return c()}function Rc(e){return e5((ft+e)/2)}function mE(e,t){var n=Ue(e),r=e===t?Pe(e):Tf(n/Ue(t))/Tf(Rc(t)/Rc(e)),i=n*B4(Rc(e),r)/r;if(!r)return yh;function a(s,o){i>0?o<-ft+Oe&&(o=-ft+Oe):o>ft-Oe&&(o=ft-Oe);var l=i/B4(Rc(o),r);return[l*Pe(r*s),i-l*Ue(r*s)]}return a.invert=function(s,o){var l=i-o,u=Nn(r)*cn(s*s+l*l),c=l0(s,Je(l))*Nn(l);return l*r<0&&(c-=We*Nn(s)*Nn(l)),[c/r,2*hl(B4(i/u,1/r))-ft]},a}function pE(){return r5(mE).scale(109.5).parallels([30,30])}function Rf(e,t){return[e,t]}Rf.invert=Rf;function gE(){return ei(Rf).scale(152.63)}function vE(e,t){var n=Ue(e),r=e===t?Pe(e):(n-Ue(t))/(t-e),i=n/r+e;if(Je(r)<Oe)return Rf;function a(s,o){var l=i-o,u=r*s;return[l*Pe(u),i-l*Ue(u)]}return a.invert=function(s,o){var l=i-o,u=l0(s,Je(l))*Nn(l);return l*r<0&&(u-=We*Nn(s)*Nn(l)),[u/r,i-Nn(r)*cn(s*s+l*l)]},a}function yE(){return r5(vE).scale(131.154).center([0,13.9389])}var Vl=1.340264,Ul=-.081106,jl=893e-6,Wl=.003796,Pf=cn(3)/2,bE=12;function qv(e,t){var n=Pn(Pf*Pe(t)),r=n*n,i=r*r*r;return[e*Ue(n)/(Pf*(Vl+3*Ul*r+i*(7*jl+9*Wl*r))),n*(Vl+Ul*r+i*(jl+Wl*r))]}qv.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,l;a<bE&&(o=n*(Vl+Ul*r+i*(jl+Wl*r))-t,l=Vl+3*Ul*r+i*(7*jl+9*Wl*r),n-=s=o/l,r=n*n,i=r*r*r,!(Je(s)<sv));++a);return[Pf*e*(Vl+3*Ul*r+i*(7*jl+9*Wl*r))/Ue(n),Pn(Pe(n)/Pf)]};function wE(){return ei(qv).scale(177.158)}function Bv(e,t){var n=Ue(t),r=Ue(e)*n;return[n*Pe(e)/r,Pe(t)/r]}Bv.invert=ku(hl);function xE(){return ei(Bv).scale(144.049).clipAngle(60)}function Fv(e,t){return[Ue(t)*Pe(e),Pe(t)]}Fv.invert=ku(Pn);function ME(){return ei(Fv).scale(249.5).clipAngle(90+Oe)}function Lv(e,t){var n=Ue(t),r=1+Ue(e)*n;return[n*Pe(e)/r,Pe(t)/r]}Lv.invert=ku(function(e){return 2*hl(e)});function SE(){return ei(Lv).scale(250).clipAngle(142)}function Rv(e,t){return[Tf(e5((ft+t)/2)),-e]}Rv.invert=function(e,t){return[-t,2*hl(ov(e))-ft]};function kE(){var e=Nv(Rv),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const i5=Math.random,$E=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(i5),P7=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(i5),AE=function e(t){function n(r,i){var a,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var o;if(a!=null)o=a,a=null;else do a=t()*2-1,o=t()*2-1,s=a*a+o*o;while(!s||s>1);return r+i*o*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(i5);function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const K3=Symbol("implicit");function a5(){var e=new Js,t=[],n=[],r=K3;function i(a){let s=e.get(a);if(s===void 0){if(r!==K3)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Js;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return a5(t,n).unknown(r)},Ar.apply(i,arguments),i}function wh(){var e=a5().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,d=i<r,g=d?i:r,y=d?r:i;a=(y-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var b=M3(h).map(function(w){return g+a*w});return n(d?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return wh(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Ar.apply(f(),arguments)}function Pv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Pv(t())},e}function CE(){return Pv(wh.apply(null,arguments).paddingInner(1))}function TE(e){return function(){return e}}function J3(e){return+e}var O7=[0,1];function Bn(e){return e}function em(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:TE(isNaN(t)?NaN:.5)}function EE(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function DE(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=em(i,r),a=n(s,a)):(r=em(r,i),a=n(a,s)),function(o){return a(r(o))}}function _E(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=em(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=uh(e,o,1,r)-1;return a[l](i[l](o))}}function $u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xh(){var e=O7,t=O7,n=Mu,r,i,a,s=Bn,o,l,u;function c(){var h=Math.min(e.length,t.length);return s!==Bn&&(s=EE(e[0],e[h-1])),o=h>2?_E:DE,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),Pt)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,J3),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Gm,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Bn,c()):s!==Bn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,c()}}function Ov(){return xh()(Bn,Bn)}function zE(e,t,n,r){var i=x3(e,t,n),a;switch(r=iu(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=_T(i,s))&&(r.precision=a),av(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zT(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=DT(i))&&(r.precision=a-(r.type==="%")*2);break}}return Su(r)}function Au(e){var t=e.domain;return e.ticks=function(n){var r=t();return eu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return zE(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=yf(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function s5(){var e=Ov();return e.copy=function(){return $u(e,s5())},Ar.apply(e,arguments),Au(e)}function Hv(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,J3),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Hv(e).unknown(t)},e=arguments.length?Array.from(e,J3):[0,1],Au(n)}function Vv(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function H7(e){return Math.log(e)}function V7(e){return Math.exp(e)}function IE(e){return-Math.log(-e)}function NE(e){return-Math.exp(-e)}function qE(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BE(e){return e===10?qE:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FE(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function U7(e){return(t,n)=>-e(-t,n)}function Uv(e){const t=e(H7,V7),n=t.domain;let r=10,i,a;function s(){return i=FE(r),a=BE(r),n()[0]<0?(i=U7(i),a=U7(a),e(IE,NE)):e(H7,V7),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),g,y;const b=o==null?10:+o;let w=[];if(!(r%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=d;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<b&&(w=eu(u,c,b))}else w=eu(h,d,Math.min(d-h,b)).map(a);return f?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=iu(l)).precision==null&&(l.trim=!0),l=Su(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(Vv(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function jv(){const e=Uv(xh()).domain([1,10]);return e.copy=()=>$u(e,jv()).base(e.base()),Ar.apply(e,arguments),e}function j7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function W7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wv(e){var t=1,n=e(j7(t),W7(t));return n.constant=function(r){return arguments.length?e(j7(t=+r),W7(t)):t},Au(n)}function Yv(){var e=Wv(xh());return e.copy=function(){return $u(e,Yv()).constant(e.constant())},Ar.apply(e,arguments)}function Y7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function RE(e){return e<0?-e*e:e*e}function Gv(e){var t=e(Bn,Bn),n=1;function r(){return n===1?e(Bn,Bn):n===.5?e(LE,RE):e(Y7(n),Y7(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Au(t)}function Xv(){var e=Gv(xh());return e.copy=function(){return $u(e,Xv()).exponent(e.exponent())},Ar.apply(e,arguments),e}function Zv(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=Tk(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[uh(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ln),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Zv().domain(e).range(t).unknown(r)},Ar.apply(a,arguments)}function Qv(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[uh(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Qv().domain(e).range(t).unknown(n)},Ar.apply(i,arguments)}const O4=new Date,H4=new Date;function kt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>kt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(O4.setTime(+a),H4.setTime(+s),e(O4),e(H4),Math.floor(n(O4,H4))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Of=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Of.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Of);Of.range;const Zr=1e3,Fn=Zr*60,Qr=Fn*60,u0=Qr*24,o5=u0*7,G7=u0*30,V4=u0*365,Kr=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getUTCSeconds());Kr.range;const Mh=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getMinutes());Mh.range;const Sh=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCMinutes());Sh.range;const kh=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zr-e.getMinutes()*Fn)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getHours());kh.range;const $h=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCHours());$h.range;const dl=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/u0,e=>e.getDate()-1);dl.range;const Ah=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/u0,e=>e.getUTCDate()-1);Ah.range;const l5=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/u0,e=>Math.floor(e/u0));l5.range;function lo(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/o5)}const al=lo(0),su=lo(1),Kv=lo(2),Jv=lo(3),io=lo(4),ey=lo(5),ty=lo(6);al.range;su.range;Kv.range;Jv.range;io.range;ey.range;ty.range;function uo(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/o5)}const sl=uo(0),ou=uo(1),ny=uo(2),ry=uo(3),ao=uo(4),iy=uo(5),ay=uo(6);sl.range;ou.range;ny.range;ry.range;ao.range;iy.range;ay.range;const Ch=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ch.range;const Th=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Th.range;const Zn=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zn.range;const Qn=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qn.range;function sy(e,t,n,r,i,a){const s=[[Kr,1,Zr],[Kr,5,5*Zr],[Kr,15,15*Zr],[Kr,30,30*Zr],[a,1,Fn],[a,5,5*Fn],[a,15,15*Fn],[a,30,30*Fn],[i,1,Qr],[i,3,3*Qr],[i,6,6*Qr],[i,12,12*Qr],[r,1,u0],[r,2,2*u0],[n,1,o5],[t,1,G7],[t,3,3*G7],[e,1,V4]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const d=f&&typeof f.range=="function"?f:l(u,c,f),g=d?d.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,d=Kl(([,,b])=>b).right(s,h);if(d===s.length)return e.every(x3(u/V4,c/V4,f));if(d===0)return Of.every(Math.max(x3(u,c,f),1));const[g,y]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(y)}return[o,l]}const[PE,oy]=sy(Qn,Th,sl,l5,$h,Sh),[OE,HE]=sy(Zn,Ch,al,dl,kh,Mh);function U4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function j4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VE(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=$l(i),c=Al(i),f=$l(a),h=Al(a),d=$l(s),g=Al(s),y=$l(o),b=Al(o),w=$l(l),k=Al(l),E={a:ae,A:ie,b:le,B:ee,c:null,d:e8,e:e8,f:hD,g:MD,G:kD,H:uD,I:cD,j:fD,L:ly,m:dD,M:mD,p:se,q:oe,Q:r8,s:i8,S:pD,u:gD,U:vD,V:yD,w:bD,W:wD,x:null,X:null,y:xD,Y:SD,Z:$D,"%":n8},$={a:re,A:Se,b:Ce,B:De,c:null,d:t8,e:t8,f:ED,g:RD,G:OD,H:AD,I:CD,j:TD,L:cy,m:DD,M:_D,p:ce,q:pe,Q:r8,s:i8,S:zD,u:ID,U:ND,V:qD,w:BD,W:FD,x:null,X:null,y:LD,Y:PD,Z:HD,"%":n8},T={a:S,A:C,b:H,B:P,c:Q,d:K7,e:K7,f:aD,g:Q7,G:Z7,H:J7,I:J7,j:tD,L:iD,m:eD,M:nD,p:U,q:JE,Q:oD,s:lD,S:rD,u:GE,U:XE,V:ZE,w:YE,W:QE,x:N,X:W,y:Q7,Y:Z7,Z:KE,"%":sD};E.x=I(n,E),E.X=I(r,E),E.c=I(t,E),$.x=I(n,$),$.X=I(r,$),$.c=I(t,$);function I(ne,xe){return function(Ae){var Y=[],ke=-1,Ee=0,Be=ne.length,Fe,Ge,mt;for(Ae instanceof Date||(Ae=new Date(+Ae));++ke<Be;)ne.charCodeAt(ke)===37&&(Y.push(ne.slice(Ee,ke)),(Ge=X7[Fe=ne.charAt(++ke)])!=null?Fe=ne.charAt(++ke):Ge=Fe==="e"?" ":"0",(mt=xe[Fe])&&(Fe=mt(Ae,Ge)),Y.push(Fe),Ee=ke+1);return Y.push(ne.slice(Ee,ke)),Y.join("")}}function D(ne,xe){return function(Ae){var Y=kl(1900,void 0,1),ke=j(Y,ne,Ae+="",0),Ee,Be;if(ke!=Ae.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(xe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=j4(kl(Y.y,0,1)),Be=Ee.getUTCDay(),Ee=Be>4||Be===0?ou.ceil(Ee):ou(Ee),Ee=Ah.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=U4(kl(Y.y,0,1)),Be=Ee.getDay(),Ee=Be>4||Be===0?su.ceil(Ee):su(Ee),Ee=dl.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Be="Z"in Y?j4(kl(Y.y,0,1)).getUTCDay():U4(kl(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Be+5)%7:Y.w+Y.U*7-(Be+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,j4(Y)):U4(Y)}}function j(ne,xe,Ae,Y){for(var ke=0,Ee=xe.length,Be=Ae.length,Fe,Ge;ke<Ee;){if(Y>=Be)return-1;if(Fe=xe.charCodeAt(ke++),Fe===37){if(Fe=xe.charAt(ke++),Ge=T[Fe in X7?xe.charAt(ke++):Fe],!Ge||(Y=Ge(ne,Ae,Y))<0)return-1}else if(Fe!=Ae.charCodeAt(Y++))return-1}return Y}function U(ne,xe,Ae){var Y=u.exec(xe.slice(Ae));return Y?(ne.p=c.get(Y[0].toLowerCase()),Ae+Y[0].length):-1}function S(ne,xe,Ae){var Y=d.exec(xe.slice(Ae));return Y?(ne.w=g.get(Y[0].toLowerCase()),Ae+Y[0].length):-1}function C(ne,xe,Ae){var Y=f.exec(xe.slice(Ae));return Y?(ne.w=h.get(Y[0].toLowerCase()),Ae+Y[0].length):-1}function H(ne,xe,Ae){var Y=w.exec(xe.slice(Ae));return Y?(ne.m=k.get(Y[0].toLowerCase()),Ae+Y[0].length):-1}function P(ne,xe,Ae){var Y=y.exec(xe.slice(Ae));return Y?(ne.m=b.get(Y[0].toLowerCase()),Ae+Y[0].length):-1}function Q(ne,xe,Ae){return j(ne,t,xe,Ae)}function N(ne,xe,Ae){return j(ne,n,xe,Ae)}function W(ne,xe,Ae){return j(ne,r,xe,Ae)}function ae(ne){return s[ne.getDay()]}function ie(ne){return a[ne.getDay()]}function le(ne){return l[ne.getMonth()]}function ee(ne){return o[ne.getMonth()]}function se(ne){return i[+(ne.getHours()>=12)]}function oe(ne){return 1+~~(ne.getMonth()/3)}function re(ne){return s[ne.getUTCDay()]}function Se(ne){return a[ne.getUTCDay()]}function Ce(ne){return l[ne.getUTCMonth()]}function De(ne){return o[ne.getUTCMonth()]}function ce(ne){return i[+(ne.getUTCHours()>=12)]}function pe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var xe=I(ne+="",E);return xe.toString=function(){return ne},xe},parse:function(ne){var xe=D(ne+="",!1);return xe.toString=function(){return ne},xe},utcFormat:function(ne){var xe=I(ne+="",$);return xe.toString=function(){return ne},xe},utcParse:function(ne){var xe=D(ne+="",!0);return xe.toString=function(){return ne},xe}}}var X7={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,UE=/^%/,jE=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function WE(e){return e.replace(jE,"\\$&")}function $l(e){return new RegExp("^(?:"+e.map(WE).join("|")+")","i")}function Al(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function YE(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function GE(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function XE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ZE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function QE(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Z7(e,t,n){var r=Et.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Q7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KE(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JE(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function eD(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function K7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tD(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function J7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nD(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rD(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function iD(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function aD(e,t,n){var r=Et.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sD(e,t,n){var r=UE.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function oD(e,t,n){var r=Et.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function lD(e,t,n){var r=Et.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function e8(e,t){return Qe(e.getDate(),t,2)}function uD(e,t){return Qe(e.getHours(),t,2)}function cD(e,t){return Qe(e.getHours()%12||12,t,2)}function fD(e,t){return Qe(1+dl.count(Zn(e),e),t,3)}function ly(e,t){return Qe(e.getMilliseconds(),t,3)}function hD(e,t){return ly(e,t)+"000"}function dD(e,t){return Qe(e.getMonth()+1,t,2)}function mD(e,t){return Qe(e.getMinutes(),t,2)}function pD(e,t){return Qe(e.getSeconds(),t,2)}function gD(e){var t=e.getDay();return t===0?7:t}function vD(e,t){return Qe(al.count(Zn(e)-1,e),t,2)}function uy(e){var t=e.getDay();return t>=4||t===0?io(e):io.ceil(e)}function yD(e,t){return e=uy(e),Qe(io.count(Zn(e),e)+(Zn(e).getDay()===4),t,2)}function bD(e){return e.getDay()}function wD(e,t){return Qe(su.count(Zn(e)-1,e),t,2)}function xD(e,t){return Qe(e.getFullYear()%100,t,2)}function MD(e,t){return e=uy(e),Qe(e.getFullYear()%100,t,2)}function SD(e,t){return Qe(e.getFullYear()%1e4,t,4)}function kD(e,t){var n=e.getDay();return e=n>=4||n===0?io(e):io.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function $D(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function t8(e,t){return Qe(e.getUTCDate(),t,2)}function AD(e,t){return Qe(e.getUTCHours(),t,2)}function CD(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function TD(e,t){return Qe(1+Ah.count(Qn(e),e),t,3)}function cy(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function ED(e,t){return cy(e,t)+"000"}function DD(e,t){return Qe(e.getUTCMonth()+1,t,2)}function _D(e,t){return Qe(e.getUTCMinutes(),t,2)}function zD(e,t){return Qe(e.getUTCSeconds(),t,2)}function ID(e){var t=e.getUTCDay();return t===0?7:t}function ND(e,t){return Qe(sl.count(Qn(e)-1,e),t,2)}function fy(e){var t=e.getUTCDay();return t>=4||t===0?ao(e):ao.ceil(e)}function qD(e,t){return e=fy(e),Qe(ao.count(Qn(e),e)+(Qn(e).getUTCDay()===4),t,2)}function BD(e){return e.getUTCDay()}function FD(e,t){return Qe(ou.count(Qn(e)-1,e),t,2)}function LD(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function RD(e,t){return e=fy(e),Qe(e.getUTCFullYear()%100,t,2)}function PD(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function OD(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ao(e):ao.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function HD(){return"+0000"}function n8(){return"%"}function r8(e){return+e}function i8(e){return Math.floor(+e/1e3)}var Fo,Eh,lu;VD({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VD(e){return Fo=VE(e),Eh=Fo.format,Fo.parse,lu=Fo.utcFormat,Fo.utcParse,Fo}function UD(e){return new Date(e)}function jD(e){return e instanceof Date?+e:+new Date(+e)}function u5(e,t,n,r,i,a,s,o,l,u){var c=Ov(),f=c.invert,h=c.domain,d=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),k=u("%b %d"),E=u("%B"),$=u("%Y");function T(I){return(l(I)<I?d:o(I)<I?g:s(I)<I?y:a(I)<I?b:r(I)<I?i(I)<I?w:k:n(I)<I?E:$)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?h(Array.from(I,jD)):h().map(UD)},c.ticks=function(I){var D=h();return e(D[0],D[D.length-1],I??10)},c.tickFormat=function(I,D){return D==null?T:u(D)},c.nice=function(I){var D=h();return(!I||typeof I.range!="function")&&(I=t(D[0],D[D.length-1],I??10)),I?h(Vv(D,I)):c},c.copy=function(){return $u(c,u5(e,t,n,r,i,a,s,o,l,u))},c}function WD(){return Ar.apply(u5(OE,HE,Zn,Ch,al,dl,kh,Mh,Kr,Eh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YD(){return Ar.apply(u5(PE,oy,Qn,Th,sl,Ah,$h,Sh,Kr,lu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _h(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Bn,c,f=!1,h;function d(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-a)*(r*y<r*a?o:l),u(f?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([e,t,n]=y,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(y){return arguments.length?(f=!!y,d):f},d.interpolator=function(y){return arguments.length?(u=y,d):u};function g(y){return function(b){var w,k,E;return arguments.length?([w,k,E]=b,u=mh(y,[w,k,E]),d):[u(0),u(.5),u(1)]}}return d.range=g(Mu),d.rangeRound=g(Gm),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return c=y,i=y(e),a=y(t),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d}}function hy(){var e=Au(_h()(Bn));return e.copy=function(){return Dh(e,hy())},bh.apply(e,arguments)}function dy(){var e=Uv(_h()).domain([.1,1,10]);return e.copy=function(){return Dh(e,dy()).base(e.base())},bh.apply(e,arguments)}function my(){var e=Wv(_h());return e.copy=function(){return Dh(e,my()).constant(e.constant())},bh.apply(e,arguments)}function py(){var e=Gv(_h());return e.copy=function(){return Dh(e,py()).exponent(e.exponent())},bh.apply(e,arguments)}function Ve(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const GD=Ve("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),XD=Ve("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ZD=Ve("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),QD=Ve("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),KD=Ve("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),JD=Ve("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),e_=Ve("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),t_=Ve("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),n_=Ve("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),r_=Ve("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),tt=e=>UA(e[e.length-1]);var gy=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ve);const vy=tt(gy);var yy=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ve);const by=tt(yy);var wy=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ve);const xy=tt(wy);var My=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ve);const Sy=tt(My);var tm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ve);const Hf=tt(tm);var ky=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ve);const $y=tt(ky);var nm=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ve);const Vf=tt(nm);var Ay=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ve);const Cy=tt(Ay);var Ty=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ve);const Ey=tt(Ty);var Dy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ve);const _y=tt(Dy);var zy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ve);const Iy=tt(zy);var Ny=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ve);const qy=tt(Ny);var By=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ve);const Fy=tt(By);var Ly=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ve);const Ry=tt(Ly);var Py=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ve);const Oy=tt(Py);var Hy=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ve);const Vy=tt(Hy);var Uy=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ve);const jy=tt(Uy);var Wy=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ve);const Yy=tt(Wy);var Gy=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ve);const Xy=tt(Gy);var Zy=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ve);const Qy=tt(Zy);var Ky=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ve);const Jy=tt(Ky);var eb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ve);const tb=tt(eb);var nb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ve);const rb=tt(nb);var ib=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ve);const ab=tt(ib);var sb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ve);const ob=tt(sb);var lb=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ve);const ub=tt(lb);var cb=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ve);const fb=tt(cb);function hb(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const db=Xm(xr(300,.5,0),xr(-240,.5,1));var mb=Xm(xr(-100,.75,.35),xr(80,1.5,.8)),pb=Xm(xr(260,.75,.35),xr(80,1.5,.8)),Pc=xr();function gb(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Pc.h=360*e-100,Pc.s=1.5-1.5*t,Pc.l=.8-.9*t,Pc+""}var Oc=Q0(),i_=Math.PI/3,a_=Math.PI*2/3;function vb(e){var t;return e=(.5-e)*Math.PI,Oc.r=255*(t=Math.sin(e))*t,Oc.g=255*(t=Math.sin(e+i_))*t,Oc.b=255*(t=Math.sin(e+a_))*t,Oc+""}function yb(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function zh(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const bb=zh(Ve("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var wb=zh(Ve("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),xb=zh(Ve("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Mb=zh(Ve("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Sb=Math.cos,c5=Math.min,Uf=Math.sin,$t=Math.sqrt,jf=Math.PI,Ih=2*jf,s_=$t(3),kb={draw(e,t){const n=$t(t+c5(t/28,.75))*.59436,r=n/2,i=r*s_;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},f5={draw(e,t){const n=$t(t/jf);e.moveTo(n,0),e.arc(0,0,n,0,Ih)}},$b={draw(e,t){const n=$t(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Ab=$t(1/3),o_=Ab*2,Cb={draw(e,t){const n=$t(t/o_),r=n*Ab;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Tb={draw(e,t){const n=$t(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Eb={draw(e,t){const n=$t(t-c5(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Db={draw(e,t){const n=$t(t),r=-n/2;e.rect(r,r,n,n)}},_b={draw(e,t){const n=$t(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},l_=.8908130915292852,zb=Uf(jf/10)/Uf(7*jf/10),u_=Uf(Ih/10)*zb,c_=-Sb(Ih/10)*zb,Ib={draw(e,t){const n=$t(t*l_),r=u_*n,i=c_*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Ih*a/5,o=Sb(s),l=Uf(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},W4=$t(3),Nb={draw(e,t){const n=-$t(t/(W4*3));e.moveTo(0,n*2),e.lineTo(-W4*n,-n),e.lineTo(W4*n,-n),e.closePath()}},f_=$t(3),qb={draw(e,t){const n=$t(t)*.6824,r=n/2,i=n*f_/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Dn=-.5,_n=$t(3)/2,rm=1/$t(12),h_=(rm/2+1)*3,Bb={draw(e,t){const n=$t(t/h_),r=n/2,i=n*rm,a=r,s=n*rm+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Dn*r-_n*i,_n*r+Dn*i),e.lineTo(Dn*a-_n*s,_n*a+Dn*s),e.lineTo(Dn*o-_n*l,_n*o+Dn*l),e.lineTo(Dn*r+_n*i,Dn*i-_n*r),e.lineTo(Dn*a+_n*s,Dn*s-_n*a),e.lineTo(Dn*o+_n*l,Dn*l-_n*o),e.closePath()}},Fb={draw(e,t){const n=$t(t-c5(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},d_=[f5,$b,Cb,Db,Ib,Nb,Bb],m_=[f5,Eb,Fb,qb,kb,_b,Tb];function Ll(e,t,n){this.k=e,this.x=t,this.y=n}Ll.prototype={constructor:Ll,scale:function(e){return e===1?this:new Ll(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ll(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ll.prototype;const Hc={f32:Float32Array,u8:Uint8Array};class Ke{constructor(t,n,r="f32",i=!1){this.data=t,this.shape=n,this.strides=[n[1],1],this.offset=0,this.codebook=void 0,this.dtype=r,this.transposed=i}get bytes(){const t=this.data.byteLength/this.data.length;return this.shape[0]*this.shape[1]*t}static totalBytes(...t){let n=0;for(const r of t)n+=r.bytes+(r.codebook?r.codebook.bytes:0);return n}static GB(...t){return Ke.totalBytes(...t)/1024**3}static MB(...t){return Ke.totalBytes(...t)/1024**2}static KB(...t){return Ke.totalBytes(...t)/1024}relu(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.data[this.index2D(t,n)];this.data[this.index2D(t,n)]=r>0?r:0}return this}sigmoid(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.index2D(t,n),i=this.data[r];this.data[r]=1/(1+Math.exp(-i))}return this}tanh(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.offset+t*this.strides[0]+n*this.strides[1],i=this.data[r],a=Math.exp(i),s=Math.exp(-i);this.data[r]=(a-s)/(a+s)}return this}print({round:t=3,showBytes:n=!1}={}){let r="";for(let i=0;i<this.shape[0];i++){let a="|";for(let s=0;s<this.shape[1];s++){let o=this.data[this.index2D(i,s)];this.dtype[0]==="u"&&(t=0),a+=" "+o.toFixed(t)}a+=" |",r+=a+`
`}console.log(r,this.dtype),n&&console.log(`${this.bytes} bytes`)}get T(){const t=this.shallowCopy();return t.shape=[this.shape[1],this.shape[0]],t.transposed=!t.transposed,t}shallowCopy(){const t=new Ke(this.data,Y4(this.shape,Array),this.dtype);return t.codebook=this.codebook,t}deepCopy(){return new Ke(Y4(this.data,Hc[this.dtype]),Y4(this.shape,Array),this.dtype)}self(t,n=!0){return t?this.deepCopy():this}sub(t,n=!1){const r=this.self(n);let i=[t.strides[0],t.strides[1]];r.shape[0]>t.shape[0]&&(t.strides[0]=0),r.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let a=0;a<r.shape[0];a++)for(let s=0;s<r.shape[1];s++)r.data[r.index2D(a,s)]-=t.value2D(a,s);return t.strides[0]=i[0],t.strides[1]=i[1],r}add(t){let n=[t.strides[0],t.strides[1]];this.shape[0]>t.shape[0]&&(t.strides[0]=0),this.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let r=0;r<this.shape[0];r++)for(let i=0;i<this.shape[1];i++)this.data[this.index2D(r,i)]+=t.value2D(r,i);return t.strides[0]=n[0],t.strides[1]=n[1],this}index2D(t,n){return this.transposed&&([t,n]=[n,t]),this.offset+this.strides[0]*t+this.strides[1]*n}value2D(t,n){const r=this.data[this.index2D(t,n)];return this.codebook?this.codebook.data[r]:r}matmul(t){const n=this.shape[0],r=this.shape[1],i=t.shape[1];a8(r===t.shape[0],"must have same inner dimensions");const a=Ke.zeros([n,i],"f32");for(let s=0;s<n;s++)for(let o=0;o<i;o++)for(let l=0;l<r;l++)a.data[a.index2D(s,o)]+=this.value2D(s,l)*t.value2D(l,o);return a}static zeros(t,n){return new Ke(Array(t[0]*t[1]).fill(0),t,n)}static arange(t,n="f32"){let r=new Array(t[0]*t[1]);for(let i=0;i<r.length;i++)r[i]=i;return new Ke(r,t,n)}static randrng(t,n,r){const i=Ke.$(t[0]*t[1],[t[0],t[1]],r);for(let a=0;a<i.data.length;a++)i.data[a]=n();return i}static randu(t,n=0,r=1,i="f32"){return Ke.randrng(t,$E(n,r),i)}static randn(t,n=0,r=1,i="f32"){return Ke.randrng(t,AE(n,r),i)}round(){for(let t=0;t<this.data.length;t++)this.data[t]=Math.round(this.data[t]);return this}to(t){this.dtype=t;const n=new Hc[t](this.data.length);for(let r=0;r<this.data.length;r++)n[r]=this.data[r];return this.data=n,this}static $(t,n,r="f32"){return a8(r in Hc,"type must be f32 or u8"),new Ke(new Hc[r](t),n,r)}reconstruct(){const t=Ke.zeros([this.shape[0],this.shape[1]]);for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t.data[t.index2D(n,r)]=this.value2D(n,r);return t}sum(){let t=0;for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t+=this.value2D(n,r);return t}}function a8(e,t=""){if(!e)throw Error(t)}function Y4(e,t){const n=new t(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}function Nh(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}const G4={distanceFunction:Nh};function p_(e,t,n=G4){const r=n.distanceFunction||G4.distanceFunction,i=n.similarityFunction||G4.similarityFunction;let a=-1;if(typeof i=="function"){let s=Number.MIN_VALUE;for(let o=0;o<e.length;o++){const l=i(t,e[o]);l>s&&(s=l,a=o)}}else if(typeof r=="function"){let s=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const l=r(t,e[o]);l<s&&(s=l,a=o)}}else throw new Error("A similarity or distance function it's required");return a}function g_(e,t){let n=new Array(e.length);for(let r=0;r<e.length;++r)for(let i=r;i<e.length;++i){n[r]||(n[r]=new Array(e.length)),n[i]||(n[i]=new Array(e.length));const a=t(e[r],e[i]);n[r][i]=a,n[i][r]=a}return n}function Lb(e,t,n,r){for(let i=0;i<e.length;i++)n[i]=p_(t,e[i],{distanceFunction:r});return n}function v_(e,t,n,r){const i=t[0].length;let a=new Array(r),s=new Array(r);for(let o=0;o<r;o++){a[o]=new Array(i),s[o]=0;for(let l=0;l<i;l++)a[o][l]=0}for(let o=0;o<t.length;o++){s[n[o]]++;for(let l=0;l<i;l++)a[n[o]][l]+=t[o][l]}for(let o=0;o<r;o++)for(let l=0;l<i;l++)s[o]?a[o][l]/=s[o]:a[o][l]=e[o][l];return a}function y_(e,t,n,r){for(let i=0;i<e.length;i++)if(n(e[i],t[i])>r)return!1;return!0}class b_{constructor(t,n,r,i,a){this.clusters=t,this.centroids=n,this.converged=r,this.iterations=i,this.distance=a}nearest(t){const n=new Array(t.length);return Lb(t,this.centroids,n,this.distance)}computeInformation(t){let n=this.centroids.map(r=>({centroid:r,error:0,size:0}));for(let r=0;r<t.length;r++)n[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),n[this.clusters[r]].size++;for(let r=0;r<this.centroids.length;r++){let i=n[r].error;n[r].size&&i!==-1?i/=n[r].size:n[r].error=-1}return n}}function w_(e,t){throw new Error(`${t}: "${String(e)}"`)}function x_(e,t){if(t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points")}const M_=Object.prototype.toString;function pn(e){const t=M_.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function S_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]>s&&(s=e[o]);return s}function k_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]<s&&(s=e[o]);return s}function s8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pn(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(t.output!==void 0){if(!pn(t.output))throw new TypeError("output option must be an array if specified");n=t.output}else n=new Array(e.length);var r=k_(e),i=S_(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,s=a===void 0?t.autoMinMax?r:0:a,o=t.max,l=o===void 0?t.autoMinMax?i:1:o;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(i-r),c=0;c<e.length;c++)n[c]=(e[c]-r)*u+s;return n}const Vc=" ".repeat(2),Rb=" ".repeat(4);function $_(){return Pb(this)}function Pb(e,t={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:a="auto"}=t;return`${e.constructor.name} {
${Vc}[
${Rb}${A_(e,n,r,i,a)}
${Vc}]
${Vc}rows: ${e.rows}
${Vc}columns: ${e.columns}
}`}function A_(e,t,n,r,i){const{rows:a,columns:s}=e,o=Math.min(a,t),l=Math.min(s,n),u=[];if(i==="auto"){i=!1;e:for(let c=0;c<o;c++)for(let f=0;f<l;f++)if(e.get(c,f)<0){i=!0;break e}}for(let c=0;c<o;c++){let f=[];for(let h=0;h<l;h++)f.push(C_(e.get(c,h),r,i));u.push(`${f.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-n} more columns`),o!==a&&u.push(`... ${a-t} more rows`),u.join(`
${Rb}`)}function C_(e,t,n){return(e>=0&&n?` ${o8(e,t-1)}`:o8(e,t)).padEnd(t)}function o8(e,t){let n=e.toString();if(n.length<=t)return n;let r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function T_(e,t){e.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},e.prototype.addS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r);return this},e.prototype.addM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r.get(i,a));return this},e.add=function(r,i){return new t(r).add(i)},e.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},e.prototype.subS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r);return this},e.prototype.subM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r.get(i,a));return this},e.sub=function(r,i){return new t(r).sub(i)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},e.prototype.mulS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r);return this},e.prototype.mulM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r.get(i,a));return this},e.mul=function(r,i){return new t(r).mul(i)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},e.prototype.divS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r);return this},e.prototype.divM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r.get(i,a));return this},e.div=function(r,i){return new t(r).div(i)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},e.prototype.modS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r);return this},e.prototype.modM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r.get(i,a));return this},e.mod=function(r,i){return new t(r).mod(i)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},e.prototype.andS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r);return this},e.prototype.andM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r.get(i,a));return this},e.and=function(r,i){return new t(r).and(i)},e.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},e.prototype.orS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r);return this},e.prototype.orM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r.get(i,a));return this},e.or=function(r,i){return new t(r).or(i)},e.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},e.prototype.xorS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r);return this},e.prototype.xorM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r.get(i,a));return this},e.xor=function(r,i){return new t(r).xor(i)},e.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},e.prototype.leftShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r);return this},e.prototype.leftShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r.get(i,a));return this},e.leftShift=function(r,i){return new t(r).leftShift(i)},e.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},e.prototype.signPropagatingRightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r);return this},e.prototype.signPropagatingRightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r.get(i,a));return this},e.signPropagatingRightShift=function(r,i){return new t(r).signPropagatingRightShift(i)},e.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},e.prototype.rightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r);return this},e.prototype.rightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r.get(i,a));return this},e.rightShift=function(r,i){return new t(r).rightShift(i)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,~this.get(r,i));return this},e.not=function(r){return new t(r).not()},e.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.abs(this.get(r,i)));return this},e.abs=function(r){return new t(r).abs()},e.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acos(this.get(r,i)));return this},e.acos=function(r){return new t(r).acos()},e.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acosh(this.get(r,i)));return this},e.acosh=function(r){return new t(r).acosh()},e.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asin(this.get(r,i)));return this},e.asin=function(r){return new t(r).asin()},e.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asinh(this.get(r,i)));return this},e.asinh=function(r){return new t(r).asinh()},e.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atan(this.get(r,i)));return this},e.atan=function(r){return new t(r).atan()},e.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atanh(this.get(r,i)));return this},e.atanh=function(r){return new t(r).atanh()},e.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cbrt(this.get(r,i)));return this},e.cbrt=function(r){return new t(r).cbrt()},e.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.ceil(this.get(r,i)));return this},e.ceil=function(r){return new t(r).ceil()},e.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.clz32(this.get(r,i)));return this},e.clz32=function(r){return new t(r).clz32()},e.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cos(this.get(r,i)));return this},e.cos=function(r){return new t(r).cos()},e.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cosh(this.get(r,i)));return this},e.cosh=function(r){return new t(r).cosh()},e.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.exp(this.get(r,i)));return this},e.exp=function(r){return new t(r).exp()},e.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.expm1(this.get(r,i)));return this},e.expm1=function(r){return new t(r).expm1()},e.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.floor(this.get(r,i)));return this},e.floor=function(r){return new t(r).floor()},e.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.fround(this.get(r,i)));return this},e.fround=function(r){return new t(r).fround()},e.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log(this.get(r,i)));return this},e.log=function(r){return new t(r).log()},e.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log1p(this.get(r,i)));return this},e.log1p=function(r){return new t(r).log1p()},e.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log10(this.get(r,i)));return this},e.log10=function(r){return new t(r).log10()},e.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log2(this.get(r,i)));return this},e.log2=function(r){return new t(r).log2()},e.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.round(this.get(r,i)));return this},e.round=function(r){return new t(r).round()},e.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sign(this.get(r,i)));return this},e.sign=function(r){return new t(r).sign()},e.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sin(this.get(r,i)));return this},e.sin=function(r){return new t(r).sin()},e.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sinh(this.get(r,i)));return this},e.sinh=function(r){return new t(r).sinh()},e.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sqrt(this.get(r,i)));return this},e.sqrt=function(r){return new t(r).sqrt()},e.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tan(this.get(r,i)));return this},e.tan=function(r){return new t(r).tan()},e.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tanh(this.get(r,i)));return this},e.tanh=function(r){return new t(r).tanh()},e.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.trunc(this.get(r,i)));return this},e.trunc=function(r){return new t(r).trunc()},e.pow=function(r,i){return new t(r).pow(i)},e.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},e.prototype.powS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r));return this},e.prototype.powM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r.get(i,a)));return this}}function Hn(e,t,n){let r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function Vn(e,t,n){let r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function Oo(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function Ho(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function E_(e,t){if(!pn(t))throw new TypeError("row indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function D_(e,t){if(!pn(t))throw new TypeError("column indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function l8(e,t,n,r,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Uc("startRow",t),Uc("endRow",n),Uc("startColumn",r),Uc("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function qh(e,t=0){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Uc(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}function Lo(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function __(e){let t=qh(e.rows);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}function z_(e){let t=qh(e.columns);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}function I_(e){let t=0;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t+=e.get(n,r);return t}function N_(e){let t=qh(e.rows,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}function q_(e){let t=qh(e.columns,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}function B_(e){let t=1;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t*=e.get(n,r);return t}function F_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<r;s++){let o=0,l=0,u=0;for(let c=0;c<i;c++)u=e.get(s,c)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/i)/(i-1)):a.push((l-o*o/i)/i)}return a}function L_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<i;s++){let o=0,l=0,u=0;for(let c=0;c<r;c++)u=e.get(c,s)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/r)/(r-1)):a.push((l-o*o/r)/r)}return a}function R_(e,t,n){const r=e.rows,i=e.columns,a=r*i;let s=0,o=0,l=0;for(let u=0;u<r;u++)for(let c=0;c<i;c++)l=e.get(u,c)-n,s+=l,o+=l*l;return t?(o-s*s/a)/(a-1):(o-s*s/a)/a}function P_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function O_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function H_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function V_(e){const t=[];for(let n=0;n<e.rows;n++){let r=0;for(let i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function U_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function j_(e){const t=[];for(let n=0;n<e.columns;n++){let r=0;for(let i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function W_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function Y_(e){const t=e.size-1;let n=0;for(let r=0;r<e.columns;r++)for(let i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function G_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}class je{static from1DArray(t,n,r){if(t*n!==r.length)throw new RangeError("data length does not match given dimensions");let a=new ze(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,r[s*n+o]);return a}static rowVector(t){let n=new ze(1,t.length);for(let r=0;r<t.length;r++)n.set(0,r,t[r]);return n}static columnVector(t){let n=new ze(t.length,1);for(let r=0;r<t.length;r++)n.set(r,0,t[r]);return n}static zeros(t,n){return new ze(t,n)}static ones(t,n){return new ze(t,n).fill(1)}static rand(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=r;let a=new ze(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,i());return a}static randInt(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:i=0,max:a=1e3,random:s=Math.random}=r;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let o=a-i,l=new ze(t,n);for(let u=0;u<t;u++)for(let c=0;c<n;c++){let f=i+Math.round(s()*o);l.set(u,c,f)}return l}static eye(t,n,r){n===void 0&&(n=t),r===void 0&&(r=1);let i=Math.min(t,n),a=this.zeros(t,n);for(let s=0;s<i;s++)a.set(s,s,r);return a}static diag(t,n,r){let i=t.length;n===void 0&&(n=i),r===void 0&&(r=n);let a=Math.min(i,n,r),s=this.zeros(n,r);for(let o=0;o<a;o++)s.set(o,o,t[o]);return s}static min(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new ze(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.min(t.get(s,o),n.get(s,o)));return a}static max(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new this(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.max(t.get(s,o),n.get(s,o)));return a}static checkMatrix(t){return je.isMatrix(t)?t:new ze(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.call(this,n,r);return this}to1DArray(){let t=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.push(this.get(n,r));return t}to2DArray(){let t=[];for(let n=0;n<this.rows;n++){t.push([]);for(let r=0;r<this.columns;r++)t[n].push(this.get(n,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let n=0;n<=t;n++)if(this.get(t,n)!==this.get(n,t))return!1;return!0}return!1}isEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);for(let s=n+1;s<this.rows;s++)this.get(t,s)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),n=0,r=0;for(;n<t.rows&&r<t.columns;){let i=n;for(let a=n;a<t.rows;a++)t.get(a,r)>t.get(i,r)&&(i=a);if(t.get(i,r)===0)r++;else{t.swapRows(n,i);let a=t.get(n,r);for(let s=r;s<t.columns;s++)t.set(n,s,t.get(n,s)/a);for(let s=n+1;s<t.rows;s++){let o=t.get(s,r)/t.get(n,r);t.set(s,r,0);for(let l=r+1;l<t.columns;l++)t.set(s,l,t.get(s,l)-t.get(n,l)*o)}n++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),n=t.columns,r=t.rows,i=r-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,s=!1;for(;a<r&&s===!1;)t.get(i,a)===1?s=!0:a++;for(let o=0;o<i;o++){let l=t.get(o,a);for(let u=a;u<n;u++){let c=t.get(o,u)-l*t.get(i,u);t.set(o,u,c)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=t;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new ze(this.rows*n,this.columns*r);for(let a=0;a<n;a++)for(let s=0;s<r;s++)i.setSubMatrix(this,this.rows*a,this.columns*s);return i}fill(t){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,t);return this}neg(){return this.mulS(-1)}getRow(t){Hn(this,t);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(t,r));return n}getRowVector(t){return ze.rowVector(this.getRow(t))}setRow(t,n){Hn(this,t),n=Oo(this,n);for(let r=0;r<this.columns;r++)this.set(t,r,n[r]);return this}swapRows(t,n){Hn(this,t),Hn(this,n);for(let r=0;r<this.columns;r++){let i=this.get(t,r);this.set(t,r,this.get(n,r)),this.set(n,r,i)}return this}getColumn(t){Vn(this,t);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,t));return n}getColumnVector(t){return ze.columnVector(this.getColumn(t))}setColumn(t,n){Vn(this,t),n=Ho(this,n);for(let r=0;r<this.rows;r++)this.set(r,t,n[r]);return this}swapColumns(t,n){Vn(this,t),Vn(this,n);for(let r=0;r<this.rows;r++){let i=this.get(r,t);this.set(r,t,this.get(r,n)),this.set(r,n,i)}return this}addRowVector(t){t=Oo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[r]);return this}subRowVector(t){t=Oo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[r]);return this}mulRowVector(t){t=Oo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[r]);return this}divRowVector(t){t=Oo(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[r]);return this}addColumnVector(t){t=Ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[n]);return this}subColumnVector(t){t=Ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[n]);return this}mulColumnVector(t){t=Ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[n]);return this}divColumnVector(t){t=Ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[n]);return this}mulRow(t,n){Hn(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*n);return this}mulColumn(t,n){Vn(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*n);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){Lo(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}minIndex(){Lo(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}maxRow(t){if(Hn(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>n&&(n=this.get(t,r));return n}maxRowIndex(t){Hn(this,t),Lo(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>n&&(n=this.get(t,i),r[1]=i);return r}minRow(t){if(Hn(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<n&&(n=this.get(t,r));return n}minRowIndex(t){Hn(this,t),Lo(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<n&&(n=this.get(t,i),r[1]=i);return r}maxColumn(t){if(Vn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>n&&(n=this.get(r,t));return n}maxColumnIndex(t){Vn(this,t),Lo(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>n&&(n=this.get(i,t),r[0]=i);return r}minColumn(t){if(Vn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<n&&(n=this.get(r,t));return n}minColumnIndex(t){Vn(this,t),Lo(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<n&&(n=this.get(i,t),r[0]=i);return r}diag(){let t=Math.min(this.rows,this.columns),n=[];for(let r=0;r<t;r++)n.push(this.get(r,r));return n}norm(t="frobenius"){let n=0;if(t==="max")return this.max();if(t==="frobenius"){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)n=n+this.get(r,i)*this.get(r,i);return Math.sqrt(n)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t+=this.get(n,r),this.set(n,r,t);return this}dot(t){je.isMatrix(t)&&(t=t.to1DArray());let n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let i=0;i<n.length;i++)r+=n[i]*t[i];return r}mmul(t){t=ze.checkMatrix(t);let n=this.rows,r=this.columns,i=t.columns,a=new ze(n,i),s=new Float64Array(r);for(let o=0;o<i;o++){for(let l=0;l<r;l++)s[l]=t.get(l,o);for(let l=0;l<n;l++){let u=0;for(let c=0;c<r;c++)u+=this.get(l,c)*s[c];a.set(l,o,u)}}return a}strassen2x2(t){t=ze.checkMatrix(t);let n=new ze(2,2);const r=this.get(0,0),i=t.get(0,0),a=this.get(0,1),s=t.get(0,1),o=this.get(1,0),l=t.get(1,0),u=this.get(1,1),c=t.get(1,1),f=(r+u)*(i+c),h=(o+u)*i,d=r*(s-c),g=u*(l-i),y=(r+a)*c,b=(o-r)*(i+s),w=(a-u)*(l+c),k=f+g-y+w,E=d+y,$=h+g,T=f-h+d+b;return n.set(0,0,k),n.set(0,1,E),n.set(1,0,$),n.set(1,1,T),n}strassen3x3(t){t=ze.checkMatrix(t);let n=new ze(3,3);const r=this.get(0,0),i=this.get(0,1),a=this.get(0,2),s=this.get(1,0),o=this.get(1,1),l=this.get(1,2),u=this.get(2,0),c=this.get(2,1),f=this.get(2,2),h=t.get(0,0),d=t.get(0,1),g=t.get(0,2),y=t.get(1,0),b=t.get(1,1),w=t.get(1,2),k=t.get(2,0),E=t.get(2,1),$=t.get(2,2),T=(r+i+a-s-o-c-f)*b,I=(r-s)*(-d+b),D=o*(-h+d+y-b-w-k+$),j=(-r+s+o)*(h-d+b),U=(s+o)*(-h+d),S=r*h,C=(-r+u+c)*(h-g+w),H=(-r+u)*(g-w),P=(u+c)*(-h+g),Q=(r+i+a-o-l-u-c)*w,N=c*(-h+g+y-b-w-k+E),W=(-a+c+f)*(b+k-E),ae=(a-f)*(b-E),ie=a*k,le=(c+f)*(-k+E),ee=(-a+o+l)*(w+k-$),se=(a-l)*(w-$),oe=(o+l)*(-k+$),re=i*y,Se=l*E,Ce=s*g,De=u*d,ce=f*$,pe=S+ie+re,ne=T+j+U+S+W+ie+le,xe=S+C+P+Q+ie+ee+oe,Ae=I+D+j+S+ie+ee+se,Y=I+j+U+S+Se,ke=ie+ee+se+oe+Ce,Ee=S+C+H+N+W+ae+ie,Be=W+ae+ie+le+De,Fe=S+C+H+P+ce;return n.set(0,0,pe),n.set(0,1,ne),n.set(0,2,xe),n.set(1,0,Ae),n.set(1,1,Y),n.set(1,2,ke),n.set(2,0,Ee),n.set(2,1,Be),n.set(2,2,Fe),n}mmulStrassen(t){t=ze.checkMatrix(t);let n=this.clone(),r=n.rows,i=n.columns,a=t.rows,s=t.columns;i!==a&&console.warn(`Multiplying ${r} x ${i} and ${a} x ${s} matrix: dimensions do not match.`);function o(f,h,d){let g=f.rows,y=f.columns;if(g===h&&y===d)return f;{let b=je.zeros(h,d);return b=b.setSubMatrix(f,0,0),b}}let l=Math.max(r,a),u=Math.max(i,s);n=o(n,l,u),t=o(t,l,u);function c(f,h,d,g){if(d<=512||g<=512)return f.mmul(h);d%2===1&&g%2===1?(f=o(f,d+1,g+1),h=o(h,d+1,g+1)):d%2===1?(f=o(f,d+1,g),h=o(h,d+1,g)):g%2===1&&(f=o(f,d,g+1),h=o(h,d,g+1));let y=parseInt(f.rows/2,10),b=parseInt(f.columns/2,10),w=f.subMatrix(0,y-1,0,b-1),k=h.subMatrix(0,y-1,0,b-1),E=f.subMatrix(0,y-1,b,f.columns-1),$=h.subMatrix(0,y-1,b,h.columns-1),T=f.subMatrix(y,f.rows-1,0,b-1),I=h.subMatrix(y,h.rows-1,0,b-1),D=f.subMatrix(y,f.rows-1,b,f.columns-1),j=h.subMatrix(y,h.rows-1,b,h.columns-1),U=c(je.add(w,D),je.add(k,j),y,b),S=c(je.add(T,D),k,y,b),C=c(w,je.sub($,j),y,b),H=c(D,je.sub(I,k),y,b),P=c(je.add(w,E),j,y,b),Q=c(je.sub(T,w),je.add(k,$),y,b),N=c(je.sub(E,D),je.add(I,j),y,b),W=je.add(U,H);W.sub(P),W.add(N);let ae=je.add(C,P),ie=je.add(S,H),le=je.sub(U,S);le.add(C),le.add(Q);let ee=je.zeros(2*W.rows,2*W.columns);return ee=ee.setSubMatrix(W,0,0),ee=ee.setSubMatrix(ae,W.rows,0),ee=ee.setSubMatrix(ie,0,W.columns),ee=ee.setSubMatrix(le,W.rows,W.columns),ee.subMatrix(0,d-1,0,g-1)}return c(n,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new ze(this.rows,this.columns);for(let a=0;a<this.rows;a++){const s=this.getRow(a);s.length>0&&s8(s,{min:n,max:r,output:s}),i.setRow(a,s)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new ze(this.rows,this.columns);for(let a=0;a<this.columns;a++){const s=this.getColumn(a);s.length&&s8(s,{min:n,max:r,output:s}),i.setColumn(a,s)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<t;r++){let i=this.get(n,r),a=this.get(n,this.columns-1-r);this.set(n,r,a),this.set(n,this.columns-1-r,i)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<t;r++){let i=this.get(r,n),a=this.get(this.rows-1-r,n);this.set(r,n,a),this.set(this.rows-1-r,n,i)}return this}kroneckerProduct(t){t=ze.checkMatrix(t);let n=this.rows,r=this.columns,i=t.rows,a=t.columns,s=new ze(n*i,r*a);for(let o=0;o<n;o++)for(let l=0;l<r;l++)for(let u=0;u<i;u++)for(let c=0;c<a;c++)s.set(i*o+u,a*l+c,this.get(o,l)*t.get(u,c));return s}kroneckerSum(t){if(t=ze.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=t.rows,i=this.kroneckerProduct(ze.eye(r,r)),a=ze.eye(n,n).kroneckerProduct(t);return i.add(a)}transpose(){let t=new ze(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(r,n,this.get(n,r));return t}sortRows(t=u8){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(t));return this}sortColumns(t=u8){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(t));return this}subMatrix(t,n,r,i){l8(this,t,n,r,i);let a=new ze(n-t+1,i-r+1);for(let s=t;s<=n;s++)for(let o=r;o<=i;o++)a.set(s-t,o-r,this.get(s,o));return a}subMatrixRow(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let i=new ze(t.length,r-n+1);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,s-n,this.get(t[a],s))}return i}subMatrixColumn(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let i=new ze(r-n+1,t.length);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(s-n,a,this.get(s,t[a]))}return i}setSubMatrix(t,n,r){if(t=ze.checkMatrix(t),t.isEmpty())return this;let i=n+t.rows-1,a=r+t.columns-1;l8(this,n,i,r,a);for(let s=0;s<t.rows;s++)for(let o=0;o<t.columns;o++)this.set(n+s,r+o,t.get(s,o));return this}selection(t,n){E_(this,t),D_(this,n);let r=new ze(t.length,n.length);for(let i=0;i<t.length;i++){let a=t[i];for(let s=0;s<n.length;s++){let o=n[s];r.set(i,s,this.get(a,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),n=0;for(let r=0;r<t;r++)n+=this.get(r,r);return n}clone(){let t=new ze(this.rows,this.columns);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(n,r,this.get(n,r));return t}sum(t){switch(t){case"row":return __(this);case"column":return z_(this);case void 0:return I_(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return N_(this);case"column":return q_(this);case void 0:return B_(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const n=this.sum(t);switch(t){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(t)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!pn(i))throw new TypeError("mean must be an array");return F_(this,r,i)}case"column":{if(!pn(i))throw new TypeError("mean must be an array");return L_(this,r,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return R_(this,r,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,n){typeof t=="object"&&(n=t,t=void 0);const r=this.variance(t,n);if(t===void 0)return Math.sqrt(r);for(let i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}center(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(t)}=n;switch(t){case"row":{if(!pn(r))throw new TypeError("center must be an array");return P_(this,r),this}case"column":{if(!pn(r))throw new TypeError("center must be an array");return O_(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return H_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(t){case"row":{if(r===void 0)r=V_(this);else if(!pn(r))throw new TypeError("scale must be an array");return U_(this,r),this}case"column":{if(r===void 0)r=j_(this);else if(!pn(r))throw new TypeError("scale must be an array");return W_(this,r),this}case void 0:{if(r===void 0)r=Y_(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return G_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return Pb(this,t)}}je.prototype.klass="Matrix";typeof Symbol<"u"&&(je.prototype[Symbol.for("nodejs.util.inspect.custom")]=$_);function u8(e,t){return e-t}function X_(e){return e.every(t=>typeof t=="number")}je.random=je.rand;je.randomInt=je.randInt;je.diagonal=je.diag;je.prototype.diagonal=je.prototype.diag;je.identity=je.eye;je.prototype.negate=je.prototype.neg;je.prototype.tensorProduct=je.prototype.kroneckerProduct;class ze extends je{constructor(t,n){if(super(),ze.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0)if(this.data=[],Number.isInteger(n)&&n>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(pn(t)){const r=t;if(t=r.length,n=t?r[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(r[i].length!==n)throw new RangeError("Inconsistent array dimensions");if(!X_(r[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=n}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}removeRow(t){return Hn(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,n){return n===void 0&&(n=t,t=this.rows),Hn(this,t,!0),n=Float64Array.from(Oo(this,n)),this.data.splice(t,0,n),this.rows+=1,this}removeColumn(t){Vn(this,t);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns-1);for(let i=0;i<t;i++)r[i]=this.data[n][i];for(let i=t+1;i<this.columns;i++)r[i-1]=this.data[n][i];this.data[n]=r}return this.columns-=1,this}addColumn(t,n){typeof n>"u"&&(n=t,t=this.columns),Vn(this,t,!0),n=Ho(this,n);for(let r=0;r<this.rows;r++){const i=new Float64Array(this.columns+1);let a=0;for(;a<t;a++)i[a]=this.data[r][a];for(i[a++]=n[r];a<this.columns+1;a++)i[a]=this.data[r][a-1];this.data[r]=i}return this.columns+=1,this}}T_(je,ze);class Z_ extends je{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}}function Ro(e,t){let n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):t!==0?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}class Q_{constructor(t,n={}){if(t=Z_.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,i=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:s=!0,autoTranspose:o=!1}=n;let l=!!a,u=!!s,c=!1,f;if(r<i)if(!o)f=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{f=t.transpose(),r=f.rows,i=f.columns,c=!0;let S=l;l=u,u=S}else f=t.clone();let h=Math.min(r,i),d=Math.min(r+1,i),g=new Float64Array(d),y=new ze(r,h),b=new ze(i,i),w=new Float64Array(i),k=new Float64Array(r),E=new Float64Array(d);for(let S=0;S<d;S++)E[S]=S;let $=Math.min(r-1,i),T=Math.max(0,Math.min(i-2,r)),I=Math.max($,T);for(let S=0;S<I;S++){if(S<$){g[S]=0;for(let C=S;C<r;C++)g[S]=Ro(g[S],f.get(C,S));if(g[S]!==0){f.get(S,S)<0&&(g[S]=-g[S]);for(let C=S;C<r;C++)f.set(C,S,f.get(C,S)/g[S]);f.set(S,S,f.get(S,S)+1)}g[S]=-g[S]}for(let C=S+1;C<i;C++){if(S<$&&g[S]!==0){let H=0;for(let P=S;P<r;P++)H+=f.get(P,S)*f.get(P,C);H=-H/f.get(S,S);for(let P=S;P<r;P++)f.set(P,C,f.get(P,C)+H*f.get(P,S))}w[C]=f.get(S,C)}if(l&&S<$)for(let C=S;C<r;C++)y.set(C,S,f.get(C,S));if(S<T){w[S]=0;for(let C=S+1;C<i;C++)w[S]=Ro(w[S],w[C]);if(w[S]!==0){w[S+1]<0&&(w[S]=0-w[S]);for(let C=S+1;C<i;C++)w[C]/=w[S];w[S+1]+=1}if(w[S]=-w[S],S+1<r&&w[S]!==0){for(let C=S+1;C<r;C++)k[C]=0;for(let C=S+1;C<r;C++)for(let H=S+1;H<i;H++)k[C]+=w[H]*f.get(C,H);for(let C=S+1;C<i;C++){let H=-w[C]/w[S+1];for(let P=S+1;P<r;P++)f.set(P,C,f.get(P,C)+H*k[P])}}if(u)for(let C=S+1;C<i;C++)b.set(C,S,w[C])}}let D=Math.min(i,r+1);if($<i&&(g[$]=f.get($,$)),r<D&&(g[D-1]=0),T+1<D&&(w[T]=f.get(T,D-1)),w[D-1]=0,l){for(let S=$;S<h;S++){for(let C=0;C<r;C++)y.set(C,S,0);y.set(S,S,1)}for(let S=$-1;S>=0;S--)if(g[S]!==0){for(let C=S+1;C<h;C++){let H=0;for(let P=S;P<r;P++)H+=y.get(P,S)*y.get(P,C);H=-H/y.get(S,S);for(let P=S;P<r;P++)y.set(P,C,y.get(P,C)+H*y.get(P,S))}for(let C=S;C<r;C++)y.set(C,S,-y.get(C,S));y.set(S,S,1+y.get(S,S));for(let C=0;C<S-1;C++)y.set(C,S,0)}else{for(let C=0;C<r;C++)y.set(C,S,0);y.set(S,S,1)}}if(u)for(let S=i-1;S>=0;S--){if(S<T&&w[S]!==0)for(let C=S+1;C<i;C++){let H=0;for(let P=S+1;P<i;P++)H+=b.get(P,S)*b.get(P,C);H=-H/b.get(S+1,S);for(let P=S+1;P<i;P++)b.set(P,C,b.get(P,C)+H*b.get(P,S))}for(let C=0;C<i;C++)b.set(C,S,0);b.set(S,S,1)}let j=D-1,U=Number.EPSILON;for(;D>0;){let S,C;for(S=D-2;S>=-1&&S!==-1;S--){const H=Number.MIN_VALUE+U*Math.abs(g[S]+Math.abs(g[S+1]));if(Math.abs(w[S])<=H||Number.isNaN(w[S])){w[S]=0;break}}if(S===D-2)C=4;else{let H;for(H=D-1;H>=S&&H!==S;H--){let P=(H!==D?Math.abs(w[H]):0)+(H!==S+1?Math.abs(w[H-1]):0);if(Math.abs(g[H])<=U*P){g[H]=0;break}}H===S?C=3:H===D-1?C=1:(C=2,S=H)}switch(S++,C){case 1:{let H=w[D-2];w[D-2]=0;for(let P=D-2;P>=S;P--){let Q=Ro(g[P],H),N=g[P]/Q,W=H/Q;if(g[P]=Q,P!==S&&(H=-W*w[P-1],w[P-1]=N*w[P-1]),u)for(let ae=0;ae<i;ae++)Q=N*b.get(ae,P)+W*b.get(ae,D-1),b.set(ae,D-1,-W*b.get(ae,P)+N*b.get(ae,D-1)),b.set(ae,P,Q)}break}case 2:{let H=w[S-1];w[S-1]=0;for(let P=S;P<D;P++){let Q=Ro(g[P],H),N=g[P]/Q,W=H/Q;if(g[P]=Q,H=-W*w[P],w[P]=N*w[P],l)for(let ae=0;ae<r;ae++)Q=N*y.get(ae,P)+W*y.get(ae,S-1),y.set(ae,S-1,-W*y.get(ae,P)+N*y.get(ae,S-1)),y.set(ae,P,Q)}break}case 3:{const H=Math.max(Math.abs(g[D-1]),Math.abs(g[D-2]),Math.abs(w[D-2]),Math.abs(g[S]),Math.abs(w[S])),P=g[D-1]/H,Q=g[D-2]/H,N=w[D-2]/H,W=g[S]/H,ae=w[S]/H,ie=((Q+P)*(Q-P)+N*N)/2,le=P*N*(P*N);let ee=0;(ie!==0||le!==0)&&(ie<0?ee=0-Math.sqrt(ie*ie+le):ee=Math.sqrt(ie*ie+le),ee=le/(ie+ee));let se=(W+P)*(W-P)+ee,oe=W*ae;for(let re=S;re<D-1;re++){let Se=Ro(se,oe);Se===0&&(Se=Number.MIN_VALUE);let Ce=se/Se,De=oe/Se;if(re!==S&&(w[re-1]=Se),se=Ce*g[re]+De*w[re],w[re]=Ce*w[re]-De*g[re],oe=De*g[re+1],g[re+1]=Ce*g[re+1],u)for(let ce=0;ce<i;ce++)Se=Ce*b.get(ce,re)+De*b.get(ce,re+1),b.set(ce,re+1,-De*b.get(ce,re)+Ce*b.get(ce,re+1)),b.set(ce,re,Se);if(Se=Ro(se,oe),Se===0&&(Se=Number.MIN_VALUE),Ce=se/Se,De=oe/Se,g[re]=Se,se=Ce*w[re]+De*g[re+1],g[re+1]=-De*w[re]+Ce*g[re+1],oe=De*w[re+1],w[re+1]=Ce*w[re+1],l&&re<r-1)for(let ce=0;ce<r;ce++)Se=Ce*y.get(ce,re)+De*y.get(ce,re+1),y.set(ce,re+1,-De*y.get(ce,re)+Ce*y.get(ce,re+1)),y.set(ce,re,Se)}w[D-2]=se;break}case 4:{if(g[S]<=0&&(g[S]=g[S]<0?-g[S]:0,u))for(let H=0;H<=j;H++)b.set(H,S,-b.get(H,S));for(;S<j&&!(g[S]>=g[S+1]);){let H=g[S];if(g[S]=g[S+1],g[S+1]=H,u&&S<i-1)for(let P=0;P<i;P++)H=b.get(P,S+1),b.set(P,S+1,b.get(P,S)),b.set(P,S,H);if(l&&S<r-1)for(let P=0;P<r;P++)H=y.get(P,S+1),y.set(P,S+1,y.get(P,S)),y.set(P,S,H);S++}D--;break}}}if(c){let S=b;b=y,y=S}this.m=r,this.n=i,this.s=g,this.U=y,this.V=b}solve(t){let n=t,r=this.threshold,i=this.s.length,a=ze.zeros(i,i);for(let h=0;h<i;h++)Math.abs(this.s[h])<=r?a.set(h,h,0):a.set(h,h,1/this.s[h]);let s=this.U,o=this.rightSingularVectors,l=o.mmul(a),u=o.rows,c=s.rows,f=ze.zeros(u,c);for(let h=0;h<u;h++)for(let d=0;d<c;d++){let g=0;for(let y=0;y<i;y++)g+=l.get(h,y)*s.get(d,y);f.set(h,d,g)}return f.mmul(n)}solveForDiagonal(t){return this.solve(ze.diag(t))}inverse(){let t=this.V,n=this.threshold,r=t.rows,i=t.columns,a=new ze(r,this.s.length);for(let c=0;c<r;c++)for(let f=0;f<i;f++)Math.abs(this.s[f])>n&&a.set(c,f,t.get(c,f)/this.s[f]);let s=this.U,o=s.rows,l=s.columns,u=new ze(r,o);for(let c=0;c<r;c++)for(let f=0;f<o;f++){let h=0;for(let d=0;d<l;d++)h+=a.get(c,d)*s.get(f,d);u.set(c,f,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s;for(let i=0,a=r.length;i<a;i++)r[i]>t&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return ze.diag(this.s)}}function K_(e,t=Number.EPSILON){if(e=ze.checkMatrix(e),e.isEmpty())return e.transpose();let n=new Q_(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,a=n.diagonal;for(let s=0;s<a.length;s++)Math.abs(a[s])>t?a[s]=1/a[s]:a[s]=0;return i.mmul(ze.diag(a).mmul(r.transpose()))}const c8=8,J_=1/16777216,ez=15,tz=18,nz=11;function rz(e,t){e>>>=0,t>>>=0;const n=e&65535;return((e-n)*t>>>0)+n*t>>>0}class iz{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*J_}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let n=1;n<c8;n++)this.state[n&3]^=n+rz(1812433253,this.state[n-1&3]^this.state[n-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let n=0;n<c8;n++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<ez,t^=t>>>tz,t^=this.state[3]<<nz,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}const az=1e-8;function f8(e,t={},n=Math.random){const{size:r=1,replace:i=!1,probabilities:a}=t;let s,o;if(typeof e=="number"?s=sz(e):s=e.slice(),a){if(!i)throw new Error("choice with probabilities and no replacement is not implemented");if(a.length!==s.length)throw new Error("the length of probabilities option should be equal to the number of choices");o=[a[0]];for(let u=1;u<a.length;u++)o[u]=o[u-1]+a[u];if(Math.abs(1-o[o.length-1])>az)throw new Error(`probabilities should sum to 1, but instead sums to ${o[o.length-1]}`)}if(i===!1&&r>s.length)throw new Error("size option is too large");const l=[];for(let u=0;u<r;u++){const c=oz(s.length,n,o);l.push(s[c]),i||s.splice(c,1)}return l}function sz(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function oz(e,t,n){const r=t();if(n){let i=0;for(;r>n[i];)i++;return i}else return Math.floor(r*e)}class h5{constructor(t=Math.random){if(typeof t=="number"){const n=new iz(t);this.randomGenerator=n.random}else this.randomGenerator=t}choice(t,n){return typeof t=="number"?f8(t,n,this.randomGenerator):f8(t,n,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,n){return n===void 0&&(n=t,t=0),t+Math.floor(this.randomGenerator()*(n-t))}randomSample(t){const n=[];for(let r=0;r<t;r++)n.push(this.random());return n}}function lz(e,t,n){return new h5(n).choice(e,{size:t})}function uz(e,t,n,r){const i=new h5(r);let a=new Array(t);if(a[0]=Math.floor(i.random()*e.length),t>1){let s={dist:-1,index:-1};for(let o=0;o<e.length;++o)n[a[0]][o]>s.dist&&(s.dist=n[a[0]][o],s.index=o);if(a[1]=s.index,t>2)for(let o=2;o<t;++o){let l={dist:-1,index:-1};for(let u=0;u<e.length;++u){let c={dist:Number.MAX_VALUE,index:-1};for(let f=0;f<o;++f)n[f][u]<c.dist&&!a.includes(u)&&(c={dist:n[f][u],index:u});c.dist!==Number.MAX_VALUE&&c.dist>l.dist&&(l={...c})}a[o]=l.index}}return a.map(s=>e[s])}function cz(e,t,n={}){const r=new ze(e),i=r.rows,a=new h5(n.seed),s=[],o=n.localTrials||2+Math.floor(Math.log(t)),l=a.randInt(i);s.push(r.getRow(l));let u=new ze(1,r.rows);for(let d=0;d<r.rows;d++)u.set(0,d,Nh(r.getRow(d),s[0]));let c=[h8(u.getRow(0))];const f=1/c[0][i-1];let h=ze.mul(u,f);for(let d=1;d<t;d++){const g=a.choice(i,{replace:!0,size:o,probabilities:h.getRow(0)}),y=r.selection(g,hz(r.columns)),b=fz(y,r);let w=1/0,k=1/0,E=u;for(let $=0;$<o;$++){const T=ze.min(u,[b.getRow($)]),I=T.sum();I<k&&(w=g[$],k=I,E=T)}s[d]=r.getRow(w),u=E,c=[h8(u.getRow(0))],h=ze.mul(u,1/c[0][i-1])}return s}function fz(e,t){const n=new ze(e.rows,t.rows);for(let r=0;r<e.rows;r++)for(let i=0;i<t.rows;i++)n.set(r,i,Nh(e.getRow(r),t.getRow(i)));return n}function hz(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}function h8(e){let t=[e[0]];for(let n=1;n<e.length;n++)t[n]=t[n-1]+e[n];return t}const dz={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:Nh};function mz(e,t,n,r,i,a){n=Lb(t,e,n,i.distanceFunction);let s=v_(e,t,n,r),o=y_(s,e,i.distanceFunction,i.tolerance);return new b_(n,s,o,a,i.distanceFunction)}function pz(e,t,n){const r=vz(n);x_(e,t);let i=gz(e,t,r);r.maxIterations===0&&(r.maxIterations=Number.MAX_VALUE);let a=new Array(e.length),s=!1,o=0,l;for(;!s&&o<r.maxIterations;)l=mz(i,e,a,t,r,++o),s=l.converged,i=l.centroids;if(!l)throw new Error("unreachable: no kmeans step executed");return l}function gz(e,t,n){let r;if(Array.isArray(n.initialization)){if(n.initialization.length!==t)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=cz(e,t,n);break;case"random":r=lz(e,t,n.seed);break;case"mostDistant":r=uz(e,t,g_(e,n.distanceFunction),n.seed);break;default:w_(n.initialization,"Unknown initialization method")}return r}function vz(e){return{...dz,...e}}function yz(e,t=8,n=300,r=1e-4){const i=e.shape[0]*e.shape[1],a=Ke.randu([t,1]),s=Ke.zeros(e.shape,"u8");function o(c,f,h){for(let d=0;d<i;d++){const g=c.data[d];let y=0,b=1/0;for(let w=0;w<t;w++){const E=(f.data[w]-g)**2;E<b&&(b=E,y=w)}h.data[d]=y}}function l(c,f,h){for(let d=0;d<t;d++){let g=0,y=0;for(let b=0;b<i;b++)h.data[b]===d&&(g+=c.data[b],y++);y>0&&(f.data[d]=g/y)}}let u=0;for(;u<n;)o(e,a,s),l(e,a,s),u++;return{centroids:a,assignments:s}}function bz(e){const t=new Array(e.data.length);for(let n=0;n<e.data.length;n++)t[n]=[e.data[n]];return t}function wz(e,t=5,n=!1){if(t<=0)return Ke.zeros(e.shape);if(t>8)throw Error();if(n){const{centroids:r,assignments:i}=yz(e,2**t);return i.codebook=r,i}else{const r=pz(bz(e),2**t),i=Ke.$(r.clusters,e.shape,"u8");return i.codebook=Ke.$(r.centroids,[r.centroids.length,1]),i}}function so(e){return e!=null&&!Number.isNaN(e)}function Kn(e,t){return+so(t)-+so(e)||ln(e,t)}function Wf(e,t){return+so(t)-+so(e)||bu(e,t)}function Ob(e){return e!=null&&`${e}`!=""}function Hb(e){return isFinite(e)?e:NaN}function d5(e){return e>0&&isFinite(e)?e:NaN}function Vb(e){return e<0&&isFinite(e)?e:NaN}function xz(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${Mz(e.getUTCFullYear())}-${Gr(e.getUTCMonth()+1,2)}-${Gr(e.getUTCDate(),2)}${n||r||i||a?`T${Gr(n,2)}:${Gr(r,2)}${i||a?`:${Gr(i,2)}${a?`.${Gr(a,3)}`:""}`:""}Z`:""}`}function Mz(e){return e<0?`-${Gr(-e,6)}`:e>9999?`+${Gr(e,6)}`:Gr(e,4)}function Gr(e,t){return`${e}`.padStart(t,"0")}const Sz=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Ub(e,t){return Sz.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const uf=1e3,im=uf*60,am=im*60,uu=am*24,kz=uu*7,d8=uu*30,$z=uu*365,Cl=[["millisecond",.5*uf],["second",uf],["second",30*uf],["minute",im],["minute",30*im],["hour",am],["hour",12*am],["day",uu],["day",2*uu],["week",kz],["month",d8],["month",3*d8],["year",$z]],Az=new Map([["second",Kr],["minute",Mh],["hour",kh],["day",dl],["week",al],["month",Ch],["year",Zn],["monday",su],["tuesday",Kv],["wednesday",Jv],["thursday",io],["friday",ey],["saturday",ty],["sunday",al]]),Cz=new Map([["second",Kr],["minute",Sh],["hour",$h],["day",l5],["week",sl],["month",Th],["year",Qn],["monday",ou],["tuesday",ny],["wednesday",ry],["thursday",ao],["friday",iy],["saturday",ay],["sunday",sl]]);function jb(e,t){let n=`${e}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let a=t.get(n);if(!a)throw new Error(`unknown interval: ${e}`);if(!(r>1))return a;if(!a.every)throw new Error(`non-periodic interval: ${n}`);return a.every(r)}function Tz(e){return jb(e,Az)}function Wb(e){return jb(e,Cz)}function Ez(e){if(!e)return!1;const t=e.floor(new Date(Date.UTC(2e3,11,31)));return Qn(t)>=t}function Dz(e){if(!e)return!1;const t=e.floor(new Date(2e3,11,31));return Zn(t)>=t}function _z(e,t,n,r){const i=e.type==="time"?Eh:lu,a=r==="left"||r==="right"?(s,o)=>`
${s}
${o}`:r==="top"?(s,o)=>`${o}
${s}`:(s,o)=>`${s}
${o}`;switch(zz(e,t,n)){case"millisecond":return js(i(".%L"),i(":%M:%S"),a);case"second":return js(i(":%S"),i("%-I:%M"),a);case"minute":return js(i("%-I:%M"),i("%p"),a);case"hour":return js(i("%-I %p"),i("%b %-d"),a);case"day":return js(i("%-d"),i("%b"),a);case"week":return js(i("%-d"),i("%b"),a);case"month":return js(i("%b"),i("%Y"),a);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function zz(e,t,n){const r=bf(Ik(t,(l,u)=>Math.abs(u-l)||NaN));if(r>0)return Cl[Kl(([,l])=>l).right(Cl,r,1,Cl.length)-1][0];const[i,a]=Yn(e.domain()),s=typeof n=="number"?n:10,o=Math.abs(a-i)/s;return Cl[Kl(([,l])=>Math.log(l)).center(Cl,Math.log(o))][0]}function js(e,t,n){return(r,i,a)=>{const s=e(r,i),o=t(r,i),l=i-ol(a);return i!==l&&a[l]!==void 0&&o===t(a[l],l)?s:n(s,o)}}const cu=Object.getPrototypeOf(Uint8Array),Iz=Object.prototype.toString;function Tt(e,t,n){const r=typeof t;return r==="string"?m8(e,Yb(t),n):r==="function"?m8(e,t,n):r==="number"||t instanceof Date||r==="boolean"?St(e,Cu(t),n):typeof(t==null?void 0:t.transform)=="function"?p8(t.transform(e),n):p8(t,n)}function m8(e,t,n){return St(e,(n==null?void 0:n.prototype)instanceof cu?Nz(t):t,n)}function p8(e,t){return t===void 0?wn(e):e instanceof t?e:t.prototype instanceof cu&&!(e instanceof cu)?t.from(e,g5):t.from(e)}function Nz(e){return(t,n)=>g5(e(t,n))}const cf=[null],Yb=e=>t=>t[e],m5={transform:d0},Ht={transform:e=>e},qz=()=>1,Bz=()=>!0,jt=e=>e==null?e:`${e}`,rt=e=>e==null?e:+e,p5=e=>e?e[0]:void 0,sm=e=>e?e[1]:void 0,Cu=e=>()=>e;function Fz(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Qo(n,t,r)}function Yf(e){return e instanceof cu?e:St(e,g5,Float64Array)}function g5(e){return e==null?NaN:Number(e)}function Lz(e){return St(e,Gb)}function Gb(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Ub(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function c0(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Bh(e)?[void 0,e]:[e,void 0]}function gn(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function v5(e,t,n){if(e!=null)return Cr(e,t,n)}function Cr(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function wn(e){return e==null||e instanceof Array||e instanceof cu?e:Array.from(e)}function St(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function om(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Xb({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function Zb({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function Qb(e){return Xb(e)||Zb(e)||e.interval!==void 0}function co(e){return(e==null?void 0:e.toString)===Iz}function lm(e){return co(e)&&(e.type!==void 0||e.domain!==void 0)}function y5(e){return co(e)&&typeof e.transform!="function"}function fu(e){return y5(e)&&e.value===void 0&&e.channel===void 0}function Kb(e,t,n,r=Ht){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function b5(e,t){return e===void 0&&t===void 0?[p5,sm]:[e,t]}function Rz({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=c0(t)),e===void 0&&([e]=c0(n)),e}function d0(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Jb(e,t){return St(t,n=>e[n])}function Pz(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function jc(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Oz(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Gf(e){let t;return[{transform:()=>t,label:fo(e)},n=>t=n]}function jr(e){return e==null?[e]:Gf(e)}function fo(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Xf(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Jn(r)||Jn(i)?St(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):St(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function ew(e,t){const n=tw(t==null?void 0:t.interval,t==null?void 0:t.type);return n?St(e,n):e}function tw(e,t){const n=w5(e,t);return n&&(r=>so(r)?n.floor(r):r)}function w5(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>M3(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>M3(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?Tz:Wb)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function ml(e,t){if(e=w5(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Hz(e,t){if(e=ml(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Tu(e){return e===void 0||y5(e)?e:{value:e}}function Vz(e){return e==null?null:{transform:t=>Tt(t,e,Float64Array),label:fo(e)}}function m0(e){return e&&typeof e[Symbol.iterator]=="function"}function nw(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function g8(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Jn(e){for(const t of e)if(t!=null)return t instanceof Date}function Uz(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Ub(t)}function jz(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Wz(e){for(const t of e)if(t!=null)return typeof t=="number"}function X4(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function Bh(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||s0(e)!==null)}function Yz(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function sn(e){return e==null||hu(e)}function hu(e){return/^\s*none\s*$/i.test(e)}function Gz(e){return/^\s*round\s*$/i.test(e)}function rw(e,t){return v5(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function x5(e="middle"){return rw(e,"frameAnchor")}function ol(e){if(e==null)return;const t=e[0],n=e[e.length-1];return bu(t,n)}function Xz(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function Zz(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function iw(e){return m0(e)?Zz(e):e}const pr=Symbol("position"),p0=Symbol("color"),Fh=Symbol("radius"),Lh=Symbol("length"),Rh=Symbol("opacity"),Ph=Symbol("symbol"),aw=Symbol("projection"),ht=new Map([["x",pr],["y",pr],["fx",pr],["fy",pr],["r",Fh],["color",p0],["opacity",Rh],["symbol",Ph],["length",Lh],["projection",aw]]);function Qz(e){return e===pr||e===aw}const Kz=Math.sqrt(3),Jz=2/Kz,eI={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Jz,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},sw=new Map([["asterisk",kb],["circle",f5],["cross",$b],["diamond",Cb],["diamond2",Tb],["hexagon",eI],["plus",Eb],["square",Db],["square2",_b],["star",Ib],["times",Fb],["triangle",Nb],["triangle2",qb],["wye",Bb]]);function ow(e){return e&&typeof e.draw=="function"}function tI(e){return ow(e)?!0:typeof e!="string"?!1:sw.has(e.toLowerCase())}function M5(e){if(e==null||ow(e))return e;const t=sw.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function S5({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=lw(e)),t!=null&&!fu(t)&&(r=Z4(r,cw(t))),n&&(r=Z4(r,uw))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||fu(t))&&{sort:t},transform:Z4(r,s)}}function Zf({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=lw(e)),t!=null&&!fu(t)&&(r=Q4(r,cw(t))),n&&(r=Q4(r,uw))),{...i,...(t===null||fu(t))&&{sort:t},initializer:Q4(r,a)}}function Z4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,wn(n),r,i)}}function Q4(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,o,l,u,c,f;return{data:o=n,facets:l=r,channels:s}=e.call(this,n,r,i,...a),{data:c=o,facets:f=l,channels:u}=t.call(this,o,l,{...i,...s},...a),{data:c,facets:f,channels:{...s,...u}}}}function lw(e){return(t,n)=>{const r=Tt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function uw(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function cw(e){return(typeof e=="function"&&e.length!==1?nI:rI)(e)}function nI(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function rI(e){let t,n;({channel:t,value:e,order:n}={...Tu(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Wf:Kn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Kn;break;case"descending":n=Wf;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let o;if(t===void 0)o=Tt(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(o=s[t],!o)return{};o=o.value}const l=(u,c)=>n(o[u],o[c]);return{data:i,facets:a.map(u=>u.slice().sort(l))}}}function Wc(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function iI(e,t,n=fw){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",fI]),t.href!=null&&e.href===void 0&&r.push(["href",mw]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?aI(i):n(i,a,t))}function fw(e,t,n,r=hw){let i;co(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const a=r(e,t,n),[s,o]=Gf(a.label);let l;return{name:e,output:i===void 0?s:{value:s,scale:i},initialize(u){a.initialize(u),l=o([])},scope(u,c){a.scope(u,c)},reduce(u,c){l.push(a.reduce(u,c))}}}function aI(e){return{name:e,initialize(){},scope(){},reduce(){}}}function hw(e,t,n,r=k5){const i=Oz(e,n),a=r(t,i);let s,o;return{label:fo(a===Qf?null:i,a.label),initialize(l){s=i===void 0?l:Tt(l,i),a.scope==="data"&&(o=a.reduceIndex(d0(l),s))},scope(l,u){a.scope===l&&(o=a.reduceIndex(u,s))},reduce(l,u){return a.scope==null?a.reduceIndex(l,s,u):a.reduceIndex(l,s,o,u)}}}function v8(e,t){return t?Jl(Rm(e,n=>t[n]),p5):[[,e]]}function k5(e,t,n=sI){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&co(e))return uI(e);if(typeof e=="function")return cI(e);if(/^p\d{2}$/i.test(e))return Wr(Fz(e));switch(`${e}`.toLowerCase()){case"first":return mw;case"last":return hI;case"identity":return dw;case"count":return Qf;case"distinct":return dI;case"sum":return t==null?Qf:mI;case"proportion":return b8(t,"data");case"proportion-facet":return b8(t,"facet");case"deviation":return Wr(dg);case"min":return Wr(a0);case"min-index":return Wr(Ck);case"max":return Wr(wr);case"max-index":return Wr(Ak);case"mean":return y8(Dk);case"median":return y8(bf);case"variance":return Wr(hg);case"mode":return Wr(zk)}return n(e)}function sI(e){throw new Error(`invalid reduce: ${e}`)}function oI(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function lI(e,t,n){if(t){const r=t.output.transform(),i=(a,s)=>Kn(r[a],r[s]);e.forEach(a=>a.sort(i))}n&&e.forEach(r=>r.reverse())}function uI(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function cI(e){return{reduceIndex(t,n,r){return e(Jb(n,t),r)}}}function Wr(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function y8(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Jn(n)?new Date(r):r}}}const dw={reduceIndex(e,t){return Jb(t,e)}},mw={reduceIndex(e,t){return t[e[0]]}},fI={reduceIndex(e,t){const r=Jl(jo(e,a=>a.length,a=>t[a]),sm),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[5-1]=[`… ${a.length.toLocaleString("en-US")} more`,Z0(a,sm)]}return i.map(([a,s])=>`${a} (${s.toLocaleString("en-US")})`).join(`
`)}},hI={reduceIndex(e,t){return t[e[e.length-1]]}},Qf={label:"Frequency",reduceIndex(e){return e.length}},dI={label:"Distinct",reduceIndex(e,t){const n=new Lm;for(const r of e)n.add(t[r]);return n.size}},mI=Wr(Z0);function b8(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Z0(n,a=>r[a])/i}}function du(e,{scale:t,type:n,value:r,filter:i,hint:a},s){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),pw(s,{scale:t,type:n,value:Tt(e,r),label:fo(r),filter:i,hint:a})}function pI(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,du(t,r,n)]))}function gI(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:St(a,s)]}));return n.channels=e,n}function pw(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&X4(r,Bh)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&X4(r,Yz)?null:"opacity";break;case"symbol":n!==!0&&X4(r,tI)?(t.scale=null,t.value=St(r,M5)):t.scale="symbol";break;default:t.scale=ht.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ht.has(n))throw new Error(`unknown scale: ${n}`);return t}function vI(e,t,n,r,i){const{order:a,reverse:s,reduce:o=!0,limit:l}=i;for(const u in i){if(!ht.has(u))continue;let{value:c,order:f=a,reverse:h=s,reduce:d=o,limit:g=l}=Tu(i[u]);const y=c==null?void 0:c.startsWith("-");if(y&&(c=c.slice(1)),f=f===void 0?y!==(c==="width"||c==="height")?vw:gw:wI(f),d==null||d===!1)continue;const b=u==="fx"||u==="fy"?bI(t,r[u]):yI(n,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const w=b.value,[k=0,E=1/0]=m0(g)?g:g<0?[g]:[0,g];if(c==null)b.domain=()=>{let $=Array.from(new Lm(w));return h&&($=$.reverse()),(k!==0||E!==1/0)&&($=$.slice(k,E)),$};else{const $=c==="data"?e:c==="height"?w8(n,"y1","y2"):c==="width"?w8(n,"x1","x2"):um(n,c,c==="y"?"y2":c==="x"?"x2":void 0),T=k5(d===!0?"max":d,$);b.domain=()=>{let I=wk(d0(w),D=>T.reduceIndex(D,$),D=>w[D]);return f&&I.sort(f),h&&I.reverse(),(k!==0||E!==1/0)&&(I=I.slice(k,E)),I.map(p5)}}}}function yI(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function bI(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const o of e[a])i[o]=s}return t}function w8(e,t,n){const r=um(e,t),i=um(e,n);return St(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function um(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function wI(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return gw;case"descending":return vw}throw new Error(`invalid order: ${e}`)}function gw([e,t],[n,r]){return Kn(t,r)||Kn(e,n)}function vw([e,t],[n,r]){return Wf(t,r)||Kn(e,n)}function xI(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function MI(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const SI=MI(e=>new Intl.NumberFormat(e));function kI(e="en-US"){const t=SI(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function $I(e){return xz(e,"Invalid Date")}function AI(e="en-US"){const t=kI(e);return n=>(n instanceof Date?$I:typeof n=="number"?t:jt)(n)}const j0=AI();let cm=0;function CI(){const e=cm;return cm=0,e}function Go(e){console.warn(e),++cm}const vn=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let TI=0;function x8(){return`plot-clip-${++TI}`}function EI(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:o,fillOpacity:l,stroke:u,strokeWidth:c,strokeOpacity:f,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:g,strokeDasharray:y,strokeDashoffset:b,opacity:w,mixBlendMode:k,imageFilter:E,paintOrder:$,pointerEvents:T,shapeRendering:I,channels:D},{ariaLabel:j,fill:U="currentColor",fillOpacity:S,stroke:C="none",strokeOpacity:H,strokeWidth:P,strokeLinecap:Q,strokeLinejoin:N,strokeMiterlimit:W,paintOrder:ae}){U===null&&(o=null,l=null),C===null&&(u=null,f=null),sn(U)?!sn(C)&&(!sn(o)||D!=null&&D.fill)&&(C="none"):sn(C)&&(!sn(u)||D!=null&&D.stroke)&&(U="none");const[ie,le]=c0(o,U),[ee,se]=gn(l,S),[oe,re]=c0(u,C),[Se,Ce]=gn(f,H),[De,ce]=gn(w);hu(re)||(c===void 0&&(c=P),d===void 0&&(d=Q),h===void 0&&(h=N),g===void 0&&!Gz(h)&&(g=W),!hu(le)&&$===void 0&&($=ae));const[pe,ne]=gn(c);return U!==null&&(e.fill=xt(le,"currentColor"),e.fillOpacity=Tl(se,1)),C!==null&&(e.stroke=xt(re,"none"),e.strokeWidth=Tl(ne,1),e.strokeOpacity=Tl(Ce,1),e.strokeLinejoin=xt(h,"miter"),e.strokeLinecap=xt(d,"butt"),e.strokeMiterlimit=Tl(g,4),e.strokeDasharray=xt(y,"none"),e.strokeDashoffset=xt(b,"0")),e.target=jt(s),e.ariaLabel=jt(j),e.ariaDescription=jt(i),e.ariaHidden=jt(a),e.opacity=Tl(ce,1),e.mixBlendMode=xt(k,"normal"),e.imageFilter=xt(E,"none"),e.paintOrder=xt($,"normal"),e.pointerEvents=xt(T,"auto"),e.shapeRendering=xt(I,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:ie,scale:"auto",optional:!0},fillOpacity:{value:ee,scale:"auto",optional:!0},stroke:{value:oe,scale:"auto",optional:!0},strokeOpacity:{value:Se,scale:"auto",optional:!0},strokeWidth:{value:pe,optional:!0},opacity:{value:De,scale:"auto",optional:!0}}}function DI(e,t){t&&e.filter(n=>Ob(t[n])).append("title").call(_I,t)}function _I(e,t){t&&e.text(n=>j0(t[n]))}function ho(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:c,href:f}){r&&Ye(e,"aria-label",h=>r[h]),a&&Ye(e,"fill",h=>a[h]),s&&Ye(e,"fill-opacity",h=>s[h]),o&&Ye(e,"stroke",h=>o[h]),l&&Ye(e,"stroke-opacity",h=>l[h]),u&&Ye(e,"stroke-width",h=>u[h]),c&&Ye(e,"opacity",h=>c[h]),f&&II(e,h=>f[h],t),n||DI(e,i)}function yw(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=Cr(e,"clip",["frame","sphere"])),e}function zI(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:o,marginLeft:l,marginRight:u,marginTop:c,marginBottom:f}=n,h=x8();i=`url(#${h})`,e=Qt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",h).append("rect").attr("x",l).attr("y",c).attr("width",s-u-l).attr("height",o-c-f)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const o=x8();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",$v(s)({type:"Sphere"}));break}}Ye(e,"aria-label",t.ariaLabel),Ye(e,"aria-description",t.ariaDescription),Ye(e,"aria-hidden",t.ariaHidden),Ye(e,"clip-path",i)}function ti(e,t,n,r){zI(e,t,n,r),Ye(e,"fill",t.fill),Ye(e,"fill-opacity",t.fillOpacity),Ye(e,"stroke",t.stroke),Ye(e,"stroke-width",t.strokeWidth),Ye(e,"stroke-opacity",t.strokeOpacity),Ye(e,"stroke-linejoin",t.strokeLinejoin),Ye(e,"stroke-linecap",t.strokeLinecap),Ye(e,"stroke-miterlimit",t.strokeMiterlimit),Ye(e,"stroke-dasharray",t.strokeDasharray),Ye(e,"stroke-dashoffset",t.strokeDashoffset),Ye(e,"shape-rendering",t.shapeRendering),Ye(e,"filter",t.imageFilter),Ye(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;Ye(e,"pointer-events",i)}function ni(e,t){NI(e,"mix-blend-mode",t.mixBlendMode),Ye(e,"opacity",t.opacity)}function II(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(Ko.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Ko.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function Ye(e,t,n){n!=null&&e.attr(t,n)}function NI(e,t,n){n!=null&&e.style(t,n)}function g0(e,t,{x:n,y:r},i=vn,a=vn){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function xt(e,t){if((e=jt(e))!==t)return e}function Tl(e,t){if((e=rt(e))!==t)return e}const qI=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function $5(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!qI.test(e))throw new Error(`invalid class name: ${e}`);return e}function A5(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Oh({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function C5(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:yw(n)}}function Qt(e,{document:t}){return Hl(fh(e).call(t.documentElement))}const bw=Math.PI,Hr=2*bw,M8=.618;function BI({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let o,l,u="frame";if(co(e)){let T;if({type:e,domain:l,inset:T,insetTop:n=T!==void 0?T:n,insetRight:r=T!==void 0?T:r,insetBottom:i=T!==void 0?T:i,insetLeft:a=T!==void 0?T:a,clip:u=u,...o}=e,e==null)return}typeof e!="function"&&({type:e}=ww(e));const{width:c,height:f,marginLeft:h,marginRight:d,marginTop:g,marginBottom:y}=s,b=c-h-d-a-r,w=f-g-y-n-i;if(e=e==null?void 0:e({width:b,height:w,clip:u,...o}),e==null)return;u=FI(u,h,g,c-d,f-y);let k=h+a,E=g+n,$;if(l!=null){const[[T,I],[D,j]]=$v(e).bounds(l),U=Math.min(b/(D-T),w/(j-I));U>0?(k-=(U*(T+D)-b)/2,E-=(U*(I+j)-w)/2,$=Z3({point(S,C){this.stream.point(S*U+k,C*U+E)}})):Go("Warning: the projection could not be fit to the specified domain; using the default scale.")}return $??($=k===0&&E===0?xw():Z3({point(T,I){this.stream.point(T+k,I+E)}})),{stream:T=>e.stream($.stream(u(T)))}}function ww(e){switch(`${e}`.toLowerCase()){case"albers-usa":return On(cE,.7463,.4673);case"albers":return Yc(Dv,.7463,.4673);case"azimuthal-equal-area":return On(fE,4,4);case"azimuthal-equidistant":return On(hE,Hr,Hr);case"conic-conformal":return Yc(pE,Hr,Hr);case"conic-equal-area":return Yc(Lf,6.1702,2.9781);case"conic-equidistant":return Yc(yE,7.312,3.6282);case"equal-earth":return On(wE,5.4133,2.6347);case"equirectangular":return On(gE,Hr,bw);case"gnomonic":return On(xE,3.4641,3.4641);case"identity":return{type:xw};case"reflect-y":return{type:LI};case"mercator":return On(dE,Hr,Hr);case"orthographic":return On(ME,2,2);case"stereographic":return On(SE,2,2);case"transverse-mercator":return On(kE,Hr,Hr);default:throw new Error(`unknown projection type: ${e}`)}}function FI(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return dv(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function On(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:o})=>{var u,c,f;const l=e();return s!=null&&((u=l.precision)==null||u.call(l,s)),a!=null&&((c=l.rotate)==null||c.call(l,a)),typeof o=="number"&&((f=l.clipAngle)==null||f.call(l,o)),l.scale(Math.min(r/t,i/n)),l.translate([r/2,i/2]),l},aspectRatio:n/t}}function Yc(e,t,n){const{type:r,aspectRatio:i}=On(e,t,n);return{type:a=>{const{parallels:s,domain:o,width:l,height:u}=a,c=r(a);return s!=null&&(c.parallels(s),o===void 0&&c.fitSize([l,u],{type:"Sphere"})),c},aspectRatio:i}}const xw=Cu({stream:e=>e}),LI=Cu(Z3({point(e,t){this.stream.point(e,-t)}}));function RI(e,t,n,r){const i=n[e],a=n[t],s=i.length,o=n[e]=new Float64Array(s).fill(NaN),l=n[t]=new Float64Array(s).fill(NaN);let u;const c=r.stream({point(f,h){o[u]=f,l[u]=h}});for(u=0;u<s;++u)c.point(i[u],a[u])}function PI({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(co(e)&&(e=e.type),e!=null)}function OI(e){if(typeof(e==null?void 0:e.stream)=="function")return M8;if(co(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=ww(e);if(t)return t}return M8}}function HI(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,o){t.push(s),n.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)Gs(s,a);return[r,i]}const Mw=new Map([["accent",XD],["category10",GD],["dark2",ZD],["paired",QD],["pastel1",KD],["pastel2",JD],["set1",e_],["set2",t_],["set3",n_],["tableau10",r_]]);function VI(e){return e!=null&&Mw.has(`${e}`.toLowerCase())}const S8=new Map([...Mw,["brbg",Vr(gy,vy)],["prgn",Vr(yy,by)],["piyg",Vr(wy,xy)],["puor",Vr(My,Sy)],["rdbu",Vr(tm,Hf)],["rdgy",Vr(ky,$y)],["rdylbu",Vr(nm,Vf)],["rdylgn",Vr(Ay,Cy)],["spectral",Vr(Ty,Ey)],["burd",k8(tm,Hf)],["buylrd",k8(nm,Vf)],["blues",At(eb,tb)],["greens",At(nb,rb)],["greys",At(ib,ab)],["oranges",At(cb,fb)],["purples",At(sb,ob)],["reds",At(lb,ub)],["turbo",Ur(yb)],["viridis",Ur(bb)],["magma",Ur(wb)],["inferno",Ur(xb)],["plasma",Ur(Mb)],["cividis",Ur(hb)],["cubehelix",Ur(db)],["warm",Ur(mb)],["cool",Ur(pb)],["bugn",At(Dy,_y)],["bupu",At(zy,Iy)],["gnbu",At(Ny,qy)],["orrd",At(By,Fy)],["pubu",At(Py,Oy)],["pubugn",At(Ly,Ry)],["purd",At(Hy,Vy)],["rdpu",At(Uy,jy)],["ylgn",At(Gy,Xy)],["ylgnbu",At(Wy,Yy)],["ylorbr",At(Zy,Qy)],["ylorrd",At(Ky,Jy)],["rainbow",$8(gb)],["sinebow",$8(vb)]]);function At(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Xn(t,n):e[n])}function Vr(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Xn(t,n):e[n])}function k8(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Xn(r=>t(1-r),n):e[n].slice().reverse())}function Ur(e){return({length:t})=>Xn(e,Math.max(2,Math.floor(t)))}function $8(e){return({length:t})=>Xn(e,Math.floor(t)+1).slice(0,-1)}function Sw(e){const t=`${e}`.toLowerCase();if(!S8.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return S8.get(t)}function Hh(e,t){const n=Sw(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function UI(e,t="greys"){const n=new Set,[r,i]=Hh(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const A8=new Map([["brbg",vy],["prgn",by],["piyg",xy],["puor",Sy],["rdbu",Hf],["rdgy",$y],["rdylbu",Vf],["rdylgn",Cy],["spectral",Ey],["burd",e=>Hf(1-e)],["buylrd",e=>Vf(1-e)],["blues",tb],["greens",rb],["greys",ab],["purples",ob],["reds",ub],["oranges",fb],["turbo",yb],["viridis",bb],["magma",wb],["inferno",xb],["plasma",Mb],["cividis",hb],["cubehelix",db],["warm",mb],["cool",pb],["bugn",_y],["bupu",Iy],["gnbu",qy],["orrd",Fy],["pubugn",Ry],["pubu",Oy],["purd",Vy],["rdpu",jy],["ylgnbu",Yy],["ylgn",Xy],["ylorbr",Qy],["ylorrd",Jy],["rainbow",gb],["sinebow",vb]]);function T5(e){const t=`${e}`.toLowerCase();if(!A8.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return A8.get(t)}const jI=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function WI(e){return e!=null&&jI.has(`${e}`.toLowerCase())}const kw=e=>t=>e(1-t),K4=[0,1],C8=new Map([["number",Pt],["rgb",to],["hsl",rC],["hcl",sC],["lab",iC]]);function $w(e){const t=`${e}`.toLowerCase();if(!C8.has(t))throw new Error(`unknown interpolator: ${t}`);return C8.get(t)}function Eu(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:o=Cw(e,n),unknown:l,round:u,scheme:c,interval:f,range:h=ht.get(e)===Fh?rN(n,o):ht.get(e)===Lh?iN(n,o):ht.get(e)===Rh?K4:void 0,interpolate:d=ht.get(e)===p0?c==null&&h!==void 0?to:T5(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?Gm:Pt,reverse:g}){if(f=ml(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=$w(d)),g=!!g,h!==void 0){const y=(o=wn(o)).length,b=(h=wn(h)).length;if(y!==b){if(d.length===1)throw new Error("invalid piecewise interpolator");d=mh(d,h),h=void 0}}if(d.length===1?(g&&(d=kw(d),g=!1),h===void 0&&(h=Float64Array.from(o,(y,b)=>b/(o.length-1)),h.length===2&&(h=K4)),t.interpolate((h===K4?Cu:D5)(d))):t.interpolate(d),s){const[y,b]=Yn(o);(y>0||b<0)&&(o=om(o),ol(o)!==Math.sign(y)?o[o.length-1]=0:o[0]=0)}return g&&(o=wf(o)),t.domain(o).unknown(l),i&&(t.nice(YI(i,r)),o=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:o,range:h,scale:t,interpolate:d,interval:f}}function YI(e,t){return e===!0?void 0:typeof e=="number"?e:Hz(e,t)}function GI(e,t,n){return Eu(e,s5(),t,n)}function XI(e,t,n){return Aw(e,t,{...n,exponent:.5})}function Aw(e,t,{exponent:n=1,...r}){return Eu(e,Xv().exponent(n),t,{...r,type:"pow"})}function ZI(e,t,{base:n=10,domain:r=aN(t),...i}){return Eu(e,jv().base(n),t,{...i,domain:r})}function QI(e,t,{constant:n=1,...r}){return Eu(e,Yv().constant(n),t,r)}function KI(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=sN(t),unknown:o,interpolate:l,reverse:u}){return n===void 0&&(n=l!==void 0?Xn(l,i):ht.get(e)===p0?Hh(a,i):void 0),s.length>0&&(s=Zv(s,n===void 0?{length:i}:n).quantiles()),E5(e,t,{domain:s,range:n,reverse:u,unknown:o})}function JI(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Cw(e,t),unknown:s,interpolate:o,reverse:l}){const[u,c]=Yn(a);let f;return n===void 0?(f=eu(u,c,r),f[0]<=u&&f.splice(0,1),f[f.length-1]>=c&&f.pop(),r=f.length+1,n=o!==void 0?Xn(o,r):ht.get(e)===p0?Hh(i,r):void 0):(f=Xn(Pt(u,c),r+1).slice(1,-1),u instanceof Date&&(f=f.map(h=>new Date(h)))),ol(wn(a))<0&&f.reverse(),E5(e,t,{domain:f,range:n,reverse:l,unknown:s})}function E5(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?Xn(a,n.length+1):ht.get(e)===p0?Hh(i,n.length+1):void 0,reverse:o}){n=wn(n);const l=ol(n);if(!isNaN(l)&&!eN(n,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return o&&(s=wf(s)),{type:"threshold",scale:Qv(l<0?wf(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function eN(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=bu(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function tN(){return{type:"identity",scale:Hv()}}function mu(e,t=Hb){return e.length?[a0(e,({value:n})=>n===void 0?n:a0(n,t)),wr(e,({value:n})=>n===void 0?n:wr(n,t))]:[0,1]}function Cw(e,t){const n=ht.get(e);return(n===Fh||n===Rh||n===Lh?nN:mu)(t)}function nN(e){return[0,e.length?wr(e,({value:t})=>t===void 0?t:wr(t,Hb)):1]}function rN(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=Qo(e,.5,({value:s})=>s===void 0?NaN:Qo(s,.25,d5)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/wr(i);return a<1?i.map(s=>s*a):i}function iN(e,t){const n=bf(e,({value:a})=>a===void 0?NaN:bf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/wr(r);return i<1?r.map(a=>a*i):r}function aN(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return mu(e,d5);if(n<0)return mu(e,Vb)}return[1,10]}function sN(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function D5(e){return(t,n)=>r=>e(t+r*(n-t))}function Vh(e,t,n,r,{type:i,nice:a,clamp:s,domain:o=mu(r),unknown:l,pivot:u=0,scheme:c,range:f,symmetric:h=!0,interpolate:d=ht.get(e)===p0?c==null&&f!==void 0?to:T5(c!==void 0?c:"rdbu"):Pt,reverse:g}){u=+u,o=wn(o);let[y,b]=o;if(o.length>2&&Go(`Warning: the diverging ${e} scale domain contains extra elements.`),bu(y,b)<0&&([y,b]=[b,y],g=!g),y=Math.min(y,u),b=Math.max(b,u),typeof d!="function"&&(d=$w(d)),f!==void 0&&(d=d.length===1?D5(d)(...f):mh(d,f)),g&&(d=kw(d)),h){const w=n.apply(u),k=w-n.apply(y),E=n.apply(b)-w;k<E?y=n.invert(w-E):k>E&&(b=n.invert(w+k))}return t.domain([y,u,b]).unknown(l).interpolator(d),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[y,b],pivot:u,interpolate:d,scale:t}}function oN(e,t,n){return Vh(e,hy(),fN,t,n)}function lN(e,t,n){return Tw(e,t,{...n,exponent:.5})}function Tw(e,t,{exponent:n=1,...r}){return Vh(e,py().exponent(n=+n),mN(n),t,{...r,type:"diverging-pow"})}function uN(e,t,{base:n=10,pivot:r=1,domain:i=mu(t,r<0?Vb:d5),...a}){return Vh(e,dy().base(n=+n),hN,t,{domain:i,pivot:r,...a})}function cN(e,t,{constant:n=1,...r}){return Vh(e,my().constant(n=+n),pN(n),t,r)}const fN={apply(e){return e},invert(e){return e}},hN={apply:Math.log,invert:Math.exp},dN={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function mN(e){return e===.5?dN:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function pN(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Ew(e,t,n,r){return Eu(e,t,n,r)}function gN(e,t,n){return Ew(e,WD(),t,n)}function vN(e,t,n){return Ew(e,YD(),t,n)}const Du=Symbol("ordinal");function Dw(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:o,hint:l}){return i=ml(i,r),a===void 0&&(a=zw(n,i,e)),(r==="categorical"||r===Du)&&(r="ordinal"),o&&(a=wf(a)),t.domain(a),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:l,interval:i}}function yN(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:o,...l}){r=ml(r,n),i===void 0&&(i=zw(t,r,e));let u;if(ht.get(e)===Ph)u=xN(t),a=a===void 0?MN(u):St(a,M5);else if(ht.get(e)===p0&&(a===void 0&&(n==="ordinal"||n===Du)&&(a=UI(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"tableau10"),s!==void 0))if(a!==void 0){const c=T5(s),f=a[0],h=a[1]-a[0];a=({length:d})=>Xn(g=>c(f+h*g),d)}else a=Sw(s);if(o===K3)throw new Error(`implicit unknown on ${e} scale is not supported`);return Dw(e,a5().unknown(o),t,{...l,type:n,domain:i,range:a,hint:u})}function bN(e,t,{align:n=.5,padding:r=.5,...i}){return _w(CE().align(n).padding(r),t,i,e)}function wN(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return _w(wh().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function _w(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Dw(r,e,t,n),e.round=i,e}function zw(e,t,n){const r=new Lm;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=Yn(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&ht.get(n)===pr)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Jl(r,Kn)}function T8(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function xN(e){return{fill:T8(e,"fill"),stroke:T8(e,"stroke")}}function MN(e){return sn(e.fill)?m_:d_}function fm(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:o,nice:l,clamp:u,zero:c,align:f,padding:h,projection:d,facet:{label:g=t}={},...y}={}){const b={};for(const[w,k]of e){const E=y[w],$=AN(w,k,{round:ht.get(w)===pr?o:void 0,nice:l,clamp:u,zero:c,align:f,padding:h,projection:d,...E});if($){let{label:T=w==="fx"||w==="fy"?g:t,percent:I,transform:D,inset:j,insetTop:U=j!==void 0?j:w==="y"?r:0,insetRight:S=j!==void 0?j:w==="x"?i:0,insetBottom:C=j!==void 0?j:w==="y"?a:0,insetLeft:H=j!==void 0?j:w==="x"?s:0}=E||{};if(D==null)D=void 0;else if(typeof D!="function")throw new Error("invalid scale transform; not a function");$.percent=!!I,$.label=T===void 0?kN(k,$):T,$.transform=D,w==="x"||w==="fx"?($.insetLeft=+H,$.insetRight=+S):(w==="y"||w==="fy")&&($.insetTop=+U,$.insetBottom=+C),b[w]=$}}return b}function E8(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function SN(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?_5(t):t;i&&D8(i,s),a&&_8(a,s);const o=i||a?Iw(e,t):t;n&&D8(n,o),r&&_8(r,o)}function kN(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!mo(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function _5(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:o,marginRight:l,marginBottom:u,marginLeft:c}}=e;return{marginTop:Math.max(t,o),marginRight:Math.max(n,l),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:a,height:s}}function Iw({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=_5(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:o,height:t?t.scale.bandwidth()+r+a:l,facet:{width:o,height:l}}}function D8(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,o=a+n,l=i-s-r;e.range=[o,Math.max(o,l)],mo(e)||(e.range=qw(e)),e.scale.range(e.range)}Nw(e)}function _8(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,o=a+n,l=i-s-r;e.range=[Math.max(o,l),o],mo(e)?e.range.reverse():e.range=qw(e),e.scale.range(e.range)}Nw(e)}function Nw(e){e.round===void 0&&TN(e)&&$N(e)<=30&&e.scale.round(!0)}function $N({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,o=Math.abs(r-n)/Math.max(1,s+a*2);return(o-Math.floor(o))*s}function qw(e){const t=e.scale.domain().length+Bw(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function AN(e,t=[],n={}){const r=CN(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&mo({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Jn)?Go(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Po(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Po(r)}".`):i.some(Uz)?Go(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Po(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Po(r)}".`):i.some(jz)&&Go(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Po(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Po(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Gc(t,n,Yf);break;case"identity":switch(ht.get(e)){case pr:n=Gc(t,n,Yf);break;case Ph:n=Gc(t,n,EN);break}break;case"utc":case"time":n=Gc(t,n,Lz);break}switch(r){case"diverging":return oN(e,t,n);case"diverging-sqrt":return lN(e,t,n);case"diverging-pow":return Tw(e,t,n);case"diverging-log":return uN(e,t,n);case"diverging-symlog":return cN(e,t,n);case"categorical":case"ordinal":case Du:return yN(e,t,n);case"cyclical":case"sequential":case"linear":return GI(e,t,n);case"sqrt":return XI(e,t,n);case"threshold":return E5(e,t,n);case"quantile":return KI(e,t,n);case"quantize":return JI(e,t,n);case"pow":return Aw(e,t,n);case"log":return ZI(e,t,n);case"symlog":return QI(e,t,n);case"utc":return vN(e,t,n);case"time":return gN(e,t,n);case"point":return bN(e,t,n);case"band":return wN(e,t,n);case"identity":return ht.get(e)===pr?tN():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Po(e){return typeof e=="symbol"?e.description:e}const z8={toString:()=>"projection"};function CN(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:o}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&o!=null&&(n=z8);for(const{type:u}of t)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===z8)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=ht.get(e);if(l===Fh)return"sqrt";if(l===Rh||l===Lh)return"linear";if(l===Ph)return"ordinal";if((r||i||[]).length>2)return J4(l);if(r!==void 0){if(g8(r))return J4(l);if(Jn(r))return"utc"}else{const u=t.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(g8))return J4(l);if(u.some(Jn))return"utc"}if(l===p0){if(s!=null||WI(a))return"diverging";if(VI(a))return"categorical"}return"linear"}function J4(e){switch(e){case pr:return"point";case p0:return Du;default:return"ordinal"}}function z5({type:e}){return e==="time"||e==="utc"}function mo({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Du}function Bw({type:e}){return e==="threshold"}function TN({type:e}){return e==="point"||e==="band"}function gr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Gc(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function EN(e){return St(e,M5)}function DN(e){return t=>{if(!ht.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?_N(e[t]):void 0}}function _N({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:o,pivot:l}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=e.unknown?e.unknown():void 0;return{type:t,domain:om(n),...r!==void 0&&{range:om(r)},...s!==void 0&&{transform:s},...o&&{percent:o},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function zN(e,t,n={}){let r=.5-vn,i=.5+vn,a=.5+vn,s=.5-vn;for(const{marginTop:y,marginRight:b,marginBottom:w,marginLeft:k}of t)y>r&&(r=y),b>i&&(i=b),w>a&&(a=w),k>s&&(s=k);let{margin:o,marginTop:l=o!==void 0?o:r,marginRight:u=o!==void 0?o:i,marginBottom:c=o!==void 0?o:a,marginLeft:f=o!==void 0?o:s}=n;l=+l,u=+u,c=+c,f=+f;let{width:h=640,height:d=IN(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,l-r+c-a)}=n;h=+h,d=+d;const g={width:h,height:d,marginTop:l,marginRight:u,marginBottom:c,marginLeft:f};if(e.fx||e.fy){let{margin:y,marginTop:b=y!==void 0?y:l,marginRight:w=y!==void 0?y:u,marginBottom:k=y!==void 0?y:c,marginLeft:E=y!==void 0?y:f}=n.facet??{};b=+b,w=+w,k=+k,E=+E,g.facet={marginTop:b,marginRight:w,marginBottom:k,marginLeft:E}}return g}function IN({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:o,marginRightDefault:l,marginBottomDefault:u,marginLeftDefault:c}){const f=n?n.scale.domain().length:1,h=OI(i);if(h){const g=r?r.scale.domain().length:1,y=(1.1*f-.1)/(1.1*g-.1)*h,b=Math.max(.1,Math.min(10,y));return Math.round((s-c-l)*b+o+u)}const d=t?mo(t)?t.scale.domain().length:Math.max(7,17/f):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const g=I8("y",t)/(I8("x",e)*a),y=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,w=y*(s-c-l)-e.insetLeft-e.insetRight;return(g*w+t.insetTop+t.insetBottom)/b+o+u}return!!(t||n)*Math.max(1,Math.min(60,d*f))*20+!!r*30+60}function I8(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=t.scale.exponent();i=l=>Math.pow(l,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=Yn(r);return Math.abs(i(s)-i(a))}function NN(e,t){const{fx:n,fy:r}=fm(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?yk(i,a).map(([s,o],l)=>({x:s,y:o,i:l})):i?i.map((s,o)=>({x:s,i:o})):a?a.map((s,o)=>({y:s,i:o})):void 0}function qN(e,{x:t,y:n}){return t&&(t=hm(t)),n&&(n=hm(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function I5(e,{fx:t,fy:n}){const r=d0(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?jo(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?jo(r,s=>(s.fx=i[s[0]],s),s=>i[s]):jo(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function BN(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function FN(e){const t=[],n=new Uint32Array(Z0(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const LN=new Map([["top",e3],["right",r3],["bottom",t3],["left",n3],["top-left",Xc(e3,n3)],["top-right",Xc(e3,r3)],["bottom-left",Xc(t3,n3)],["bottom-right",Xc(t3,r3)],["top-empty",ON],["right-empty",UN],["bottom-empty",HN],["left-empty",VN],["empty",jN]]);function RN(e){if(e==null)return null;const t=LN.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const N8=new WeakMap;function hm(e){let t=N8.get(e);return t||N8.set(e,t=new Js(St(e,(n,r)=>[n,r]))),t}function ri(e,t){return hm(e).get(t)}function PN(e,t,n){return t=jc(t),n=jc(n),e.find(r=>Object.is(jc(r.x),t)&&Object.is(jc(r.y),n))}function Uh(e,t,n){var r;return(r=PN(e,t,n))==null?void 0:r.empty}function e3(e,{y:t},{y:n}){return t?ri(t,n)===0:!0}function t3(e,{y:t},{y:n}){return t?ri(t,n)===t.length-1:!0}function n3(e,{x:t},{x:n}){return t?ri(t,n)===0:!0}function r3(e,{x:t},{x:n}){return t?ri(t,n)===t.length-1:!0}function ON(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ri(t,r);if(a>0)return Uh(e,n,t[a-1])}function HN(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ri(t,r);if(a<t.length-1)return Uh(e,n,t[a+1])}function VN(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ri(t,n);if(a>0)return Uh(e,t[a-1],r)}function UN(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ri(t,n);if(a<t.length-1)return Uh(e,t[a+1],r)}function jN(e,t,{empty:n}){return n}function Xc(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function i3(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class tr{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:o,fy:l,sort:u,dx:c=0,dy:f=0,margin:h=0,marginTop:d=h,marginRight:g=h,marginBottom:y=h,marginLeft:b=h,clip:w=i==null?void 0:i.clip,channels:k,tip:E,render:$}=r;if(this.data=t,this.sort=fu(u)?u:null,this.initializer=Zf(r).initializer,this.transform=this.initializer?r.transform:S5(r).transform,a===null||a===!1?this.facet=null:(this.facet=Cr(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===cf&&typeof o=="string"?[o]:o,this.fy=t===cf&&typeof l=="string"?[l]:l),this.facetAnchor=RN(s),n=iw(n),k!==void 0&&(n={...WN(k),...n}),i!==void 0&&(n={...EI(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([T,I])=>{if(y5(I.value)){const{value:D,scale:j=I.scale}=I.value;I={...I,scale:j,value:D}}if(t===cf&&typeof I.value=="string"){const{value:D}=I;I={...I,value:[D]}}return[T,I]}).filter(([T,{value:I,optional:D}])=>{if(I!=null)return!0;if(D)return!1;throw new Error(`missing channel value: ${T}`)})),this.dx=+c,this.dy=+f,this.marginTop=+d,this.marginRight=+g,this.marginBottom=+y,this.marginLeft=+b,this.clip=yw(w),this.tip=YN(E),this.facet==="super"){if(o||l)throw new Error("super-faceting cannot use fx or fy");for(const T in this.channels){const{scale:I}=n[T];if(!(I!=="x"&&I!=="y"))throw new Error("super-faceting cannot use x or y")}}$!=null&&(this.render=Lw($,this.render))}initialize(t,n,r){let i=wn(this.data);t===void 0&&i!=null&&(t=[d0(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=wn(i)),t!==void 0&&(t.original=a);const s=pI(this.channels,i);return this.sort!=null&&vI(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=so}=n[i];if(a!==null){const s=r[i];t=t.filter(o=>a(s[o]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&RI(i,a,n,r.projection)}}scale(t,n,r){const i=gI(t,n);return r.projection&&this.project(t,i,r),i}}function Fw(...e){return e.plot=tr.prototype.plot,e}function Lw(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,o){return e.call(this,n,r,i,a,s,(l,u,c,f,h)=>t.call(this,l,u,c,f,h,o))}}function WN(e){return Object.fromEntries(Object.entries(iw(e)).map(([t,n])=>(n=Tu(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function YN(e){return e===!0?"xy":e===!1?null:v5(e,"tip",["x","y","xy"])}function jh(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:e}const q8=new WeakMap;function N5(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:o,render:l,...u}={}){return s=+s,i!=null&&(n??(n=null),o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),o={...o,py:{value:a,scale:"y"}}),{x:n,y:r,channels:o,...u,render:Lw(function(c,f,h,d,g,y){g={...g,pointerSticky:!1};const b=g.ownerSVGElement,{data:w}=g.getMarkState(this);let k=q8.get(b);k||q8.set(b,k={sticky:!1,roots:[],renders:[]});let E=k.renders.push(re)-1;const{x:$,y:T,fx:I,fy:D}=f;let j=I?I(c.fx)-d.marginLeft:0,U=D?D(c.fy)-d.marginTop:0;$!=null&&$.bandwidth&&(j+=$.bandwidth()/2),T!=null&&T.bandwidth&&(U+=T.bandwidth()/2);const S=c.fi!=null;let C;if(S){let ce=k.facetStates;ce||(k.facetStates=ce=new Map),C=ce.get(this),C||ce.set(this,C=new Map)}const[H,P]=Oh(this,d),{px:Q,py:N}=h,W=Q?ce=>Q[ce]:Rw(h,H),ae=N?ce=>N[ce]:Pw(h,P);let ie,le,ee,se;function oe(ce,pe){if(S)if(se&&(se=cancelAnimationFrame(se)),ce==null)C.delete(c.fi);else{C.set(c.fi,pe),se=requestAnimationFrame(()=>{se=null;for(const[ne,xe]of C)if(xe<pe||xe===pe&&ne<c.fi){ce=null;break}re(ce)});return}re(ce)}function re(ce){if(ie===ce&&ee===k.sticky)return;ie=ce,ee=g.pointerSticky=k.sticky;const pe=ie==null?[]:[ie];S&&(pe.fx=c.fx,pe.fy=c.fy,pe.fi=c.fi);const ne=y(pe,f,h,d,g);if(le){if(S){const xe=le.parentNode,Ae=le.getAttribute("transform"),Y=ne.getAttribute("transform");Ae?ne.setAttribute("transform",Ae):ne.removeAttribute("transform"),Y?xe.setAttribute("transform",Y):xe.removeAttribute("transform"),ne.removeAttribute("aria-label"),ne.removeAttribute("aria-description"),ne.removeAttribute("aria-hidden")}le.replaceWith(ne)}return k.roots[E]=le=ne,ie==null&&(C==null?void 0:C.size)>1||g.dispatchValue(ie==null?null:w[ie]),ne}function Se(ce){if(k.sticky||ce.pointerType==="mouse"&&ce.buttons===1)return;let[pe,ne]=$A(ce);pe-=j,ne-=U;const xe=pe<d.marginLeft||pe>d.width-d.marginRight?1:e,Ae=ne<d.marginTop||ne>d.height-d.marginBottom?1:t;let Y=null,ke=s*s;for(const Ee of c){const Be=xe*(W(Ee)-pe),Fe=Ae*(ae(Ee)-ne),Ge=Be*Be+Fe*Fe;Ge<=ke&&(Y=Ee,ke=Ge)}if(Y!=null&&(e!==1||t!==1)){const Ee=W(Y)-pe,Be=ae(Y)-ne;ke=Ee*Ee+Be*Be}oe(Y,ke)}function Ce(ce){ce.pointerType==="mouse"&&ie!=null&&(k.sticky&&k.roots.some(pe=>pe==null?void 0:pe.contains(ce.target))||(k.sticky?(k.sticky=!1,k.renders.forEach(pe=>pe(null))):(k.sticky=!0,re(ie)),ce.stopImmediatePropagation()))}function De(ce){ce.pointerType==="mouse"&&(k.sticky||oe(null))}return b.addEventListener("pointerenter",Se),b.addEventListener("pointermove",Se),b.addEventListener("pointerdown",Ce),b.addEventListener("pointerleave",De),re(null)},l)}}function GN(e){return N5(1,1,e)}function XN(e){return N5(1,.01,e)}function ZN(e){return N5(.01,1,e)}function Rw({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Pw({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Ow(e){return mo(e)&&e.interval===void 0?void 0:"tabular-nums"}function QN(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:o=0,marginBottom:l=16+r,marginLeft:u=0,style:c,ticks:f=(i-u-o)/64,tickFormat:h,fontVariant:d=Ow(e),round:g=!0,opacity:y,className:b}=t;const w=C5(t);b=$5(b),y=gn(y)[1],h===null&&(h=()=>null);const k=Qt("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(H=>H.append("style").text(`.${b}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${b}-ramp text {
  white-space: pre;
}`)).call(A5,c);let E=H=>H.selectAll(".tick line").attr("y1",s+l-a),$;const T=g?(H,P)=>H.rangeRound(P):(H,P)=>H.range(P),{type:I,domain:D,range:j,interpolate:U,scale:S,pivot:C}=e;if(U){const H=j===void 0?U:mh(U.length===1?D5(U):U,j);$=T(S.copy(),Xn(Pt(u,i-o),Math.min(D.length+(C!==void 0),j===void 0?1/0:j.length)));const P=256,Q=w.document.createElement("canvas");Q.width=P,Q.height=1;const N=Q.getContext("2d");for(let W=0,ae=P-1;W<P;++W)N.fillStyle=H(W/ae),N.fillRect(W,0,1,1);k.append("image").attr("opacity",y).attr("x",u).attr("y",s).attr("width",i-u-o).attr("height",a-s-l).attr("preserveAspectRatio","none").attr("xlink:href",Q.toDataURL())}else if(I==="threshold"){const H=D,P=h===void 0?Q=>Q:typeof h=="string"?Su(h):h;$=T(s5().domain([-1,j.length-1]),[u,i-o]),k.append("g").attr("fill-opacity",y).selectAll().data(j).enter().append("rect").attr("x",(Q,N)=>$(N-1)).attr("y",s).attr("width",(Q,N)=>$(N)-$(N-1)).attr("height",a-s-l).attr("fill",Q=>Q),f=St(H,(Q,N)=>N),h=Q=>P(H[Q],Q)}else $=T(wh().domain(D),[u,i-o]),k.append("g").attr("fill-opacity",y).selectAll().data(D).enter().append("rect").attr("x",$).attr("y",s).attr("width",Math.max(0,$.bandwidth()-1)).attr("height",a-s-l).attr("fill",S),E=()=>{};return k.append("g").attr("transform",`translate(0,${a-l})`).call(Hk($).ticks(Array.isArray(f)?null:f,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",xt(d,"normal")).call(E).call(H=>H.select(".domain").remove()),n!==void 0&&k.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),k.node()}const Hw=Math.PI/180;function Vw(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=a3(n),e.markerMid=a3(r),e.markerEnd=a3(i)}function a3(e){if(e==null||e===!1)return null;if(e===!0)return F8;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return B8("auto");case"arrow-reverse":return B8("auto-start-reverse");case"dot":return KN;case"circle":case"circle-fill":return F8;case"circle-stroke":return JN}throw new Error(`invalid marker: ${e}`)}function B8(e){return(t,n)=>Qt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function KN(e,t){return Qt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function F8(e,t){return Qt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function JN(e,t){return Qt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let eq=0;function Uw(e,t,{stroke:n},r){return tq(e,t,n&&(i=>n[i]),r)}function tq(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const o=new Map;function l(u){return function(c){const f=a(c);let h=o.get(u);h||o.set(u,h=new Map);let d=h.get(f);if(!d){const g=this.parentNode.insertBefore(u(f,s),this),y=`plot-marker-${++eq}`;g.setAttribute("id",y),h.set(f,d=`url(#${y})`)}return d}}t&&e.attr("marker-start",l(t)),n&&e.attr("marker-mid",l(n)),r&&e.attr("marker-end",l(r))}function Wh({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Ww(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function jw({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Ww(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Ww(e,t,n){return e===void 0&&t===void 0&&n===void 0?vn?[1,0]:[.5,.5]:[t,n]}function Yw(e,{interval:t}){return e={...Tu(e)},e.interval=w5(e.interval===void 0?t:e.interval),e}function q5(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:o,interval:l}=Yw(i,n);if(o==null||l==null&&!r)return n;const u=fo(i);if(l==null){let d;const g={transform:y=>d||(d=Tt(y,o)),label:u};return{...n,[e]:void 0,[`${e}1`]:a===void 0?g:a,[`${e}2`]:s===void 0?g:s}}let c,f;function h(d){return f!==void 0&&d===c?f:f=St(Tt(c=d,o),g=>l.floor(g))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:u}:a,[`${e}2`]:s===void 0?{transform:d=>h(d).map(g=>l.offset(g)),label:u}:s})}function Gw(e,t,n){const{[e]:r}=n,{value:i,interval:a}=Yw(r,n);return i==null||a==null?n:t({...n,[e]:{label:fo(r),transform:s=>{const o=St(Tt(s,i),u=>a.floor(u)),l=o.map(u=>a.offset(u));return o.map(Jn(o)?(u,c)=>u==null||isNaN(u=+u)||(c=l[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=l[c],c==null)?NaN:(+u+ +c)/2)}}})}function nq(e={}){return q5("x",Wh,e,!0)}function Xw(e={}){return q5("x",Wh,e)}function rq(e={}){return q5("y",jw,e)}function iq(e={}){return Gw("x",Wh,e)}function aq(e={}){return Gw("y",jw,e)}const Zw={ariaLabel:"rule",fill:null,stroke:"currentColor"};class sq extends tr{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:o=s,insetBottom:l=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},jh(n,"x"),Zw),this.insetTop=rt(o),this.insetBottom=rt(l),Vw(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y1:u,y2:c}=r,{width:f,height:h,marginTop:d,marginRight:g,marginLeft:y,marginBottom:b}=i,{insetTop:w,insetBottom:k}=this;return Qt("svg:g",a).call(ti,this,i,a).call(g0,this,{x:l&&s},vn,0).call(E=>E.selectAll().data(t).enter().append("line").call(ni,this).attr("x1",l?$=>l[$]:(y+f-g)/2).attr("x2",l?$=>l[$]:(y+f-g)/2).attr("y1",u&&!gr(o)?$=>u[$]+w:d+w).attr("y2",c&&!gr(o)?o.bandwidth?$=>c[$]+o.bandwidth()-k:$=>c[$]-k:h-b-k).call(ho,this,r).call(Uw,this,r,a)).node()}}class oq extends tr{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:o=s,insetLeft:l=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},jh(n,"y"),Zw),this.insetRight=rt(o),this.insetLeft=rt(l),Vw(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{y:l,x1:u,x2:c}=r,{width:f,height:h,marginTop:d,marginRight:g,marginLeft:y,marginBottom:b}=i,{insetLeft:w,insetRight:k}=this;return Qt("svg:g",a).call(ti,this,i,a).call(g0,this,{y:l&&o},0,vn).call(E=>E.selectAll().data(t).enter().append("line").call(ni,this).attr("x1",u&&!gr(s)?$=>u[$]+w:y+w).attr("x2",c&&!gr(s)?s.bandwidth?$=>c[$]+s.bandwidth()-k:$=>c[$]-k:f-g-k).attr("y1",l?$=>l[$]:(d+h-b)/2).attr("y2",l?$=>l[$]:(d+h-b)/2).call(ho,this,r).call(Uw,this,r,a)).node()}}function lq(e,t){let{x:n=Ht,y:r,y1:i,y2:a,...s}=rq(t);return[i,a]=Kw(r,i,a),new sq(e,{...s,x:n,y1:i,y2:a})}function Qw(e,t){let{y:n=Ht,x:r,x1:i,x2:a,...s}=Xw(t);return[i,a]=Kw(r,i,a),new oq(e,{...s,y:n,x1:i,x2:a})}function Kw(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Jw(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const uq={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},ex="­";class B5 extends tr{constructor(t,n={}){const{x:r,y:i,text:a=m0(t)&&nw(t)?Ht:m5,frameAnchor:s,textAnchor:o=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:l=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:f,monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:b,fontWeight:w,rotate:k}=n,[E,$]=gn(k,0),[T,I]=pq(g);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:T,optional:!0},rotate:{value:Vz(E),optional:!0},text:{value:a,filter:Ob,optional:!0}},n,uq),this.rotate=$,this.textAnchor=xt(o,"middle"),this.lineAnchor=Cr(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=tx(f),this.monospace=!!h,this.fontFamily=jt(d),this.fontSize=I,this.fontStyle=jt(y),this.fontVariant=jt(b),this.fontWeight=jt(w),this.frameAnchor=x5(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=rx(this),this.clipLine=ix(this)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,rotate:c,text:f,title:h,fontSize:d}=r,{rotate:g}=this,[y,b]=Oh(this,i);return Qt("svg:g",a).call(ti,this,i,a).call(nx,this,f,i).call(g0,this,{x:l&&s,y:u&&o}).call(w=>w.selectAll().data(t).enter().append("text").call(ni,this).call(cq,this,f,h).attr("transform",Jw`translate(${l?k=>l[k]:y},${u?k=>u[k]:b})${c?k=>` rotate(${c[k]})`:g?` rotate(${g})`:""}`).call(Ye,"font-size",d&&(k=>d[k])).call(ho,this,r)).node()}}function tx(e){return e==null?null:Cr(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function cq(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:o,clipLine:l}=t;e.each(function(u){const c=o(j0(n[u])??"").map(l),f=c.length,h=i==="top"?.71:i==="bottom"?1-f:(164-f*100)/200;if(f>1){let d=0;for(let g=0;g<f;++g){if(++d,!c[g])continue;const y=this.ownerDocument.createElementNS(Ko.svg,"tspan");y.setAttribute("x",0),g===d-1?y.setAttribute("y",`${(h+g)*a}em`):y.setAttribute("dy",`${d*a}em`),y.textContent=c[g],this.appendChild(y),d=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=c[0];if(s&&!r&&c[0]!==n[u]){const d=this.ownerDocument.createElementNS(Ko.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function F5(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=b5(t,n)),new B5(e,{...r,x:t,y:n})}function fq(e,{x:t=Ht,...n}={}){return new B5(e,aq({...n,x:t}))}function hq(e,{y:t=Ht,...n}={}){return new B5(e,iq({...n,y:t}))}function nx(e,t,n){Ye(e,"text-anchor",t.textAnchor),Ye(e,"font-family",t.fontFamily),Ye(e,"font-size",t.fontSize),Ye(e,"font-style",t.fontStyle),Ye(e,"font-variant",t.fontVariant===void 0?dq(n):t.fontVariant),Ye(e,"font-weight",t.fontWeight)}function dq(e){return e&&(Wz(e)||Jn(e))?"tabular-nums":void 0}const mq=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function pq(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),mq.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function gq(e,t,n){const r=[];let i,a=0;for(const[s,o,l]of vq(e)){if(i===void 0&&(i=s),a>i&&n(e,i,o)>t&&(r.push(e.slice(i,a)+(e[a-1]===ex?"-":"")),i=s),l){r.push(e.slice(i,o)),i=void 0;continue}a=o}return r}function*vq(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case ex:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const L8={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function L5(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=pl(e,i))r+=L8[e[i]]??(sx(e,i)?120:L8.e);return r}function R5(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=pl(e,i))r+=sx(e,i)?200:100;return r}function rx({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?R5:L5,i=t*100;return a=>gq(a,i,r)}function ix({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?R5:L5,i=t*100;switch(n){case"clip-start":return a=>P8(a,i,r,"");case"clip-end":return a=>R8(a,i,r,"");case"ellipsis-start":return a=>P8(a,i,r,Xo);case"ellipsis-middle":return a=>yq(a,i,r,Xo);case"ellipsis-end":return a=>R8(a,i,r,Xo)}}const Xo="…";function ll(e,t,n,r){const i=[];let a=0;for(let s=0,o=0,l=e.length;s<l;s=o){o=pl(e,s);const u=n(e,s,o);if(a+u>t){for(a+=r;a>t&&s>0;)o=s,s=i.pop(),a-=n(e,s,o);return[s,t-a]}a+=u,i.push(s)}return[-1,0]}function R8(e,t,n,r){e=e.trim();const i=n(r),[a]=ll(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function yq(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,o]=ll(e,t/2,n,a),[l]=ll(e,i-t/2-o+a,n,-a);return l<0?r:e.slice(0,s).trimEnd()+r+e.slice(pl(e,l)).trimStart()}function P8(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=ll(e,i-t+a,n,-a);return s<0?r:r+e.slice(pl(e,s)).trimStart()}const dm=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,O8=/\p{Extended_Pictographic}/uy;function pl(e,t){return t+=bq(e,t)?2:1,xq(e,t)&&(t=dm.lastIndex),wq(e,t)?pl(e,t+1):t}function ax(e,t){return e.charCodeAt(t)<128}function bq(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function wq(e,t){return e.charCodeAt(t)===8205}function xq(e,t){return ax(e,t)?!1:(dm.lastIndex=t,dm.test(e))}function sx(e,t){return ax(e,t)?!1:(O8.lastIndex=t,O8.test(e))}const Mq={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},ox=3.5,Sq=ox*5,lx={draw(e,t,n){const r=t*n/Sq;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},kq={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},$q=new Map([["arrow",lx],["spike",kq]]);function Aq(e){return e&&typeof e.draw=="function"}function Cq(e){if(Aq(e))return e;const t=$q.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class ux extends tr{constructor(t,n={}){const{x:r,y:i,r:a=ox,length:s,rotate:o,shape:l=lx,anchor:u="middle",frameAnchor:c}=n,[f,h]=gn(s,12),[d,g]=gn(o,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,Mq),this.r=+a,this.length=h,this.rotate=g,this.shape=Cq(l),this.anchor=Cr(u,"anchor",["start","middle","end"]),this.frameAnchor=x5(c)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,length:c,rotate:f}=r,{length:h,rotate:d,anchor:g,shape:y,r:b}=this,[w,k]=Oh(this,i);return Qt("svg:g",a).call(ti,this,i,a).call(g0,this,{x:l&&s,y:u&&o}).call(E=>E.selectAll().data(t).enter().append("path").call(ni,this).attr("transform",Jw`translate(${l?$=>l[$]:w},${u?$=>u[$]:k})${f?$=>` rotate(${f[$]})`:d?` rotate(${d})`:""}${g==="start"?"":g==="end"?c?$=>` translate(0,${c[$]})`:` translate(0,${h})`:c?$=>` translate(0,${c[$]/2})`:` translate(0,${h/2})`}`).attr("d",c?$=>{const T=q3();return y.draw(T,c[$],b),T}:(()=>{const $=q3();return y.draw($,h,b),$})()).call(ho,this,r)).node()}}function Tq(e,t={}){const{x:n=Ht,...r}=t;return new ux(e,{...r,x:n})}function Eq(e,t={}){const{y:n=Ht,...r}=t;return new ux(e,{...r,y:n})}function ii(e,t){return arguments.length<2&&!m0(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Yh({anchor:e}={},t){return e===void 0?t[0]:Cr(e,"anchor",t)}function cx(e){return Yh(e,["left","right"])}function fx(e){return Yh(e,["right","left"])}function hx(e){return Yh(e,["bottom","top"])}function dx(e){return Yh(e,["top","bottom"])}function mx(){const[e,t]=ii(...arguments);return gx("y",cx(t),e,t)}function Dq(){const[e,t]=ii(...arguments);return gx("fy",fx(t),e,t)}function px(){const[e,t]=ii(...arguments);return vx("x",hx(t),e,t)}function _q(){const[e,t]=ii(...arguments);return vx("fx",dx(t),e,t)}function gx(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:c,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:g=e==="y"?6:0,tickPadding:y,tickRotate:b,x:w,margin:k,marginTop:E=k===void 0?20:k,marginRight:$=k===void 0?t==="right"?40:0:k,marginBottom:T=k===void 0?20:k,marginLeft:I=k===void 0?t==="left"?40:0:k,label:D,labelAnchor:j,labelArrow:U,labelOffset:S,...C}){return g=rt(g),y=rt(y),b=rt(b),j!==void 0&&(j=Cr(j,"labelAnchor",["center","top","bottom"])),U=$x(U),Fw(g&&!sn(a)?zq(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:g,tickPadding:y,tickRotate:b,x:w,...C}):null,sn(l)?null:Nq(e,t,n,{fill:l,fillOpacity:u,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:c,tickSize:g,tickPadding:y,tickRotate:b,x:w,marginTop:E,marginRight:$,marginBottom:T,marginLeft:I,...C}),!sn(l)&&D!==null?F5([],xx({fill:l,fillOpacity:u,...C},function(H,P,Q,N,W){const ae=N[e],{marginTop:ie,marginRight:le,marginBottom:ee,marginLeft:se}=e==="y"&&W.inset||W,oe=j??(ae.bandwidth?"center":"top"),re=S??(t==="right"?le:se)-3;return oe==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=oe,this.frameAnchor=`${oe}-${t}`,this.rotate=0),this.dy=oe==="top"?3-ie:oe==="bottom"?ee-3:0,this.dx=t==="right"?re:-re,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[kx(e,ae,{anchor:t,label:D,labelAnchor:oe,labelArrow:U})]}}}})):null)}function vx(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:c,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:g=e==="x"?6:0,tickPadding:y,tickRotate:b,y:w,margin:k,marginTop:E=k===void 0?t==="top"?30:0:k,marginRight:$=k===void 0?20:k,marginBottom:T=k===void 0?t==="bottom"?30:0:k,marginLeft:I=k===void 0?20:k,label:D,labelAnchor:j,labelArrow:U,labelOffset:S,...C}){return g=rt(g),y=rt(y),b=rt(b),j!==void 0&&(j=Cr(j,"labelAnchor",["center","left","right"])),U=$x(U),Fw(g&&!sn(a)?Iq(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:g,tickPadding:y,tickRotate:b,y:w,...C}):null,sn(l)?null:qq(e,t,n,{fill:l,fillOpacity:u,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:c,tickSize:g,tickPadding:y,tickRotate:b,y:w,marginTop:E,marginRight:$,marginBottom:T,marginLeft:I,...C}),!sn(l)&&D!==null?F5([],xx({fill:l,fillOpacity:u,...C},function(H,P,Q,N,W){const ae=N[e],{marginTop:ie,marginRight:le,marginBottom:ee,marginLeft:se}=e==="x"&&W.inset||W,oe=j??(ae.bandwidth?"center":"right"),re=S??(t==="top"?ie:ee)-3;return oe==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${oe}`,this.textAnchor=oe==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-re:re,this.dx=oe==="right"?le-3:oe==="left"?3-se:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[kx(e,ae,{anchor:t,label:D,labelAnchor:oe,labelArrow:U})]}}}})):null)}function zq(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetLeft:c=u,insetRight:f=u,dx:h=0,y:d=e==="y"?void 0:null,...g}){return gl(Eq,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:o,y:d,...g,dx:t==="left"?+h-vn+ +c:+h+vn-f,anchor:"start",length:l,shape:t==="left"?Hq:Vq})}function Iq(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetTop:c=u,insetBottom:f=u,dy:h=0,x:d=e==="x"?void 0:null,...g}){return gl(Tq,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:o,x:d,...g,dy:t==="bottom"?+h-vn-f:+h+vn+ +c,anchor:"start",length:l,shape:t==="bottom"?Pq:Oq})}function Nq(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*Hw):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:c=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:f=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:d=0,insetLeft:g=d,insetRight:y=d,dx:b=0,y:w=e==="y"?void 0:null,...k}){return gl(hq,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:f,fontVariant:h,rotate:s,y:w,...k,dx:t==="left"?+b-a-o+ +g:+b+ +a+ +o-y},function(E,$,T,I){h===void 0&&(this.fontVariant=Sx(E)),u===void 0&&(I.text=Mx(E,$,T,l,t))})}function qq(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*Hw):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:c=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:d=0,insetTop:g=d,insetBottom:y=d,dy:b=0,x:w=e==="x"?void 0:null,...k}){return gl(fq,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:f,fontVariant:h,rotate:s,x:w,...k,dy:t==="bottom"?+b+ +a+ +o-y:+b-a-o+ +g},function(E,$,T,I){h===void 0&&(this.fontVariant=Sx(E)),u===void 0&&(I.text=Mx(E,$,T,l,t))})}function Bq(){const[e,t]=ii(...arguments);return yx("y",cx(t),e,t)}function Fq(){const[e,t]=ii(...arguments);return yx("fy",fx(t),e,t)}function Lq(){const[e,t]=ii(...arguments);return bx("x",hx(t),e,t)}function Rq(){const[e,t]=ii(...arguments);return bx("fx",dx(t),e,t)}function yx(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...o}){return gl(Qw,e,`${e}-grid`,n,{y:r,x1:a,x2:s,...wx(o)})}function bx(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...o}){return gl(lq,e,`${e}-grid`,n,{x:r,y1:a,y2:s,...wx(o)})}function wx({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function xx({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u=!1},c){return[,e]=c0(e),[,t]=gn(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u,initializer:c}}function gl(e,t,n,r,i,a){let s;function o(c,f,h,d,g,y){const b=c==null&&(t==="fx"||t==="fy"),{[t]:w}=d;if(!w)throw new Error(`missing scale: ${t}`);let{ticks:k,tickSpacing:E,interval:$}=i;if(z5(w)&&typeof k=="string"&&($=k,k=void 0),c==null){if(m0(k))c=wn(k);else if(w.ticks)if(k!==void 0)c=w.ticks(k);else if($=ml($===void 0?w.interval:$,w.type),$!==void 0){const[I,D]=Yn(w.domain());c=$.range(I,$.offset($.floor(D)))}else{const[I,D]=Yn(w.range());k=(D-I)/(E===void 0?t==="x"?80:35:E),c=w.ticks(k)}else c=w.domain();t==="y"||t==="x"?f=[d0(c)]:s[t]={scale:t,value:Ht}}a==null||a.call(this,w,c,k,s);const T=Object.fromEntries(Object.entries(s).map(([I,D])=>[I,{...D,value:Tt(c,D.value)}]));return b&&(f=y.filterFacets(c,T)),{data:c,facets:f,channels:T}}const l=Zf(i).initializer,u=e(r,Zf({...i,initializer:o},l));return r==null?(s=u.channels,u.channels={}):s={},u.ariaLabel=n,u.clip===void 0&&(u.clip=!1),u}function Mx(e,t,n,r,i){return{value:Kf(e,t,n,r,i)}}function Kf(e,t,n,r,i){return r===void 0&&z5(e)?_z(e,t,n,i):e.tickFormat?e.tickFormat(m0(n)?null:n,r):r===void 0?Ez(e.interval)?lu("%Y"):Dz(e.interval)?Eh("%Y"):j0:typeof r=="string"?(Jn(e.domain())?lu:Su)(r):Cu(r)}const Pq={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},Oq={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},Hq={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Vq={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Sx(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function Uq(e){return Math.sign(ol(e.domain()))*Math.sign(ol(e.range()))}function kx(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&jq(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=Uq(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function $x(e="auto"){return sn(e)?!1:typeof e=="boolean"?e:Cr(e,"labelArrow",["auto","up","right","down","left"])}function jq(e){return z5(e)||e.interval!=null}function H8(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function Wq(e,{opacity:t,...n}={}){if(!mo(e)&&!Bw(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Ax(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",gn(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Yq(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:sn(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...o}={},l){const[f,h]=c0(t),[d,g]=c0(r),y=H8(l,f),b=H8(l,d),w=s*s*Math.PI;return n=gn(n)[1],i=gn(i)[1],a=gn(a)[1],Ax(e,o,(k,E,$,T)=>k.append("svg").attr("viewBox","-8 -8 16 16").attr("width",$).attr("height",T).attr("fill",f==="color"?I=>y.scale(I):h).attr("fill-opacity",n).attr("stroke",d==="color"?I=>b.scale(I):g).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",I=>{const D=q3();return e.scale(I).draw(D,w),D}))}function Ax(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=Ow(e),swatchSize:s=15,swatchWidth:o=s,swatchHeight:l=s,marginLeft:u=0,className:c,style:f,width:h}=t;const d=C5(t);c=$5(c),typeof i!="function"&&(i=Kf(e.scale,e.domain,void 0,i));const g=Qt("div",d).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let y;return r!=null?(y=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,g.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,o,l).call(b=>b.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(y=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,g.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,o,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),g.call(b=>b.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${y}`)).style("margin-left",u?`${+u}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",xt(a,"normal")).call(A5,f).node()}const mm=new Map([["symbol",Yq],["color",Tx],["opacity",Xq]]);function Gq(e,t,n={}){return(r,i)=>{if(!mm.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return mm.get(r)(e[r],Cx(t,n[r],i),a=>e[a])}}function Cx({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return Xz(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Tx(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return Wq(e,n);case"ramp":return QN(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function Xq({type:e,interpolate:t,...n},{legend:r=!0,color:i=Q0(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Tx({type:e,...n,interpolate:Zq(i)},{legend:r,...a})}function Zq(e){const{r:t,g:n,b:r}=Q0(e)||Q0(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function Qq(e,t,n){const r=[];for(const[i,a]of mm){const s=n[i];if(s!=null&&s.legend&&i in e){const o=a(e[i],Cx(t,e[i],s),l=>e[l]);o!=null&&r.push(o)}}return r}const Kq={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Jq={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class eB extends tr{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:o=r,rx:l,ry:u}=t;super(cf,void 0,t,n==null?Kq:Jq),this.anchor=v5(n,"anchor",["top","right","bottom","left"]),this.insetTop=rt(i),this.insetRight=rt(a),this.insetBottom=rt(s),this.insetLeft=rt(o),this.rx=rt(l),this.ry=rt(u)}render(t,n,r,i,a){const{marginTop:s,marginRight:o,marginBottom:l,marginLeft:u,width:c,height:f}=i,{anchor:h,insetTop:d,insetRight:g,insetBottom:y,insetLeft:b,rx:w,ry:k}=this,E=u+b,$=c-o-g,T=s+d,I=f-l-y;return Qt(h?"svg:line":"svg:rect",a).datum(0).call(ti,this,i,a).call(ni,this).call(ho,this,r).call(g0,this,{}).call(h==="left"?D=>D.attr("x1",E).attr("x2",E).attr("y1",T).attr("y2",I):h==="right"?D=>D.attr("x1",$).attr("x2",$).attr("y1",T).attr("y2",I):h==="top"?D=>D.attr("x1",E).attr("x2",$).attr("y1",T).attr("y2",T):h==="bottom"?D=>D.attr("x1",E).attr("x2",$).attr("y1",I).attr("y2",I):D=>D.attr("x",E).attr("y",T).attr("width",$-E).attr("height",I-T).attr("rx",w).attr("ry",k)).node()}}function tB(e){return new eB(e)}const s3={ariaLabel:"tip",fill:"white",stroke:"currentColor"},nB=new Set(["geometry","href","src","ariaLabel"]);class rB extends tr{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&m0(t)&&nw(t)&&(n={...n,title:Ht});const{x:r,y:i,x1:a,x2:s,y1:o,y2:l,anchor:u,monospace:c,fontFamily:f=c?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:d,fontVariant:g,fontWeight:y,lineHeight:b=1,lineWidth:w=20,frameAnchor:k,textAnchor:E="start",textOverflow:$,textPadding:T=8,title:I,pointerSize:D=12,pathFilter:j="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&l!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:o,scale:"y",optional:l==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:o==null},title:{value:I,optional:!0}},n,s3),this.anchor=rw(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=x5(k),this.textAnchor=xt(E,"middle"),this.textPadding=+T,this.pointerSize=+D,this.pathFilter=jt(j),this.lineHeight=+b,this.lineWidth=+w,this.textOverflow=tx($),this.monospace=!!c,this.fontFamily=jt(f),this.fontSize=rt(h),this.fontStyle=jt(d),this.fontVariant=jt(g),this.fontWeight=jt(y);for(const U in s3)U in this.channels&&(this[U]=s3[U]);this.splitLines=rx(this),this.clipLine=ix(this)}render(t,n,r,i,a){const s=this,{x:o,y:l,fx:u,fy:c}=n,{ownerSVGElement:f,document:h}=a,{anchor:d,monospace:g,lineHeight:y,lineWidth:b}=this,{textPadding:w,pointerSize:k,pathFilter:E}=this,{marginTop:$,marginLeft:T}=i,I=lB(r),{x1:D,y1:j,x2:U,y2:S,x:C=D??U,y:H=j??S}=r,P=u?u(t.fx)-T:0,Q=c?c(t.fy)-$:0,[N,W]=Oh(this,i),ae=Rw(r,N),ie=Pw(r,W),le=g?R5:L5,ee=le(Xo),se=u&&Kf(u),oe=c&&Kf(c);function*re(ce,pe){if("title"in ce){const ne=ce.title.value[pe];for(const xe of s.splitLines(j0(ne)))yield{name:"",value:s.clipLine(xe)};return}for(const ne in ce){if(ne==="x1"&&"x2"in ce||ne==="y1"&&"y2"in ce)continue;const xe=ce[ne],Ae=xe.value[pe];if(!(!so(Ae)&&xe.scale==null))if(ne==="x2"&&"x1"in ce)yield{name:U8(n,ce.x1,xe,"x"),value:V8(ce.x1,xe,pe)};else if(ne==="y2"&&"y1"in ce)yield{name:U8(n,ce.y1,xe,"y"),value:V8(ce.y1,xe,pe)};else{const Y=xe.scale,ke={name:pm(n,xe,ne),value:j0(Ae)};(Y==="color"||Y==="opacity")&&(ke[Y]=r[ne][pe]),yield ke}}t.fi!=null&&u&&(yield{name:String(u.label??"fx"),value:se(t.fx)}),t.fi!=null&&c&&(yield{name:String(c.label??"fy"),value:oe(t.fy)})}const Se=Qt("svg:g",a).call(ti,this,i,a).call(nx,this).call(g0,this,{x:C&&o,y:H&&l}).call(ce=>ce.selectAll().data(t).enter().append("g").attr("transform",pe=>`translate(${Math.round(ae(pe))},${Math.round(ie(pe))})`).call(ni,this).call(pe=>pe.append("path").attr("filter",E)).call(pe=>pe.append("text").each(function(ne){const xe=Hl(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Ae=new Set;for(const Y of re(I,ne)){const ke=Y.name;ke&&Ae.has(ke)||(Ae.add(ke),Ce(xe,Y))}})));function Ce(ce,{name:pe,value:ne,color:xe,opacity:Ae}){const Y=xe!=null||Ae!=null;let ke,Ee=b*100;const[Be]=ll(pe,Ee,le,ee);if(Be>=0)pe=pe.slice(0,Be).trimEnd()+Xo,ke=ne.trim(),ne="";else{(pe||!ne&&!Y)&&(ne=" "+ne);const[Ge]=ll(ne,Ee-le(pe),le,ee);Ge>=0&&(ne=ne.slice(0,Ge).trimEnd()+Xo,ke=ne.trim())}const Fe=ce.append("tspan").attr("x",0).attr("dy",`${y}em`).text("​");pe&&Fe.append("tspan").attr("font-weight","bold").text(pe),ne&&Fe.append(()=>h.createTextNode(ne)),Y&&Fe.append("tspan").text(" ■").attr("fill",xe).attr("fill-opacity",Ae).style("user-select","none"),ke&&Fe.append("title").text(ke)}function De(){const{width:ce,height:pe}=i.facet??i;Se.selectChildren().each(function(ne){let{x:xe,width:Ae,height:Y}=this.getBBox();Ae=Math.round(Ae),Y=Math.round(Y);let ke=d;if(ke===void 0){ke=s.previousAnchor;const Fe=ae(ne)+P,Ge=ie(ne)+Q,mt=Fe+Ae+w*2<ce,wt=Fe-Ae-w*2>0,Vt=Ge+Y+k+w*2+7<pe,Kt=Ge-Y-k-w*2>0,Dt=(/-left$/.test(ke)?mt||!wt:mt&&!wt)?"left":"right",po=(/^top-/.test(ke)?Vt||!Kt:Vt&&!Kt)?"top":"bottom";ke=s.previousAnchor=`${po}-${Dt}`}const Ee=this.firstChild,Be=this.lastChild;if(Ee.setAttribute("d",oB(ke,k,w,Ae,Y)),xe)for(const Fe of Be.childNodes)Fe.setAttribute("x",-xe);Be.setAttribute("y",`${+aB(ke,Be.childNodes.length,y).toFixed(6)}em`),Be.setAttribute("transform",`translate(${sB(ke,k,w,Ae,Y)})`)})}return f.isConnected?Promise.resolve().then(De):typeof requestAnimationFrame<"u"&&requestAnimationFrame(De),Se.node()}}function iB(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=b5(t,n)),new rB(e,{...r,x:t,y:n})}function aB(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function sB(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function oB(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function lB({channels:e}){const t={};for(const n in e){if(nB.has(n))continue;const r=xI(e,n);r&&(t[n]=r)}return t}function V8(e,t,n){var r;return(r=t.hint)!=null&&r.length?`${j0(t.value[n]-e.value[n])}`:`${j0(e.value[n])}–${j0(t.value[n])}`}function U8(e,t,n,r){const i=pm(e,t,r),a=pm(e,n,r);return i===a?i:`${i}–${a}`}function pm(e,t,n){var r;return String(((r=e[t.scale])==null?void 0:r.label)??(t==null?void 0:t.label)??n)}function _u(e={}){var le;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:o}=e,l=$5(e.className),u=e.marks===void 0?[]:W8(e.marks);u.push(...gB(u));const c=mB(t,e),f=new Map;for(const ee of u){const se=Y8(ee,c,e);se&&f.set(ee,se)}const h=new Map;c&&El(h,[c],e),El(h,f,e);const d=W8(vB(u,h,e));for(const ee of d){const se=Y8(ee,c,e);se&&f.set(ee,se)}u.unshift(...d);let g=NN(h,e);if(g!==void 0){const ee=c?i3(g,c):void 0;for(const oe of u){if(oe.facet===null||oe.facet==="super")continue;const re=f.get(oe);re!==void 0&&(re.facetsIndex=oe.fx!=null||oe.fy!=null?i3(g,re):ee)}const se=new Set;for(const{facetsIndex:oe}of f.values())oe==null||oe.forEach((re,Se)=>{(re==null?void 0:re.length)>0&&se.add(Se)});g.forEach(0<se.size&&se.size<g.length?(oe,re)=>oe.empty=!se.has(re):oe=>oe.empty=!1);for(const oe of u)if(oe.facet==="exclude"){const re=f.get(oe);re!==void 0&&(re.facetsIndex=FN(re.facetsIndex))}}for(const ee of ht.keys())lm(e[ee])&&ee!=="fx"&&ee!=="fy"&&h.set(ee,[]);const y=new Map;for(const ee of u){if(y.has(ee))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:se,channels:oe}=f.get(ee)??{},{data:re,facets:Se,channels:Ce}=ee.initialize(se,oe,e);P5(Ce,e),y.set(ee,{data:re,facets:Se,channels:Ce})}const b=fm(El(h,y,e),e),w=E8(b),k=zN(b,u,e);SN(b,k);const{fx:E,fy:$}=w,T=E||$?Iw(b,k):k,I=E||$?kB(w,k):k,D=C5(e),j=D.document,U=fh("svg").call(j.documentElement);let S=U;D.ownerSVGElement=U,D.className=l,D.projection=BI(e,T),D.filterFacets=(ee,se)=>i3(g,{channels:se,groups:I5(ee,se)}),D.getMarkState=ee=>{const se=y.get(ee),oe=f.get(ee);return{...se,channels:{...se.channels,...oe==null?void 0:oe.channels}}},D.dispatchValue=ee=>{S.value!==ee&&(S.value=ee,S.dispatchEvent(new Event("input",{bubbles:!0})))};const C=new Set;for(const[ee,se]of y)if(ee.initializer!=null){const oe=ee.facet==="super"?I:T,re=ee.initializer(se.data,se.facets,se.channels,w,oe,D);if(re.data!==void 0&&(se.data=re.data),re.facets!==void 0&&(se.facets=re.facets),re.channels!==void 0){const{fx:Se,fy:Ce,...De}=re.channels;dB(De),Object.assign(se.channels,De);for(const ce of Object.values(De)){const{scale:pe}=ce;pe!=null&&!Qz(ht.get(pe))&&(Ex(ce,e),C.add(pe))}(Se!=null||Ce!=null)&&f.set(ee,!0)}}if(C.size){const ee=new Map;El(ee,y,e,re=>C.has(re)),El(h,y,e,re=>C.has(re));const se=SB(fm(ee,e),b),oe=E8(se);Object.assign(b,se),Object.assign(w,oe)}let H,P;g!==void 0&&(H={x:E==null?void 0:E.domain(),y:$==null?void 0:$.domain()},g=qN(g,H),P=BN(E,$,k));for(const[ee,se]of y)se.values=ee.scale(se.channels,w,D);const{width:Q,height:N}=k;Hl(U).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",Q).attr("height",N).attr("viewBox",`0 0 ${Q} ${N}`).attr("aria-label",s).attr("aria-description",o).call(ee=>ee.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(A5,n);for(const ee of u){const{channels:se,values:oe,facets:re}=y.get(ee);if(g===void 0||ee.facet==="super"){let Se=null;if(re&&(Se=re[0],Se=ee.filter(Se,se,oe),Se.length===0))continue;const Ce=ee.render(Se,w,oe,I,D);if(Ce==null)continue;U.appendChild(Ce)}else{let Se;for(const Ce of g){if(!(((le=ee.facetAnchor)==null?void 0:le.call(ee,g,H,Ce))??!Ce.empty))continue;let De=null;if(re){const pe=f.has(ee);if(De=re[pe?Ce.i:0],De=ee.filter(De,se,oe),De.length===0)continue;!pe&&De===re[0]&&(De=Pz(De)),De.fx=Ce.x,De.fy=Ce.y,De.fi=Ce.i}const ce=ee.render(De,w,oe,T,D);if(ce!=null){(Se??(Se=Hl(U).append("g"))).append(()=>ce).datum(Ce);for(const pe of["aria-label","aria-description","aria-hidden","transform"])ce.hasAttribute(pe)&&(Se.attr(pe,ce.getAttribute(pe)),ce.removeAttribute(pe))}}Se==null||Se.selectChildren().attr("transform",P)}}const W=Qq(b,D,e),{figure:ae=r!=null||i!=null||a!=null||W.length>0}=e;ae&&(S=j.createElement("figure"),S.className=`${l}-figure`,S.style.maxWidth="initial",r!=null&&S.append(j8(j,r,"h2")),i!=null&&S.append(j8(j,i,"h3")),S.append(...W,U),a!=null&&S.append(uB(j,a))),S.scale=DN(b),S.legend=Gq(b,D,e);const ie=CI();return ie>0&&Hl(U).append("text").attr("x",Q).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${ie.toLocaleString("en-US")} warning${ie===1?"":"s"}. Please check the console.`),S}function j8(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(e.createTextNode(t)),r}function uB(e,t){const n=e.createElement("figcaption");return n.append(t.ownerDocument?t:e.createTextNode(t)),n}function cB({marks:e=[],...t}={}){return _u({...t,marks:[...e,this]})}tr.prototype.plot=cB;function W8(e){return e.flat(1/0).filter(t=>t!=null).map(fB)}function fB(e){return typeof e.render=="function"?e:new hB(e)}class hB extends tr{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function P5(e,t){for(const n in e)Ex(e[n],t);return e}function Ex(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:o=a?l=>l*100:tw(s,i)}=t[n]??{};o!=null&&(e.value=St(e.value,o),e.transform=!1)}function dB(e){for(const t in e)pw(t,e[t])}function El(e,t,n,r=Bz){var i,a;for(const{channels:s}of t.values())for(const o in s){const l=s[o],{scale:u}=l;if(u!=null&&r(u))if(u==="projection"){if(!PI(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,f=((a=n.y)==null?void 0:a.domain)===void 0;if(c||f){const[h,d]=HI(l);c&&o3(e,"x",h),f&&o3(e,"y",d)}}}else o3(e,u,l)}return e}function o3(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function mB(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=wn(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=du(i,{value:n,scale:"fx"})),r!=null&&(a.fy=du(i,{value:r,scale:"fy"})),P5(a,t);const s=I5(i,a);return{channels:a,groups:s,data:e.data}}function Y8(e,t,n){var l;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=wn(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=du(u,{value:r,scale:"fx"})),i!=null&&(c.fy=du(u,{value:i,scale:"fy"})),P5(c,n),{channels:c,groups:I5(u,c)}}if(t===void 0)return;const{channels:a,groups:s,data:o}=t;if(e.facet!=="auto"||e.data===o)return{channels:a,groups:s};o.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((l=wn(e.data))==null?void 0:l.length)===o.length&&Go(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function pB(e,t={}){return Zf({...t,x:null,y:null},(n,r,i,a,s,o)=>o.getMarkState(e))}function gB(e){const t=[];for(const n of e){const r=n.tip;if(r){const a=(r==="x"?XN:r==="y"?ZN:GN)(pB(n));a.title=null,t.push(iB(n.data,a))}}return t}function vB(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:o={},axis:l,grid:u,facet:c={},facet:{axis:f=l,grid:h}=c,x:{axis:d=l,grid:g=d===null?null:u}=i,y:{axis:y=l,grid:b=y===null?null:u}=a,fx:{axis:w=f,grid:k=w===null?null:h}=s,fy:{axis:E=f,grid:$=E===null?null:h}=o}=n;(r||!lm(i)&&!G8("x",e))&&(d=g=null),(r||!lm(a)&&!G8("y",e))&&(y=b=null),t.has("fx")||(w=k=null),t.has("fy")||(E=$=null),d===void 0&&(d=!Kc(e,"x")),y===void 0&&(y=!Kc(e,"y")),w===void 0&&(w=!Kc(e,"fx")),E===void 0&&(E=!Kc(e,"fy")),d===!0&&(d="bottom"),y===!0&&(y="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),E===!0&&(E=y==="right"||y===null?"left":"right");const T=[];return Qc(T,$,Fq,o),Zc(T,E,Dq,"right","left",c,o),Qc(T,k,Rq,s),Zc(T,w,_q,"top","bottom",c,s),Qc(T,b,Bq,a),Zc(T,y,mx,"left","right",n,a),Qc(T,g,Lq,i),Zc(T,d,px,"bottom","top",n,i),T}function Zc(e,t,n,r,i,a,s){if(!t)return;const o=yB(t);s=bB(o?r:t,a,s);const{line:l}=s;(n===mx||n===px)&&l&&!hu(l)&&e.push(tB(wB(s))),e.push(n(s)),o&&e.push(n({...s,anchor:i,label:null}))}function Qc(e,t,n,r){!t||hu(t)||e.push(n(xB(t,r)))}function yB(e){return/^\s*both\s*$/i.test(e)}function bB(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:c,ariaDescription:f,label:h=t.label,labelAnchor:d,labelArrow:g=t.labelArrow,labelOffset:y}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:c,ariaDescription:f,label:h,labelAnchor:d,labelArrow:g,labelOffset:y}}function wB(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function xB(e,{stroke:t=Bh(e)?e:void 0,ticks:n=MB(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function MB(e){switch(typeof e){case"number":return!0;case"string":return!Bh(e)}return m0(e)||typeof(e==null?void 0:e.range)=="function"}function Kc(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function G8(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function SB(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function kB({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=_5(n),u=e&&X8(e),c=t&&X8(t);return{marginTop:t?c[0]:r,marginRight:e?o-u[1]:i,marginBottom:t?l-c[1]:a,marginLeft:e?u[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:o,height:l}}function X8(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}function $B(e={y:"count"},t={}){[e,t]=CB(e,t);const{x:n,y:r}=t;return AB(TB(n,t,Ht),null,null,r,e,Wh(t))}function AB(e,t,n,r,{data:i=dw,filter:a=Qf,sort:s,reverse:o,...l}={},u={}){e=Z8(e),t=Z8(t),l=DB(l,u),i=zx(i,Ht),s=s==null?void 0:Dx("sort",s,u),a=a==null?void 0:_x("filter",a,u),n!=null&&Wc(l,"x","x1","x2")&&(n=null),r!=null&&Wc(l,"y","y1","y2")&&(r=null);const[c,f]=jr(e),[h,d]=jr(e),[g,y]=jr(t),[b,w]=jr(t),[k,E]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[$,T]=jr(k),{x:I,y:D,z:j,fill:U,stroke:S,x1:C,x2:H,y1:P,y2:Q,domain:N,cumulative:W,thresholds:ae,interval:ie,...le}=u,[ee,se]=jr(j),[oe]=c0(U),[re]=c0(S),[Se,Ce]=jr(oe),[De,ce]=jr(re);return{..."z"in u&&{z:ee||j},..."fill"in u&&{fill:Se||U},..."stroke"in u&&{stroke:De||S},...S5(le,(pe,ne,xe)=>{const Ae=ew(Tt(pe,k),xe==null?void 0:xe[E]),Y=Tt(pe,j),ke=Tt(pe,oe),Ee=Tt(pe,re),Be=oI(l,{z:Y,fill:ke,stroke:Ee}),Fe=[],Ge=[],mt=Ae&&T([]),wt=Y&&se([]),Vt=ke&&Ce([]),Kt=Ee&&ce([]),Dt=e&&f([]),po=e&&d([]),ai=t&&y([]),Tr=t&&w([]),zu=NB(e==null?void 0:e(pe),t==null?void 0:t(pe));let go=0;for(const Jt of l)Jt.initialize(pe);s&&s.initialize(pe),a&&a.initialize(pe);for(const Jt of ne){const vl=[];for(const nr of l)nr.scope("facet",Jt);s&&s.scope("facet",Jt),a&&a.scope("facet",Jt);for(const[nr,Er]of v8(Jt,Be))for(const[Iu,vo]of v8(Er,Ae))for(const[zt,rr]of zu(vo))if(!(a&&!a.reduce(zt,rr))){vl.push(go++),Ge.push(i.reduceIndex(zt,pe,rr)),Ae&&mt.push(Iu),Y&&wt.push(Be===Y?nr:Y[zt[0]]),ke&&Vt.push(Be===ke?nr:ke[zt[0]]),Ee&&Kt.push(Be===Ee?nr:Ee[zt[0]]),Dt&&(Dt.push(rr.x1),po.push(rr.x2)),ai&&(ai.push(rr.y1),Tr.push(rr.y2));for(const yo of l)yo.reduce(zt,rr);s&&s.reduce(zt)}Fe.push(vl)}return lI(Fe,s,o),{data:Ge,facets:Fe}}),...!Wc(l,"x")&&(c?{x1:c,x2:h,x:Xf(c,h)}:{x:I,x1:C,x2:H}),...!Wc(l,"y")&&(g?{y1:g,y2:b,y:Xf(g,b)}:{y:D,y1:P,y2:Q}),...$&&{[E]:$},...Object.fromEntries(l.map(({name:pe,output:ne})=>[pe,ne]))}}function CB({cumulative:e,domain:t,thresholds:n,interval:r,...i},a){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...a}]}function TB(e,{cumulative:t,domain:n,thresholds:r,interval:i},a){return e={...Tu(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=a),e.thresholds=EB(e.thresholds,e.interval),e}function Z8(e){if(e==null)return;const{value:t,cumulative:n,domain:r=Yn,thresholds:i}=e,a=s=>{let o=Tt(s,t),l;if(Jn(o)||zB(i)){o=St(o,Gb,Float64Array);let[c,f]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!Rl(i)?i(o,c,f):i;typeof h=="number"&&(h=oy(c,f,h)),Rl(h)&&(r===Yn&&(c=h.floor(c),f=h.offset(h.floor(f))),h=h.range(c,h.offset(f))),l=h}else{o=Yf(o);let[c,f]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!Rl(i)?i(o,c,f):i;if(typeof h=="number")if(r===Yn){let d=yf(c,f,h);if(isFinite(d))if(d>0){let g=Math.round(c/d),y=Math.round(f/d);g*d<=c||--g,y*d>f||++y;let b=y-g+1;h=new Float64Array(b);for(let w=0;w<b;++w)h[w]=(g+w)*d}else if(d<0){d=-d;let g=Math.round(c*d),y=Math.round(f*d);g/d<=c||--g,y/d>f||++y;let b=y-g+1;h=new Float64Array(b);for(let w=0;w<b;++w)h[w]=(g+w)/d}else h=[c];else h=[c]}else h=eu(c,f,h);else Rl(h)&&(r===Yn&&(c=h.floor(c),f=h.offset(h.floor(f))),h=h.range(c,h.offset(f)));l=h}const u=[];if(l.length===1)u.push([l[0],l[0]]);else for(let c=1;c<l.length;++c)u.push([l[c-1],l[c]]);return u.bin=(n<0?BB:n>0?qB:O5)(u,l,o),u};return a.label=fo(t),a}function EB(e,t,n=Q8){if(e===void 0)return t===void 0?n:ml(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return Ek;case"scott":return wg;case"sturges":return $k;case"auto":return Q8}return Wb(e)}return e}function DB(e,t){return iI(e,t,Dx)}function Dx(e,t,n){return fw(e,t,n,_x)}function _x(e,t,n){return hw(e,t,n,zx)}function zx(e,t){return k5(e,t,_B)}function _B(e){switch(`${e}`.toLowerCase()){case"x":return FB;case"x1":return RB;case"x2":return PB;case"y":return LB;case"y1":return OB;case"y2":return HB}throw new Error(`invalid bin reduce: ${e}`)}function Q8(e,t,n){return Math.min(200,wg(e,t,n))}function zB(e){return IB(e)||m0(e)&&Jn(e)}function IB(e){return Rl(e)&&typeof e=="function"&&e()instanceof Date}function Rl(e){return typeof(e==null?void 0:e.range)=="function"}function NB(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries()){const o=t.bin(r[i]);for(const[l,[u,c]]of t.entries())yield[o[l],{x1:a,y1:u,x2:s,y2:c}]}}:e?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries())yield[r[i],{x1:a,x2:s}]}:function*(n){const r=t.bin(n);for(const[i,[a,s]]of t.entries())yield[r[i],{y1:a,y2:s}]}}function O5(e,t,n){return t=Yf(t),r=>{var a;const i=e.map(()=>[]);for(const s of r)(a=i[uh(t,n[s])-1])==null||a.push(s);return i}}function qB(e,t,n){const r=O5(e,t,n);return i=>{const a=r(i);for(let s=1,o=a.length;s<o;++s){const l=a[s-1],u=a[s];for(const c of l)u.push(c)}return a}}function BB(e,t,n){const r=O5(e,t,n);return i=>{const a=r(i);for(let s=a.length-2;s>=0;--s){const o=a[s+1],l=a[s];for(const u of o)l.push(u)}return a}}function Ix(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const FB={reduceIndex(e,t,{x1:n,x2:r}){return Ix(n,r)}},LB={reduceIndex(e,t,{y1:n,y2:r}){return Ix(n,r)}},RB={reduceIndex(e,t,{x1:n}){return n}},PB={reduceIndex(e,t,{x2:n}){return n}},OB={reduceIndex(e,t,{y1:n}){return n}},HB={reduceIndex(e,t,{y2:n}){return n}};function VB(e={}){return Xb(e)?e:{...e,x:Ht}}function UB(e={}){return Zb(e)?e:{...e,y:Ht}}function jB(e={},t={}){arguments.length===1&&([e,t]=Nx(e));const{y1:n,y:r=n,x:i,...a}=t,[s,o,l,u]=qx(r,i,"y","x",e,a);return{...s,y1:n,y:o,x1:l,x2:u,x:Xf(l,u)}}function WB(e={},t={}){arguments.length===1&&([e,t]=Nx(e));const{x1:n,x:r=n,y:i,...a}=t,[s,o,l,u]=qx(r,i,"x","y",e,a);return{...s,x1:n,x:o,y1:l,y2:u,y:Xf(l,u)}}function YB({x:e,x1:t,x2:n,...r}={}){return r=jh(r,"y"),t===void 0&&n===void 0?jB({x:e,...r}):([t,n]=Kb(e,t,n),{...r,x1:t,x2:n})}function GB({y:e,y1:t,y2:n,...r}={}){return r=jh(r,"x"),t===void 0&&n===void 0?WB({y:e,...r}):([t,n]=Kb(e,t,n),{...r,y1:t,y2:n})}function Nx(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const XB={length:!0};function qx(e,t=qz,n,r,{offset:i,order:a,reverse:s},o){if(t===null)throw new Error(`stack requires ${r}`);const l=Rz(o),[u,c]=jr(e),[f,h]=Gf(t),[d,g]=Gf(t);return f.hint=d.hint=XB,i=ZB(i),a=JB(a,i,r),[S5(o,(y,b,w)=>{const k=e==null?void 0:c(ew(Tt(y,e),w==null?void 0:w[n])),E=Tt(y,t,Float64Array),$=Tt(y,l),T=a&&a(y,k,E,$),I=y.length,D=h(new Float64Array(I)),j=g(new Float64Array(I)),U=[];for(const S of b){const C=k?Array.from(Rm(S,H=>k[H]).values()):[S];if(T)for(const H of C)H.sort(T);for(const H of C){let P=0,Q=0;s&&H.reverse();for(const N of H){const W=E[N];W<0?P=j[N]=(D[N]=P)+W:W>0?Q=j[N]=(D[N]=Q)+W:j[N]=D[N]=Q}}U.push(C)}return i&&i(U,D,j,$),{data:y,facets:b}}),u,f,d]}function ZB(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return QB;case"center":case"silhouette":return KB;case"wiggle":return Fx}throw new Error(`unknown offset: ${e}`)}}function Bx(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function QB(e,t,n){for(const r of e)for(const i of r){const[a,s]=Bx(i,n);for(const o of i){const l=1/(s-a||1);t[o]=l*(t[o]-a),n[o]=l*(n[o]-a)}}}function KB(e,t,n){for(const r of e){for(const i of r){const[a,s]=Bx(i,n);for(const o of i){const l=(s+a)/2;t[o]-=l,n[o]-=l}}Lx(r,t,n)}Rx(e,t,n)}function Fx(e,t,n,r){for(const i of e){const a=new Js;let s=0;for(const o of i){let l=-1;const u=o.map(d=>Math.abs(n[d]-t[d])),c=o.map(d=>{l=r?r[d]:++l;const g=n[d]-t[d],y=a.has(l)?g-a.get(l):0;return a.set(l,g),y}),f=[0,...bk(c)];for(const d of o)t[d]+=s,n[d]+=s;const h=Z0(u);h&&(s-=Z0(u,(d,g)=>(c[g]/2+f[g])*d)/h)}Lx(i,t,n)}Rx(e,t,n)}function Lx(e,t,n){const r=a0(e,i=>a0(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Rx(e,t,n){const r=e.length;if(r===1)return;const i=e.map(o=>o.flat()),a=i.map(o=>(a0(o,l=>t[l])+wr(o,l=>n[l]))/2),s=a0(a);for(let o=0;o<r;o++){const l=s-a[o];for(const u of i[o])t[u]+=l,n[u]+=l}}function JB(e,t,n){if(e===void 0&&t===Fx)return K8(Kn);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?Wf:Kn;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return eF(i);case"z":return tF(i);case"sum":return nF(i);case"appearance":return rF(i);case"inside-out":return K8(i)}return J8(Yb(e))}if(typeof e=="function")return(e.length===1?J8:iF)(e);if(Array.isArray(e))return aF(e);throw new Error(`invalid order: ${e}`)}}function eF(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function tF(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function nF(e){return Gh(e,(t,n,r,i)=>Om(d0(t),a=>Z0(a,s=>r[s]),a=>i[a]))}function rF(e){return Gh(e,(t,n,r,i)=>Om(d0(t),a=>n[bg(a,s=>r[s])],a=>i[a]))}function K8(e){return Gh(e,(t,n,r,i)=>{const a=d0(t),s=Om(a,f=>n[bg(f,h=>r[h])],f=>i[f]),o=jo(a,f=>Z0(f,h=>r[h]),f=>i[f]),l=[],u=[];let c=0;for(const f of s)c<0?(c+=o.get(f),l.push(f)):(c-=o.get(f),u.push(f));return u.reverse().concat(l)})}function J8(e){return t=>{const n=Tt(t,e);return(r,i)=>Kn(n[r],n[i])}}function iF(e){return t=>(n,r)=>e(t[n],t[r])}function aF(e){return Gh(Kn,()=>e)}function Gh(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new Js(t(n,r,i,a).map((o,l)=>[o,l]));return(o,l)=>e(s.get(a[o]),s.get(a[l]))}}class Px extends tr{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:o=a,insetBottom:l=a,insetLeft:u=a,rx:c,ry:f}=r;this.insetTop=rt(s),this.insetRight=rt(o),this.insetBottom=rt(l),this.insetLeft=rt(u),this.rx=xt(c,"auto"),this.ry=xt(f,"auto")}render(t,n,r,i,a){const{rx:s,ry:o}=this;return Qt("svg:g",a).call(ti,this,i,a).call(this._transform,this,n).call(l=>l.selectAll().data(t).enter().append("rect").call(ni,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(Ye,"rx",s).call(Ye,"ry",o).call(ho,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}}const sF={ariaLabel:"bar"};class oF extends Px{constructor(t,n={}){const{x1:r,x2:i,y:a}=n;super(t,{x1:{value:r,scale:"x"},x2:{value:i,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,sF)}_transform(t,n,{x:r}){t.call(g0,n,{x:r},0,0)}_x({x:t},{x1:n,x2:r},{marginLeft:i}){const{insetLeft:a}=this;return gr(t)?i+a:s=>Math.min(n[s],r[s])+a}_width({x:t},{x1:n,x2:r},{marginRight:i,marginLeft:a,width:s}){const{insetLeft:o,insetRight:l}=this;return gr(t)?s-i-a-o-l:u=>Math.max(0,Math.abs(r[u]-n[u])-o-l)}}function Ox(e,t={}){return Qb(t)||(t={...t,y:m5,x2:Ht}),new oF(e,YB(Xw(VB(t))))}const lF={ariaLabel:"cell"};class uF extends Px{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,lF)}_transform(t,n){t.call(g0,n,{},0,0)}}function cF(e,{x:t,y:n,...r}={}){return[t,n]=b5(t,n),new uF(e,{...r,x:t,y:n})}const fF={ariaLabel:"rect"};class hF extends tr{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:o=0,insetTop:l=o,insetRight:u=o,insetBottom:c=o,insetLeft:f=o,rx:h,ry:d}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,fF),this.insetTop=rt(l),this.insetRight=rt(u),this.insetBottom=rt(c),this.insetLeft=rt(f),this.rx=xt(h,"auto"),this.ry=xt(d,"auto")}render(t,n,r,i,a){const{x:s,y:o}=n,{x1:l,y1:u,x2:c,y2:f}=r,{marginTop:h,marginRight:d,marginBottom:g,marginLeft:y,width:b,height:w}=i,{projection:k}=a,{insetTop:E,insetRight:$,insetBottom:T,insetLeft:I,rx:D,ry:j}=this;return Qt("svg:g",a).call(ti,this,i,a).call(g0,this,{x:l&&c&&s,y:u&&f&&o},0,0).call(U=>U.selectAll().data(t).enter().append("rect").call(ni,this).attr("x",l&&c&&(k||!gr(s))?S=>Math.min(l[S],c[S])+I:y+I).attr("y",u&&f&&(k||!gr(o))?S=>Math.min(u[S],f[S])+E:h+E).attr("width",l&&c&&(k||!gr(s))?S=>Math.max(0,Math.abs(c[S]-l[S])-I-$):b-d-y-$-I).attr("height",u&&f&&(k||!gr(o))?S=>Math.max(0,Math.abs(u[S]-f[S])-E-T):w-h-g-E-T).call(Ye,"rx",D).call(Ye,"ry",j).call(ho,this,r)).node()}}function dF(e,t={}){return Qb(t)||(t={...t,x:m5,y2:Ht,interval:1}),new hF(e,GB(nq(UB(t))))}function mF(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),te(t).forEach(x),this.h()},h(){R(t,"role","img")},m(i,a){z(i,t,a),e[9](t),n||(r=yt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&x(t),e[9](null),n=!1,r()}}}function e9(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function pF(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:c="background: none;"}=t;function f(d){th.call(this,e,d)}function h(d){Gn[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,c=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:c}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let g=e9(a,o);s&&(g=g.concat(e9(s,o,"Quantized Weights (Q)")));let y;i&&(y=_u({padding:0,grid:!0,x:{axis:null,label:"column",inset:30},y:{axis:null,label:"row"},color:{type:"diverging",scheme:"RdBu",legend:!0,style:"background:none;"},marks:[cF(g,{x:"i",y:"j",fx:"label",fill:"weight",inset:.5,tip:!0})],...r,facet:{label:null}}),i==null||i.append(y))}},[i,a,s,o,l,u,c,r,f,h]}class gF extends Gt{constructor(t){super(),Xt(this,t,pF,mF,Yt,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function vF(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),te(t).forEach(x),this.h()},h(){R(t,"role","img")},m(i,a){z(i,t,a),e[9](t),n||(r=yt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&x(t),e[9](null),n=!1,r()}}}function t9(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function yF(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:c="background: none;"}=t;function f(d){th.call(this,e,d)}function h(d){Gn[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,c=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:c}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let g=t9(a,o);s&&(g=g.concat(t9(s,o,"Quantized Weights (Q)"))),i==null||i.append(_u({facet:{label:null},y:{grid:!0},color:{style:"background:none;",type:"diverging",scheme:"RdBu"},marks:[dF(g,$B({y:"count"},{x:"weight",fx:"label",fill:"weight"})),Qw([0])],...r}))}},[i,a,s,o,l,u,c,r,f,h]}class bF extends Gt{constructor(t){super(),Xt(this,t,yF,vF,Yt,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function wF(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),te(t).forEach(x),this.h()},h(){R(t,"role","img")},m(i,a){z(i,t,a),e[8](t),n||(r=yt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&x(t),e[8](null),n=!1,r()}}}function xF(e,t,n){let r,i,{data:a=[{error:0,label:"Operator Norm"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function c(h){th.call(this,e,h)}function f(h){Gn[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&99&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(_u({marginLeft:80,marginRight:50,x:{domain:u},y:{label:null},marks:[Ox(d,{y:"label",x:"error",fill:"darkgrey",fillOpacity:.5}),F5(d,{x:"error",y:"label",text:g=>g.error.toFixed(3),textAnchor:"start",dx:5,fontSize:14,fontStyle:"italic"})],...r}))}},[i,a,s,o,l,u,r,c,f]}class MF extends Gt{constructor(t){super(),Xt(this,t,xF,wF,Yt,{data:1,width:2,height:3,style:4,domain:5})}}function SF(e){const t=$F(e),n=K_(t);return kF(n)}function kF(e){const[t,n]=[e.rows,e.columns],r=Ke.$(t*n,[t,n],"f32");for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[r.index2D(i,a)]=e.data[i][a];return r}function $F(e){const[t,n]=e.shape,r=new ze(t,n);for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[i][a]=e.value2D(i,a);return r}function AF(e){let t,n,r;return{c(){t=F("div"),this.h()},l(i){t=L(i,"DIV",{role:!0}),te(t).forEach(x),this.h()},h(){R(t,"role","img")},m(i,a){z(i,t,a),e[8](t),n||(r=yt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&x(t),e[8](null),n=!1,r()}}}function CF(e,t,n){let r,i,{data:a=[{size:2e3,label:"Original"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function c(h){th.call(this,e,h)}function f(h){Gn[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&67&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(_u({marginLeft:80,marginRight:50,x:{},y:{label:null},marks:[Ox(d,{y:"label",x:"size",fill:"darkgrey",fillOpacity:.5})],...r}))}},[i,a,s,o,l,u,r,c,f]}class TF extends Gt{constructor(t){super(),Xt(this,t,CF,AF,Yt,{data:1,width:2,height:3,style:4,domain:5})}}function l3(e){const t=e.slice(),n=t[3].reconstruct();return t[13]=n,t}function n9(e,t,n){const r=e.slice();return r[14]=t[n],r}function r9(e){let t,n=e[14]+"",r;return{c(){t=F("option"),r=K(n),this.h()},l(i){t=L(i,"OPTION",{});var a=te(t);r=J(a,n),a.forEach(x),this.h()},h(){t.__value=e[14],t0(t,t.__value)},m(i,a){z(i,t,a),_(t,r)},p:Xe,d(i){i&&x(t)}}}function i9(e){let t,n,r,i;return t=new gF({props:{data:e[2].data,data2:e[13].data,shape:[Yl,Gl],height:200}}),r=new bF({props:{data:e[2].data,data2:e[13].data,shape:[Yl,Gl],height:200}}),{c(){ge(t.$$.fragment),n=X(),ge(r.$$.fragment)},l(a){ve(t.$$.fragment,a),n=Z(a),ve(r.$$.fragment,a)},m(a,s){ye(t,a,s),z(a,n,s),ye(r,a,s),i=!0},p(a,s){const o={};s&4&&(o.data=a[2].data),s&8&&(o.data2=a[13].data),t.$set(o);const l={};s&4&&(l.data=a[2].data),s&8&&(l.data2=a[13].data),r.$set(l)},i(a){i||(fe(t.$$.fragment,a),fe(r.$$.fragment,a),i=!0)},o(a){de(t.$$.fragment,a),de(r.$$.fragment,a),i=!1},d(a){a&&x(n),be(t,a),be(r,a)}}}function EF(e){let t,n,r,i,a,s,o,l,u,c,f,h,d,g,y,b,w=e[4].toFixed(3)+"",k,E,$,T,I,D=(e[5]*e[4]).toFixed(3)+"",j,U,S,C,H=W0(Object.keys(e[6])),P=[];for(let N=0;N<H.length;N+=1)P[N]=r9(n9(e,H,N));let Q=e[2]&&i9(l3(e));return c=new TF({props:{data:[{label:"W bytes",size:Jc(e[2])/8},{label:"Q bytes",size:Jc(e[3],e[1])/8}]}}),h=new MF({props:{data:[{label:"||W-Q||/||W||",error:e[5]}]}}),y=new _e({props:{text:"||W|| \\ ||W^[-1]||"}}),T=new _e({props:{text:"\\left(||W||| \\ |W^[-1]||\\right)\\left(||W-Q||/||W||\\right)"}}),{c(){t=F("select");for(let N=0;N<P.length;N+=1)P[N].c();n=X(),r=F("input"),i=X(),a=F("span"),s=K(e[1]),o=K(" bits"),l=X(),Q&&Q.c(),u=X(),ge(c.$$.fragment),f=X(),ge(h.$$.fragment),d=X(),g=F("div"),ge(y.$$.fragment),b=K(" as condition number = "),k=K(w),E=X(),$=F("div"),ge(T.$$.fragment),I=K(` as
	combined error = `),j=K(D),this.h()},l(N){t=L(N,"SELECT",{});var W=te(t);for(let ee=0;ee<P.length;ee+=1)P[ee].l(W);W.forEach(x),n=Z(N),r=L(N,"INPUT",{type:!0,min:!0,max:!0}),i=Z(N),a=L(N,"SPAN",{class:!0});var ae=te(a);s=J(ae,e[1]),o=J(ae," bits"),ae.forEach(x),l=Z(N),Q&&Q.l(N),u=Z(N),ve(c.$$.fragment,N),f=Z(N),ve(h.$$.fragment,N),d=Z(N),g=L(N,"DIV",{class:!0});var ie=te(g);ve(y.$$.fragment,ie),b=J(ie," as condition number = "),k=J(ie,w),ie.forEach(x),E=Z(N),$=L(N,"DIV",{class:!0});var le=te($);ve(T.$$.fragment,le),I=J(le,` as
	combined error = `),j=J(le,D),le.forEach(x),this.h()},h(){e[0]===void 0&&jx(()=>e[7].call(t)),R(r,"type","range"),R(r,"min","1"),R(r,"max","8"),R(a,"class","label svelte-93sz7w"),R(g,"class","label svelte-93sz7w"),R($,"class","label svelte-93sz7w")},m(N,W){z(N,t,W);for(let ae=0;ae<P.length;ae+=1)P[ae]&&P[ae].m(t,null);f6(t,e[0],!0),z(N,n,W),z(N,r,W),t0(r,e[1]),z(N,i,W),z(N,a,W),_(a,s),_(a,o),z(N,l,W),Q&&Q.m(N,W),z(N,u,W),ye(c,N,W),z(N,f,W),ye(h,N,W),z(N,d,W),z(N,g,W),ye(y,g,null),_(g,b),_(g,k),z(N,E,W),z(N,$,W),ye(T,$,null),_($,I),_($,j),U=!0,S||(C=[yt(t,"change",e[7]),yt(r,"change",e[8]),yt(r,"input",e[8])],S=!0)},p(N,[W]){if(W&64){H=W0(Object.keys(N[6]));let le;for(le=0;le<H.length;le+=1){const ee=n9(N,H,le);P[le]?P[le].p(ee,W):(P[le]=r9(ee),P[le].c(),P[le].m(t,null))}for(;le<P.length;le+=1)P[le].d(1);P.length=H.length}W&65&&f6(t,N[0]),W&2&&t0(r,N[1]),(!U||W&2)&&on(s,N[1]),N[2]?Q?(Q.p(l3(N),W),W&4&&fe(Q,1)):(Q=i9(l3(N)),Q.c(),fe(Q,1),Q.m(u.parentNode,u)):Q&&(m9(),de(Q,1,1,()=>{Q=null}),p9());const ae={};W&14&&(ae.data=[{label:"W bytes",size:Jc(N[2])/8},{label:"Q bytes",size:Jc(N[3],N[1])/8}]),c.$set(ae);const ie={};W&32&&(ie.data=[{label:"||W-Q||/||W||",error:N[5]}]),h.$set(ie),(!U||W&16)&&w!==(w=N[4].toFixed(3)+"")&&on(k,w),(!U||W&48)&&D!==(D=(N[5]*N[4]).toFixed(3)+"")&&on(j,D)},i(N){U||(fe(Q),fe(c.$$.fragment,N),fe(h.$$.fragment,N),fe(y.$$.fragment,N),fe(T.$$.fragment,N),U=!0)},o(N){de(Q),de(c.$$.fragment,N),de(h.$$.fragment,N),de(y.$$.fragment,N),de(T.$$.fragment,N),U=!1},d(N){N&&(x(t),x(n),x(r),x(i),x(a),x(l),x(u),x(f),x(d),x(g),x(E),x($)),nh(P,N),Q&&Q.d(N),be(c,N),be(h,N),be(y),be(T),S=!1,pu(C)}}}const Yl=20,Gl=20;function Jf(e){let t=-1/0;for(let n=0;n<e.shape[1];n++)for(let r=0;r<e.shape[0];r++){const i=Math.abs(e.value2D(r,n));i>t&&(t=i)}return t}function DF(e,t){return Jf(e.sub(t,!0))/Jf(e)}function _F(e){const t=e.dtype==="f32"?32:8;return e.shape[0]*e.shape[1]*t}function Jc(e,t=-1){const n=_F(e);if(t===-1)return n;{const r=2**t;return n+r*8}}function zF(e,t,n){let r,i,a,s;const o={uniform:Ke.randu([Yl,Gl],-2,2),normal:Ke.randn([Yl,Gl],0,1),outlier:h(Ke.randn([Yl,Gl],0,1),25,1)};let l="normal",u=1;const c={};function f(b,w,k){const E=`${b}-${k}`;return E in c||(c[E]=wz(w,k)),c[E]}function h(b,w=10,k=1){for(let E=0;E<k;E++){const $=P7(b.shape[0]-1)(),T=P7(b.shape[1]-1)();b.data[b.index2D($,T)]=w}return b}function d(b){return Jf(b)*Jf(SF(b))}function g(){l=Wx(this),n(0,l),n(6,o)}function y(){u=eh(this.value),n(1,u)}return e.$$.update=()=>{e.$$.dirty&1&&n(2,r=o[l]),e.$$.dirty&7&&n(3,i=f(l,r,u)),e.$$.dirty&12&&n(5,a=DF(r,i)),e.$$.dirty&4&&n(4,s=d(r))},[l,u,r,i,s,a,o,g,y]}class IF extends Gt{constructor(t){super(),Xt(this,t,zF,EF,Yt,{})}}function a9(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function s9(e,t,n){const r=e.slice();return r[20]=t[n],r[19]=n,r}function o9(e,t,n){const r=e.slice();r[20]=t[n],r[28]=n;const i=Hx/f0;r[22]=i;const a=r[6][r[28]*f0+r[19]];r[23]=a;const s=`rgb(${r[23].R}, ${r[23].G}, ${r[23].B})`;r[24]=s;const o=r[22]/2;r[25]=o;const l=4;return r[26]=l,r}function NF(e){let t,n,r,i,a,s,o,l,u,c,f,h,d,g,y=e[6]&&l9(e),b=e[5]&&h9(e);return{c(){t=F("canvas"),n=X(),r=Lt("svg"),i=Lt("rect"),a=X(),s=F("div"),o=F("div"),l=K("Magnified"),u=X(),c=Lt("svg"),y&&y.c(),f=K(`

		indexes into →

		`),h=F("div"),b&&b.c(),this.h()},l(w){t=L(w,"CANVAS",{width:!0,height:!0,class:!0}),te(t).forEach(x),n=Z(w),r=Rt(w,"svg",{width:!0,height:!0,style:!0});var k=te(r);i=Rt(k,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),te(i).forEach(x),k.forEach(x),a=Z(w),s=L(w,"DIV",{});var E=te(s);o=L(E,"DIV",{style:!0});var $=te(o);l=J($,"Magnified"),$.forEach(x),u=Z(E),c=Rt(E,"svg",{width:!0,height:!0,style:!0});var T=te(c);y&&y.l(T),T.forEach(x),E.forEach(x),f=J(w,`

		indexes into →

		`),h=L(w,"DIV",{});var I=te(h);b&&b.l(I),I.forEach(x),this.h()},h(){R(t,"width",e[0]),R(t,"height",e[1]),R(t,"class","svelte-1jbpmen"),R(i,"x",e[2]),R(i,"y",e[3]),R(i,"width",f0),R(i,"height",f0),R(i,"fill","none"),R(i,"stroke",u3),R(i,"stroke-width",2),R(r,"width",e[0]),R(r,"height",e[1]),Re(r,"position","absolute"),Re(r,"left","0"),Re(r,"top","0"),Re(r,"cursor","none"),Re(o,"color",u3),Re(o,"margin-bottom","5px"),R(c,"width",Hx),R(c,"height",LF),Re(c,"outline",u3+" solid 2px")},m(w,k){z(w,t,k),e[9](t),z(w,n,k),z(w,r,k),_(r,i),z(w,a,k),z(w,s,k),_(s,o),_(o,l),_(s,u),_(s,c),y&&y.m(c,null),z(w,f,k),z(w,h,k),b&&b.m(h,null),d||(g=yt(r,"mousemove",e[10]),d=!0)},p(w,k){k&1&&R(t,"width",w[0]),k&2&&R(t,"height",w[1]),k&4&&R(i,"x",w[2]),k&8&&R(i,"y",w[3]),k&1&&R(r,"width",w[0]),k&2&&R(r,"height",w[1]),w[6]?y?y.p(w,k):(y=l9(w),y.c(),y.m(c,null)):y&&(y.d(1),y=null),w[5]?b?b.p(w,k):(b=h9(w),b.c(),b.m(h,null)):b&&(b.d(1),b=null)},d(w){w&&(x(t),x(n),x(r),x(a),x(s),x(f),x(h)),e[9](null),y&&y.d(),b&&b.d(),d=!1,g()}}}function qF(e){let t,n=`<img src="not-working.gif" alt="each pixel indexes into shared colors"/> <div>For an interactive visualization, try a Chrome based browser
				instead. Fell back on GIF either because imageSmoothingEnabled
				not working or Canvas Pixelated CSS property not working.</div>`;return{c(){t=F("div"),t.innerHTML=n,this.h()},l(r){t=L(r,"DIV",{style:!0,"data-svelte-h":!0}),he(t)!=="svelte-11kfj12"&&(t.innerHTML=n),this.h()},h(){Re(t,"color","red")},m(r,i){z(r,t,i)},p:Xe,d(r){r&&x(t)}}}function l9(e){let t,n=W0({length:f0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=f9(s9(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=un()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=un()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);z(i,t,a)},p(i,a){if(a&64){n=W0({length:f0});let s;for(s=0;s<n.length;s+=1){const o=s9(i,n,s);r[s]?r[s].p(o,a):(r[s]=f9(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&x(t),nh(r,i)}}}function u9(e){let t,n,r,i=e[23].index+"",a;return{c(){t=Lt("rect"),r=Lt("text"),a=K(i),this.h()},l(s){t=Rt(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-opacity":!0}),te(t).forEach(x),r=Rt(s,"text",{x:!0,y:!0,fill:!0,style:!0,"text-anchor":!0});var o=te(r);a=J(o,i),o.forEach(x),this.h()},h(){R(t,"x",e[19]*e[22]),R(t,"y",e[28]*e[22]),R(t,"width",e[22]),R(t,"height",e[22]),R(t,"fill",n=e[24]),R(t,"stroke","white"),R(t,"stroke-width",1),R(t,"stroke-opacity",.2),R(r,"x",e[19]*e[22]+e[25]),R(r,"y",e[28]*e[22]+e[25]+e[26]),R(r,"fill","white"),Re(r,"font-size","11px"),Re(r,"font-family","var(--svp-code-font)"),Re(r,"font-weight","400"),R(r,"text-anchor","middle")},m(s,o){z(s,t,o),z(s,r,o),_(r,a)},p(s,o){o&64&&n!==(n=s[24])&&R(t,"fill",n),o&64&&i!==(i=s[23].index+"")&&on(a,i)},d(s){s&&(x(t),x(r))}}}function c9(e){let t,n=e[23].index!==-1&&u9(e);return{c(){n&&n.c(),t=un()},l(r){n&&n.l(r),t=un()},m(r,i){n&&n.m(r,i),z(r,t,i)},p(r,i){r[23].index!==-1?n?n.p(r,i):(n=u9(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&x(t),n&&n.d(r)}}}function f9(e){let t,n=W0({length:f0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=c9(o9(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=un()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=un()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);z(i,t,a)},p(i,a){if(a&64){n=W0({length:f0});let s;for(s=0;s<n.length;s+=1){const o=o9(i,n,s);r[s]?r[s].p(o,a):(r[s]=c9(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&x(t),nh(r,i)}}}function h9(e){let t,n="Shared Weights",r,i,a,s,o=W0(Object.keys(e[5])),l=[];for(let u=0;u<o.length;u+=1)l[u]=d9(a9(e,o,u));return{c(){t=F("b"),t.textContent=n,r=X(),i=F("br"),a=X();for(let u=0;u<l.length;u+=1)l[u].c();s=un()},l(u){t=L(u,"B",{"data-svelte-h":!0}),he(t)!=="svelte-sl4iro"&&(t.textContent=n),r=Z(u),i=L(u,"BR",{}),a=Z(u);for(let c=0;c<l.length;c+=1)l[c].l(u);s=un()},m(u,c){z(u,t,c),z(u,r,c),z(u,i,c),z(u,a,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(u,c);z(u,s,c)},p(u,c){if(c&32){o=W0(Object.keys(u[5]));let f;for(f=0;f<o.length;f+=1){const h=a9(u,o,f);l[f]?l[f].p(h,c):(l[f]=d9(h),l[f].c(),l[f].m(s.parentNode,s))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(u){u&&(x(t),x(r),x(i),x(a),x(s)),nh(l,u)}}}function BF(e){let t,n,r=e[5][e[17]]+"",i,a,s,o=e[17]+"",l,u;return{c(){t=F("div"),n=F("span"),i=K(r),a=X(),s=F("div"),l=K(o),u=X(),this.h()},l(c){t=L(c,"DIV",{style:!0});var f=te(t);n=L(f,"SPAN",{style:!0});var h=te(n);i=J(h,r),h.forEach(x),a=Z(f),s=L(f,"DIV",{style:!0});var d=te(s);l=J(d,o),d.forEach(x),u=Z(f),f.forEach(x),this.h()},h(){Re(n,"font-family","var(--svp-code-font)"),Re(n,"font-weight","500"),Re(s,"background",e[17]),Re(s,"color","white"),Re(s,"display","inline"),Re(t,"width","160px")},m(c,f){z(c,t,f),_(t,n),_(n,i),_(t,a),_(t,s),_(s,l),_(t,u)},p(c,f){f&32&&r!==(r=c[5][c[17]]+"")&&on(i,r),f&32&&o!==(o=c[17]+"")&&on(l,o),f&32&&Re(s,"background",c[17])},d(c){c&&x(t)}}}function d9(e){let t,n=e[19]<8&&BF(e);return{c(){n&&n.c(),t=un()},l(r){n&&n.l(r),t=un()},m(r,i){n&&n.m(r,i),z(r,t,i)},p(r,i){r[19]<8&&n.p(r,i)},d(r){r&&x(t),n&&n.d(r)}}}function FF(e){let t;function n(a,s){return a[7]?qF:NF}let r=n(e),i=r(e);return{c(){t=F("div"),i.c(),this.h()},l(a){t=L(a,"DIV",{style:!0});var s=te(t);i.l(s),s.forEach(x),this.h()},h(){Re(t,"position","relative"),Re(t,"display","flex"),Re(t,"gap","10px"),Re(t,"align-items","center")},m(a,s){z(a,t,s),i.m(t,null)},p(a,[s]){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t,null)))},i:Xe,o:Xe,d(a){a&&x(t),i.d()}}}let f0=8,Hx=125,LF=125,u3="salmon";function RF(e){e.imageSmoothingEnabled=!1}function PF(e,t,n){const r=.6840909090909091;let{width:i=250}=t,{height:a=r*i}=t,s,o,l=200,u=85;function c($,T){return new Promise((D,j)=>{const U=new Image;U.src=T,U.onload=function(){$.drawImage(U,0,0,i,a),D()}})}let f=!1;gm(async()=>{o=s.getContext("2d",{willReadFrequently:!0}),RF(o),await c(o,"8.png"),d(o.getImageData(0,0,i,a).data),n(8,f=!0)});let h;function d($){n(5,h={});let T=0,I=[];for(let D=0;D<$.length;D+=4){const j=$[D],U=$[D+1],S=$[D+2],C=`rgb(${j},${U},${S})`;C in h||(n(5,h[C]=T,h),T++)}return I}let g;function y($){let T=[];for(let I=0;I<$.length;I+=4){const D=$[I],j=$[I+1],U=$[I+2],S=`rgb(${D},${j},${U})`,C=h[S]??-1;C>8&&n(7,w=!0),T.push({R:D,G:j,B:U,index:C})}return T}function b($,T,I=3){const D=o.getImageData($,T,I,I).data;n(6,g=y(D))}let w=!1;function k($){Gn[$?"unshift":"push"](()=>{s=$,n(4,s)})}const E=$=>{n(2,l=$.offsetX),n(3,u=$.offsetY)};return e.$$set=$=>{"width"in $&&n(0,i=$.width),"height"in $&&n(1,a=$.height)},e.$$.update=()=>{e.$$.dirty&268&&f&&l!==void 0&&u!==void 0&&b(l,u,f0)},[i,a,l,u,s,h,g,w,f,k,E]}class OF extends Gt{constructor(t){super(),Xt(this,t,PF,FF,Yt,{width:0,height:1})}}class Ys{constructor(t,n){this.weight=Ke.$(t*n,[n,t]),this.bias=Ke.$(n,[n,1])}forward(t){return t.matmul(this.weight.T).add(this.bias.T)}}class ef{forward(t){return t.relu()}}class HF{forward(t){return t.sigmoid()}}class VF{constructor(...t){this.layers=t}forward(t){for(const n of this.layers)t=n.forward(t);return t}splitStateKey(t){const n=t.split(".");let r,i,a;return n.length===3?(r=+n[1],i=n[2]):n.length===4&&(r=+n[1],i=n[2],a=n[3],a==="weights"&&(a=void 0)),[r,i,a]}load(t,n,r=256){const[i,a,s]=this.splitStateKey(t),o=this.layers[+i];if(s){if(a==="weight"){if(s==="codebook")o.weight.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.weight.codebook;o.weight=Ke.$(n,[o.weight.shape[0],o.weight.shape[1]],"u8"),o.weight.codebook=l}}else if(a==="bias"){if(s==="codebook")o.bias.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.bias.codebook;o.bias=Ke.$(n,[o.bias.shape[0],o.bias.shape[1]],"u8"),o.bias.codebook=l}}}else a==="weight"?o.weight.data=new Float32Array(n):a==="bias"&&(o.bias.data=new Float32Array(n))}loadStateDict(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,a]=n[r];this.load(i,a.data)}return this}get bytes(){let t=0;for(const n of this.layers)n instanceof Ys&&(t+=n.weight.bytes+n.bias.bytes);return t}MB(){return this.bytes/1024**2}}function UF(e){let t,n,r,i,a,s;return{c(){t=Lt("svg"),n=Lt("path"),r=Lt("defs"),i=Lt("linearGradient"),a=Lt("stop"),s=Lt("stop"),this.h()},l(o){t=Rt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=te(t);n=Rt(l,"path",{d:!0,stroke:!0,"stroke-width":!0}),te(n).forEach(x),r=Rt(l,"defs",{});var u=te(r);i=Rt(u,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var c=te(i);a=Rt(c,"stop",{"stop-color":!0}),te(a).forEach(x),s=Rt(c,"stop",{offset:!0,"stop-color":!0}),te(s).forEach(x),c.forEach(x),u.forEach(x),l.forEach(x),this.h()},h(){R(n,"d","M511 323.648V10.3519C511 7.18199 507.489 5.27159 504.827 6.99341L10.1727 327.007C7.51126 328.728 4 326.818 4 323.648V10.3519C4 7.18199 7.51127 5.27159 10.1727 6.99341L504.827 327.007C507.489 328.728 511 326.818 511 323.648Z"),R(n,"stroke","url(#paint0_linear_19_2)"),R(n,"stroke-width","7"),R(a,"stop-color","#4682B4"),R(s,"offset","1"),R(s,"stop-color","#FA8171"),R(i,"id","paint0_linear_19_2"),R(i,"x1","4"),R(i,"y1","131.5"),R(i,"x2","511"),R(i,"y2","134.5"),R(i,"gradientUnits","userSpaceOnUse"),R(t,"width",e[0]),R(t,"height",e[1]),R(t,"viewBox","0 0 515 336"),R(t,"fill","none"),R(t,"xmlns","http://www.w3.org/2000/svg")},m(o,l){z(o,t,l),_(t,n),_(t,r),_(r,i),_(i,a),_(i,s)},p(o,[l]){l&1&&R(t,"width",o[0]),l&2&&R(t,"height",o[1])},i:Xe,o:Xe,d(o){o&&x(t)}}}function jF(e,t,n){let{width:r=250}=t,{height:i=170}=t;return e.$$set=a=>{"width"in a&&n(0,r=a.width),"height"in a&&n(1,i=a.height)},[r,i]}class WF extends Gt{constructor(t){super(),Xt(this,t,jF,UF,Yt,{width:0,height:1})}}function YF(e){let t,n,r,i,a,s,o,l,u,c,f="Input | You drag to draw!",h,d,g,y,b,w="Clear Canvas",k,E,$,T="Autoencoder",I,D,j,U,S,C="Output",H,P,Q,N,W,ae,ie,le,ee=(e[6]/1048576).toFixed(3)+"",se,oe,re,Se,Ce,De=(e[7]/1024**2).toFixed(3)+"",ce,pe,ne,xe,Ae;return D=new WF({props:{color:"steelblue"}}),{c(){t=F("div"),n=F("input"),r=X(),i=F("span"),a=K(e[1]),s=K(" bits"),o=X(),l=F("div"),u=F("div"),c=F("div"),c.textContent=f,h=X(),d=F("div"),g=F("canvas"),y=X(),b=F("button"),b.textContent=w,k=X(),E=F("div"),$=F("div"),$.textContent=T,I=X(),ge(D.$$.fragment),j=X(),U=F("div"),S=F("div"),S.textContent=C,H=X(),P=F("div"),Q=F("canvas"),N=X(),W=F("br"),ae=X(),ie=F("div"),le=K("Original: "),se=K(ee),oe=K(" mega bytes"),re=X(),Se=F("div"),Ce=K("Quantized: "),ce=K(De),pe=K(" mega bytes"),this.h()},l(Y){t=L(Y,"DIV",{class:!0});var ke=te(t);n=L(ke,"INPUT",{type:!0,min:!0,max:!0}),r=Z(ke),i=L(ke,"SPAN",{class:!0});var Ee=te(i);a=J(Ee,e[1]),s=J(Ee," bits"),Ee.forEach(x),ke.forEach(x),o=Z(Y),l=L(Y,"DIV",{class:!0});var Be=te(l);u=L(Be,"DIV",{});var Fe=te(u);c=L(Fe,"DIV",{class:!0,"data-svelte-h":!0}),he(c)!=="svelte-14bwmx0"&&(c.textContent=f),h=Z(Fe),d=L(Fe,"DIV",{});var Ge=te(d);g=L(Ge,"CANVAS",{class:!0,width:!0,height:!0}),te(g).forEach(x),Ge.forEach(x),y=Z(Fe),b=L(Fe,"BUTTON",{"data-svelte-h":!0}),he(b)!=="svelte-1ts6e04"&&(b.textContent=w),Fe.forEach(x),k=Z(Be),E=L(Be,"DIV",{});var mt=te(E);$=L(mt,"DIV",{class:!0,"data-svelte-h":!0}),he($)!=="svelte-1dyqkas"&&($.textContent=T),I=Z(mt),ve(D.$$.fragment,mt),mt.forEach(x),j=Z(Be),U=L(Be,"DIV",{});var wt=te(U);S=L(wt,"DIV",{class:!0,"data-svelte-h":!0}),he(S)!=="svelte-w6dby0"&&(S.textContent=C),H=Z(wt),P=L(wt,"DIV",{});var Vt=te(P);Q=L(Vt,"CANVAS",{width:!0,height:!0,class:!0}),te(Q).forEach(x),Vt.forEach(x),wt.forEach(x),Be.forEach(x),N=Z(Y),W=L(Y,"BR",{}),ae=Z(Y),ie=L(Y,"DIV",{class:!0});var Kt=te(ie);le=J(Kt,"Original: "),se=J(Kt,ee),oe=J(Kt," mega bytes"),Kt.forEach(x),re=Z(Y),Se=L(Y,"DIV",{class:!0});var Dt=te(Se);Ce=J(Dt,"Quantized: "),ce=J(Dt,De),pe=J(Dt," mega bytes"),Dt.forEach(x),this.h()},h(){R(n,"type","range"),R(n,"min","0"),R(n,"max",e[13].length-1),R(i,"class","label svelte-axyz63"),R(t,"class","container svelte-axyz63"),R(c,"class","label svelte-axyz63"),R(g,"class","input-canvas svelte-axyz63"),R(g,"width",e[10]),R(g,"height",e[11]),R($,"class","label svelte-axyz63"),R(S,"class","label svelte-axyz63"),R(Q,"width",e[10]),R(Q,"height",e[11]),R(Q,"class","output-canvas svelte-axyz63"),R(l,"class","container svelte-axyz63"),R(ie,"class","label svelte-axyz63"),R(Se,"class","label svelte-axyz63")},m(Y,ke){z(Y,t,ke),_(t,n),t0(n,e[0]),_(t,r),_(t,i),_(i,a),_(i,s),z(Y,o,ke),z(Y,l,ke),_(l,u),_(u,c),_(u,h),_(u,d),_(d,g),e[17](g),_(u,y),_(u,b),_(l,k),_(l,E),_(E,$),_(E,I),ye(D,E,null),_(l,j),_(l,U),_(U,S),_(U,H),_(U,P),_(P,Q),e[22](Q),z(Y,N,ke),z(Y,W,ke),z(Y,ae,ke),z(Y,ie,ke),_(ie,le),_(ie,se),_(ie,oe),z(Y,re,ke),z(Y,Se,ke),_(Se,Ce),_(Se,ce),_(Se,pe),ne=!0,xe||(Ae=[yt(n,"change",e[16]),yt(n,"input",e[16]),yt(g,"mousedown",e[18]),yt(g,"mouseup",e[19]),yt(g,"mousemove",e[20]),yt(b,"click",e[21])],xe=!0)},p(Y,[ke]){ke&1&&t0(n,Y[0]),(!ne||ke&2)&&on(a,Y[1]),(!ne||ke&64)&&ee!==(ee=(Y[6]/1024**2).toFixed(3)+"")&&on(se,ee),(!ne||ke&128)&&De!==(De=(Y[7]/1024**2).toFixed(3)+"")&&on(ce,De)},i(Y){ne||(fe(D.$$.fragment,Y),ne=!0)},o(Y){de(D.$$.fragment,Y),ne=!1},d(Y){Y&&(x(t),x(o),x(l),x(N),x(W),x(ae),x(ie),x(re),x(Se)),e[17](null),be(D),e[22](null),xe=!1,pu(Ae)}}}let Ft=28;async function GF(e){return(await fetch(e)).json()}function XF(e,t,n){let r;function i(){return new VF(new Ys(Ft*Ft,1e3),new ef,new Ys(1e3,256),new ef,new Ys(256,256),new ef,new Ys(256,1e3),new ef,new Ys(1e3,Ft*Ft),new HF)}function a(ie,le=0){let ee=0,se=0;for(let oe=0;oe<ie.layers.length;oe++){const re=ie.layers[oe];if(re instanceof Ys){const Se=re.weight,Ce=2**le*32,De=Se.shape[0]*Se.shape[1]*8;ee+=Ce+De,se+=Se.shape[0]*Se.shape[1]*32}}return[se,ee]}async function s(ie){const le=I.map(se=>GF(`ae/q${se}.json`));return(await Promise.all(le)).map(se=>ie().loadStateDict(se))}let o,l,u=!1;gm(async()=>{o=await s(i),n(14,l=o.at(-1)),n(3,y=g.getContext("2d",{willReadFrequently:!0})),n(3,y.fillStyle="black",y),y.fillRect(0,0,k,E),w=b.getContext("2d"),w.fillStyle="black",w.fillRect(0,0,k,E),n(15,u=!0)});function c(ie,le,ee){ie.fillStyle="white",ie.fillRect(le,ee,$,$)}function f(ie,le,ee,se){const oe=Ke.$(Ft*Ft,[1,Ft*Ft],"f32");for(let re=0;re<Ft;re++)for(let Se=0;Se<Ft;Se++){const Ce=ie.getImageData(re*se,Se*se,se,se).data[0]/255;oe.data[Se*Ft+re]=Ce}return oe}function h(ie,le){ie.fillStyle="black",ie.fillRect(0,0,k,E);for(let ee=0;ee<Ft;ee++)for(let se=0;se<Ft;se++){const oe=le.data[se*Ft+ee],re=s0("hsl(0, 0%, "+oe*100+"%)");ie.fillStyle=re.toString(),ie.fillRect(ee*$,se*$,$,$)}}function d(){const ie=f(y,k,E,$),le=l.forward(ie);h(w,le)}let g,y,b,w,k=Ft*6,E=k,$=k/Ft,T=!1;const I=[1,2,3,4,5,6,7,8];let D=I.length-1;function j(ie){n(14,l=o[+ie]),d()}let U,S;function C(){D=eh(this.value),n(0,D)}function H(ie){Gn[ie?"unshift":"push"](()=>{g=ie,n(2,g)})}const P=()=>{n(5,T=!0)},Q=()=>{n(5,T=!1),d()},N=ie=>{if(T){let le=ie.offsetX,ee=ie.offsetY;le-=le%$,ee-=ee%$,c(y,le,ee)}},W=()=>{n(3,y.fillStyle="black",y),y.fillRect(0,0,k,E),d()};function ae(ie){Gn[ie?"unshift":"push"](()=>{b=ie,n(4,b)})}return e.$$.update=()=>{e.$$.dirty&1&&n(1,r=I[D]),e.$$.dirty&32769&&u&&j(D),e.$$.dirty&49154&&u&&n(6,[U,S]=a(l,+r),U,(n(7,S),n(15,u),n(14,l),n(1,r),n(0,D)))},[D,r,g,y,b,T,U,S,c,d,k,E,$,I,l,u,C,H,P,Q,N,W,ae]}class ZF extends Gt{constructor(t){super(),Xt(this,t,XF,YF,Yt,{})}}function QF(e){let t,n="<strong>Abstract:</strong> Often, the best models are the biggest. Too big for you or me to run. Luckily, with model compression we can drastically reduce the size of these models. This article runs through a simple way to compress neural network weights with k-means quantization. Through interactive visuals, I&#39;ll explore a simple approach as well as it&#39;s shortcomings (error).",r,i,a,s,o='<a href="#Introduction" class="svp-title-anchor" aria-label="Introduction"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Introduction',l,u,c="Modern deep learning is quite extraordinary. I don't need to convince you. You've likely seen the latest generative art models.",f,h,d,g,y,b,w,k,E,$,T,I,D,j,U,S="Size enables amazing capabilities, but also limits who can run the models. Most people don't have fast GPUs with lots of memory. To fit these models on our hardware, we must to reduce the size.",C,H,P,Q,N='<a href="#Sharing-as-Compression" class="svp-title-anchor" aria-label="Sharing as Compression"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing as Compression',W,ae,ie,le,ee,se,oe,re="Suppose you owned 20 dogs. An army of golden retrievers. And also suppose you are on the market for dog toys.",Se,Ce,De="Should you buy 20 toys for all 20 dogs? That would be quite expensive! If each toy was $20, then you'd pay $400. (as you can tell I love the number 20)",ce,pe,ne="But you are a clever one you. You could reason that buying 5 toys would be totally fine. The dogs can share. Now your bill would only be $100 for the 5 toys.",xe,Ae,Y="Not only that, but sharing might increase the amount of fun the dogs have! But sharing might also favor the more dominant and strong dogs. There is a tradeoff, but we're on a budget, so it's fine.",ke,Ee,Be="Morale of the short story: sharing under constraints is reasonable. More than that. It's a good idea. Don't pay for more than you need to if you're on a budget. But also don't delude yourself in thinking there aren't downsides because there are.",Fe,Ge,mt="In some sense we are compressing our budget through sharing.",wt,Vt,Kt,Dt,po='<a href="#Sharing-Pixels" class="svp-title-anchor" aria-label="Sharing Pixels"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing Pixels',ai,Tr,zu="Images and neural network weights are held in similar data structures so let's first look at the more intuitive image use-case. It will be the same.",go,Jt,vl="For image compression, the goal is to reduce the memory footprint while maintaining what the original image looked like. In other words, the budget is the size.",nr,Er,Iu="As you know, images are made up of tons of small colored squares: pixels. I'll start with a 880 pixels wide by 602 pixels tall image of this cutest golden retriever you've ever seen.",vo,zt,rr,yo,en,Xh,si,Zh,oi,H5="red",Qh,li,V5="green",Kh,ui,U5="blue",Jh,Nu,ci,j5="Instead of each pixel having it's own unique color, why not pick the most important colors and force the pixels to share? Exactly like the previous example with buying toys. Instead of storing three numbers per every pixel, I can now just store a few colors that each pixel can index into.",qu,fi,W5="First, I'll take an average over all the pixels to get the one most important color. Making all the pixels share that one pixel I get:",Bu,hi,Fu,di,Y5="It is significantly smaller in terms of memory, but looks nothing like the dog.",Lu,mi,G5="Now, let's share two colors instead of just one.",Ru,pi,Pu,gi,X5="Starting to look like a dog!",Ou,vi,Z5="So what happens when we increase beyond two colors? Let's try!",Hu,v0,Q5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider to increase the number of colors to share.</p></div>',Vu,yi,Uu,bi,K5="After sharing just 256 colors, the images look remarkably similar. And we're only storing just 256 colors instead of nearly 5 million!",ju,y0,wi,J5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',Dr,bo,ep="I've left out some information on how to compute these multiple averages.",wo,tp="<strong>For the purposes of this article, you can ignore how I compute the averages.</strong>",xi,e2,Mi,t2,Si,n2,ki,r2,Wu,$i,np="Instead of storing three numbers per pixel, I store one that indexes into the shared important color pixels.",Yu,Ai,Gu,Mn,i2,Ci,rp="window",a2,Ti,s2,Ei,ip="window",o2,Xu,Di,Zu,_i,ap='<a href="#Quantifying-Error" class="svp-title-anchor" aria-label="Quantifying Error"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Quantifying Error',Qu,zi,sp="You get the point. We can indeed reduce our budget without losing the main use-case.",Ku,Ii,op="You can apply this exact method to the weight matrix in a linear layer of a neural network! But in some ways, the problem is harder.",Ju,Ni,lp="First, how do we know when we've compressed the weights adequately? With the image example, we could just view all the different quantizations and see which was closest. How would you do this for arbitrary numbers learned in a neural network? You can't just look at them and see if they look good.",e1,qi,up="Instead, we need a metric that tells us how good the compression is compared to the original.",t1,Bi,cp="Let's go back to the image case because it's more intuitive. I will assume that the image compression when the colors are far away from the true colors. In other words, the difference between the original pixels and the compressed pixels is how bad our error is.",n1,b0,fp='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider increase the number of colors quantized. Observe the pixels that are deep red for high error.</p></div>',r1,Fi,i1,Li,hp="As you can see, when the images look very similar, the red error is almost nonexistent. I can further summarize the error with an average into one number.",a1,Ri,dp="This example shows it's entirely possible to attach a number to how good the compression is.",s1,w0,Pi,mp='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',x0,_t,l2,Oi,u2,Hi,c2,Vi,f2,Ui,h2,ji,d2,Wi,m2,hn,p2,Yi,g2,Gi,v2,Xi,y2,Zi,b2,dn,w2,Qi,x2,Ki,M2,xo,pp="Average Error",S2,Ji,k2,o1,ea,l1,ta,gp='<a href="#Matrix-Multiplication" class="svp-title-anchor" aria-label="Matrix Multiplication"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Matrix Multiplication',u1,na,vp="Then, how do we attach a number to the compression error for neural networks? Again, we aren't viewing them as images. So what makes their compression good or not?",c1,tn,$2,ra,A2,ia,C2,aa,T2,sa,E2,f1,oa,yp="Just like image example, we must create a metric based on the use-case. Since almost all the operations on the weights are matrix multiplies, it might be a good idea to take this operation into account as the use-case. In other words, how does the approximate compressed weights differ after a matrix multiplication of the same input compared to the original/exact weights? It might be the case the the multiplies and adds amplify or even hide element-wise error!",h1,M0,bp='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 11 11"><path d="M6.62 8.5l3.11 1.55l-.45.89L5.5 9.06l-3.78 1.89l-.45-.89L4.38 8.5l-3.1-1.55l.45-.89L5.5 7.94l3.78-1.89l.44.9l-3.1 1.55zM8.5 3.21v.29l-1 1v1l-2 1l-2-1v-1l-1-1V3a2.9 2.9 0 0 1 3-3a3.09 3.09 0 0 1 3 3.21zm-3.79-.5a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79zM5 4.5h-.5v1H5v-1zm1.5 0H6v1h.5v-1zm1.36-1.79a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79z" fill="currentColor"></path></svg></span>MATH WARNING</div><div class="admonition-content"><p>Things are about to get mathematically dense for a small while.</p></div>',d1,pt,D2,la,_2,ua,z2,ca,I2,fa,N2,ha,q2,da,B2,ma,F2,m1,nt,L2,pa,R2,ga,P2,va,O2,ya,H2,ba,V2,wa,U2,xa,j2,Ma,W2,Sa,Y2,ka,G2,p1,S0,$a,wp='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',Mo,Aa,X2,Ca,Z2,g1,Sn,Q2,Ta,K2,Ea,J2,Da,ed,v1,So,_a,y1,za,xp="simply by how I defined things. Nothing new yet.",b1,It,td,Ia,nd,Na,rd,qa,id,Ba,ad,Fa,sd,w1,k0,La,Mp='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',$0,_r,od,Ra,ld,Pa,ud,ko,Sp="I use the matrix operator norm because the vector norm of a matrix doesn't capture the important information. The matrix operator norm tells me how the matrix transforms vectors under matrix multiplication which is exactly what I need.",Oa,cd,Ha,fd,x1,kn,hd,Va,dd,Ua,md,ja,pd,M1,Wa,kp="Let's see what error looks like on some different weight matrices!",S1,A0,Ya,$p='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN',zr,$o,Ap="Select a distribution for the weights and how much you'd like to quantize the weights by dragging the slider.",Ga,gd,Xa,vd,Ao,Cp="Then, observe the error terms and when the weights look similar.",Co,Tp="You might also consider hovering over the weights to see the exact values.",k1,Za,$1,Qa,Ep="Unsurprisingly, the error drops drastically when we have enough weights to share. Additionally, the error gets close to zero and the quantization makes the weights 4 times smaller! That is a total win!",A1,Ka,Dp="My second observation is that not all weight distributions have the same condition number. Additionally, it seems to be that k-means quantization does quite well, if not better, when the condition number is higher. How could this be? Surely this is wrong.",C1,Ja,_p="Yes I'm partially wrong. The condition number, which scales the error term, becomes very high with spiked values (outliers). This makes sense given small errors to these values would change the matrix multiply drastically. But at the very same time, k-means is known to be sensitive to outliers (to a fault). So k-means gives an entire shared weight to the outlier. Most of the time this is terrible for compression, but since k-means quantization is non-linear, it's a total win for this small example.",T1,es,zp="This is a bit of a tangent, but k-means has a clear advantage over linear quantization schemes in terms of minimizing error depending on how large your weight matrix is.",E1,C0,Ip='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE</div><div class="admonition-content"><p>Depending on the underlying distribution, it may be that k-means does not encode an entire value to the outlier point. So more analysis is needed here to minimize error or predict performance.</p></div>',D1,ts,_1,ns,Np='<a href="#More-layers" class="svp-title-anchor" aria-label="More layers"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>More layers',z1,rs,qp="Okay, but what about more than just one weight matrix.",I1,is,Bp="Instead of just one layer of weights, now I'll scale up to multiple layers with a real usable model.",N1,as,Fp='I&#39;ll use a simple autoencoder architecture takes takes images of handwritten digits<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup> (0 through 9) and attempts to reconstruct the image after a bottleneck.',q1,T0,yd,ss,bd,B1,os,$n,Ir,Lp=`<code><span class="line"><span style="color: #1E754F">import</span><span style="color: #393A34"> torch</span></span>
<span class="line"><span style="color: #393A34">model </span><span style="color: #AB5959">=</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sequential</span><span style="color: #999999">(</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sigmoid</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #999999">)</span></span></code>`,wd,Nr,Rp=`<code><span class="line"><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> torch</span></span>
<span class="line"><span style="color: #D6DEEB">model </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> torch.nn.</span><span style="color: #B2CCD6">Sequential</span><span style="color: #D6DEEB">(</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Sigmoid</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #D6DEEB">)</span></span></code>`,xd,ls,Pp="python",Md,us,F1,ir,Sd,cs,kd,fs,$d,L1,E0,Ad,hs,Cd,R1,D0,Op='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Draw on the left side blackboard a number and see how the model reconstructs your digit. Drag the slider to change the level of quantization.</p></div>',P1,ds,O1,ms,Hp="As you can see, with a small number of bits, the output reconstruction is terrible. But as you pass some threshold it becomes quite good and doesn't improve by too much. Very importantly, the quantized models are four times smaller than the original.",H1,_0,Td,ps,Ed,V1,gs,Nt,vs,Dd,ys,_d,qr,Vp=`<code><span class="line"><span style="color: #1E754F">import</span><span style="color: #393A34"> torch</span></span>
<span class="line"><span style="color: #AB5959">def</span><span style="color: #393A34"> </span><span style="color: #59873A">matrix_operator_norm1</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">):</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B56959AA">&quot;&quot;&quot;</span><span style="color: #B56959">||A||</span><span style="color: #B56959AA">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">linalg</span><span style="color: #999999">.</span><span style="color: #393A34">matrix_norm</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #AB5959">def</span><span style="color: #393A34"> </span><span style="color: #59873A">cond1</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">):</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B56959AA">&quot;&quot;&quot;</span><span style="color: #B56959">||A||||A^{-1}||</span><span style="color: #B56959AA">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #393A34">    A_inverse </span><span style="color: #AB5959">=</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">linalg</span><span style="color: #999999">.</span><span style="color: #393A34">pinv</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> matrix_operator_norm1</span><span style="color: #999999">(</span><span style="color: #393A34">A</span><span style="color: #999999">)</span><span style="color: #AB5959">*</span><span style="color: #393A34">matrix_operator_norm1</span><span style="color: #999999">(</span><span style="color: #393A34">A_inverse</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #999999">@</span><span style="color: #59873A">torch</span><span style="color: #999999">.</span><span style="color: #59873A">no_grad</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #AB5959">def</span><span style="color: #393A34"> </span><span style="color: #59873A">combined_cond</span><span style="color: #999999">(</span><span style="color: #393A34">model</span><span style="color: #999999">):</span><span style="color: #393A34"> </span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #B56959AA">&quot;&quot;&quot;</span><span style="color: #B56959">max i ( ||W_i|||||W_i^{-1}|| )</span><span style="color: #B56959AA">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #393A34">    weights </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[</span><span style="color: #393A34">param </span><span style="color: #1E754F">for</span><span style="color: #393A34"> name</span><span style="color: #999999">,</span><span style="color: #393A34"> param </span><span style="color: #1E754F">in</span><span style="color: #393A34"> model</span><span style="color: #999999">.</span><span style="color: #393A34">named_parameters</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #1E754F">if</span><span style="color: #393A34"> </span><span style="color: #B56959AA">&quot;</span><span style="color: #B56959">weight</span><span style="color: #B56959AA">&quot;</span><span style="color: #393A34"> </span><span style="color: #AB5959">in</span><span style="color: #393A34"> name</span><span style="color: #999999">]</span></span>
<span class="line"><span style="color: #393A34">    cond_nums </span><span style="color: #AB5959">=</span><span style="color: #393A34"> </span><span style="color: #999999">[</span><span style="color: #393A34">cond1</span><span style="color: #999999">(</span><span style="color: #393A34">param</span><span style="color: #999999">).</span><span style="color: #393A34">item</span><span style="color: #999999">()</span><span style="color: #393A34"> </span><span style="color: #1E754F">for</span><span style="color: #393A34"> param </span><span style="color: #1E754F">in</span><span style="color: #393A34"> weights</span><span style="color: #999999">]</span></span>
<span class="line"><span style="color: #393A34">    </span><span style="color: #1E754F">return</span><span style="color: #393A34"> </span><span style="color: #998418">max</span><span style="color: #999999">(</span><span style="color: #393A34">cond_nums</span><span style="color: #999999">)</span></span>
<span class="line"><span style="color: #998418">print</span><span style="color: #999999">(</span><span style="color: #393A34">combined_cond</span><span style="color: #999999">(</span><span style="color: #393A34">model</span><span style="color: #999999">))</span><span style="color: #393A34"> </span><span style="color: #A0ADA0"># 54168.84375</span></span></code>`,zd,Br,Up=`<code><span class="line"><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> torch</span></span>
<span class="line"><span style="color: #C792EA">def</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF; font-style: italic">matrix_operator_norm1</span><span style="color: #D9F5DD">(</span><span style="color: #7FDBCA">A</span><span style="color: #D9F5DD">)</span><span style="color: #D6DEEB">:</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #D9F5DD">&quot;&quot;&quot;</span><span style="color: #ECC48D">||A||</span><span style="color: #D9F5DD">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #C792EA; font-style: italic">return</span><span style="color: #D6DEEB"> torch.linalg.</span><span style="color: #B2CCD6">matrix_norm</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C792EA">def</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF; font-style: italic">cond1</span><span style="color: #D9F5DD">(</span><span style="color: #7FDBCA">A</span><span style="color: #D9F5DD">)</span><span style="color: #D6DEEB">:</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #D9F5DD">&quot;&quot;&quot;</span><span style="color: #ECC48D">||A||||A^{-1}||</span><span style="color: #D9F5DD">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #D6DEEB">    A_inverse </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> torch.linalg.</span><span style="color: #B2CCD6">pinv</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #C792EA; font-style: italic">return</span><span style="color: #D6DEEB"> </span><span style="color: #B2CCD6">matrix_operator_norm1</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A</span><span style="color: #D6DEEB">)</span><span style="color: #C792EA">*</span><span style="color: #B2CCD6">matrix_operator_norm1</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">A_inverse</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C5E478">@</span><span style="color: #C5E478; font-style: italic">torch</span><span style="color: #C5E478">.</span><span style="color: #C5E478; font-style: italic">no_grad</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #C792EA">def</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF; font-style: italic">combined_cond</span><span style="color: #D9F5DD">(</span><span style="color: #7FDBCA">model</span><span style="color: #D9F5DD">)</span><span style="color: #D6DEEB">: </span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #D9F5DD">&quot;&quot;&quot;</span><span style="color: #ECC48D">max i ( ||W_i|||||W_i^{-1}|| )</span><span style="color: #D9F5DD">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color: #D6DEEB">    weights </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">[</span><span style="color: #D6DEEB">param </span><span style="color: #C792EA; font-style: italic">for</span><span style="color: #D6DEEB"> name, param </span><span style="color: #C792EA; font-style: italic">in</span><span style="color: #D6DEEB"> model.</span><span style="color: #B2CCD6">named_parameters</span><span style="color: #D6DEEB">() </span><span style="color: #C792EA; font-style: italic">if</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">&quot;</span><span style="color: #ECC48D">weight</span><span style="color: #D9F5DD">&quot;</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">in</span><span style="color: #D6DEEB"> name</span><span style="color: #D9F5DD">]</span></span>
<span class="line"><span style="color: #D6DEEB">    cond_nums </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">[</span><span style="color: #B2CCD6">cond1</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">param</span><span style="color: #D6DEEB">).</span><span style="color: #B2CCD6">item</span><span style="color: #D6DEEB">() </span><span style="color: #C792EA; font-style: italic">for</span><span style="color: #D6DEEB"> param </span><span style="color: #C792EA; font-style: italic">in</span><span style="color: #D6DEEB"> weights</span><span style="color: #D9F5DD">]</span></span>
<span class="line"><span style="color: #D6DEEB">    </span><span style="color: #C792EA; font-style: italic">return</span><span style="color: #D6DEEB"> </span><span style="color: #C5E478">max</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">cond_nums</span><span style="color: #D6DEEB">)</span></span>
<span class="line"><span style="color: #C5E478">print</span><span style="color: #D6DEEB">(</span><span style="color: #B2CCD6">combined_cond</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">model</span><span style="color: #D6DEEB">)) </span><span style="color: #637777">#</span><span style="color: #637777; font-style: italic"> 54168.84375</span></span></code>`,Id,bs,jp="python",Nd,ws,U1,z0,Wp='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE</div><div class="admonition-content"><p>It may make more sense to take the product or sum of the condition numbers, but I don&#39;t exactly know how non-linearities in between would hide or amplify error so I chose not to complicate things.</p></div>',j1,xs,Yp="Despite this neural network having a high maximum condition number of 54,168, the outputs look quite good after k-means quantization: the reconstruction is accurate.",W1,I0,qd,Ms,Bd,Y1,Ss,G1,ks,Gp='<a href="#Conclusion" class="svp-title-anchor" aria-label="Conclusion"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Conclusion',X1,$s,Xp="Perhaps not a satisfying ending, but here we are. Overall, yes it's possible to quantize the vast majority of weights in your neural network with little error. But make sure you're using the right error metrics!",Z1,As,Zp="Also make sure to take into account how the weights are used so you know exactly how much you can compress. It may be that taking into account non-linearities and other architectures could further develop the operator norm and relative error into something very useful for neural networks.",Q1,Cs,K1,Ts,Qp='<a href="#Acknowledgments" class="svp-title-anchor" aria-label="Acknowledgments"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Acknowledgments',J1,qt,Fr,Fd,Es,Ld,Ds,Rd,Pd,To,Od,_s,Hd,zs,Vd,Is,Ud,jd,Eo,Ns,Wd,Yd,Do,qs,Gd,Xd,_o,Bs,Zd,ec,Fs,tc,Ls,Kp='<a href="#Cite" class="svp-title-anchor" aria-label="Cite"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Cite',nc,Rs,An,Lr,Jp=`<code><span class="line"><span style="color: #999999">@</span><span style="color: #1E754F">misc</span><span style="color: #999999">{</span><span style="color: #2E808F">bertucci2023viscompress</span><span style="color: #393A34">,</span></span>
<span class="line"><span style="color: #393A34">   </span><span style="color: #998418">author</span><span style="color: #393A34"> </span><span style="color: #999999">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">{</span><span style="color: #393A34">Bertucci, Donald and Perer, Adam</span><span style="color: #B56959AA">}</span><span style="color: #393A34">,</span></span>
<span class="line"><span style="color: #393A34">   </span><span style="color: #998418">title</span><span style="color: #393A34">  </span><span style="color: #999999">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">{</span><span style="color: #999999">{</span><span style="color: #393A34">Visualizing Neural Network Compression</span><span style="color: #999999">}</span><span style="color: #B56959AA">}</span><span style="color: #393A34">,</span></span>
<span class="line"><span style="color: #393A34">   </span><span style="color: #998418">year</span><span style="color: #393A34">   </span><span style="color: #999999">=</span><span style="color: #393A34"> </span><span style="color: #B56959AA">{</span><span style="color: #393A34">2023</span><span style="color: #B56959AA">}</span></span>
<span class="line"><span style="color: #999999">}</span></span></code>`,Qd,Rr,e6=`<code><span class="line"><span style="color: #C792EA">@misc</span><span style="color: #D6DEEB">{bertucci2023viscompress,</span></span>
<span class="line"><span style="color: #D6DEEB">   </span><span style="color: #C5E478">author</span><span style="color: #D6DEEB"> = </span><span style="color: #D9F5DD">{</span><span style="color: #D6DEEB">Bertucci, Donald and Perer, Adam</span><span style="color: #D9F5DD">}</span><span style="color: #D6DEEB">,</span></span>
<span class="line"><span style="color: #D6DEEB">   </span><span style="color: #C5E478">title</span><span style="color: #D6DEEB">  = </span><span style="color: #D9F5DD">{</span><span style="color: #D6DEEB">{Visualizing Neural Network Compression}</span><span style="color: #D9F5DD">}</span><span style="color: #D6DEEB">,</span></span>
<span class="line"><span style="color: #D6DEEB">   </span><span style="color: #C5E478">year</span><span style="color: #D6DEEB">   = </span><span style="color: #D9F5DD">{</span><span style="color: #D6DEEB">2023</span><span style="color: #D9F5DD">}</span></span>
<span class="line"><span style="color: #D6DEEB">}</span></span></code>`,Kd,Ps,t6="bibtex",Jd,Os,rc,ar,N0,n6="Footnotes",e4,yl,zo,q0,t4,Hs,n4,sr,r6="↩",ic;return w=new gt({props:{to:"https://lexica.art/?q=cyberpunk+city",label:"Lexica"}}),I=new gt({props:{to:"https://stability.ai/stablediffusion",label:"Stable Diffusion XL"}}),le=new gt({props:{to:"https://arxiv.org/abs/1510.00149",label:"Deep Compression"}}),si=new _e({props:{text:"880 \\cdot 602"}}),hi=new d4({props:{selected:0}}),pi=new d4({props:{selected:1}}),yi=new d4({props:{selected:1,showSlider:!0}}),Mi=new gt({props:{to:"https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html",label:"k-means algorithm"}}),ki=new gt({props:{to:JF+"/blob/main/notebooks/image.ipynb",label:"image.ipynb"}}),Ai=new OF({}),Ti=new _e({props:{text:"2^3"}}),Fi=new uM({}),Oi=new _e({props:{text:"i"}}),Hi=new _e({props:{text:"Q"}}),Vi=new _e({props:{text:"W"}}),Ui=new _e({props:{text:"(0,0,0)"}}),ji=new _e({props:{text:"(255,255,255)"}}),Wi=new _e({props:{text:"|255-0| + |255-0| + |255-0| = 765"}}),Yi=new _e({props:{text:"E"}}),Gi=new _e({props:{text:"E_[i] = \\sum_[c=1]^[3] |W_[i, c] - Q_[i,c]| \\tag1",big:!0}}),Xi=new _e({props:{text:"i"}}),Zi=new _e({props:{text:"c"}}),Qi=new _e({props:{text:"E"}}),Ki=new _e({props:{text:"(1)"}}),Ji=new _e({props:{text:"\\frac[1][N]\\sum_[i=1]^[N] E_i"}}),ra=new _e({props:{text:"\\text[ReLU]\\left(\\text[ReLU]\\left(xW_1^T + b_1\\right)W_2^T + b_2\\right)W_3^T + b_3.\\tag[2]",big:!0}}),ia=new _e({props:{text:"W_i"}}),aa=new _e({props:{text:"b_i"}}),sa=new _e({props:{text:"i"}}),la=new _e({props:{text:"Wx = y"}}),ua=new _e({props:{text:"W"}}),ca=new _e({props:{text:"x"}}),fa=new _e({props:{text:"y"}}),ha=new _e({props:{text:"W"}}),da=new _e({props:{text:"x"}}),ma=new _e({props:{text:"y"}}),pa=new _e({props:{text:"W"}}),ga=new _e({props:{text:"Q"}}),va=new _e({props:{text:"Q"}}),ya=new _e({props:{text:"x"}}),ba=new _e({props:{text:"\\hat[y]"}}),wa=new _e({props:{text:"Q"}}),xa=new _e({props:{text:"W"}}),Ma=new _e({props:{text:"y"}}),Sa=new _e({props:{text:"\\hat[y]"}}),ka=new _e({props:{text:"\\text[error] &:= \\frac[||y - \\hat[y]||][||y||]\\tag[3]",begin:"align*"}}),Ca=new _e({props:{text:"||\\cdot||"}}),Ta=new _e({props:{text:"Wx = y"}}),Ea=new _e({props:{text:"Qx = \\hat[y]"}}),Da=new _e({props:{text:"(3)"}}),_a=new _e({props:{text:`
\\frac[||y - \\hat[y]||][||y||] = \\frac[||Wx - Qx||][||Wx||]\\tag[4]\\\\
`,begin:"align*"}}),Ia=new _e({props:{text:"(4)"}}),Na=new _e({props:{text:"W"}}),qa=new _e({props:{text:"Q"}}),Ba=new _e({props:{text:"W"}}),Fa=new _e({props:{begin:"align*",text:`
\\frac[||Wx - Qx||][||Wx||] &= \\frac[||(W-Q)x||][||Wx||]\\\\
&= \\frac[||(W-Q)W^[-1]y||][||Wx||]&&\\text[since ] x = W^[-1]y\\\\
&\\leq \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||y||][||Wx||]&&\\text[since ] ||AB|| \\leq ||A|| \\ ||B||\\\\
&= \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||Wx||][||Wx||]&&\\text[since ] ||Wx|| = ||y||\\\\
&= ||W-Q|| \\ ||W^[-1]||\\\\
&= \\frac[||W||][||W||] \\ ||W-Q|| \\ ||W^[-1]||\\\\
&= \\left(||W|| \\ ||W^[-1]||\\right) \\left(\\frac[||W-Q||][||W||]\\right). \\tag[5]\\\\
`}}),Ra=new _e({props:{text:"(5)"}}),Pa=new gt({props:{to:"https://www.cs.cornell.edu/~bindel/class/cs4220-s15/lec/2015-02-04-notes.pdf",label:"CS 4220 Numerical Analysis"}}),Ha=new gt({props:{to:"https://www.youtube.com/watch?v=G2RKg1pHApc",label:"good video"}}),Va=new _e({props:{text:"W"}}),Ua=new _e({props:{text:"||W|| \\ ||W^[-1]||"}}),ja=new _e({props:{text:"\\frac[||W-Q||][||W||]"}}),Xa=new _e({props:{text:"2^[\\text[bits]]"}}),Za=new IF({}),ss=new gt({props:{to:"https://pytorch.org/docs/stable/index.html",label:"PyTorch"}}),us=new h4({}),cs=new gt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/mnist_autoencoder.ipynb",label:"mnist_autoencoder.ipynb"}}),fs=new gt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/quantized_mnist_autoencoder.ipynb",label:"quantized_mnist_autoencoder.ipynb"}}),hs=new gt({props:{to:"https://github.com/xnought/docs/blob/main/ui/src/components/tensor.js",label:"mini neural network library"}}),ds=new ZF({}),ps=new gt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/ae_cond.ipynb",label:"ae_cond.ipynb"}}),ws=new h4({}),Ms=new _e({props:{text:"(5)"}}),Es=new gt({props:{to:"https://donnybertucci.com",label:"Donny Bertucci"}}),Ds=new gt({props:{to:"https://perer.org/",label:"Adam Perer"}}),_s=new gt({props:{to:"https://venkatesh-sivaraman.github.io/",label:"Venkat Sivaraman"}}),Is=new gt({props:{to:"https://www.youtube.com/watch?v=AlASZb93rrc",label:"video"}}),Ns=new gt({props:{to:"https://observablehq.com/plot/",label:"Observable Plot"}}),qs=new gt({props:{to:"https://sveltepress.site/",label:"SveltePress"}}),Bs=new gt({props:{to:"https://katex.org/",label:"KaTeX"}}),Os=new h4({}),Hs=new gt({props:{to:"https://pytorch.org/vision/stable/generated/torchvision.datasets.MNIST.html",label:"MNIST"}}),{c(){t=F("p"),t.innerHTML=n,r=X(),i=F("div"),a=X(),s=F("h2"),s.innerHTML=o,l=X(),u=F("p"),u.textContent=c,f=X(),h=F("div"),d=X(),g=F("p"),y=F("em"),b=K("From "),ge(w.$$.fragment),k=K("'s Aperture Model."),E=X(),$=F("p"),T=K("These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ge(I.$$.fragment),D=K(" transform your text and images with over 3 billion parameters into something awesome!"),j=X(),U=F("p"),U.textContent=S,C=X(),H=F("div"),P=X(),Q=F("h2"),Q.innerHTML=N,W=X(),ae=F("p"),ie=K("In this article I'll use the weight sharing scheme from "),ge(le.$$.fragment),ee=K(" to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),se=X(),oe=F("p"),oe.textContent=re,Se=X(),Ce=F("p"),Ce.textContent=De,ce=X(),pe=F("p"),pe.textContent=ne,xe=X(),Ae=F("p"),Ae.textContent=Y,ke=X(),Ee=F("p"),Ee.textContent=Be,Fe=X(),Ge=F("p"),Ge.textContent=mt,wt=X(),Vt=F("div"),Kt=X(),Dt=F("h2"),Dt.innerHTML=po,ai=X(),Tr=F("p"),Tr.textContent=zu,go=X(),Jt=F("p"),Jt.textContent=vl,nr=X(),Er=F("p"),Er.textContent=Iu,vo=X(),zt=F("img"),yo=X(),en=F("p"),Xh=K("In total, there are 4,824,160 colors in the image ("),ge(si.$$.fragment),Zh=K("): one for each pixel. Each color is represented by three numbers: "),oi=F("span"),oi.textContent=H5,Qh=K(", "),li=F("span"),li.textContent=V5,Kh=K(", and "),ui=F("span"),ui.textContent=U5,Jh=K(" that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),Nu=X(),ci=F("p"),ci.textContent=j5,qu=X(),fi=F("p"),fi.textContent=W5,Bu=X(),ge(hi.$$.fragment),Fu=X(),di=F("p"),di.textContent=Y5,Lu=X(),mi=F("p"),mi.textContent=G5,Ru=X(),ge(pi.$$.fragment),Pu=X(),gi=F("p"),gi.textContent=X5,Ou=X(),vi=F("p"),vi.textContent=Z5,Hu=X(),v0=F("div"),v0.innerHTML=Q5,Vu=X(),ge(yi.$$.fragment),Uu=X(),bi=F("p"),bi.textContent=K5,ju=X(),y0=F("div"),wi=F("div"),wi.innerHTML=J5,Dr=F("div"),bo=F("p"),bo.textContent=ep,wo=F("p"),wo.innerHTML=tp,xi=F("p"),e2=K("However, if you must know: I use the "),ge(Mi.$$.fragment),t2=K(" on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),Si=F("p"),n2=K("Check out "),ge(ki.$$.fragment),r2=K(" to see how I used k-means on the images."),Wu=X(),$i=F("p"),$i.textContent=np,Yu=X(),ge(Ai.$$.fragment),Gu=X(),Mn=F("p"),i2=K("Above, the "),Ci=F("span"),Ci.textContent=rp,a2=K(" shows a small portion of the pixels at eight (or three bit since "),ge(Ti.$$.fragment),s2=K(") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),Ei=F("span"),Ei.textContent=ip,o2=K("!"),Xu=X(),Di=F("div"),Zu=X(),_i=F("h2"),_i.innerHTML=ap,Qu=X(),zi=F("p"),zi.textContent=sp,Ku=X(),Ii=F("p"),Ii.textContent=op,Ju=X(),Ni=F("p"),Ni.textContent=lp,e1=X(),qi=F("p"),qi.textContent=up,t1=X(),Bi=F("p"),Bi.textContent=cp,n1=X(),b0=F("div"),b0.innerHTML=fp,r1=X(),ge(Fi.$$.fragment),i1=X(),Li=F("p"),Li.textContent=hp,a1=X(),Ri=F("p"),Ri.textContent=dp,s1=X(),w0=F("div"),Pi=F("div"),Pi.innerHTML=mp,x0=F("div"),_t=F("p"),l2=K("For each pixel at (location "),ge(Oi.$$.fragment),u2=K(") I find the difference between the corresponding color channels of the compressed/quantized image "),ge(Hi.$$.fragment),c2=K(" and the original image "),ge(Vi.$$.fragment),f2=K(". For example if the original color was black "),ge(Ui.$$.fragment),h2=K(" and the quantized color was white "),ge(ji.$$.fragment),d2=K(", the summed error would be "),ge(Wi.$$.fragment),m2=K(" for that one pixel."),hn=F("p"),p2=K("I store each error term in this "),ge(Yi.$$.fragment),g2=K(" matrix where each number is the error "),ge(Gi.$$.fragment),v2=K(" such that "),ge(Xi.$$.fragment),y2=K(" is the pixel index and "),ge(Zi.$$.fragment),b2=K(" is the color channel (one of rgb)."),dn=F("p"),w2=K("This error image "),ge(Qi.$$.fragment),x2=K(" is what you see in red above. Then I simply average over these error matrix values from "),ge(Ki.$$.fragment),M2=K(" to get the "),xo=F("strong"),xo.textContent=pp,S2=K(" as "),ge(Ji.$$.fragment),k2=K("."),o1=X(),ea=F("div"),l1=X(),ta=F("h2"),ta.innerHTML=gp,u1=X(),na=F("p"),na.textContent=vp,c1=X(),tn=F("p"),$2=K("Take this three layer neural network "),ge(ra.$$.fragment),A2=K(" where "),ge(ia.$$.fragment),C2=K(" are weights and "),ge(aa.$$.fragment),T2=K(" are biases at layer "),ge(sa.$$.fragment),E2=K("."),f1=X(),oa=F("p"),oa.textContent=yp,h1=X(),M0=F("div"),M0.innerHTML=bp,d1=X(),pt=F("p"),D2=K("With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the input vector. Namely, "),ge(la.$$.fragment),_2=K(" where "),ge(ua.$$.fragment),z2=K(" is the matrix, "),ge(ca.$$.fragment),I2=K(" is the column vector, and "),ge(fa.$$.fragment),N2=K(" is the output of the matrix multiply. Alternatively, think of "),ge(ha.$$.fragment),q2=K(" as transforming "),ge(da.$$.fragment),B2=K(" into "),ge(ma.$$.fragment),F2=K("."),m1=X(),nt=F("p"),L2=K("I can also define "),ge(pa.$$.fragment),R2=K(" compressed/quantized as "),ge(ga.$$.fragment),P2=K(". The "),ge(va.$$.fragment),O2=K(" matrix transforms the input "),ge(ya.$$.fragment),H2=K(" into some approximate output "),ge(ba.$$.fragment),V2=K(". Since "),ge(wa.$$.fragment),U2=K(" is an approximate "),ge(xa.$$.fragment),j2=K(", the output would also be approximate. I can then express the differences between the outputs "),ge(Ma.$$.fragment),W2=K(" and "),ge(Sa.$$.fragment),Y2=K(` in a single error term
`),ge(ka.$$.fragment),G2=K(" which is the size of how wrong the approximation is after the matrix multiply."),p1=X(),S0=F("div"),$a=F("div"),$a.innerHTML=wp,Mo=F("div"),Aa=F("p"),X2=K("I use the vector 1-norm here denoted by "),ge(Ca.$$.fragment),Z2=K(" to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),g1=X(),Sn=F("p"),Q2=K("And since "),ge(Ta.$$.fragment),K2=K(" and "),ge(Ea.$$.fragment),J2=K(" I can write the equation "),ge(Da.$$.fragment),ed=K(" only in terms of the inputs as"),v1=X(),So=F("p"),ge(_a.$$.fragment),y1=X(),za=F("p"),za.textContent=xp,b1=X(),It=F("p"),td=K("As is turns out, I can factor the error term in "),ge(Ia.$$.fragment),nd=K(" into one term that only contains "),ge(Na.$$.fragment),rd=K(" and other term that contains both "),ge(qa.$$.fragment),id=K(" and "),ge(Ba.$$.fragment),ad=K(` through the steps
`),ge(Fa.$$.fragment),sd=K(" where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),w1=X(),k0=F("div"),La=F("div"),La.innerHTML=Mp,$0=F("div"),_r=F("p"),od=K("The above formulation "),ge(Ra.$$.fragment),ld=K(" was adapted from the lecture notes "),ge(Pa.$$.fragment),ud=K("."),ko=F("p"),ko.textContent=Sp,Oa=F("p"),cd=K("This is a "),ge(Ha.$$.fragment),fd=K(" on the matrix operator norm induced by the 2-norm for some intuition."),x1=X(),kn=F("p"),hd=K("The first term "),ge(Va.$$.fragment),dd=K(" as "),ge(Ua.$$.fragment),md=K(" is a very useful number in many applications for linear problems: the condition number. The second term "),ge(ja.$$.fragment),pd=K(" looks quite similar to the image pixel error case. What's really important is that there is error inherent to the original matrix in the condition number. The condition number then scales the difference between original and compressed (the second term)."),M1=X(),Wa=F("p"),Wa.textContent=kp,S1=X(),A0=F("div"),Ya=F("div"),Ya.innerHTML=$p,zr=F("div"),$o=F("p"),$o.textContent=Ap,Ga=F("p"),gd=K("The bits is the level of quantization. Really this means we're sharing "),ge(Xa.$$.fragment),vd=K(" values. I use the bits notation because that will be the size of our index number after quantization."),Ao=F("p"),Ao.textContent=Cp,Co=F("p"),Co.textContent=Tp,k1=X(),ge(Za.$$.fragment),$1=X(),Qa=F("p"),Qa.textContent=Ep,A1=X(),Ka=F("p"),Ka.textContent=Dp,C1=X(),Ja=F("p"),Ja.textContent=_p,T1=X(),es=F("p"),es.textContent=zp,E1=X(),C0=F("div"),C0.innerHTML=Ip,D1=X(),ts=F("div"),_1=X(),ns=F("h2"),ns.innerHTML=Np,z1=X(),rs=F("p"),rs.textContent=qp,I1=X(),is=F("p"),is.textContent=Bp,N1=X(),as=F("p"),as.innerHTML=Fp,q1=X(),T0=F("p"),yd=K("In "),ge(ss.$$.fragment),bd=K(" I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),B1=X(),os=F("div"),$n=F("div"),Ir=F("pre"),Ir.innerHTML=Lp,wd=X(),Nr=F("pre"),Nr.innerHTML=Rp,xd=X(),ls=F("div"),ls.textContent=Pp,Md=X(),ge(us.$$.fragment),F1=X(),ir=F("p"),Sd=K("The training and definitions are in "),ge(cs.$$.fragment),kd=K(" and the quantization is in "),ge(fs.$$.fragment),$d=K(" if you're interested."),L1=X(),E0=F("p"),Ad=K("I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ge(hs.$$.fragment),Cd=K(" in JavaScript."),R1=X(),D0=F("div"),D0.innerHTML=Op,P1=X(),ge(ds.$$.fragment),O1=X(),ms=F("p"),ms.textContent=Hp,H1=X(),_0=F("p"),Td=K("To get a condition number and some semblance of error prediction, I iterated over each layer and took the max condition number. As shown below and in "),ge(ps.$$.fragment),Ed=K("."),V1=X(),gs=F("div"),Nt=F("div"),vs=F("div"),Dd=X(),ys=F("div"),_d=X(),qr=F("pre"),qr.innerHTML=Vp,zd=X(),Br=F("pre"),Br.innerHTML=Up,Id=X(),bs=F("div"),bs.textContent=jp,Nd=X(),ge(ws.$$.fragment),U1=X(),z0=F("div"),z0.innerHTML=Wp,j1=X(),xs=F("p"),xs.textContent=Yp,W1=X(),I0=F("p"),qd=K("I speculate again that with extra shared numbers to spare, k-means was sensitive to the outlier which caused the high condition number, thereby masking the large effects and driving down the entire error term from equation "),ge(Ms.$$.fragment),Bd=K("."),Y1=X(),Ss=F("div"),G1=X(),ks=F("h2"),ks.innerHTML=Gp,X1=X(),$s=F("p"),$s.textContent=Xp,Z1=X(),As=F("p"),As.textContent=Zp,Q1=X(),Cs=F("div"),K1=X(),Ts=F("h2"),Ts.innerHTML=Qp,J1=X(),qt=F("ul"),Fr=F("li"),Fd=K("I thank myself "),ge(Es.$$.fragment),Ld=K(" for writing the article and "),ge(Ds.$$.fragment),Rd=K(" for discussing ideas and for valuable feedback"),Pd=X(),To=F("li"),Od=K("My interest in model compression came from conversations with "),ge(_s.$$.fragment),Hd=X(),zs=F("li"),Vd=K("Inspiration to use k-means came from watching this "),ge(Is.$$.fragment),Ud=K(" (which evidently is by the author of that Deep Compression Paper)"),jd=X(),Eo=F("li"),ge(Ns.$$.fragment),Wd=K(" was extremely useful"),Yd=X(),Do=F("li"),ge(qs.$$.fragment),Gd=K(" is really awesome out of the box"),Xd=X(),_o=F("li"),ge(Bs.$$.fragment),Zd=K(" for math equations"),ec=X(),Fs=F("div"),tc=X(),Ls=F("h2"),Ls.innerHTML=Kp,nc=X(),Rs=F("div"),An=F("div"),Lr=F("pre"),Lr.innerHTML=Jp,Qd=X(),Rr=F("pre"),Rr.innerHTML=e6,Kd=X(),Ps=F("div"),Ps.textContent=t6,Jd=X(),ge(Os.$$.fragment),rc=X(),ar=F("section"),N0=F("h2"),N0.textContent=n6,e4=X(),yl=F("ol"),zo=F("li"),q0=F("p"),t4=K("Chose "),ge(Hs.$$.fragment),n4=K(" so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),sr=F("a"),sr.textContent=r6,this.h()},l(p){t=L(p,"P",{"data-svelte-h":!0}),he(t)!=="svelte-1g21cvi"&&(t.innerHTML=n),r=Z(p),i=L(p,"DIV",{id:!0,class:!0}),te(i).forEach(x),a=Z(p),s=L(p,"H2",{"data-svelte-h":!0}),he(s)!=="svelte-ruhe6q"&&(s.innerHTML=o),l=Z(p),u=L(p,"P",{"data-svelte-h":!0}),he(u)!=="svelte-s62896"&&(u.textContent=c),f=Z(p),h=L(p,"DIV",{style:!0,class:!0}),te(h).forEach(x),d=Z(p),g=L(p,"P",{});var O=te(g);y=L(O,"EM",{});var ac=te(y);b=J(ac,"From "),ve(w.$$.fragment,ac),k=J(ac,"'s Aperture Model."),ac.forEach(x),O.forEach(x),E=Z(p),$=L(p,"P",{});var sc=te($);T=J(sc,"These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ve(I.$$.fragment,sc),D=J(sc," transform your text and images with over 3 billion parameters into something awesome!"),sc.forEach(x),j=Z(p),U=L(p,"P",{"data-svelte-h":!0}),he(U)!=="svelte-c230rd"&&(U.textContent=S),C=Z(p),H=L(p,"DIV",{id:!0,class:!0}),te(H).forEach(x),P=Z(p),Q=L(p,"H2",{"data-svelte-h":!0}),he(Q)!=="svelte-13wc126"&&(Q.innerHTML=N),W=Z(p),ae=L(p,"P",{});var oc=te(ae);ie=J(oc,"In this article I'll use the weight sharing scheme from "),ve(le.$$.fragment,oc),ee=J(oc," to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),oc.forEach(x),se=Z(p),oe=L(p,"P",{"data-svelte-h":!0}),he(oe)!=="svelte-jjbxih"&&(oe.textContent=re),Se=Z(p),Ce=L(p,"P",{"data-svelte-h":!0}),he(Ce)!=="svelte-1dlvibq"&&(Ce.textContent=De),ce=Z(p),pe=L(p,"P",{"data-svelte-h":!0}),he(pe)!=="svelte-1hz6bb9"&&(pe.textContent=ne),xe=Z(p),Ae=L(p,"P",{"data-svelte-h":!0}),he(Ae)!=="svelte-4hvpcj"&&(Ae.textContent=Y),ke=Z(p),Ee=L(p,"P",{"data-svelte-h":!0}),he(Ee)!=="svelte-6rjtcm"&&(Ee.textContent=Be),Fe=Z(p),Ge=L(p,"P",{"data-svelte-h":!0}),he(Ge)!=="svelte-j391qh"&&(Ge.textContent=mt),wt=Z(p),Vt=L(p,"DIV",{id:!0,class:!0}),te(Vt).forEach(x),Kt=Z(p),Dt=L(p,"H2",{"data-svelte-h":!0}),he(Dt)!=="svelte-z4t4s0"&&(Dt.innerHTML=po),ai=Z(p),Tr=L(p,"P",{"data-svelte-h":!0}),he(Tr)!=="svelte-jn7zu2"&&(Tr.textContent=zu),go=Z(p),Jt=L(p,"P",{"data-svelte-h":!0}),he(Jt)!=="svelte-2eegx6"&&(Jt.textContent=vl),nr=Z(p),Er=L(p,"P",{"data-svelte-h":!0}),he(Er)!=="svelte-hycxe9"&&(Er.textContent=Iu),vo=Z(p),zt=L(p,"IMG",{src:!0,style:!0,class:!0}),yo=Z(p),en=L(p,"P",{});var or=te(en);Xh=J(or,"In total, there are 4,824,160 colors in the image ("),ve(si.$$.fragment,or),Zh=J(or,"): one for each pixel. Each color is represented by three numbers: "),oi=L(or,"SPAN",{style:!0,"data-svelte-h":!0}),he(oi)!=="svelte-17efn44"&&(oi.textContent=H5),Qh=J(or,", "),li=L(or,"SPAN",{style:!0,"data-svelte-h":!0}),he(li)!=="svelte-ixmvcs"&&(li.textContent=V5),Kh=J(or,", and "),ui=L(or,"SPAN",{style:!0,"data-svelte-h":!0}),he(ui)!=="svelte-yxcr95"&&(ui.textContent=U5),Jh=J(or," that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),or.forEach(x),Nu=Z(p),ci=L(p,"P",{"data-svelte-h":!0}),he(ci)!=="svelte-1s1w0ap"&&(ci.textContent=j5),qu=Z(p),fi=L(p,"P",{"data-svelte-h":!0}),he(fi)!=="svelte-10fp00t"&&(fi.textContent=W5),Bu=Z(p),ve(hi.$$.fragment,p),Fu=Z(p),di=L(p,"P",{"data-svelte-h":!0}),he(di)!=="svelte-191ux2d"&&(di.textContent=Y5),Lu=Z(p),mi=L(p,"P",{"data-svelte-h":!0}),he(mi)!=="svelte-y7jh1z"&&(mi.textContent=G5),Ru=Z(p),ve(pi.$$.fragment,p),Pu=Z(p),gi=L(p,"P",{"data-svelte-h":!0}),he(gi)!=="svelte-1mbtwn3"&&(gi.textContent=X5),Ou=Z(p),vi=L(p,"P",{"data-svelte-h":!0}),he(vi)!=="svelte-c0oqny"&&(vi.textContent=Z5),Hu=Z(p),v0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),he(v0)!=="svelte-pvhyf7"&&(v0.innerHTML=Q5),Vu=Z(p),ve(yi.$$.fragment,p),Uu=Z(p),bi=L(p,"P",{"data-svelte-h":!0}),he(bi)!=="svelte-1sqnw4i"&&(bi.textContent=K5),ju=Z(p),y0=L(p,"DIV",{class:!0});var r4=te(y0);wi=L(r4,"DIV",{class:!0,"data-svelte-h":!0}),he(wi)!=="svelte-1cy0qbn"&&(wi.innerHTML=J5),Dr=L(r4,"DIV",{class:!0});var bl=te(Dr);bo=L(bl,"P",{"data-svelte-h":!0}),he(bo)!=="svelte-1b2zkjk"&&(bo.textContent=ep),wo=L(bl,"P",{"data-svelte-h":!0}),he(wo)!=="svelte-1pybshj"&&(wo.innerHTML=tp),xi=L(bl,"P",{});var lc=te(xi);e2=J(lc,"However, if you must know: I use the "),ve(Mi.$$.fragment,lc),t2=J(lc," on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),lc.forEach(x),Si=L(bl,"P",{});var uc=te(Si);n2=J(uc,"Check out "),ve(ki.$$.fragment,uc),r2=J(uc," to see how I used k-means on the images."),uc.forEach(x),bl.forEach(x),r4.forEach(x),Wu=Z(p),$i=L(p,"P",{"data-svelte-h":!0}),he($i)!=="svelte-10470hz"&&($i.textContent=np),Yu=Z(p),ve(Ai.$$.fragment,p),Gu=Z(p),Mn=L(p,"P",{});var B0=te(Mn);i2=J(B0,"Above, the "),Ci=L(B0,"SPAN",{style:!0,"data-svelte-h":!0}),he(Ci)!=="svelte-18c939o"&&(Ci.textContent=rp),a2=J(B0," shows a small portion of the pixels at eight (or three bit since "),ve(Ti.$$.fragment,B0),s2=J(B0,") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),Ei=L(B0,"SPAN",{style:!0,"data-svelte-h":!0}),he(Ei)!=="svelte-18c939o"&&(Ei.textContent=ip),o2=J(B0,"!"),B0.forEach(x),Xu=Z(p),Di=L(p,"DIV",{id:!0,class:!0}),te(Di).forEach(x),Zu=Z(p),_i=L(p,"H2",{"data-svelte-h":!0}),he(_i)!=="svelte-o0se0e"&&(_i.innerHTML=ap),Qu=Z(p),zi=L(p,"P",{"data-svelte-h":!0}),he(zi)!=="svelte-1293b40"&&(zi.textContent=sp),Ku=Z(p),Ii=L(p,"P",{"data-svelte-h":!0}),he(Ii)!=="svelte-14roup4"&&(Ii.textContent=op),Ju=Z(p),Ni=L(p,"P",{"data-svelte-h":!0}),he(Ni)!=="svelte-k48m7"&&(Ni.textContent=lp),e1=Z(p),qi=L(p,"P",{"data-svelte-h":!0}),he(qi)!=="svelte-1kk5d34"&&(qi.textContent=up),t1=Z(p),Bi=L(p,"P",{"data-svelte-h":!0}),he(Bi)!=="svelte-15vrspb"&&(Bi.textContent=cp),n1=Z(p),b0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),he(b0)!=="svelte-gsmdzw"&&(b0.innerHTML=fp),r1=Z(p),ve(Fi.$$.fragment,p),i1=Z(p),Li=L(p,"P",{"data-svelte-h":!0}),he(Li)!=="svelte-1cwra3o"&&(Li.textContent=hp),a1=Z(p),Ri=L(p,"P",{"data-svelte-h":!0}),he(Ri)!=="svelte-1fjd55h"&&(Ri.textContent=dp),s1=Z(p),w0=L(p,"DIV",{class:!0});var i4=te(w0);Pi=L(i4,"DIV",{class:!0,"data-svelte-h":!0}),he(Pi)!=="svelte-1cy0qbn"&&(Pi.innerHTML=mp),x0=L(i4,"DIV",{class:!0});var cc=te(x0);_t=L(cc,"P",{});var nn=te(_t);l2=J(nn,"For each pixel at (location "),ve(Oi.$$.fragment,nn),u2=J(nn,") I find the difference between the corresponding color channels of the compressed/quantized image "),ve(Hi.$$.fragment,nn),c2=J(nn," and the original image "),ve(Vi.$$.fragment,nn),f2=J(nn,". For example if the original color was black "),ve(Ui.$$.fragment,nn),h2=J(nn," and the quantized color was white "),ve(ji.$$.fragment,nn),d2=J(nn,", the summed error would be "),ve(Wi.$$.fragment,nn),m2=J(nn," for that one pixel."),nn.forEach(x),hn=L(cc,"P",{});var lr=te(hn);p2=J(lr,"I store each error term in this "),ve(Yi.$$.fragment,lr),g2=J(lr," matrix where each number is the error "),ve(Gi.$$.fragment,lr),v2=J(lr," such that "),ve(Xi.$$.fragment,lr),y2=J(lr," is the pixel index and "),ve(Zi.$$.fragment,lr),b2=J(lr," is the color channel (one of rgb)."),lr.forEach(x),dn=L(cc,"P",{});var ur=te(dn);w2=J(ur,"This error image "),ve(Qi.$$.fragment,ur),x2=J(ur," is what you see in red above. Then I simply average over these error matrix values from "),ve(Ki.$$.fragment,ur),M2=J(ur," to get the "),xo=L(ur,"STRONG",{"data-svelte-h":!0}),he(xo)!=="svelte-po1o1d"&&(xo.textContent=pp),S2=J(ur," as "),ve(Ji.$$.fragment,ur),k2=J(ur,"."),ur.forEach(x),cc.forEach(x),i4.forEach(x),o1=Z(p),ea=L(p,"DIV",{id:!0,class:!0}),te(ea).forEach(x),l1=Z(p),ta=L(p,"H2",{"data-svelte-h":!0}),he(ta)!=="svelte-1pnd2wq"&&(ta.innerHTML=gp),u1=Z(p),na=L(p,"P",{"data-svelte-h":!0}),he(na)!=="svelte-680tq2"&&(na.textContent=vp),c1=Z(p),tn=L(p,"P",{});var cr=te(tn);$2=J(cr,"Take this three layer neural network "),ve(ra.$$.fragment,cr),A2=J(cr," where "),ve(ia.$$.fragment,cr),C2=J(cr," are weights and "),ve(aa.$$.fragment,cr),T2=J(cr," are biases at layer "),ve(sa.$$.fragment,cr),E2=J(cr,"."),cr.forEach(x),f1=Z(p),oa=L(p,"P",{"data-svelte-h":!0}),he(oa)!=="svelte-5uai62"&&(oa.textContent=yp),h1=Z(p),M0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),he(M0)!=="svelte-gg0y1z"&&(M0.innerHTML=bp),d1=Z(p),pt=L(p,"P",{});var Bt=te(pt);D2=J(Bt,"With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the input vector. Namely, "),ve(la.$$.fragment,Bt),_2=J(Bt," where "),ve(ua.$$.fragment,Bt),z2=J(Bt," is the matrix, "),ve(ca.$$.fragment,Bt),I2=J(Bt," is the column vector, and "),ve(fa.$$.fragment,Bt),N2=J(Bt," is the output of the matrix multiply. Alternatively, think of "),ve(ha.$$.fragment,Bt),q2=J(Bt," as transforming "),ve(da.$$.fragment,Bt),B2=J(Bt," into "),ve(ma.$$.fragment,Bt),F2=J(Bt,"."),Bt.forEach(x),m1=Z(p),nt=L(p,"P",{});var ut=te(nt);L2=J(ut,"I can also define "),ve(pa.$$.fragment,ut),R2=J(ut," compressed/quantized as "),ve(ga.$$.fragment,ut),P2=J(ut,". The "),ve(va.$$.fragment,ut),O2=J(ut," matrix transforms the input "),ve(ya.$$.fragment,ut),H2=J(ut," into some approximate output "),ve(ba.$$.fragment,ut),V2=J(ut,". Since "),ve(wa.$$.fragment,ut),U2=J(ut," is an approximate "),ve(xa.$$.fragment,ut),j2=J(ut,", the output would also be approximate. I can then express the differences between the outputs "),ve(Ma.$$.fragment,ut),W2=J(ut," and "),ve(Sa.$$.fragment,ut),Y2=J(ut,` in a single error term
`),ve(ka.$$.fragment,ut),G2=J(ut," which is the size of how wrong the approximation is after the matrix multiply."),ut.forEach(x),p1=Z(p),S0=L(p,"DIV",{class:!0});var a4=te(S0);$a=L(a4,"DIV",{class:!0,"data-svelte-h":!0}),he($a)!=="svelte-1cy0qbn"&&($a.innerHTML=wp),Mo=L(a4,"DIV",{class:!0});var i6=te(Mo);Aa=L(i6,"P",{});var fc=te(Aa);X2=J(fc,"I use the vector 1-norm here denoted by "),ve(Ca.$$.fragment,fc),Z2=J(fc," to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),fc.forEach(x),i6.forEach(x),a4.forEach(x),g1=Z(p),Sn=L(p,"P",{});var F0=te(Sn);Q2=J(F0,"And since "),ve(Ta.$$.fragment,F0),K2=J(F0," and "),ve(Ea.$$.fragment,F0),J2=J(F0," I can write the equation "),ve(Da.$$.fragment,F0),ed=J(F0," only in terms of the inputs as"),F0.forEach(x),v1=Z(p),So=L(p,"P",{});var a6=te(So);ve(_a.$$.fragment,a6),a6.forEach(x),y1=Z(p),za=L(p,"P",{"data-svelte-h":!0}),he(za)!=="svelte-1g0yiop"&&(za.textContent=xp),b1=Z(p),It=L(p,"P",{});var Cn=te(It);td=J(Cn,"As is turns out, I can factor the error term in "),ve(Ia.$$.fragment,Cn),nd=J(Cn," into one term that only contains "),ve(Na.$$.fragment,Cn),rd=J(Cn," and other term that contains both "),ve(qa.$$.fragment,Cn),id=J(Cn," and "),ve(Ba.$$.fragment,Cn),ad=J(Cn,` through the steps
`),ve(Fa.$$.fragment,Cn),sd=J(Cn," where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),Cn.forEach(x),w1=Z(p),k0=L(p,"DIV",{class:!0});var s4=te(k0);La=L(s4,"DIV",{class:!0,"data-svelte-h":!0}),he(La)!=="svelte-1cy0qbn"&&(La.innerHTML=Mp),$0=L(s4,"DIV",{class:!0});var hc=te($0);_r=L(hc,"P",{});var Io=te(_r);od=J(Io,"The above formulation "),ve(Ra.$$.fragment,Io),ld=J(Io," was adapted from the lecture notes "),ve(Pa.$$.fragment,Io),ud=J(Io,"."),Io.forEach(x),ko=L(hc,"P",{"data-svelte-h":!0}),he(ko)!=="svelte-kkkuki"&&(ko.textContent=Sp),Oa=L(hc,"P",{});var dc=te(Oa);cd=J(dc,"This is a "),ve(Ha.$$.fragment,dc),fd=J(dc," on the matrix operator norm induced by the 2-norm for some intuition."),dc.forEach(x),hc.forEach(x),s4.forEach(x),x1=Z(p),kn=L(p,"P",{});var L0=te(kn);hd=J(L0,"The first term "),ve(Va.$$.fragment,L0),dd=J(L0," as "),ve(Ua.$$.fragment,L0),md=J(L0," is a very useful number in many applications for linear problems: the condition number. The second term "),ve(ja.$$.fragment,L0),pd=J(L0," looks quite similar to the image pixel error case. What's really important is that there is error inherent to the original matrix in the condition number. The condition number then scales the difference between original and compressed (the second term)."),L0.forEach(x),M1=Z(p),Wa=L(p,"P",{"data-svelte-h":!0}),he(Wa)!=="svelte-12mmrko"&&(Wa.textContent=kp),S1=Z(p),A0=L(p,"DIV",{class:!0});var o4=te(A0);Ya=L(o4,"DIV",{class:!0,"data-svelte-h":!0}),he(Ya)!=="svelte-12o2pjt"&&(Ya.innerHTML=$p),zr=L(o4,"DIV",{class:!0});var wl=te(zr);$o=L(wl,"P",{"data-svelte-h":!0}),he($o)!=="svelte-hfhk2z"&&($o.textContent=Ap),Ga=L(wl,"P",{});var mc=te(Ga);gd=J(mc,"The bits is the level of quantization. Really this means we're sharing "),ve(Xa.$$.fragment,mc),vd=J(mc," values. I use the bits notation because that will be the size of our index number after quantization."),mc.forEach(x),Ao=L(wl,"P",{"data-svelte-h":!0}),he(Ao)!=="svelte-me62zw"&&(Ao.textContent=Cp),Co=L(wl,"P",{"data-svelte-h":!0}),he(Co)!=="svelte-1dr614i"&&(Co.textContent=Tp),wl.forEach(x),o4.forEach(x),k1=Z(p),ve(Za.$$.fragment,p),$1=Z(p),Qa=L(p,"P",{"data-svelte-h":!0}),he(Qa)!=="svelte-1p3fkjh"&&(Qa.textContent=Ep),A1=Z(p),Ka=L(p,"P",{"data-svelte-h":!0}),he(Ka)!=="svelte-4mfrmk"&&(Ka.textContent=Dp),C1=Z(p),Ja=L(p,"P",{"data-svelte-h":!0}),he(Ja)!=="svelte-15yii5i"&&(Ja.textContent=_p),T1=Z(p),es=L(p,"P",{"data-svelte-h":!0}),he(es)!=="svelte-tg7qqj"&&(es.textContent=zp),E1=Z(p),C0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),he(C0)!=="svelte-1qtqrka"&&(C0.innerHTML=Ip),D1=Z(p),ts=L(p,"DIV",{id:!0,class:!0}),te(ts).forEach(x),_1=Z(p),ns=L(p,"H2",{"data-svelte-h":!0}),he(ns)!=="svelte-lt4h7y"&&(ns.innerHTML=Np),z1=Z(p),rs=L(p,"P",{"data-svelte-h":!0}),he(rs)!=="svelte-ajbibf"&&(rs.textContent=qp),I1=Z(p),is=L(p,"P",{"data-svelte-h":!0}),he(is)!=="svelte-1aq8px0"&&(is.textContent=Bp),N1=Z(p),as=L(p,"P",{"data-svelte-h":!0}),he(as)!=="svelte-muq9ia"&&(as.innerHTML=Fp),q1=Z(p),T0=L(p,"P",{});var pc=te(T0);yd=J(pc,"In "),ve(ss.$$.fragment,pc),bd=J(pc," I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),pc.forEach(x),B1=Z(p),os=L(p,"DIV",{class:!0});var s6=te(os);$n=L(s6,"DIV",{class:!0});var R0=te($n);Ir=L(R0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),he(Ir)!=="svelte-2kshyc"&&(Ir.innerHTML=Lp),wd=Z(R0),Nr=L(R0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),he(Nr)!=="svelte-1xjekbd"&&(Nr.innerHTML=Rp),xd=Z(R0),ls=L(R0,"DIV",{class:!0,"data-svelte-h":!0}),he(ls)!=="svelte-lxlwao"&&(ls.textContent=Pp),Md=Z(R0),ve(us.$$.fragment,R0),R0.forEach(x),s6.forEach(x),F1=Z(p),ir=L(p,"P",{});var No=te(ir);Sd=J(No,"The training and definitions are in "),ve(cs.$$.fragment,No),kd=J(No," and the quantization is in "),ve(fs.$$.fragment,No),$d=J(No," if you're interested."),No.forEach(x),L1=Z(p),E0=L(p,"P",{});var gc=te(E0);Ad=J(gc,"I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ve(hs.$$.fragment,gc),Cd=J(gc," in JavaScript."),gc.forEach(x),R1=Z(p),D0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),he(D0)!=="svelte-jqajp3"&&(D0.innerHTML=Op),P1=Z(p),ve(ds.$$.fragment,p),O1=Z(p),ms=L(p,"P",{"data-svelte-h":!0}),he(ms)!=="svelte-jsjnm2"&&(ms.textContent=Hp),H1=Z(p),_0=L(p,"P",{});var vc=te(_0);Td=J(vc,"To get a condition number and some semblance of error prediction, I iterated over each layer and took the max condition number. As shown below and in "),ve(ps.$$.fragment,vc),Ed=J(vc,"."),vc.forEach(x),V1=Z(p),gs=L(p,"DIV",{class:!0});var o6=te(gs);Nt=L(o6,"DIV",{class:!0});var Tn=te(Nt);vs=L(Tn,"DIV",{class:!0,style:!0}),te(vs).forEach(x),Dd=Z(Tn),ys=L(Tn,"DIV",{class:!0,style:!0}),te(ys).forEach(x),_d=Z(Tn),qr=L(Tn,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),he(qr)!=="svelte-eyyql7"&&(qr.innerHTML=Vp),zd=Z(Tn),Br=L(Tn,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),he(Br)!=="svelte-xw97p1"&&(Br.innerHTML=Up),Id=Z(Tn),bs=L(Tn,"DIV",{class:!0,"data-svelte-h":!0}),he(bs)!=="svelte-lxlwao"&&(bs.textContent=jp),Nd=Z(Tn),ve(ws.$$.fragment,Tn),Tn.forEach(x),o6.forEach(x),U1=Z(p),z0=L(p,"DIV",{class:!0,"data-svelte-h":!0}),he(z0)!=="svelte-n8xncb"&&(z0.innerHTML=Wp),j1=Z(p),xs=L(p,"P",{"data-svelte-h":!0}),he(xs)!=="svelte-17olnyj"&&(xs.textContent=Yp),W1=Z(p),I0=L(p,"P",{});var yc=te(I0);qd=J(yc,"I speculate again that with extra shared numbers to spare, k-means was sensitive to the outlier which caused the high condition number, thereby masking the large effects and driving down the entire error term from equation "),ve(Ms.$$.fragment,yc),Bd=J(yc,"."),yc.forEach(x),Y1=Z(p),Ss=L(p,"DIV",{id:!0,class:!0}),te(Ss).forEach(x),G1=Z(p),ks=L(p,"H2",{"data-svelte-h":!0}),he(ks)!=="svelte-nbmqct"&&(ks.innerHTML=Gp),X1=Z(p),$s=L(p,"P",{"data-svelte-h":!0}),he($s)!=="svelte-1rz4nwx"&&($s.textContent=Xp),Z1=Z(p),As=L(p,"P",{"data-svelte-h":!0}),he(As)!=="svelte-j5mea2"&&(As.textContent=Zp),Q1=Z(p),Cs=L(p,"DIV",{id:!0,class:!0}),te(Cs).forEach(x),K1=Z(p),Ts=L(p,"H2",{"data-svelte-h":!0}),he(Ts)!=="svelte-1hcknps"&&(Ts.innerHTML=Qp),J1=Z(p),qt=L(p,"UL",{});var En=te(qt);Fr=L(En,"LI",{});var qo=te(Fr);Fd=J(qo,"I thank myself "),ve(Es.$$.fragment,qo),Ld=J(qo," for writing the article and "),ve(Ds.$$.fragment,qo),Rd=J(qo," for discussing ideas and for valuable feedback"),qo.forEach(x),Pd=Z(En),To=L(En,"LI",{});var l4=te(To);Od=J(l4,"My interest in model compression came from conversations with "),ve(_s.$$.fragment,l4),l4.forEach(x),Hd=Z(En),zs=L(En,"LI",{});var bc=te(zs);Vd=J(bc,"Inspiration to use k-means came from watching this "),ve(Is.$$.fragment,bc),Ud=J(bc," (which evidently is by the author of that Deep Compression Paper)"),bc.forEach(x),jd=Z(En),Eo=L(En,"LI",{});var u4=te(Eo);ve(Ns.$$.fragment,u4),Wd=J(u4," was extremely useful"),u4.forEach(x),Yd=Z(En),Do=L(En,"LI",{});var c4=te(Do);ve(qs.$$.fragment,c4),Gd=J(c4," is really awesome out of the box"),c4.forEach(x),Xd=Z(En),_o=L(En,"LI",{});var f4=te(_o);ve(Bs.$$.fragment,f4),Zd=J(f4," for math equations"),f4.forEach(x),En.forEach(x),ec=Z(p),Fs=L(p,"DIV",{id:!0,class:!0}),te(Fs).forEach(x),tc=Z(p),Ls=L(p,"H2",{"data-svelte-h":!0}),he(Ls)!=="svelte-14swmsx"&&(Ls.innerHTML=Kp),nc=Z(p),Rs=L(p,"DIV",{class:!0});var l6=te(Rs);An=L(l6,"DIV",{class:!0});var P0=te(An);Lr=L(P0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),he(Lr)!=="svelte-gc6jpr"&&(Lr.innerHTML=Jp),Qd=Z(P0),Rr=L(P0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),he(Rr)!=="svelte-qlnkpg"&&(Rr.innerHTML=e6),Kd=Z(P0),Ps=L(P0,"DIV",{class:!0,"data-svelte-h":!0}),he(Ps)!=="svelte-17zy568"&&(Ps.textContent=t6),Jd=Z(P0),ve(Os.$$.fragment,P0),P0.forEach(x),l6.forEach(x),rc=Z(p),ar=L(p,"SECTION",{"data-footnotes":!0,class:!0});var wc=te(ar);N0=L(wc,"H2",{class:!0,id:!0,"data-svelte-h":!0}),he(N0)!=="svelte-lkgpaz"&&(N0.textContent=n6),e4=Z(wc),yl=L(wc,"OL",{});var u6=te(yl);zo=L(u6,"LI",{id:!0});var c6=te(zo);q0=L(c6,"P",{});var xl=te(q0);t4=J(xl,"Chose "),ve(Hs.$$.fragment,xl),n4=J(xl," so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),sr=L(xl,"A",{href:!0,"data-footnote-backref":!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),he(sr)!=="svelte-1ge09vi"&&(sr.textContent=r6),xl.forEach(x),c6.forEach(x),u6.forEach(x),wc.forEach(x),this.h()},h(){R(i,"id","Introduction"),R(i,"class","svp-anchor-item"),Re(h,"background-image","url(cyber.jpg)"),Re(h,"height","50px"),Re(h,"margin-bottom","-12px"),R(h,"class","thumb svelte-1erdxyx"),R(H,"id","Sharing-as-Compression"),R(H,"class","svp-anchor-item"),R(Vt,"id","Sharing-Pixels"),R(Vt,"class","svp-anchor-item"),tf(zt.src,rr="dog.png")||R(zt,"src",rr),Re(zt,"width","300px"),R(zt,"class","svelte-1erdxyx"),Re(oi,"color","rgb(255, 0, 0)"),Re(li,"color","rgb(0, 255, 0)"),Re(ui,"color","rgb(0, 0, 255)"),R(v0,"class","admonition admonition-important"),R(wi,"class","admonition-heading"),R(Dr,"class","admonition-content"),R(y0,"class","admonition admonition-note"),Re(Ci,"color","salmon"),Re(Ei,"color","salmon"),R(Di,"id","Quantifying-Error"),R(Di,"class","svp-anchor-item"),R(b0,"class","admonition admonition-important"),R(Pi,"class","admonition-heading"),R(x0,"class","admonition-content"),R(w0,"class","admonition admonition-note"),R(ea,"id","Matrix-Multiplication"),R(ea,"class","svp-anchor-item"),R(M0,"class","admonition admonition-warning"),R($a,"class","admonition-heading"),R(Mo,"class","admonition-content"),R(S0,"class","admonition admonition-note"),R(La,"class","admonition-heading"),R($0,"class","admonition-content"),R(k0,"class","admonition admonition-note"),R(Ya,"class","admonition-heading"),R(zr,"class","admonition-content"),R(A0,"class","admonition admonition-important"),R(C0,"class","admonition admonition-note"),R(ts,"id","More-layers"),R(ts,"class","svp-anchor-item"),R(Ir,"class","shiki vitesse-light"),Re(Ir,"background-color","#ffffff"),R(Ir,"tabindex","0"),R(Nr,"class","shiki night-owl"),Re(Nr,"background-color","#011627"),R(Nr,"tabindex","0"),R(ls,"class","svp-code-block--lang"),R($n,"class","svp-code-block"),R(os,"class","svp-code-block-wrapper"),R(D0,"class","admonition admonition-important"),R(vs,"class","svp-code-block--focus"),Re(vs,"top","0"),Re(vs,"height","calc(12px + 13.5em)"),R(ys,"class","svp-code-block--focus"),Re(ys,"top","calc(12px + 22.5em)"),Re(ys,"height","calc(12px + 0em)"),R(qr,"class","shiki vitesse-light"),Re(qr,"background-color","#ffffff"),R(qr,"tabindex","0"),R(Br,"class","shiki night-owl"),Re(Br,"background-color","#011627"),R(Br,"tabindex","0"),R(bs,"class","svp-code-block--lang"),R(Nt,"class","svp-code-block"),R(gs,"class","svp-code-block-wrapper"),R(z0,"class","admonition admonition-note"),R(Ss,"id","Conclusion"),R(Ss,"class","svp-anchor-item"),R(Cs,"id","Acknowledgments"),R(Cs,"class","svp-anchor-item"),R(Fs,"id","Cite"),R(Fs,"class","svp-anchor-item"),R(Lr,"class","shiki vitesse-light"),Re(Lr,"background-color","#ffffff"),R(Lr,"tabindex","0"),R(Rr,"class","shiki night-owl"),Re(Rr,"background-color","#011627"),R(Rr,"tabindex","0"),R(Ps,"class","svp-code-block--lang"),R(An,"class","svp-code-block"),R(Rs,"class","svp-code-block-wrapper"),R(N0,"class","sr-only"),R(N0,"id","footnote-label"),R(sr,"href","#user-content-fnref-1"),R(sr,"data-footnote-backref",""),R(sr,"class","data-footnote-backref"),R(sr,"aria-label","Back to content"),R(zo,"id","user-content-fn-1"),R(ar,"data-footnotes",""),R(ar,"class","footnotes")},m(p,O){z(p,t,O),z(p,r,O),z(p,i,O),z(p,a,O),z(p,s,O),z(p,l,O),z(p,u,O),z(p,f,O),z(p,h,O),z(p,d,O),z(p,g,O),_(g,y),_(y,b),ye(w,y,null),_(y,k),z(p,E,O),z(p,$,O),_($,T),ye(I,$,null),_($,D),z(p,j,O),z(p,U,O),z(p,C,O),z(p,H,O),z(p,P,O),z(p,Q,O),z(p,W,O),z(p,ae,O),_(ae,ie),ye(le,ae,null),_(ae,ee),z(p,se,O),z(p,oe,O),z(p,Se,O),z(p,Ce,O),z(p,ce,O),z(p,pe,O),z(p,xe,O),z(p,Ae,O),z(p,ke,O),z(p,Ee,O),z(p,Fe,O),z(p,Ge,O),z(p,wt,O),z(p,Vt,O),z(p,Kt,O),z(p,Dt,O),z(p,ai,O),z(p,Tr,O),z(p,go,O),z(p,Jt,O),z(p,nr,O),z(p,Er,O),z(p,vo,O),z(p,zt,O),z(p,yo,O),z(p,en,O),_(en,Xh),ye(si,en,null),_(en,Zh),_(en,oi),_(en,Qh),_(en,li),_(en,Kh),_(en,ui),_(en,Jh),z(p,Nu,O),z(p,ci,O),z(p,qu,O),z(p,fi,O),z(p,Bu,O),ye(hi,p,O),z(p,Fu,O),z(p,di,O),z(p,Lu,O),z(p,mi,O),z(p,Ru,O),ye(pi,p,O),z(p,Pu,O),z(p,gi,O),z(p,Ou,O),z(p,vi,O),z(p,Hu,O),z(p,v0,O),z(p,Vu,O),ye(yi,p,O),z(p,Uu,O),z(p,bi,O),z(p,ju,O),z(p,y0,O),_(y0,wi),_(y0,Dr),_(Dr,bo),_(Dr,wo),_(Dr,xi),_(xi,e2),ye(Mi,xi,null),_(xi,t2),_(Dr,Si),_(Si,n2),ye(ki,Si,null),_(Si,r2),z(p,Wu,O),z(p,$i,O),z(p,Yu,O),ye(Ai,p,O),z(p,Gu,O),z(p,Mn,O),_(Mn,i2),_(Mn,Ci),_(Mn,a2),ye(Ti,Mn,null),_(Mn,s2),_(Mn,Ei),_(Mn,o2),z(p,Xu,O),z(p,Di,O),z(p,Zu,O),z(p,_i,O),z(p,Qu,O),z(p,zi,O),z(p,Ku,O),z(p,Ii,O),z(p,Ju,O),z(p,Ni,O),z(p,e1,O),z(p,qi,O),z(p,t1,O),z(p,Bi,O),z(p,n1,O),z(p,b0,O),z(p,r1,O),ye(Fi,p,O),z(p,i1,O),z(p,Li,O),z(p,a1,O),z(p,Ri,O),z(p,s1,O),z(p,w0,O),_(w0,Pi),_(w0,x0),_(x0,_t),_(_t,l2),ye(Oi,_t,null),_(_t,u2),ye(Hi,_t,null),_(_t,c2),ye(Vi,_t,null),_(_t,f2),ye(Ui,_t,null),_(_t,h2),ye(ji,_t,null),_(_t,d2),ye(Wi,_t,null),_(_t,m2),_(x0,hn),_(hn,p2),ye(Yi,hn,null),_(hn,g2),ye(Gi,hn,null),_(hn,v2),ye(Xi,hn,null),_(hn,y2),ye(Zi,hn,null),_(hn,b2),_(x0,dn),_(dn,w2),ye(Qi,dn,null),_(dn,x2),ye(Ki,dn,null),_(dn,M2),_(dn,xo),_(dn,S2),ye(Ji,dn,null),_(dn,k2),z(p,o1,O),z(p,ea,O),z(p,l1,O),z(p,ta,O),z(p,u1,O),z(p,na,O),z(p,c1,O),z(p,tn,O),_(tn,$2),ye(ra,tn,null),_(tn,A2),ye(ia,tn,null),_(tn,C2),ye(aa,tn,null),_(tn,T2),ye(sa,tn,null),_(tn,E2),z(p,f1,O),z(p,oa,O),z(p,h1,O),z(p,M0,O),z(p,d1,O),z(p,pt,O),_(pt,D2),ye(la,pt,null),_(pt,_2),ye(ua,pt,null),_(pt,z2),ye(ca,pt,null),_(pt,I2),ye(fa,pt,null),_(pt,N2),ye(ha,pt,null),_(pt,q2),ye(da,pt,null),_(pt,B2),ye(ma,pt,null),_(pt,F2),z(p,m1,O),z(p,nt,O),_(nt,L2),ye(pa,nt,null),_(nt,R2),ye(ga,nt,null),_(nt,P2),ye(va,nt,null),_(nt,O2),ye(ya,nt,null),_(nt,H2),ye(ba,nt,null),_(nt,V2),ye(wa,nt,null),_(nt,U2),ye(xa,nt,null),_(nt,j2),ye(Ma,nt,null),_(nt,W2),ye(Sa,nt,null),_(nt,Y2),ye(ka,nt,null),_(nt,G2),z(p,p1,O),z(p,S0,O),_(S0,$a),_(S0,Mo),_(Mo,Aa),_(Aa,X2),ye(Ca,Aa,null),_(Aa,Z2),z(p,g1,O),z(p,Sn,O),_(Sn,Q2),ye(Ta,Sn,null),_(Sn,K2),ye(Ea,Sn,null),_(Sn,J2),ye(Da,Sn,null),_(Sn,ed),z(p,v1,O),z(p,So,O),ye(_a,So,null),z(p,y1,O),z(p,za,O),z(p,b1,O),z(p,It,O),_(It,td),ye(Ia,It,null),_(It,nd),ye(Na,It,null),_(It,rd),ye(qa,It,null),_(It,id),ye(Ba,It,null),_(It,ad),ye(Fa,It,null),_(It,sd),z(p,w1,O),z(p,k0,O),_(k0,La),_(k0,$0),_($0,_r),_(_r,od),ye(Ra,_r,null),_(_r,ld),ye(Pa,_r,null),_(_r,ud),_($0,ko),_($0,Oa),_(Oa,cd),ye(Ha,Oa,null),_(Oa,fd),z(p,x1,O),z(p,kn,O),_(kn,hd),ye(Va,kn,null),_(kn,dd),ye(Ua,kn,null),_(kn,md),ye(ja,kn,null),_(kn,pd),z(p,M1,O),z(p,Wa,O),z(p,S1,O),z(p,A0,O),_(A0,Ya),_(A0,zr),_(zr,$o),_(zr,Ga),_(Ga,gd),ye(Xa,Ga,null),_(Ga,vd),_(zr,Ao),_(zr,Co),z(p,k1,O),ye(Za,p,O),z(p,$1,O),z(p,Qa,O),z(p,A1,O),z(p,Ka,O),z(p,C1,O),z(p,Ja,O),z(p,T1,O),z(p,es,O),z(p,E1,O),z(p,C0,O),z(p,D1,O),z(p,ts,O),z(p,_1,O),z(p,ns,O),z(p,z1,O),z(p,rs,O),z(p,I1,O),z(p,is,O),z(p,N1,O),z(p,as,O),z(p,q1,O),z(p,T0,O),_(T0,yd),ye(ss,T0,null),_(T0,bd),z(p,B1,O),z(p,os,O),_(os,$n),_($n,Ir),_($n,wd),_($n,Nr),_($n,xd),_($n,ls),_($n,Md),ye(us,$n,null),z(p,F1,O),z(p,ir,O),_(ir,Sd),ye(cs,ir,null),_(ir,kd),ye(fs,ir,null),_(ir,$d),z(p,L1,O),z(p,E0,O),_(E0,Ad),ye(hs,E0,null),_(E0,Cd),z(p,R1,O),z(p,D0,O),z(p,P1,O),ye(ds,p,O),z(p,O1,O),z(p,ms,O),z(p,H1,O),z(p,_0,O),_(_0,Td),ye(ps,_0,null),_(_0,Ed),z(p,V1,O),z(p,gs,O),_(gs,Nt),_(Nt,vs),_(Nt,Dd),_(Nt,ys),_(Nt,_d),_(Nt,qr),_(Nt,zd),_(Nt,Br),_(Nt,Id),_(Nt,bs),_(Nt,Nd),ye(ws,Nt,null),z(p,U1,O),z(p,z0,O),z(p,j1,O),z(p,xs,O),z(p,W1,O),z(p,I0,O),_(I0,qd),ye(Ms,I0,null),_(I0,Bd),z(p,Y1,O),z(p,Ss,O),z(p,G1,O),z(p,ks,O),z(p,X1,O),z(p,$s,O),z(p,Z1,O),z(p,As,O),z(p,Q1,O),z(p,Cs,O),z(p,K1,O),z(p,Ts,O),z(p,J1,O),z(p,qt,O),_(qt,Fr),_(Fr,Fd),ye(Es,Fr,null),_(Fr,Ld),ye(Ds,Fr,null),_(Fr,Rd),_(qt,Pd),_(qt,To),_(To,Od),ye(_s,To,null),_(qt,Hd),_(qt,zs),_(zs,Vd),ye(Is,zs,null),_(zs,Ud),_(qt,jd),_(qt,Eo),ye(Ns,Eo,null),_(Eo,Wd),_(qt,Yd),_(qt,Do),ye(qs,Do,null),_(Do,Gd),_(qt,Xd),_(qt,_o),ye(Bs,_o,null),_(_o,Zd),z(p,ec,O),z(p,Fs,O),z(p,tc,O),z(p,Ls,O),z(p,nc,O),z(p,Rs,O),_(Rs,An),_(An,Lr),_(An,Qd),_(An,Rr),_(An,Kd),_(An,Ps),_(An,Jd),ye(Os,An,null),z(p,rc,O),z(p,ar,O),_(ar,N0),_(ar,e4),_(ar,yl),_(yl,zo),_(zo,q0),_(q0,t4),ye(Hs,q0,null),_(q0,n4),_(q0,sr),ic=!0},p:Xe,i(p){ic||(fe(w.$$.fragment,p),fe(I.$$.fragment,p),fe(le.$$.fragment,p),fe(si.$$.fragment,p),fe(hi.$$.fragment,p),fe(pi.$$.fragment,p),fe(yi.$$.fragment,p),fe(Mi.$$.fragment,p),fe(ki.$$.fragment,p),fe(Ai.$$.fragment,p),fe(Ti.$$.fragment,p),fe(Fi.$$.fragment,p),fe(Oi.$$.fragment,p),fe(Hi.$$.fragment,p),fe(Vi.$$.fragment,p),fe(Ui.$$.fragment,p),fe(ji.$$.fragment,p),fe(Wi.$$.fragment,p),fe(Yi.$$.fragment,p),fe(Gi.$$.fragment,p),fe(Xi.$$.fragment,p),fe(Zi.$$.fragment,p),fe(Qi.$$.fragment,p),fe(Ki.$$.fragment,p),fe(Ji.$$.fragment,p),fe(ra.$$.fragment,p),fe(ia.$$.fragment,p),fe(aa.$$.fragment,p),fe(sa.$$.fragment,p),fe(la.$$.fragment,p),fe(ua.$$.fragment,p),fe(ca.$$.fragment,p),fe(fa.$$.fragment,p),fe(ha.$$.fragment,p),fe(da.$$.fragment,p),fe(ma.$$.fragment,p),fe(pa.$$.fragment,p),fe(ga.$$.fragment,p),fe(va.$$.fragment,p),fe(ya.$$.fragment,p),fe(ba.$$.fragment,p),fe(wa.$$.fragment,p),fe(xa.$$.fragment,p),fe(Ma.$$.fragment,p),fe(Sa.$$.fragment,p),fe(ka.$$.fragment,p),fe(Ca.$$.fragment,p),fe(Ta.$$.fragment,p),fe(Ea.$$.fragment,p),fe(Da.$$.fragment,p),fe(_a.$$.fragment,p),fe(Ia.$$.fragment,p),fe(Na.$$.fragment,p),fe(qa.$$.fragment,p),fe(Ba.$$.fragment,p),fe(Fa.$$.fragment,p),fe(Ra.$$.fragment,p),fe(Pa.$$.fragment,p),fe(Ha.$$.fragment,p),fe(Va.$$.fragment,p),fe(Ua.$$.fragment,p),fe(ja.$$.fragment,p),fe(Xa.$$.fragment,p),fe(Za.$$.fragment,p),fe(ss.$$.fragment,p),fe(us.$$.fragment,p),fe(cs.$$.fragment,p),fe(fs.$$.fragment,p),fe(hs.$$.fragment,p),fe(ds.$$.fragment,p),fe(ps.$$.fragment,p),fe(ws.$$.fragment,p),fe(Ms.$$.fragment,p),fe(Es.$$.fragment,p),fe(Ds.$$.fragment,p),fe(_s.$$.fragment,p),fe(Is.$$.fragment,p),fe(Ns.$$.fragment,p),fe(qs.$$.fragment,p),fe(Bs.$$.fragment,p),fe(Os.$$.fragment,p),fe(Hs.$$.fragment,p),ic=!0)},o(p){de(w.$$.fragment,p),de(I.$$.fragment,p),de(le.$$.fragment,p),de(si.$$.fragment,p),de(hi.$$.fragment,p),de(pi.$$.fragment,p),de(yi.$$.fragment,p),de(Mi.$$.fragment,p),de(ki.$$.fragment,p),de(Ai.$$.fragment,p),de(Ti.$$.fragment,p),de(Fi.$$.fragment,p),de(Oi.$$.fragment,p),de(Hi.$$.fragment,p),de(Vi.$$.fragment,p),de(Ui.$$.fragment,p),de(ji.$$.fragment,p),de(Wi.$$.fragment,p),de(Yi.$$.fragment,p),de(Gi.$$.fragment,p),de(Xi.$$.fragment,p),de(Zi.$$.fragment,p),de(Qi.$$.fragment,p),de(Ki.$$.fragment,p),de(Ji.$$.fragment,p),de(ra.$$.fragment,p),de(ia.$$.fragment,p),de(aa.$$.fragment,p),de(sa.$$.fragment,p),de(la.$$.fragment,p),de(ua.$$.fragment,p),de(ca.$$.fragment,p),de(fa.$$.fragment,p),de(ha.$$.fragment,p),de(da.$$.fragment,p),de(ma.$$.fragment,p),de(pa.$$.fragment,p),de(ga.$$.fragment,p),de(va.$$.fragment,p),de(ya.$$.fragment,p),de(ba.$$.fragment,p),de(wa.$$.fragment,p),de(xa.$$.fragment,p),de(Ma.$$.fragment,p),de(Sa.$$.fragment,p),de(ka.$$.fragment,p),de(Ca.$$.fragment,p),de(Ta.$$.fragment,p),de(Ea.$$.fragment,p),de(Da.$$.fragment,p),de(_a.$$.fragment,p),de(Ia.$$.fragment,p),de(Na.$$.fragment,p),de(qa.$$.fragment,p),de(Ba.$$.fragment,p),de(Fa.$$.fragment,p),de(Ra.$$.fragment,p),de(Pa.$$.fragment,p),de(Ha.$$.fragment,p),de(Va.$$.fragment,p),de(Ua.$$.fragment,p),de(ja.$$.fragment,p),de(Xa.$$.fragment,p),de(Za.$$.fragment,p),de(ss.$$.fragment,p),de(us.$$.fragment,p),de(cs.$$.fragment,p),de(fs.$$.fragment,p),de(hs.$$.fragment,p),de(ds.$$.fragment,p),de(ps.$$.fragment,p),de(ws.$$.fragment,p),de(Ms.$$.fragment,p),de(Es.$$.fragment,p),de(Ds.$$.fragment,p),de(_s.$$.fragment,p),de(Is.$$.fragment,p),de(Ns.$$.fragment,p),de(qs.$$.fragment,p),de(Bs.$$.fragment,p),de(Os.$$.fragment,p),de(Hs.$$.fragment,p),ic=!1},d(p){p&&(x(t),x(r),x(i),x(a),x(s),x(l),x(u),x(f),x(h),x(d),x(g),x(E),x($),x(j),x(U),x(C),x(H),x(P),x(Q),x(W),x(ae),x(se),x(oe),x(Se),x(Ce),x(ce),x(pe),x(xe),x(Ae),x(ke),x(Ee),x(Fe),x(Ge),x(wt),x(Vt),x(Kt),x(Dt),x(ai),x(Tr),x(go),x(Jt),x(nr),x(Er),x(vo),x(zt),x(yo),x(en),x(Nu),x(ci),x(qu),x(fi),x(Bu),x(Fu),x(di),x(Lu),x(mi),x(Ru),x(Pu),x(gi),x(Ou),x(vi),x(Hu),x(v0),x(Vu),x(Uu),x(bi),x(ju),x(y0),x(Wu),x($i),x(Yu),x(Gu),x(Mn),x(Xu),x(Di),x(Zu),x(_i),x(Qu),x(zi),x(Ku),x(Ii),x(Ju),x(Ni),x(e1),x(qi),x(t1),x(Bi),x(n1),x(b0),x(r1),x(i1),x(Li),x(a1),x(Ri),x(s1),x(w0),x(o1),x(ea),x(l1),x(ta),x(u1),x(na),x(c1),x(tn),x(f1),x(oa),x(h1),x(M0),x(d1),x(pt),x(m1),x(nt),x(p1),x(S0),x(g1),x(Sn),x(v1),x(So),x(y1),x(za),x(b1),x(It),x(w1),x(k0),x(x1),x(kn),x(M1),x(Wa),x(S1),x(A0),x(k1),x($1),x(Qa),x(A1),x(Ka),x(C1),x(Ja),x(T1),x(es),x(E1),x(C0),x(D1),x(ts),x(_1),x(ns),x(z1),x(rs),x(I1),x(is),x(N1),x(as),x(q1),x(T0),x(B1),x(os),x(F1),x(ir),x(L1),x(E0),x(R1),x(D0),x(P1),x(O1),x(ms),x(H1),x(_0),x(V1),x(gs),x(U1),x(z0),x(j1),x(xs),x(W1),x(I0),x(Y1),x(Ss),x(G1),x(ks),x(X1),x($s),x(Z1),x(As),x(Q1),x(Cs),x(K1),x(Ts),x(J1),x(qt),x(ec),x(Fs),x(tc),x(Ls),x(nc),x(Rs),x(rc),x(ar)),be(w),be(I),be(le),be(si),be(hi,p),be(pi,p),be(yi,p),be(Mi),be(ki),be(Ai,p),be(Ti),be(Fi,p),be(Oi),be(Hi),be(Vi),be(Ui),be(ji),be(Wi),be(Yi),be(Gi),be(Xi),be(Zi),be(Qi),be(Ki),be(Ji),be(ra),be(ia),be(aa),be(sa),be(la),be(ua),be(ca),be(fa),be(ha),be(da),be(ma),be(pa),be(ga),be(va),be(ya),be(ba),be(wa),be(xa),be(Ma),be(Sa),be(ka),be(Ca),be(Ta),be(Ea),be(Da),be(_a),be(Ia),be(Na),be(qa),be(Ba),be(Fa),be(Ra),be(Pa),be(Ha),be(Va),be(Ua),be(ja),be(Xa),be(Za,p),be(ss),be(us),be(cs),be(fs),be(hs),be(ds,p),be(ps),be(ws),be(Ms),be(Es),be(Ds),be(_s),be(Is),be(Ns),be(qs),be(Bs),be(Os),be(Hs)}}}function KF(e){let t,n;return t=new Yx({props:{fm:e[0],$$slots:{default:[QF]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},l(r){ve(t.$$.fragment,r)},m(r,i){ye(t,r,i),n=!0},p(r,[i]){const a={};i&2&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(fe(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){be(t,r)}}}const JF="https://github.com/xnought/docs";function eL(e){return[{pageType:"md",lastUpdate:"August 2023",title:"Visualizing Neural Network Compression",anchors:[{slugId:"Introduction",title:"Introduction",depth:2},{slugId:"Sharing-as-Compression",title:"Sharing as Compression",depth:2},{slugId:"Sharing-Pixels",title:"Sharing Pixels",depth:2},{slugId:"Quantifying-Error",title:"Quantifying Error",depth:2},{slugId:"Matrix-Multiplication",title:"Matrix Multiplication",depth:2},{slugId:"More-layers",title:"More layers",depth:2},{slugId:"Conclusion",title:"Conclusion",depth:2},{slugId:"Acknowledgments",title:"Acknowledgments",depth:2},{slugId:"Cite",title:"Cite",depth:2}]}]}class sL extends Gt{constructor(t){super(),Xt(this,t,eL,KF,Yt,{})}}export{sL as component};

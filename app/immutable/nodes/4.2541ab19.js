import{s as Ut,w as qt,x as Bt,h as ie,d as M,j as F,i as I,r as B,u as Xe,e as on,p as Vn,f as P,g as O,F as vt,J as Fl,a as X,c as Z,Y as ge,M as xf,k as Ye,l as J,m as ee,Z as Wr,n as an,_ as bc,o as gm,K as zw,L as Dw,$ as wc,V as Iw,a0 as e6,C as xc,a1 as Nw}from"../chunks/scheduler.655c61ae.js";import{S as jt,i as Wt,g as n8,t as pe,c as r8,a as de,b as ve,d as ye,m as be,e as we}from"../chunks/index.9e10714d.js";import{P as qw}from"../chunks/CopyCode.svelte_svelte_type_style_lang.314501ce.js";import{e as q0}from"../chunks/Link.svelte_svelte_type_style_lang.dc72ffb5.js";import{L as wt}from"../chunks/Link.453271d3.js";function Bw(e){let t,n,r;return{c(){t=qt("svg"),n=qt("path"),r=qt("path"),this.h()},l(i){t=Bt(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var a=ie(t);n=Bt(a,"path",{fill:!0,d:!0}),ie(n).forEach(M),r=Bt(a,"path",{fill:!0,d:!0}),ie(r).forEach(M),a.forEach(M),this.h()},h(){F(n,"fill","currentColor"),F(n,"d","M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"),F(r,"fill","currentColor"),F(r,"d","M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"width","1em"),F(t,"height","1em"),F(t,"viewBox","0 0 24 24")},m(i,a){I(i,t,a),B(t,n),B(t,r)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t)}}}class Lw extends jt{constructor(t){super(),Wt(this,t,null,Bw,Ut,{})}}function Rw(e){let t,n;return{c(){t=qt("svg"),n=qt("path"),this.h()},l(r){t=Bt(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=ie(t);n=Bt(i,"path",{fill:!0,d:!0}),ie(n).forEach(M),i.forEach(M),this.h()},h(){F(n,"fill","currentColor"),F(n,"d","M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4L9 16.2z"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"width","1em"),F(t,"height","1em"),F(t,"viewBox","0 0 24 24")},m(r,i){I(r,t,i),B(t,n)},p:Xe,i:Xe,o:Xe,d(r){r&&M(t)}}}class Fw extends jt{constructor(t){super(),Wt(this,t,null,Rw,Ut,{})}}function Pw(e){let t,n,r,i,a;return n=new Lw({}),{c(){t=P("div"),ve(n.$$.fragment),this.h()},l(s){t=O(s,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var o=ie(t);ye(n.$$.fragment,o),o.forEach(M),this.h()},h(){F(t,"class","svp-code-bock--copy-code"),F(t,"role","button"),F(t,"tabindex","0"),F(t,"aria-label","Copy code")},m(s,o){I(s,t,o),be(n,t,null),e[3](t),r=!0,i||(a=[vt(t,"click",e[2]),vt(t,"keyup",e[2])],i=!0)},p:Xe,i(s){r||(de(n.$$.fragment,s),r=!0)},o(s){pe(n.$$.fragment,s),r=!1},d(s){s&&M(t),we(n),e[3](null),i=!1,Fl(a)}}}function Ow(e){let t,n,r;return n=new Fw({}),{c(){t=P("div"),ve(n.$$.fragment),this.h()},l(i){t=O(i,"DIV",{class:!0});var a=ie(t);ye(n.$$.fragment,a),a.forEach(M),this.h()},h(){F(t,"class","svp-code-bock--copy-code")},m(i,a){I(i,t,a),be(n,t,null),r=!0},p:Xe,i(i){r||(de(n.$$.fragment,i),r=!0)},o(i){pe(n.$$.fragment,i),r=!1},d(i){i&&M(t),we(n)}}}function Hw(e){let t,n,r,i;const a=[Ow,Pw],s=[];function o(l,u){return l[1]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=on()},l(l){n.l(l),r=on()},m(l,u){s[t].m(l,u),I(l,r,u),i=!0},p(l,[u]){let f=t;t=o(l),t===f?s[t].p(l,u):(n8(),pe(s[f],1,1,()=>{s[f]=null}),r8(),n=s[t],n?n.p(l,u):(n=s[t]=a[t](l),n.c()),de(n,1),n.m(r.parentNode,r))},i(l){i||(de(n),i=!0)},o(l){pe(n),i=!1},d(l){l&&M(r),s[t].d(l)}}}function Vw(e,t,n){let r,i=!1;function a(){var l,u;const o=((u=(l=r==null?void 0:r.parentElement)==null?void 0:l.querySelector(".shiki"))==null?void 0:u.textContent)||"";navigator.clipboard.writeText(o),n(1,i=!0),setTimeout(()=>{n(1,i=!1)},2e3)}function s(o){Vn[o?"unshift":"push"](()=>{r=o,n(0,r)})}return[r,i,a,s]}class Uw extends jt{constructor(t){super(),Wt(this,t,Vw,Hw,Ut,{})}}function t6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=P("input"),n=X(),r=P("span"),a=J(i),s=J(" colors"),this.h()},l(u){t=O(u,"INPUT",{type:!0,min:!0,max:!0}),n=Z(u),r=O(u,"SPAN",{class:!0});var f=ie(r);a=ee(f,i),s=ee(f," colors"),f.forEach(M),this.h()},h(){F(t,"type","range"),F(t,"min","0"),F(t,"max",e[3].length-1),F(r,"class","label svelte-qipmvq")},m(u,f){I(u,t,f),Wr(t,e[0]),I(u,n,f),I(u,r,f),B(r,a),B(r,s),o||(l=[vt(t,"change",e[4]),vt(t,"input",e[4])],o=!0)},p(u,f){f&1&&Wr(t,u[0]),f&1&&i!==(i=2**u[0]+"")&&an(a,i)},d(u){u&&(M(t),M(n),M(r)),o=!1,Fl(l)}}}function jw(e){let t=2**e[0]+"",n,r;return{c(){n=J(t),r=J(" colors")},l(i){n=ee(i,t),r=ee(i," colors")},m(i,a){I(i,n,a),I(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&an(n,t)},d(i){i&&(M(n),M(r))}}}function Ww(e){let t=2**e[0]+"",n,r;return{c(){n=J(t),r=J(" color")},l(i){n=ee(i,t),r=ee(i," color")},m(i,a){I(i,n,a),I(i,r,a)},p(i,a){a&1&&t!==(t=2**i[0]+"")&&an(n,t)},d(i){i&&(M(n),M(r))}}}function Yw(e){let t,n,r,i,a="Compressed",s,o,l,u,f,c,h,d,g,y="Original",b,w,S,E,$,A,D="4,824,160 colors",_=e[2]&&t6(e);function j(C,L){return C[0]===0?Ww:jw}let U=j(e),k=U(e);return{c(){_&&_.c(),t=X(),n=P("div"),r=P("div"),i=P("div"),i.textContent=a,s=X(),o=P("div"),l=P("img"),f=X(),c=P("div"),k.c(),h=X(),d=P("div"),g=P("div"),g.textContent=y,b=X(),w=P("div"),S=P("img"),$=X(),A=P("div"),A.textContent=D,this.h()},l(C){_&&_.l(C),t=Z(C),n=O(C,"DIV",{id:!0,class:!0});var L=ie(n);r=O(L,"DIV",{id:!0,class:!0});var z=ie(r);i=O(z,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-gr914o"&&(i.textContent=a),s=Z(z),o=O(z,"DIV",{});var W=ie(o);l=O(W,"IMG",{id:!0,src:!0,style:!0,class:!0}),W.forEach(M),f=Z(z),c=O(z,"DIV",{class:!0});var V=ie(c);k.l(V),V.forEach(M),z.forEach(M),h=Z(L),d=O(L,"DIV",{id:!0,class:!0});var Q=ie(d);g=O(Q,"DIV",{class:!0,"data-svelte-h":!0}),ge(g)!=="svelte-1go56d2"&&(g.textContent=y),b=Z(Q),w=O(Q,"DIV",{});var ae=ie(w);S=O(ae,"IMG",{id:!0,src:!0,style:!0,class:!0}),ae.forEach(M),$=Z(Q),A=O(Q,"DIV",{class:!0,"data-svelte-h":!0}),ge(A)!=="svelte-b5me6g"&&(A.textContent=D),Q.forEach(M),L.forEach(M),this.h()},h(){F(i,"class","label svelte-qipmvq"),F(l,"id","compressed"),xf(l.src,u=e[3][e[0]])||F(l,"src",u),Ye(l,"width",e[1]+"px"),F(l,"class","svelte-qipmvq"),F(c,"class","label svelte-qipmvq"),F(r,"id","k"),F(r,"class","svelte-qipmvq"),F(g,"class","label svelte-qipmvq"),F(S,"id","original"),xf(S.src,E="dog.png")||F(S,"src",E),Ye(S,"width",e[1]+"px"),F(S,"class","svelte-qipmvq"),F(A,"class","label svelte-qipmvq"),F(d,"id","og"),F(d,"class","svelte-qipmvq"),F(n,"id","kmeans-container"),F(n,"class","svelte-qipmvq")},m(C,L){_&&_.m(C,L),I(C,t,L),I(C,n,L),B(n,r),B(r,i),B(r,s),B(r,o),B(o,l),B(r,f),B(r,c),k.m(c,null),B(n,h),B(n,d),B(d,g),B(d,b),B(d,w),B(w,S),B(d,$),B(d,A)},p(C,[L]){C[2]?_?_.p(C,L):(_=t6(C),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null),L&1&&!xf(l.src,u=C[3][C[0]])&&F(l,"src",u),L&2&&Ye(l,"width",C[1]+"px"),U===(U=j(C))&&k?k.p(C,L):(k.d(1),k=U(C),k&&(k.c(),k.m(c,null))),L&2&&Ye(S,"width",C[1]+"px")},i:Xe,o:Xe,d(C){C&&(M(t),M(n)),_&&_.d(C),k.d()}}}function Gw(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(l=>`${l}.png`);let{selected:i=2}=t,{width:a=300}=t,{showSlider:s=!1}=t;function o(){i=bc(this.value),n(0,i)}return e.$$set=l=>{"selected"in l&&n(0,i=l.selected),"width"in l&&n(1,a=l.width),"showSlider"in l&&n(2,s=l.showSlider)},[i,a,s,r,o]}class dd extends jt{constructor(t){super(),Wt(this,t,Gw,Yw,Ut,{selected:0,width:1,showSlider:2})}}function n6(e){let t,n,r,i=2**e[0]+"",a,s,o,l;return{c(){t=P("input"),n=X(),r=P("span"),a=J(i),s=J(" colors"),this.h()},l(u){t=O(u,"INPUT",{type:!0,min:!0,max:!0}),n=Z(u),r=O(u,"SPAN",{class:!0});var f=ie(r);a=ee(f,i),s=ee(f," colors"),f.forEach(M),this.h()},h(){F(t,"type","range"),F(t,"min","0"),F(t,"max",e[6].length-1),F(r,"class","label svelte-1y3a1uz")},m(u,f){I(u,t,f),Wr(t,e[0]),I(u,n,f),I(u,r,f),B(r,a),B(r,s),o||(l=[vt(t,"change",e[8]),vt(t,"input",e[8])],o=!0)},p(u,f){f&1&&Wr(t,u[0]),f&1&&i!==(i=2**u[0]+"")&&an(a,i)},d(u){u&&(M(t),M(n),M(r)),o=!1,Fl(l)}}}function Xw(e){let t,n,r,i,a="Compressed",s,o,l,u,f,c,h="Original",d,g,y,b,w,S,E,$,A=e[4].toFixed(2)+"",D,_,j,U=e[2]&&n6(e);return{c(){U&&U.c(),t=X(),n=P("div"),r=P("div"),i=P("div"),i.textContent=a,s=X(),o=P("div"),l=P("canvas"),u=X(),f=P("div"),c=P("div"),c.textContent=h,d=X(),g=P("div"),y=P("canvas"),b=X(),w=P("div"),S=P("div"),E=P("b"),$=J("Average Error: "),D=J(A),_=X(),j=P("canvas"),this.h()},l(k){U&&U.l(k),t=Z(k),n=O(k,"DIV",{id:!0,class:!0});var C=ie(n);r=O(C,"DIV",{id:!0,class:!0});var L=ie(r);i=O(L,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-gr914o"&&(i.textContent=a),s=Z(L),o=O(L,"DIV",{});var z=ie(o);l=O(z,"CANVAS",{width:!0,height:!0,class:!0}),ie(l).forEach(M),z.forEach(M),L.forEach(M),u=Z(C),f=O(C,"DIV",{id:!0,class:!0});var W=ie(f);c=O(W,"DIV",{class:!0,"data-svelte-h":!0}),ge(c)!=="svelte-1go56d2"&&(c.textContent=h),d=Z(W),g=O(W,"DIV",{});var V=ie(g);y=O(V,"CANVAS",{width:!0,height:!0,class:!0}),ie(y).forEach(M),V.forEach(M),W.forEach(M),b=Z(C),w=O(C,"DIV",{});var Q=ie(w);S=O(Q,"DIV",{class:!0});var ae=ie(S);E=O(ae,"B",{});var re=ie(E);$=ee(re,"Average Error: "),D=ee(re,A),re.forEach(M),ae.forEach(M),_=Z(Q),j=O(Q,"CANVAS",{width:!0,height:!0,class:!0}),ie(j).forEach(M),Q.forEach(M),C.forEach(M),this.h()},h(){F(i,"class","label svelte-1y3a1uz"),F(l,"width",e[1]),F(l,"height",e[3]),F(l,"class","svelte-1y3a1uz"),F(r,"id","k"),F(r,"class","svelte-1y3a1uz"),F(c,"class","label svelte-1y3a1uz"),F(y,"width",e[1]),F(y,"height",e[3]),F(y,"class","svelte-1y3a1uz"),F(f,"id","og"),F(f,"class","svelte-1y3a1uz"),F(S,"class","label svelte-1y3a1uz"),F(j,"width",e[1]),F(j,"height",e[3]),F(j,"class","svelte-1y3a1uz"),F(n,"id","kmeans-container"),F(n,"class","svelte-1y3a1uz")},m(k,C){U&&U.m(k,C),I(k,t,C),I(k,n,C),B(n,r),B(r,i),B(r,s),B(r,o),B(o,l),e[9](l),B(n,u),B(n,f),B(f,c),B(f,d),B(f,g),B(g,y),e[10](y),B(n,b),B(n,w),B(w,S),B(S,E),B(E,$),B(E,D),B(w,_),B(w,j),e[11](j)},p(k,[C]){k[2]?U?U.p(k,C):(U=n6(k),U.c(),U.m(t.parentNode,t)):U&&(U.d(1),U=null),C&2&&F(l,"width",k[1]),C&8&&F(l,"height",k[3]),C&2&&F(y,"width",k[1]),C&8&&F(y,"height",k[3]),C&16&&A!==(A=k[4].toFixed(2)+"")&&an(D,A),C&2&&F(j,"width",k[1]),C&8&&F(j,"height",k[3])},i:Xe,o:Xe,d(k){k&&(M(t),M(n)),U&&U.d(k),e[9](null),e[10](null),e[11](null)}}}const Zw="dog.png";function Qw(e,t,n){const r=[1,2,4,8,16,32,64,128,256].map(A=>`${A}.png`);let{selected:i=0}=t,a=r[i],{width:s=230}=t,{showSlider:o=!0}=t,{height:l=150}=t,u=0,f={original:void 0,image:void 0,diff:void 0},c={original:void 0,image:void 0,diff:void 0};function h(A,D){return new Promise((j,U)=>{const k=new Image;k.src=D,k.onload=function(){A.drawImage(k,0,0,s,l),j()}})}function d(A,D,_){const j=new Uint8ClampedArray(s*l*4);n(4,u=0);for(let k=0;k<s*l*4;k+=4){const C=Math.abs(D[k]-_[k]),L=Math.abs(D[k+1]-_[k+1]),z=Math.abs(D[k+2]-_[k+2]),W=255*3,V=C+L+z,Q=V/W;j[k]=255,j[k+3]=Math.round(Q*255),n(4,u+=V)}const U=new ImageData(s,l,{colorSpace:"srgb"});U.data.set(j),A.diff.putImageData(U,0,0),n(4,u/=s*l)}let g,y;gm(async()=>{c.original=f.original.getContext("2d"),c.image=f.image.getContext("2d",{willReadFrequently:!0}),c.diff=f.diff.getContext("2d"),c.image.imageSmoothingEnabled=!1,c.original.imageSmoothingEnabled=!1,await Promise.allSettled([h(c.image,a),h(c.original,Zw)]).then(()=>{g=c.image.getImageData(0,0,s,l),y=c.original.getImageData(0,0,s,l),d(c,g.data,y.data)})});async function b(A){c.diff&&y&&await h(c.image,A).then(()=>{g=c.image.getImageData(0,0,s,l),d(c,g.data,y.data)})}function w(){i=bc(this.value),n(0,i)}function S(A){Vn[A?"unshift":"push"](()=>{f.image=A,n(5,f)})}function E(A){Vn[A?"unshift":"push"](()=>{f.original=A,n(5,f)})}function $(A){Vn[A?"unshift":"push"](()=>{f.diff=A,n(5,f)})}return e.$$set=A=>{"selected"in A&&n(0,i=A.selected),"width"in A&&n(1,s=A.width),"showSlider"in A&&n(2,o=A.showSlider),"height"in A&&n(3,l=A.height)},e.$$.update=()=>{e.$$.dirty&129&&(n(7,a=r[i]),b(a))},[i,s,o,l,u,f,r,a,w,S,E,$]}class Kw extends jt{constructor(t){super(),Wt(this,t,Qw,Xw,Ut,{selected:0,width:1,showSlider:2,height:3})}}class hn{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new hn(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class dr{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new dr(n,hn.range(this,t))}}class he{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var f;a+15<o.length?f=o.slice(a,a+15)+"…":f=o.slice(a),r+=u+l+f}var c=new Error(r);return c.name="ParseError",c.__proto__=he.prototype,c.position=i,i!=null&&a!=null&&(c.length=a-i),c.rawMessage=t,c}}he.prototype.__proto__=Error.prototype;var Jw=function(t,n){return t.indexOf(n)!==-1},ex=function(t,n){return t===void 0?n:t},tx=/([A-Z])/g,nx=function(t){return t.replace(tx,"-$1").toLowerCase()},rx={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ix=/[&><"']/g;function ax(e){return String(e).replace(ix,t=>rx[t])}var i8=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},sx=function(t){var n=i8(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},ox=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},lx=function(t){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return n!=null?n[1]:"_relative"},qe={contains:Jw,deflt:ex,escape:ax,hyphenate:nx,getBaseElem:i8,isCharacterBox:sx,protocolFromUrl:lx},Mf={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function ux(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class vm{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Mf)if(Mf.hasOwnProperty(n)){var r=Mf[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:ux(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new he("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){t.url&&!t.protocol&&(t.protocol=qe.protocolFromUrl(t.url));var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class _0{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return or[fx[this.id]]}sub(){return or[cx[this.id]]}fracNum(){return or[hx[this.id]]}fracDen(){return or[dx[this.id]]}cramp(){return or[mx[this.id]]}text(){return or[px[this.id]]}isTight(){return this.size>=2}}var ym=0,_f=1,po=2,Ur=3,bl=4,An=5,xo=6,Vt=7,or=[new _0(ym,0,!1),new _0(_f,0,!0),new _0(po,1,!1),new _0(Ur,1,!0),new _0(bl,2,!1),new _0(An,2,!0),new _0(xo,3,!1),new _0(Vt,3,!0)],fx=[bl,An,bl,An,xo,Vt,xo,Vt],cx=[An,An,An,An,Vt,Vt,Vt,Vt],hx=[po,Ur,bl,An,xo,Vt,xo,Vt],dx=[Ur,Ur,An,An,Vt,Vt,Vt,Vt],mx=[_f,_f,Ur,Ur,An,An,Vt,Vt],px=[ym,_f,po,Ur,po,Ur,po,Ur],De={DISPLAY:or[ym],TEXT:or[po],SCRIPT:or[bl],SCRIPTSCRIPT:or[xo]},f4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function gx(e){for(var t=0;t<f4.length;t++)for(var n=f4[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var Sf=[];f4.forEach(e=>e.blocks.forEach(t=>Sf.push(...t)));function a8(e){for(var t=0;t<Sf.length;t+=2)if(e>=Sf[t]&&e<=Sf[t+1])return!0;return!1}var so=80,vx=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},yx=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},bx=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},wx=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},xx=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},Mx=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},Sx=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},kx=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=vx(n,so);break;case"sqrtSize1":i=yx(n,so);break;case"sqrtSize2":i=bx(n,so);break;case"sqrtSize3":i=wx(n,so);break;case"sqrtSize4":i=xx(n,so);break;case"sqrtTall":i=Sx(n,so,r)}return i},$x=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},r6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Tx=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Pl{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return qe.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var fr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},P1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},i6={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Cx(e,t){fr[e]=t}function bm(e,t,n){if(!fr[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=fr[t][r];if(!i&&e[0]in i6&&(r=i6[e[0]].charCodeAt(0),i=fr[t][r]),!i&&n==="text"&&a8(r)&&(i=fr[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var md={};function Ax(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!md[t]){var n=md[t]={cssEmPerMu:P1.quad[t]/18};for(var r in P1)P1.hasOwnProperty(r)&&(n[r]=P1[r][t])}return md[t]}var Ex=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],a6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],s6=function(t,n){return n.size<2?t:Ex[t-1][n.size-1]};class Rr{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Rr.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=a6[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Rr(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:s6(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:a6[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=s6(Rr.BASESIZE,t);return this.size===n&&this.textSize===Rr.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Rr.BASESIZE?["sizing","reset-size"+this.size,"size"+Rr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Ax(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Rr.BASESIZE=6;var c4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},_x={ex:!0,em:!0,mu:!0},s8=function(t){return typeof t!="string"&&(t=t.unit),t in c4||t in _x||t==="ex"},lt=function(t,n){var r;if(t.unit in c4)r=c4[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new he("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Me=function(t){return+t.toFixed(4)+"em"},B0=function(t){return t.filter(n=>n).join(" ")},o8=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},l8=function(t){var n=document.createElement(t);n.className=B0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},u8=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+qe.escape(B0(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+qe.escape(r)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(n+=" "+a+'="'+qe.escape(this.attributes[a])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class Ol{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,o8.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return l8.call(this,"span")}toMarkup(){return u8.call(this,"span")}}class wm{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,o8.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return qe.contains(this.classes,t)}toNode(){return l8.call(this,"a")}toMarkup(){return u8.call(this,"a")}}class zx{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=qe.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+qe.escape(n)+'"'),t+="'/>",t}}var Dx={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class In{constructor(t,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=gx(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Dx[this.text])}hasClass(t){return qe.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Me(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=B0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=qe.escape(B0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qe.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+qe.escape(r)+'"');var a=qe.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class Yr{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class L0{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",r6[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+r6[this.pathName]+"'/>"}}class h4{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+"='"+this.attributes[n]+"'");return t+="/>",t}}function o6(e){if(e instanceof In)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Ix(e){if(e instanceof Ol)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var Nx={bin:1,close:1,inner:1,open:1,punct:1,rel:1},qx={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},at={math:{},text:{}};function m(e,t,n,r,i,a){at[e][i]={font:t,group:n,replace:r},a&&r&&(at[e][r]=at[e][i])}var v="math",le="text",x="main",N="ams",st="accent-token",Ae="bin",Yt="close",No="inner",Ne="mathord",yt="op-token",bn="open",Mc="punct",q="rel",r0="spacing",H="textord";m(v,x,q,"≡","\\equiv",!0);m(v,x,q,"≺","\\prec",!0);m(v,x,q,"≻","\\succ",!0);m(v,x,q,"∼","\\sim",!0);m(v,x,q,"⊥","\\perp");m(v,x,q,"⪯","\\preceq",!0);m(v,x,q,"⪰","\\succeq",!0);m(v,x,q,"≃","\\simeq",!0);m(v,x,q,"∣","\\mid",!0);m(v,x,q,"≪","\\ll",!0);m(v,x,q,"≫","\\gg",!0);m(v,x,q,"≍","\\asymp",!0);m(v,x,q,"∥","\\parallel");m(v,x,q,"⋈","\\bowtie",!0);m(v,x,q,"⌣","\\smile",!0);m(v,x,q,"⊑","\\sqsubseteq",!0);m(v,x,q,"⊒","\\sqsupseteq",!0);m(v,x,q,"≐","\\doteq",!0);m(v,x,q,"⌢","\\frown",!0);m(v,x,q,"∋","\\ni",!0);m(v,x,q,"∝","\\propto",!0);m(v,x,q,"⊢","\\vdash",!0);m(v,x,q,"⊣","\\dashv",!0);m(v,x,q,"∋","\\owns");m(v,x,Mc,".","\\ldotp");m(v,x,Mc,"⋅","\\cdotp");m(v,x,H,"#","\\#");m(le,x,H,"#","\\#");m(v,x,H,"&","\\&");m(le,x,H,"&","\\&");m(v,x,H,"ℵ","\\aleph",!0);m(v,x,H,"∀","\\forall",!0);m(v,x,H,"ℏ","\\hbar",!0);m(v,x,H,"∃","\\exists",!0);m(v,x,H,"∇","\\nabla",!0);m(v,x,H,"♭","\\flat",!0);m(v,x,H,"ℓ","\\ell",!0);m(v,x,H,"♮","\\natural",!0);m(v,x,H,"♣","\\clubsuit",!0);m(v,x,H,"℘","\\wp",!0);m(v,x,H,"♯","\\sharp",!0);m(v,x,H,"♢","\\diamondsuit",!0);m(v,x,H,"ℜ","\\Re",!0);m(v,x,H,"♡","\\heartsuit",!0);m(v,x,H,"ℑ","\\Im",!0);m(v,x,H,"♠","\\spadesuit",!0);m(v,x,H,"§","\\S",!0);m(le,x,H,"§","\\S");m(v,x,H,"¶","\\P",!0);m(le,x,H,"¶","\\P");m(v,x,H,"†","\\dag");m(le,x,H,"†","\\dag");m(le,x,H,"†","\\textdagger");m(v,x,H,"‡","\\ddag");m(le,x,H,"‡","\\ddag");m(le,x,H,"‡","\\textdaggerdbl");m(v,x,Yt,"⎱","\\rmoustache",!0);m(v,x,bn,"⎰","\\lmoustache",!0);m(v,x,Yt,"⟯","\\rgroup",!0);m(v,x,bn,"⟮","\\lgroup",!0);m(v,x,Ae,"∓","\\mp",!0);m(v,x,Ae,"⊖","\\ominus",!0);m(v,x,Ae,"⊎","\\uplus",!0);m(v,x,Ae,"⊓","\\sqcap",!0);m(v,x,Ae,"∗","\\ast");m(v,x,Ae,"⊔","\\sqcup",!0);m(v,x,Ae,"◯","\\bigcirc",!0);m(v,x,Ae,"∙","\\bullet",!0);m(v,x,Ae,"‡","\\ddagger");m(v,x,Ae,"≀","\\wr",!0);m(v,x,Ae,"⨿","\\amalg");m(v,x,Ae,"&","\\And");m(v,x,q,"⟵","\\longleftarrow",!0);m(v,x,q,"⇐","\\Leftarrow",!0);m(v,x,q,"⟸","\\Longleftarrow",!0);m(v,x,q,"⟶","\\longrightarrow",!0);m(v,x,q,"⇒","\\Rightarrow",!0);m(v,x,q,"⟹","\\Longrightarrow",!0);m(v,x,q,"↔","\\leftrightarrow",!0);m(v,x,q,"⟷","\\longleftrightarrow",!0);m(v,x,q,"⇔","\\Leftrightarrow",!0);m(v,x,q,"⟺","\\Longleftrightarrow",!0);m(v,x,q,"↦","\\mapsto",!0);m(v,x,q,"⟼","\\longmapsto",!0);m(v,x,q,"↗","\\nearrow",!0);m(v,x,q,"↩","\\hookleftarrow",!0);m(v,x,q,"↪","\\hookrightarrow",!0);m(v,x,q,"↘","\\searrow",!0);m(v,x,q,"↼","\\leftharpoonup",!0);m(v,x,q,"⇀","\\rightharpoonup",!0);m(v,x,q,"↙","\\swarrow",!0);m(v,x,q,"↽","\\leftharpoondown",!0);m(v,x,q,"⇁","\\rightharpoondown",!0);m(v,x,q,"↖","\\nwarrow",!0);m(v,x,q,"⇌","\\rightleftharpoons",!0);m(v,N,q,"≮","\\nless",!0);m(v,N,q,"","\\@nleqslant");m(v,N,q,"","\\@nleqq");m(v,N,q,"⪇","\\lneq",!0);m(v,N,q,"≨","\\lneqq",!0);m(v,N,q,"","\\@lvertneqq");m(v,N,q,"⋦","\\lnsim",!0);m(v,N,q,"⪉","\\lnapprox",!0);m(v,N,q,"⊀","\\nprec",!0);m(v,N,q,"⋠","\\npreceq",!0);m(v,N,q,"⋨","\\precnsim",!0);m(v,N,q,"⪹","\\precnapprox",!0);m(v,N,q,"≁","\\nsim",!0);m(v,N,q,"","\\@nshortmid");m(v,N,q,"∤","\\nmid",!0);m(v,N,q,"⊬","\\nvdash",!0);m(v,N,q,"⊭","\\nvDash",!0);m(v,N,q,"⋪","\\ntriangleleft");m(v,N,q,"⋬","\\ntrianglelefteq",!0);m(v,N,q,"⊊","\\subsetneq",!0);m(v,N,q,"","\\@varsubsetneq");m(v,N,q,"⫋","\\subsetneqq",!0);m(v,N,q,"","\\@varsubsetneqq");m(v,N,q,"≯","\\ngtr",!0);m(v,N,q,"","\\@ngeqslant");m(v,N,q,"","\\@ngeqq");m(v,N,q,"⪈","\\gneq",!0);m(v,N,q,"≩","\\gneqq",!0);m(v,N,q,"","\\@gvertneqq");m(v,N,q,"⋧","\\gnsim",!0);m(v,N,q,"⪊","\\gnapprox",!0);m(v,N,q,"⊁","\\nsucc",!0);m(v,N,q,"⋡","\\nsucceq",!0);m(v,N,q,"⋩","\\succnsim",!0);m(v,N,q,"⪺","\\succnapprox",!0);m(v,N,q,"≆","\\ncong",!0);m(v,N,q,"","\\@nshortparallel");m(v,N,q,"∦","\\nparallel",!0);m(v,N,q,"⊯","\\nVDash",!0);m(v,N,q,"⋫","\\ntriangleright");m(v,N,q,"⋭","\\ntrianglerighteq",!0);m(v,N,q,"","\\@nsupseteqq");m(v,N,q,"⊋","\\supsetneq",!0);m(v,N,q,"","\\@varsupsetneq");m(v,N,q,"⫌","\\supsetneqq",!0);m(v,N,q,"","\\@varsupsetneqq");m(v,N,q,"⊮","\\nVdash",!0);m(v,N,q,"⪵","\\precneqq",!0);m(v,N,q,"⪶","\\succneqq",!0);m(v,N,q,"","\\@nsubseteqq");m(v,N,Ae,"⊴","\\unlhd");m(v,N,Ae,"⊵","\\unrhd");m(v,N,q,"↚","\\nleftarrow",!0);m(v,N,q,"↛","\\nrightarrow",!0);m(v,N,q,"⇍","\\nLeftarrow",!0);m(v,N,q,"⇏","\\nRightarrow",!0);m(v,N,q,"↮","\\nleftrightarrow",!0);m(v,N,q,"⇎","\\nLeftrightarrow",!0);m(v,N,q,"△","\\vartriangle");m(v,N,H,"ℏ","\\hslash");m(v,N,H,"▽","\\triangledown");m(v,N,H,"◊","\\lozenge");m(v,N,H,"Ⓢ","\\circledS");m(v,N,H,"®","\\circledR");m(le,N,H,"®","\\circledR");m(v,N,H,"∡","\\measuredangle",!0);m(v,N,H,"∄","\\nexists");m(v,N,H,"℧","\\mho");m(v,N,H,"Ⅎ","\\Finv",!0);m(v,N,H,"⅁","\\Game",!0);m(v,N,H,"‵","\\backprime");m(v,N,H,"▲","\\blacktriangle");m(v,N,H,"▼","\\blacktriangledown");m(v,N,H,"■","\\blacksquare");m(v,N,H,"⧫","\\blacklozenge");m(v,N,H,"★","\\bigstar");m(v,N,H,"∢","\\sphericalangle",!0);m(v,N,H,"∁","\\complement",!0);m(v,N,H,"ð","\\eth",!0);m(le,x,H,"ð","ð");m(v,N,H,"╱","\\diagup");m(v,N,H,"╲","\\diagdown");m(v,N,H,"□","\\square");m(v,N,H,"□","\\Box");m(v,N,H,"◊","\\Diamond");m(v,N,H,"¥","\\yen",!0);m(le,N,H,"¥","\\yen",!0);m(v,N,H,"✓","\\checkmark",!0);m(le,N,H,"✓","\\checkmark");m(v,N,H,"ℶ","\\beth",!0);m(v,N,H,"ℸ","\\daleth",!0);m(v,N,H,"ℷ","\\gimel",!0);m(v,N,H,"ϝ","\\digamma",!0);m(v,N,H,"ϰ","\\varkappa");m(v,N,bn,"┌","\\@ulcorner",!0);m(v,N,Yt,"┐","\\@urcorner",!0);m(v,N,bn,"└","\\@llcorner",!0);m(v,N,Yt,"┘","\\@lrcorner",!0);m(v,N,q,"≦","\\leqq",!0);m(v,N,q,"⩽","\\leqslant",!0);m(v,N,q,"⪕","\\eqslantless",!0);m(v,N,q,"≲","\\lesssim",!0);m(v,N,q,"⪅","\\lessapprox",!0);m(v,N,q,"≊","\\approxeq",!0);m(v,N,Ae,"⋖","\\lessdot");m(v,N,q,"⋘","\\lll",!0);m(v,N,q,"≶","\\lessgtr",!0);m(v,N,q,"⋚","\\lesseqgtr",!0);m(v,N,q,"⪋","\\lesseqqgtr",!0);m(v,N,q,"≑","\\doteqdot");m(v,N,q,"≓","\\risingdotseq",!0);m(v,N,q,"≒","\\fallingdotseq",!0);m(v,N,q,"∽","\\backsim",!0);m(v,N,q,"⋍","\\backsimeq",!0);m(v,N,q,"⫅","\\subseteqq",!0);m(v,N,q,"⋐","\\Subset",!0);m(v,N,q,"⊏","\\sqsubset",!0);m(v,N,q,"≼","\\preccurlyeq",!0);m(v,N,q,"⋞","\\curlyeqprec",!0);m(v,N,q,"≾","\\precsim",!0);m(v,N,q,"⪷","\\precapprox",!0);m(v,N,q,"⊲","\\vartriangleleft");m(v,N,q,"⊴","\\trianglelefteq");m(v,N,q,"⊨","\\vDash",!0);m(v,N,q,"⊪","\\Vvdash",!0);m(v,N,q,"⌣","\\smallsmile");m(v,N,q,"⌢","\\smallfrown");m(v,N,q,"≏","\\bumpeq",!0);m(v,N,q,"≎","\\Bumpeq",!0);m(v,N,q,"≧","\\geqq",!0);m(v,N,q,"⩾","\\geqslant",!0);m(v,N,q,"⪖","\\eqslantgtr",!0);m(v,N,q,"≳","\\gtrsim",!0);m(v,N,q,"⪆","\\gtrapprox",!0);m(v,N,Ae,"⋗","\\gtrdot");m(v,N,q,"⋙","\\ggg",!0);m(v,N,q,"≷","\\gtrless",!0);m(v,N,q,"⋛","\\gtreqless",!0);m(v,N,q,"⪌","\\gtreqqless",!0);m(v,N,q,"≖","\\eqcirc",!0);m(v,N,q,"≗","\\circeq",!0);m(v,N,q,"≜","\\triangleq",!0);m(v,N,q,"∼","\\thicksim");m(v,N,q,"≈","\\thickapprox");m(v,N,q,"⫆","\\supseteqq",!0);m(v,N,q,"⋑","\\Supset",!0);m(v,N,q,"⊐","\\sqsupset",!0);m(v,N,q,"≽","\\succcurlyeq",!0);m(v,N,q,"⋟","\\curlyeqsucc",!0);m(v,N,q,"≿","\\succsim",!0);m(v,N,q,"⪸","\\succapprox",!0);m(v,N,q,"⊳","\\vartriangleright");m(v,N,q,"⊵","\\trianglerighteq");m(v,N,q,"⊩","\\Vdash",!0);m(v,N,q,"∣","\\shortmid");m(v,N,q,"∥","\\shortparallel");m(v,N,q,"≬","\\between",!0);m(v,N,q,"⋔","\\pitchfork",!0);m(v,N,q,"∝","\\varpropto");m(v,N,q,"◀","\\blacktriangleleft");m(v,N,q,"∴","\\therefore",!0);m(v,N,q,"∍","\\backepsilon");m(v,N,q,"▶","\\blacktriangleright");m(v,N,q,"∵","\\because",!0);m(v,N,q,"⋘","\\llless");m(v,N,q,"⋙","\\gggtr");m(v,N,Ae,"⊲","\\lhd");m(v,N,Ae,"⊳","\\rhd");m(v,N,q,"≂","\\eqsim",!0);m(v,x,q,"⋈","\\Join");m(v,N,q,"≑","\\Doteq",!0);m(v,N,Ae,"∔","\\dotplus",!0);m(v,N,Ae,"∖","\\smallsetminus");m(v,N,Ae,"⋒","\\Cap",!0);m(v,N,Ae,"⋓","\\Cup",!0);m(v,N,Ae,"⩞","\\doublebarwedge",!0);m(v,N,Ae,"⊟","\\boxminus",!0);m(v,N,Ae,"⊞","\\boxplus",!0);m(v,N,Ae,"⋇","\\divideontimes",!0);m(v,N,Ae,"⋉","\\ltimes",!0);m(v,N,Ae,"⋊","\\rtimes",!0);m(v,N,Ae,"⋋","\\leftthreetimes",!0);m(v,N,Ae,"⋌","\\rightthreetimes",!0);m(v,N,Ae,"⋏","\\curlywedge",!0);m(v,N,Ae,"⋎","\\curlyvee",!0);m(v,N,Ae,"⊝","\\circleddash",!0);m(v,N,Ae,"⊛","\\circledast",!0);m(v,N,Ae,"⋅","\\centerdot");m(v,N,Ae,"⊺","\\intercal",!0);m(v,N,Ae,"⋒","\\doublecap");m(v,N,Ae,"⋓","\\doublecup");m(v,N,Ae,"⊠","\\boxtimes",!0);m(v,N,q,"⇢","\\dashrightarrow",!0);m(v,N,q,"⇠","\\dashleftarrow",!0);m(v,N,q,"⇇","\\leftleftarrows",!0);m(v,N,q,"⇆","\\leftrightarrows",!0);m(v,N,q,"⇚","\\Lleftarrow",!0);m(v,N,q,"↞","\\twoheadleftarrow",!0);m(v,N,q,"↢","\\leftarrowtail",!0);m(v,N,q,"↫","\\looparrowleft",!0);m(v,N,q,"⇋","\\leftrightharpoons",!0);m(v,N,q,"↶","\\curvearrowleft",!0);m(v,N,q,"↺","\\circlearrowleft",!0);m(v,N,q,"↰","\\Lsh",!0);m(v,N,q,"⇈","\\upuparrows",!0);m(v,N,q,"↿","\\upharpoonleft",!0);m(v,N,q,"⇃","\\downharpoonleft",!0);m(v,x,q,"⊶","\\origof",!0);m(v,x,q,"⊷","\\imageof",!0);m(v,N,q,"⊸","\\multimap",!0);m(v,N,q,"↭","\\leftrightsquigarrow",!0);m(v,N,q,"⇉","\\rightrightarrows",!0);m(v,N,q,"⇄","\\rightleftarrows",!0);m(v,N,q,"↠","\\twoheadrightarrow",!0);m(v,N,q,"↣","\\rightarrowtail",!0);m(v,N,q,"↬","\\looparrowright",!0);m(v,N,q,"↷","\\curvearrowright",!0);m(v,N,q,"↻","\\circlearrowright",!0);m(v,N,q,"↱","\\Rsh",!0);m(v,N,q,"⇊","\\downdownarrows",!0);m(v,N,q,"↾","\\upharpoonright",!0);m(v,N,q,"⇂","\\downharpoonright",!0);m(v,N,q,"⇝","\\rightsquigarrow",!0);m(v,N,q,"⇝","\\leadsto");m(v,N,q,"⇛","\\Rrightarrow",!0);m(v,N,q,"↾","\\restriction");m(v,x,H,"‘","`");m(v,x,H,"$","\\$");m(le,x,H,"$","\\$");m(le,x,H,"$","\\textdollar");m(v,x,H,"%","\\%");m(le,x,H,"%","\\%");m(v,x,H,"_","\\_");m(le,x,H,"_","\\_");m(le,x,H,"_","\\textunderscore");m(v,x,H,"∠","\\angle",!0);m(v,x,H,"∞","\\infty",!0);m(v,x,H,"′","\\prime");m(v,x,H,"△","\\triangle");m(v,x,H,"Γ","\\Gamma",!0);m(v,x,H,"Δ","\\Delta",!0);m(v,x,H,"Θ","\\Theta",!0);m(v,x,H,"Λ","\\Lambda",!0);m(v,x,H,"Ξ","\\Xi",!0);m(v,x,H,"Π","\\Pi",!0);m(v,x,H,"Σ","\\Sigma",!0);m(v,x,H,"Υ","\\Upsilon",!0);m(v,x,H,"Φ","\\Phi",!0);m(v,x,H,"Ψ","\\Psi",!0);m(v,x,H,"Ω","\\Omega",!0);m(v,x,H,"A","Α");m(v,x,H,"B","Β");m(v,x,H,"E","Ε");m(v,x,H,"Z","Ζ");m(v,x,H,"H","Η");m(v,x,H,"I","Ι");m(v,x,H,"K","Κ");m(v,x,H,"M","Μ");m(v,x,H,"N","Ν");m(v,x,H,"O","Ο");m(v,x,H,"P","Ρ");m(v,x,H,"T","Τ");m(v,x,H,"X","Χ");m(v,x,H,"¬","\\neg",!0);m(v,x,H,"¬","\\lnot");m(v,x,H,"⊤","\\top");m(v,x,H,"⊥","\\bot");m(v,x,H,"∅","\\emptyset");m(v,N,H,"∅","\\varnothing");m(v,x,Ne,"α","\\alpha",!0);m(v,x,Ne,"β","\\beta",!0);m(v,x,Ne,"γ","\\gamma",!0);m(v,x,Ne,"δ","\\delta",!0);m(v,x,Ne,"ϵ","\\epsilon",!0);m(v,x,Ne,"ζ","\\zeta",!0);m(v,x,Ne,"η","\\eta",!0);m(v,x,Ne,"θ","\\theta",!0);m(v,x,Ne,"ι","\\iota",!0);m(v,x,Ne,"κ","\\kappa",!0);m(v,x,Ne,"λ","\\lambda",!0);m(v,x,Ne,"μ","\\mu",!0);m(v,x,Ne,"ν","\\nu",!0);m(v,x,Ne,"ξ","\\xi",!0);m(v,x,Ne,"ο","\\omicron",!0);m(v,x,Ne,"π","\\pi",!0);m(v,x,Ne,"ρ","\\rho",!0);m(v,x,Ne,"σ","\\sigma",!0);m(v,x,Ne,"τ","\\tau",!0);m(v,x,Ne,"υ","\\upsilon",!0);m(v,x,Ne,"ϕ","\\phi",!0);m(v,x,Ne,"χ","\\chi",!0);m(v,x,Ne,"ψ","\\psi",!0);m(v,x,Ne,"ω","\\omega",!0);m(v,x,Ne,"ε","\\varepsilon",!0);m(v,x,Ne,"ϑ","\\vartheta",!0);m(v,x,Ne,"ϖ","\\varpi",!0);m(v,x,Ne,"ϱ","\\varrho",!0);m(v,x,Ne,"ς","\\varsigma",!0);m(v,x,Ne,"φ","\\varphi",!0);m(v,x,Ae,"∗","*",!0);m(v,x,Ae,"+","+");m(v,x,Ae,"−","-",!0);m(v,x,Ae,"⋅","\\cdot",!0);m(v,x,Ae,"∘","\\circ",!0);m(v,x,Ae,"÷","\\div",!0);m(v,x,Ae,"±","\\pm",!0);m(v,x,Ae,"×","\\times",!0);m(v,x,Ae,"∩","\\cap",!0);m(v,x,Ae,"∪","\\cup",!0);m(v,x,Ae,"∖","\\setminus",!0);m(v,x,Ae,"∧","\\land");m(v,x,Ae,"∨","\\lor");m(v,x,Ae,"∧","\\wedge",!0);m(v,x,Ae,"∨","\\vee",!0);m(v,x,H,"√","\\surd");m(v,x,bn,"⟨","\\langle",!0);m(v,x,bn,"∣","\\lvert");m(v,x,bn,"∥","\\lVert");m(v,x,Yt,"?","?");m(v,x,Yt,"!","!");m(v,x,Yt,"⟩","\\rangle",!0);m(v,x,Yt,"∣","\\rvert");m(v,x,Yt,"∥","\\rVert");m(v,x,q,"=","=");m(v,x,q,":",":");m(v,x,q,"≈","\\approx",!0);m(v,x,q,"≅","\\cong",!0);m(v,x,q,"≥","\\ge");m(v,x,q,"≥","\\geq",!0);m(v,x,q,"←","\\gets");m(v,x,q,">","\\gt",!0);m(v,x,q,"∈","\\in",!0);m(v,x,q,"","\\@not");m(v,x,q,"⊂","\\subset",!0);m(v,x,q,"⊃","\\supset",!0);m(v,x,q,"⊆","\\subseteq",!0);m(v,x,q,"⊇","\\supseteq",!0);m(v,N,q,"⊈","\\nsubseteq",!0);m(v,N,q,"⊉","\\nsupseteq",!0);m(v,x,q,"⊨","\\models");m(v,x,q,"←","\\leftarrow",!0);m(v,x,q,"≤","\\le");m(v,x,q,"≤","\\leq",!0);m(v,x,q,"<","\\lt",!0);m(v,x,q,"→","\\rightarrow",!0);m(v,x,q,"→","\\to");m(v,N,q,"≱","\\ngeq",!0);m(v,N,q,"≰","\\nleq",!0);m(v,x,r0," ","\\ ");m(v,x,r0," ","\\space");m(v,x,r0," ","\\nobreakspace");m(le,x,r0," ","\\ ");m(le,x,r0," "," ");m(le,x,r0," ","\\space");m(le,x,r0," ","\\nobreakspace");m(v,x,r0,null,"\\nobreak");m(v,x,r0,null,"\\allowbreak");m(v,x,Mc,",",",");m(v,x,Mc,";",";");m(v,N,Ae,"⊼","\\barwedge",!0);m(v,N,Ae,"⊻","\\veebar",!0);m(v,x,Ae,"⊙","\\odot",!0);m(v,x,Ae,"⊕","\\oplus",!0);m(v,x,Ae,"⊗","\\otimes",!0);m(v,x,H,"∂","\\partial",!0);m(v,x,Ae,"⊘","\\oslash",!0);m(v,N,Ae,"⊚","\\circledcirc",!0);m(v,N,Ae,"⊡","\\boxdot",!0);m(v,x,Ae,"△","\\bigtriangleup");m(v,x,Ae,"▽","\\bigtriangledown");m(v,x,Ae,"†","\\dagger");m(v,x,Ae,"⋄","\\diamond");m(v,x,Ae,"⋆","\\star");m(v,x,Ae,"◃","\\triangleleft");m(v,x,Ae,"▹","\\triangleright");m(v,x,bn,"{","\\{");m(le,x,H,"{","\\{");m(le,x,H,"{","\\textbraceleft");m(v,x,Yt,"}","\\}");m(le,x,H,"}","\\}");m(le,x,H,"}","\\textbraceright");m(v,x,bn,"{","\\lbrace");m(v,x,Yt,"}","\\rbrace");m(v,x,bn,"[","\\lbrack",!0);m(le,x,H,"[","\\lbrack",!0);m(v,x,Yt,"]","\\rbrack",!0);m(le,x,H,"]","\\rbrack",!0);m(v,x,bn,"(","\\lparen",!0);m(v,x,Yt,")","\\rparen",!0);m(le,x,H,"<","\\textless",!0);m(le,x,H,">","\\textgreater",!0);m(v,x,bn,"⌊","\\lfloor",!0);m(v,x,Yt,"⌋","\\rfloor",!0);m(v,x,bn,"⌈","\\lceil",!0);m(v,x,Yt,"⌉","\\rceil",!0);m(v,x,H,"\\","\\backslash");m(v,x,H,"∣","|");m(v,x,H,"∣","\\vert");m(le,x,H,"|","\\textbar",!0);m(v,x,H,"∥","\\|");m(v,x,H,"∥","\\Vert");m(le,x,H,"∥","\\textbardbl");m(le,x,H,"~","\\textasciitilde");m(le,x,H,"\\","\\textbackslash");m(le,x,H,"^","\\textasciicircum");m(v,x,q,"↑","\\uparrow",!0);m(v,x,q,"⇑","\\Uparrow",!0);m(v,x,q,"↓","\\downarrow",!0);m(v,x,q,"⇓","\\Downarrow",!0);m(v,x,q,"↕","\\updownarrow",!0);m(v,x,q,"⇕","\\Updownarrow",!0);m(v,x,yt,"∐","\\coprod");m(v,x,yt,"⋁","\\bigvee");m(v,x,yt,"⋀","\\bigwedge");m(v,x,yt,"⨄","\\biguplus");m(v,x,yt,"⋂","\\bigcap");m(v,x,yt,"⋃","\\bigcup");m(v,x,yt,"∫","\\int");m(v,x,yt,"∫","\\intop");m(v,x,yt,"∬","\\iint");m(v,x,yt,"∭","\\iiint");m(v,x,yt,"∏","\\prod");m(v,x,yt,"∑","\\sum");m(v,x,yt,"⨂","\\bigotimes");m(v,x,yt,"⨁","\\bigoplus");m(v,x,yt,"⨀","\\bigodot");m(v,x,yt,"∮","\\oint");m(v,x,yt,"∯","\\oiint");m(v,x,yt,"∰","\\oiiint");m(v,x,yt,"⨆","\\bigsqcup");m(v,x,yt,"∫","\\smallint");m(le,x,No,"…","\\textellipsis");m(v,x,No,"…","\\mathellipsis");m(le,x,No,"…","\\ldots",!0);m(v,x,No,"…","\\ldots",!0);m(v,x,No,"⋯","\\@cdots",!0);m(v,x,No,"⋱","\\ddots",!0);m(v,x,H,"⋮","\\varvdots");m(v,x,st,"ˊ","\\acute");m(v,x,st,"ˋ","\\grave");m(v,x,st,"¨","\\ddot");m(v,x,st,"~","\\tilde");m(v,x,st,"ˉ","\\bar");m(v,x,st,"˘","\\breve");m(v,x,st,"ˇ","\\check");m(v,x,st,"^","\\hat");m(v,x,st,"⃗","\\vec");m(v,x,st,"˙","\\dot");m(v,x,st,"˚","\\mathring");m(v,x,Ne,"","\\@imath");m(v,x,Ne,"","\\@jmath");m(v,x,H,"ı","ı");m(v,x,H,"ȷ","ȷ");m(le,x,H,"ı","\\i",!0);m(le,x,H,"ȷ","\\j",!0);m(le,x,H,"ß","\\ss",!0);m(le,x,H,"æ","\\ae",!0);m(le,x,H,"œ","\\oe",!0);m(le,x,H,"ø","\\o",!0);m(le,x,H,"Æ","\\AE",!0);m(le,x,H,"Œ","\\OE",!0);m(le,x,H,"Ø","\\O",!0);m(le,x,st,"ˊ","\\'");m(le,x,st,"ˋ","\\`");m(le,x,st,"ˆ","\\^");m(le,x,st,"˜","\\~");m(le,x,st,"ˉ","\\=");m(le,x,st,"˘","\\u");m(le,x,st,"˙","\\.");m(le,x,st,"¸","\\c");m(le,x,st,"˚","\\r");m(le,x,st,"ˇ","\\v");m(le,x,st,"¨",'\\"');m(le,x,st,"˝","\\H");m(le,x,st,"◯","\\textcircled");var f8={"--":!0,"---":!0,"``":!0,"''":!0};m(le,x,H,"–","--",!0);m(le,x,H,"–","\\textendash");m(le,x,H,"—","---",!0);m(le,x,H,"—","\\textemdash");m(le,x,H,"‘","`",!0);m(le,x,H,"‘","\\textquoteleft");m(le,x,H,"’","'",!0);m(le,x,H,"’","\\textquoteright");m(le,x,H,"“","``",!0);m(le,x,H,"“","\\textquotedblleft");m(le,x,H,"”","''",!0);m(le,x,H,"”","\\textquotedblright");m(v,x,H,"°","\\degree",!0);m(le,x,H,"°","\\degree");m(le,x,H,"°","\\textdegree",!0);m(v,x,H,"£","\\pounds");m(v,x,H,"£","\\mathsterling",!0);m(le,x,H,"£","\\pounds");m(le,x,H,"£","\\textsterling",!0);m(v,N,H,"✠","\\maltese");m(le,N,H,"✠","\\maltese");var l6='0123456789/@."';for(var pd=0;pd<l6.length;pd++){var u6=l6.charAt(pd);m(v,x,H,u6,u6)}var f6='0123456789!@*()-=+";:?/.,';for(var gd=0;gd<f6.length;gd++){var c6=f6.charAt(gd);m(le,x,H,c6,c6)}var zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var vd=0;vd<zf.length;vd++){var O1=zf.charAt(vd);m(v,x,Ne,O1,O1),m(le,x,H,O1,O1)}m(v,N,H,"C","ℂ");m(le,N,H,"C","ℂ");m(v,N,H,"H","ℍ");m(le,N,H,"H","ℍ");m(v,N,H,"N","ℕ");m(le,N,H,"N","ℕ");m(v,N,H,"P","ℙ");m(le,N,H,"P","ℙ");m(v,N,H,"Q","ℚ");m(le,N,H,"Q","ℚ");m(v,N,H,"R","ℝ");m(le,N,H,"R","ℝ");m(v,N,H,"Z","ℤ");m(le,N,H,"Z","ℤ");m(v,x,Ne,"h","ℎ");m(le,x,Ne,"h","ℎ");var Re="";for(var tn=0;tn<zf.length;tn++){var gt=zf.charAt(tn);Re=String.fromCharCode(55349,56320+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56372+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56424+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56580+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56736+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56788+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56840+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56944+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),tn<26&&(Re=String.fromCharCode(55349,56632+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re),Re=String.fromCharCode(55349,56476+tn),m(v,x,Ne,gt,Re),m(le,x,H,gt,Re))}Re=String.fromCharCode(55349,56668);m(v,x,Ne,"k",Re);m(le,x,H,"k",Re);for(var ys=0;ys<10;ys++){var z0=ys.toString();Re=String.fromCharCode(55349,57294+ys),m(v,x,Ne,z0,Re),m(le,x,H,z0,Re),Re=String.fromCharCode(55349,57314+ys),m(v,x,Ne,z0,Re),m(le,x,H,z0,Re),Re=String.fromCharCode(55349,57324+ys),m(v,x,Ne,z0,Re),m(le,x,H,z0,Re),Re=String.fromCharCode(55349,57334+ys),m(v,x,Ne,z0,Re),m(le,x,H,z0,Re)}var d4="ÐÞþ";for(var yd=0;yd<d4.length;yd++){var H1=d4.charAt(yd);m(v,x,Ne,H1,H1),m(le,x,H,H1,H1)}var V1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],h6=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Bx=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[V1[o][2],V1[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[h6[l][2],h6[l][s]]}else{if(a===120485||a===120486)return[V1[0][2],V1[0][s]];if(120486<a&&a<120782)return["",""];throw new he("Unsupported character: "+t)}},Sc=function(t,n,r){return at[r][t]&&at[r][t].replace&&(t=at[r][t].replace),{value:t,metrics:bm(t,n,r)}},Fn=function(t,n,r,i,a){var s=Sc(t,n,r),o=s.metrics;t=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new In(t,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),l=new In(t,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var f=i.getColor();f&&(l.style.color=f)}return l},Lx=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Sc(t,"Main-Bold",n).metrics?Fn(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||at[n][t].font==="main"?Fn(t,"Main-Regular",n,r,i):Fn(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},Rx=function(t,n,r,i,a){return a!=="textord"&&Sc(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Fx=function(t,n,r){var i=t.mode,a=t.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily;if(a.charCodeAt(0)===55349){var[u,f]=Bx(a,i);return Fn(a,u,i,n,s.concat(f))}else if(l){var c,h;if(l==="boldsymbol"){var d=Rx(a,i,n,s,r);c=d.fontName,h=[d.fontClass]}else o?(c=d8[l].fontName,h=[l]):(c=U1(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(Sc(a,c,i).metrics)return Fn(a,c,i,n,s.concat(h));if(f8.hasOwnProperty(a)&&c.slice(0,10)==="Typewriter"){for(var g=[],y=0;y<a.length;y++)g.push(Fn(a[y],c,i,n,s.concat(h)));return h8(g)}}if(r==="mathord")return Fn(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var b=at[i][a]&&at[i][a].font;if(b==="ams"){var w=U1("amsrm",n.fontWeight,n.fontShape);return Fn(a,w,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(b==="main"||!b){var S=U1("textrm",n.fontWeight,n.fontShape);return Fn(a,S,i,n,s.concat(n.fontWeight,n.fontShape))}else{var E=U1(b,n.fontWeight,n.fontShape);return Fn(a,E,i,n,s.concat(E,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Px=(e,t)=>{if(B0(e.classes)!==B0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},Ox=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof In&&r instanceof In&&Px(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},xm=function(t){for(var n=0,r=0,i=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},nn=function(t,n,r,i){var a=new Ol(t,n,r,i);return xm(a),a},c8=(e,t,n,r)=>new Ol(e,t,n,r),Hx=function(t,n,r){var i=nn([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Me(i.height),i.maxFontSize=1,i},Vx=function(t,n,r,i){var a=new wm(t,n,r,i);return xm(a),a},h8=function(t){var n=new Pl(t);return xm(n),n},Ux=function(t,n){return t instanceof Pl?nn([],[t],n):t},jx=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var f=t.positionData,c=0;c<t.children.length;c++){var h=t.children[c];f-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=f}else if(t.positionType==="bottom")u=-t.positionData;else{var d=t.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-d.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},Wx=function(t,n){for(var{children:r,depth:i}=jx(t),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=nn(["pstrut"],[]);u.style.height=Me(a);for(var f=[],c=i,h=i,d=i,g=0;g<r.length;g++){var y=r[g];if(y.type==="kern")d+=y.size;else{var b=y.elem,w=y.wrapperClasses||[],S=y.wrapperStyle||{},E=nn(w,[u,b],void 0,S);E.style.top=Me(-a-d-b.depth),y.marginLeft&&(E.style.marginLeft=y.marginLeft),y.marginRight&&(E.style.marginRight=y.marginRight),f.push(E),d+=b.height+b.depth}c=Math.min(c,d),h=Math.max(h,d)}var $=nn(["vlist"],f);$.style.height=Me(h);var A;if(c<0){var D=nn([],[]),_=nn(["vlist"],[D]);_.style.height=Me(-c);var j=nn(["vlist-s"],[new In("​")]);A=[nn(["vlist-r"],[$,j]),nn(["vlist-r"],[_])]}else A=[nn(["vlist-r"],[$])];var U=nn(["vlist-t"],A);return A.length===2&&U.classes.push("vlist-t2"),U.height=h,U.depth=-c,U},Yx=(e,t)=>{var n=nn(["mspace"],[],t),r=lt(e,t);return n.style.marginRight=Me(r),n},U1=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},d8={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},m8={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Gx=function(t,n){var[r,i,a]=m8[t],s=new L0(r),o=new Yr([s],{width:Me(i),height:Me(a),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=c8(["overlay"],[o],n);return l.height=a,l.style.height=Me(a),l.style.width=Me(i),l},G={fontMap:d8,makeSymbol:Fn,mathsym:Lx,makeSpan:nn,makeSvgSpan:c8,makeLineSpan:Hx,makeAnchor:Vx,makeFragment:h8,wrapFragment:Ux,makeVList:Wx,makeOrd:Fx,makeGlue:Yx,staticSvg:Gx,svgData:m8,tryCombineChars:Ox},ot={number:3,unit:"mu"},bs={number:4,unit:"mu"},zr={number:5,unit:"mu"},Xx={mord:{mop:ot,mbin:bs,mrel:zr,minner:ot},mop:{mord:ot,mop:ot,mrel:zr,minner:ot},mbin:{mord:bs,mop:bs,mopen:bs,minner:bs},mrel:{mord:zr,mop:zr,mopen:zr,minner:zr},mopen:{},mclose:{mop:ot,mbin:bs,mrel:zr,minner:ot},mpunct:{mord:ot,mop:ot,mrel:zr,mopen:ot,mclose:ot,mpunct:ot,minner:ot},minner:{mord:ot,mop:ot,mbin:bs,mrel:zr,mopen:ot,mpunct:ot,minner:ot}},Zx={mord:{mop:ot},mop:{mord:ot,mop:ot},mbin:{},mrel:{},mopen:{},mclose:{mop:ot},mpunct:{},minner:{mop:ot}},p8={},Df={},If={};function $e(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)p8[n[l]]=o;t&&(a&&(Df[t]=a),s&&(If[t]=s))}function Bs(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;$e({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Nf=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},dt=function(t){return t.type==="ordgroup"?t.body:[t]},Gr=G.makeSpan,Qx=["leftmost","mbin","mopen","mrel","mop","mpunct"],Kx=["rightmost","mrel","mclose","mpunct"],Jx={display:De.DISPLAY,text:De.TEXT,script:De.SCRIPT,scriptscript:De.SCRIPTSCRIPT},eM={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Mt=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=Ze(t[s],n);if(o instanceof Pl){var l=o.children;a.push(...l)}else a.push(o)}if(G.tryCombineChars(a),!r)return a;var u=n;if(t.length===1){var f=t[0];f.type==="sizing"?u=n.havingSize(f.size):f.type==="styling"&&(u=n.havingStyle(Jx[f.style]))}var c=Gr([i[0]||"leftmost"],[],n),h=Gr([i[1]||"rightmost"],[],n),d=r==="root";return d6(a,(g,y)=>{var b=y.classes[0],w=g.classes[0];b==="mbin"&&qe.contains(Kx,w)?y.classes[0]="mord":w==="mbin"&&qe.contains(Qx,b)&&(g.classes[0]="mord")},{node:c},h,d),d6(a,(g,y)=>{var b=m4(y),w=m4(g),S=b&&w?g.hasClass("mtight")?Zx[b][w]:Xx[b][w]:null;if(S)return G.makeGlue(S,u)},{node:c},h,d),a},d6=function e(t,n,r,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var o=t[s],l=g8(o);if(l){e(l.children,n,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var f=n(o,r.node);f&&(r.insertAfter?r.insertAfter(f):(t.unshift(f),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=Gr(["leftmost"])),r.insertAfter=(c=>h=>{t.splice(c+1,0,h),s++})(s)}i&&t.pop()},g8=function(t){return t instanceof Pl||t instanceof wm||t instanceof Ol&&t.hasClass("enclosing")?t:null},tM=function e(t,n){var r=g8(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},m4=function(t,n){return t?(n&&(t=tM(t,n)),eM[t.classes[0]]||null):null},wl=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return Gr(n.concat(r))},Ze=function(t,n,r){if(!t)return Gr();if(Df[t.type]){var i=Df[t.type](t,n);if(r&&n.size!==r.size){i=Gr(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new he("Got group of unknown type: '"+t.type+"'")};function j1(e,t){var n=Gr(["base"],e,t),r=Gr(["strut"]);return r.style.height=Me(n.height+n.depth),n.depth&&(r.style.verticalAlign=Me(-n.depth)),n.children.unshift(r),n}function p4(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=Mt(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(j1(s,t)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(j1(s,t)),s=[]),a.push(r[o]));s.length>0&&a.push(j1(s,t));var u;n?(u=j1(Mt(n,t,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var f=Gr(["katex-html"],a);if(f.setAttribute("aria-hidden","true"),u){var c=u.children[0];c.style.height=Me(f.height+f.depth),f.depth&&(c.style.verticalAlign=Me(-f.depth))}return f}function v8(e){return new Pl(e)}class Cn{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=B0(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=qe.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+qe.escape(B0(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class fl{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return qe.escape(this.toText())}toText(){return this.text}}class nM{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Me(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Me(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var fe={MathNode:Cn,TextNode:fl,SpaceNode:nM,newDocumentFragment:v8},Nn=function(t,n,r){return at[n][t]&&at[n][t].replace&&t.charCodeAt(0)!==55349&&!(f8.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=at[n][t].replace),new fe.TextNode(t)},Mm=function(t){return t.length===1?t[0]:new fe.MathNode("mrow",t)},Sm=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=t.text;if(qe.contains(["\\imath","\\jmath"],a))return null;at[i][a]&&at[i][a].replace&&(a=at[i][a].replace);var s=G.fontMap[r].fontName;return bm(a,s,i)?G.fontMap[r].variant:null},un=function(t,n,r){if(t.length===1){var i=et(t[0],n);return r&&i instanceof Cn&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<t.length;o++){var l=et(t[o],n);if(l instanceof Cn&&s instanceof Cn){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof fl&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var f=s.children[0];if(f instanceof fl&&f.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var c=l.children[0];c instanceof fl&&c.text.length>0&&(c.text=c.text.slice(0,1)+"̸"+c.text.slice(1),a.pop())}}}a.push(l),s=l}return a},R0=function(t,n,r){return Mm(un(t,n,r))},et=function(t,n){if(!t)return new fe.MathNode("mrow");if(If[t.type]){var r=If[t.type](t,n);return r}else throw new he("Got group of unknown type: '"+t.type+"'")};function m6(e,t,n,r,i){var a=un(e,n),s;a.length===1&&a[0]instanceof Cn&&qe.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new fe.MathNode("mrow",a);var o=new fe.MathNode("annotation",[new fe.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new fe.MathNode("semantics",[s,o]),u=new fe.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var f=i?"katex":"katex-mathml";return G.makeSpan([f],[u])}var y8=function(t){return new Rr({style:t.displayMode?De.DISPLAY:De.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},b8=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=G.makeSpan(r,[t])}return t},rM=function(t,n,r){var i=y8(r),a;if(r.output==="mathml")return m6(t,n,i,r.displayMode,!0);if(r.output==="html"){var s=p4(t,i);a=G.makeSpan(["katex"],[s])}else{var o=m6(t,n,i,r.displayMode,!1),l=p4(t,i);a=G.makeSpan(["katex"],[o,l])}return b8(a,r)},iM=function(t,n,r){var i=y8(r),a=p4(t,i),s=G.makeSpan(["katex"],[a]);return b8(s,r)},aM={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},sM=function(t){var n=new fe.MathNode("mo",[new fe.TextNode(aM[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},oM={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},lM=function(t){return t.type==="ordgroup"?t.body.length:1},uM=function(t,n){function r(){var o=4e5,l=t.label.slice(1);if(qe.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,f=lM(u.base),c,h,d;if(f>5)l==="widehat"||l==="widecheck"?(c=420,o=2364,d=.42,h=l+"4"):(c=312,o=2340,d=.34,h="tilde4");else{var g=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],c=[0,239,300,360,420][g],d=[0,.24,.3,.3,.36,.42][g],h=l+g):(o=[0,600,1033,2339,2340][g],c=[0,260,286,306,312][g],d=[0,.26,.286,.3,.306,.34][g],h="tilde"+g)}var y=new L0(h),b=new Yr([y],{width:"100%",height:Me(d),viewBox:"0 0 "+o+" "+c,preserveAspectRatio:"none"});return{span:G.makeSvgSpan([],[b],n),minWidth:0,height:d}}else{var w=[],S=oM[l],[E,$,A]=S,D=A/1e3,_=E.length,j,U;if(_===1){var k=S[3];j=["hide-tail"],U=[k]}else if(_===2)j=["halfarrow-left","halfarrow-right"],U=["xMinYMin","xMaxYMin"];else if(_===3)j=["brace-left","brace-center","brace-right"],U=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var C=0;C<_;C++){var L=new L0(E[C]),z=new Yr([L],{width:"400em",height:Me(D),viewBox:"0 0 "+o+" "+A,preserveAspectRatio:U[C]+" slice"}),W=G.makeSvgSpan([j[C]],[z],n);if(_===1)return{span:W,minWidth:$,height:D};W.style.height=Me(D),w.push(W)}return{span:G.makeSpan(["stretchy"],w,n),minWidth:$,height:D}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=Me(s),a>0&&(i.style.minWidth=Me(a)),i},fM=function(t,n,r,i,a){var s,o=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=G.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new h4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new h4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new Yr(u,{width:"100%",height:Me(o)});s=G.makeSvgSpan([],[f],a)}return s.height=o,s.style.height=Me(o),s},Xr={encloseSpan:fM,mathMLnode:sM,svgSpan:uM};function Oe(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function km(e){var t=kc(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function kc(e){return e&&(e.type==="atom"||qx.hasOwnProperty(e.type))?e:null}var $m=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=Oe(e.base,"accent"),n=r.base,e.base=n,i=Ix(Ze(e,t)),e.base=r):(r=Oe(e,"accent"),n=r.base);var a=Ze(n,t.havingCrampedStyle()),s=r.isShifty&&qe.isCharacterBox(n),o=0;if(s){var l=qe.getBaseElem(n),u=Ze(l,t.havingCrampedStyle());o=o6(u).skew}var f=r.label==="\\c",c=f?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=Xr.svgSpan(r,t),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Me(2*o)+")",marginLeft:Me(2*o)}:void 0}]},t);else{var d,g;r.label==="\\vec"?(d=G.staticSvg("vec",t),g=G.svgData.vec[1]):(d=G.makeOrd({mode:r.mode,text:r.label},t,"textord"),d=o6(d),d.italic=0,g=d.width,f&&(c+=d.depth)),h=G.makeSpan(["accent-body"],[d]);var y=r.label==="\\textcircled";y&&(h.classes.push("accent-full"),c=a.height);var b=o;y||(b-=g/2),h.style.left=Me(b),r.label==="\\textcircled"&&(h.style.top=".2em"),h=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-c},{type:"elem",elem:h}]},t)}var w=G.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=w,i.height=Math.max(w.height,i.height),i.classes[0]="mord",i):w},w8=(e,t)=>{var n=e.isStretchy?Xr.mathMLnode(e.label):new fe.MathNode("mo",[Nn(e.label,e.mode)]),r=new fe.MathNode("mover",[et(e.base,t),n]);return r.setAttribute("accent","true"),r},cM=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));$e({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Nf(t[0]),r=!cM.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:$m,mathmlBuilder:w8});$e({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:$m,mathmlBuilder:w8});$e({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Ze(e.base,t),r=Xr.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=Xr.mathMLnode(e.label),r=new fe.MathNode("munder",[et(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var W1=e=>{var t=new fe.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};$e({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=G.wrapFragment(Ze(e.body,r,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(r=t.havingStyle(n.sub()),s=G.wrapFragment(Ze(e.below,r,t),t),s.classes.push(a+"-arrow-pad"));var o=Xr.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var f;if(s){var c=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;f=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:c}]},t)}else f=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),G.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(e,t){var n=Xr.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=W1(et(e.body,t));if(e.below){var a=W1(et(e.below,t));r=new fe.MathNode("munderover",[n,a,i])}else r=new fe.MathNode("mover",[n,i])}else if(e.below){var s=W1(et(e.below,t));r=new fe.MathNode("munder",[n,s])}else r=W1(),r=new fe.MathNode("mover",[n,r]);return r}});var hM=G.makeSpan;function x8(e,t){var n=Mt(e.body,t,!0);return hM([e.mclass],n,t)}function M8(e,t){var n,r=un(e.body,t);return e.mclass==="minner"?n=new fe.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new fe.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new fe.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}$e({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:dt(i),isCharacterBox:qe.isCharacterBox(i)}},htmlBuilder:x8,mathmlBuilder:M8});var $c=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};$e({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:$c(t[0]),body:dt(t[1]),isCharacterBox:qe.isCharacterBox(t[1])}}});$e({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],a=t[0],s;r!=="\\stackrel"?s=$c(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:dt(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:qe.isCharacterBox(l)}},htmlBuilder:x8,mathmlBuilder:M8});$e({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:$c(t[0]),body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!0),r=G.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=un(e.body,t),r=new fe.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var dM={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},p6=()=>({type:"styling",body:[],mode:"math",style:"display"}),g6=e=>e.type==="textord"&&e.text==="@",mM=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function pM(e,t,n){var r=dM[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function gM(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new he("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],a=0;a<t.length;a++){for(var s=t[a],o=p6(),l=0;l<s.length;l++)if(!g6(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=km(s[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var c=0;c<2;c++){for(var h=!0,d=l+1;d<s.length;d++){if(mM(s[d],u)){h=!1,l=d;break}if(g6(s[d]))throw new he("Missing a "+u+" character to complete a CD arrow.",s[d]);f[c].body.push(s[d])}if(h)throw new he("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new he('Expected one of "<>AV=|." after @',s[l]);var g=pM(u,f,e),y={type:"styling",body:[g],mode:"math",style:"display"};r.push(y),o=p6()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}$e({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=G.wrapFragment(Ze(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Me(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new fe.MathNode("mrow",[et(e.label,t)]);return n=new fe.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new fe.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});$e({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=G.wrapFragment(Ze(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new fe.MathNode("mrow",[et(e.fragment,t)])}});$e({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Oe(t[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=Oe(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new he("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new he("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var S8=(e,t)=>{var n=Mt(e.body,t.withColor(e.color),!1);return G.makeFragment(n)},k8=(e,t)=>{var n=un(e.body,t.withColor(e.color)),r=new fe.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};$e({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Oe(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:dt(i)}},htmlBuilder:S8,mathmlBuilder:k8});$e({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=Oe(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:S8,mathmlBuilder:k8});$e({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&Oe(i,"size").value}},htmlBuilder(e,t){var n=G.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Me(lt(e.size,t)))),n},mathmlBuilder(e,t){var n=new fe.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Me(lt(e.size,t)))),n}});var g4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},$8=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new he("Expected a control sequence",e);return t},vM=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},T8=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};$e({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(g4[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=g4[r.text]),Oe(t.parseFunction(),"internal");throw new he("Invalid token after macro prefix",r)}});$e({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new he("Expected a control sequence",r);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new he('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new he('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new he("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===g4[n]),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=$8(t.gullet.popToken());t.gullet.consumeSpaces();var i=vM(t);return T8(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});$e({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=$8(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return T8(t,r,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var el=function(t,n,r){var i=at.math[t]&&at.math[t].replace,a=bm(i||t,n,r);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},Tm=function(t,n,r,i){var a=r.havingBaseStyle(n),s=G.makeSpan(i.concat(a.sizingClasses(r)),[t],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},C8=function(t,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Me(a),t.height-=a,t.depth+=a},yM=function(t,n,r,i,a,s){var o=G.makeSymbol(t,"Main-Regular",a,i),l=Tm(o,n,i,s);return r&&C8(l,i,n),l},bM=function(t,n,r,i){return G.makeSymbol(t,"Size"+n+"-Regular",r,i)},A8=function(t,n,r,i,a,s){var o=bM(t,n,a,i),l=Tm(G.makeSpan(["delimsizing","size"+n],[o],i),De.TEXT,i,s);return r&&C8(l,i,De.TEXT),l},bd=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=G.makeSpan(["delimsizinginner",i],[G.makeSpan([],[G.makeSymbol(t,n,r)])]);return{type:"elem",elem:a}},wd=function(t,n,r){var i=fr["Size4-Regular"][t.charCodeAt(0)]?fr["Size4-Regular"][t.charCodeAt(0)][4]:fr["Size1-Regular"][t.charCodeAt(0)][4],a=new L0("inner",$x(t,Math.round(1e3*n))),s=new Yr([a],{width:Me(i),height:Me(n),style:"width:"+Me(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=G.makeSvgSpan([],[s],r);return o.height=n,o.style.height=Me(n),o.style.width=Me(i),{type:"elem",elem:o}},v4=.008,Y1={type:"kern",size:-1*v4},wM=["|","\\lvert","\\rvert","\\vert"],xM=["\\|","\\lVert","\\rVert","\\Vert"],E8=function(t,n,r,i,a,s){var o,l,u,f,c="",h=0;o=u=f=t,l=null;var d="Size1-Regular";t==="\\uparrow"?u=f="⏐":t==="\\Uparrow"?u=f="‖":t==="\\downarrow"?o=u="⏐":t==="\\Downarrow"?o=u="‖":t==="\\updownarrow"?(o="\\uparrow",u="⏐",f="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="‖",f="\\Downarrow"):qe.contains(wM,t)?(u="∣",c="vert",h=333):qe.contains(xM,t)?(u="∥",c="doublevert",h=556):t==="["||t==="\\lbrack"?(o="⎡",u="⎢",f="⎣",d="Size4-Regular",c="lbrack",h=667):t==="]"||t==="\\rbrack"?(o="⎤",u="⎥",f="⎦",d="Size4-Regular",c="rbrack",h=667):t==="\\lfloor"||t==="⌊"?(u=o="⎢",f="⎣",d="Size4-Regular",c="lfloor",h=667):t==="\\lceil"||t==="⌈"?(o="⎡",u=f="⎢",d="Size4-Regular",c="lceil",h=667):t==="\\rfloor"||t==="⌋"?(u=o="⎥",f="⎦",d="Size4-Regular",c="rfloor",h=667):t==="\\rceil"||t==="⌉"?(o="⎤",u=f="⎥",d="Size4-Regular",c="rceil",h=667):t==="("||t==="\\lparen"?(o="⎛",u="⎜",f="⎝",d="Size4-Regular",c="lparen",h=875):t===")"||t==="\\rparen"?(o="⎞",u="⎟",f="⎠",d="Size4-Regular",c="rparen",h=875):t==="\\{"||t==="\\lbrace"?(o="⎧",l="⎨",f="⎩",u="⎪",d="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="⎫",l="⎬",f="⎭",u="⎪",d="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(o="⎧",f="⎩",u="⎪",d="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(o="⎫",f="⎭",u="⎪",d="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(o="⎧",f="⎭",u="⎪",d="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(o="⎫",f="⎩",u="⎪",d="Size4-Regular");var g=el(o,d,a),y=g.height+g.depth,b=el(u,d,a),w=b.height+b.depth,S=el(f,d,a),E=S.height+S.depth,$=0,A=1;if(l!==null){var D=el(l,d,a);$=D.height+D.depth,A=2}var _=y+E+$,j=Math.max(0,Math.ceil((n-_)/(A*w))),U=_+j*A*w,k=i.fontMetrics().axisHeight;r&&(k*=i.sizeMultiplier);var C=U/2-k,L=[];if(c.length>0){var z=U-y-E,W=Math.round(U*1e3),V=Tx(c,Math.round(z*1e3)),Q=new L0(c,V),ae=(h/1e3).toFixed(3)+"em",re=(W/1e3).toFixed(3)+"em",me=new Yr([Q],{width:ae,height:re,viewBox:"0 0 "+h+" "+W}),te=G.makeSvgSpan([],[me],i);te.height=W/1e3,te.style.width=ae,te.style.height=re,L.push({type:"elem",elem:te})}else{if(L.push(bd(f,d,a)),L.push(Y1),l===null){var se=U-y-E+2*v4;L.push(wd(u,se,i))}else{var oe=(U-y-E-$)/2+2*v4;L.push(wd(u,oe,i)),L.push(Y1),L.push(bd(l,d,a)),L.push(Y1),L.push(wd(u,oe,i))}L.push(Y1),L.push(bd(o,d,a))}var ne=i.havingBaseStyle(De.TEXT),Se=G.makeVList({positionType:"bottom",positionData:C,children:L},ne);return Tm(G.makeSpan(["delimsizing","mult"],[Se],ne),De.TEXT,i,s)},xd=80,Md=.08,Sd=function(t,n,r,i,a){var s=kx(t,i,r),o=new L0(t,s),l=new Yr([o],{width:"400em",height:Me(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return G.makeSvgSpan(["hide-tail"],[l],a)},MM=function(t,n){var r=n.havingBaseSizing(),i=I8("\\surd",t*r.sizeMultiplier,D8,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,f=0,c;return i.type==="small"?(f=1e3+1e3*s+xd,t<1?a=1:t<1.4&&(a=.7),l=(1+s+Md)/a,u=(1+s)/a,o=Sd("sqrtMain",l,f,s,n),o.style.minWidth="0.853em",c=.833/a):i.type==="large"?(f=(1e3+xd)*cl[i.size],u=(cl[i.size]+s)/a,l=(cl[i.size]+s+Md)/a,o=Sd("sqrtSize"+i.size,l,f,s,n),o.style.minWidth="1.02em",c=1/a):(l=t+s+Md,u=t+s,f=Math.floor(1e3*t+s)+xd,o=Sd("sqrtTall",l,f,s,n),o.style.minWidth="0.742em",c=1.056),o.height=u,o.style.height=Me(l),{span:o,advanceWidth:c,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},_8=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],SM=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],z8=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],cl=[0,1.2,1.8,2.4,3],kM=function(t,n,r,i,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),qe.contains(_8,t)||qe.contains(z8,t))return A8(t,n,!1,r,i,a);if(qe.contains(SM,t))return E8(t,cl[n],!1,r,i,a);throw new he("Illegal delimiter: '"+t+"'")},$M=[{type:"small",style:De.SCRIPTSCRIPT},{type:"small",style:De.SCRIPT},{type:"small",style:De.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],TM=[{type:"small",style:De.SCRIPTSCRIPT},{type:"small",style:De.SCRIPT},{type:"small",style:De.TEXT},{type:"stack"}],D8=[{type:"small",style:De.SCRIPTSCRIPT},{type:"small",style:De.SCRIPT},{type:"small",style:De.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],CM=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},I8=function(t,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=el(t,CM(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},N8=function(t,n,r,i,a,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var o;qe.contains(z8,t)?o=$M:qe.contains(_8,t)?o=D8:o=TM;var l=I8(t,n,o,i);return l.type==="small"?yM(t,l.style,r,i,a,s):l.type==="large"?A8(t,l.size,r,i,a,s):E8(t,n,r,i,a,s)},AM=function(t,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,f=Math.max(n-o,r+o),c=Math.max(f/500*l,2*f-u);return N8(t,c,!0,i,a,s)},jr={sqrtImage:MM,sizedDelim:kM,sizeToMaxHeight:cl,customSizedDelim:N8,leftRightDelim:AM},v6={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},EM=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Tc(e,t){var n=kc(e);if(n&&qe.contains(EM,n.text))return n;throw n?new he("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new he("Invalid delimiter type '"+e.type+"'",e)}$e({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Tc(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:v6[e.funcName].size,mclass:v6[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?G.makeSpan([e.mclass]):jr.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Nn(e.delim,e.mode));var n=new fe.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Me(jr.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function y6(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}$e({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new he("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Tc(t[0],e).text,color:n}}});$e({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Tc(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=Oe(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{y6(e);for(var n=Mt(e.body,t,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var o;if(e.left==="."?o=wl(t,["mopen"]):o=jr.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var u=n[l],f=u.isMiddle;f&&(n[l]=jr.leftRightDelim(f.delim,r,i,f.options,e.mode,[]))}var c;if(e.right===".")c=wl(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;c=jr.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(c),G.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{y6(e);var n=un(e.body,t);if(e.left!=="."){var r=new fe.MathNode("mo",[Nn(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new fe.MathNode("mo",[Nn(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return Mm(n)}});$e({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Tc(t[0],e);if(!e.parser.leftrightDepth)throw new he("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=wl(t,[]);else{n=jr.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Nn("|","text"):Nn(e.delim,e.mode),r=new fe.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Cm=(e,t)=>{var n=G.wrapFragment(Ze(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,s=0,o=qe.isCharacterBox(e.body);if(r==="sout")a=G.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var l=lt({number:.6,unit:"pt"},t),u=lt({number:.35,unit:"ex"},t),f=t.havingBaseSizing();i=i/f.sizeMultiplier;var c=n.height+n.depth+l+u;n.style.paddingLeft=Me(c/2+l);var h=Math.floor(1e3*c*i),d=Mx(h),g=new Yr([new L0("phase",d)],{width:"400em",height:Me(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});a=G.makeSvgSpan(["hide-tail"],[g],t),a.style.height=Me(c),s=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,b=0,w=0;/box/.test(r)?(w=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(r==="colorbox"?0:w),b=y):r==="angl"?(w=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*w,b=Math.max(0,.25-n.depth)):(y=o?.2:0,b=y),a=Xr.encloseSpan(n,r,y,b,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=Me(w)):r==="angl"&&w!==.049&&(a.style.borderTopWidth=Me(w),a.style.borderRightWidth=Me(w)),s=n.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var S;if(e.backgroundColor)S=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var E=/cancel|phase/.test(r)?["svg-align"]:[];S=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:E}]},t)}return/cancel/.test(r)&&(S.height=n.height,S.depth=n.depth),/cancel/.test(r)&&!o?G.makeSpan(["mord","cancel-lap"],[S],t):G.makeSpan(["mord"],[S],t)},Am=(e,t)=>{var n=0,r=new fe.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[et(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};$e({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Oe(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:Cm,mathmlBuilder:Am});$e({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Oe(t[0],"color-token").color,s=Oe(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Cm,mathmlBuilder:Am});$e({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});$e({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Cm,mathmlBuilder:Am});$e({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var q8={};function yr(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)q8[n[l]]=o;a&&(Df[t]=a),s&&(If[t]=s)}var B8={};function T(e,t){B8[e]=t}function b6(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Cc=e=>{var t=e.parser.settings;if(!t.displayMode)throw new he("{"+e.envName+"} can be used only in display mode.")};function Em(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function O0(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:c,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=e.gullet.expandMacroAsText("\\arraystretch");if(d==null)s=1;else if(s=parseFloat(d),!s||s<0)throw new he("Invalid \\arraystretch: "+d)}e.gullet.beginGroup();var g=[],y=[g],b=[],w=[],S=l!=null?[]:void 0;function E(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function $(){S&&(e.gullet.macros.get("\\df@tag")?(S.push(e.subparse([new dr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):S.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(E(),w.push(b6(e));;){var A=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},n&&(A={type:"styling",mode:e.mode,style:n,body:[A]}),g.push(A);var D=e.fetch().text;if(D==="&"){if(c&&g.length===c){if(u||o)throw new he("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(D==="\\end"){$(),g.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(y.length>1||!f)&&y.pop(),w.length<y.length+1&&w.push([]);break}else if(D==="\\\\"){e.consume();var _=void 0;e.gullet.future().text!==" "&&(_=e.parseSizeGroup(!0)),b.push(_?_.value:null),$(),w.push(b6(e)),g=[],y.push(g),E()}else throw new he("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:r,hLinesBeforeRow:w,colSeparationType:o,tags:S,leqno:h}}function _m(e){return e.slice(0,1)==="d"?"display":"text"}var br=function(t,n){var r,i,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),u=[],f=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),c=1/n.fontMetrics().ptPerEm,h=5*c;if(t.colSeparationType&&t.colSeparationType==="small"){var d=n.havingStyle(De.SCRIPT).sizeMultiplier;h=.2778*(d/n.sizeMultiplier)}var g=t.colSeparationType==="CD"?lt({number:3,unit:"ex"},n):12*c,y=3*c,b=t.arraystretch*g,w=.7*b,S=.3*b,E=0;function $(mt){for(var bt=0;bt<mt.length;++bt)bt>0&&(E+=.25),u.push({pos:E,isDashed:mt[bt]})}for($(s[0]),r=0;r<t.body.length;++r){var A=t.body[r],D=w,_=S;o<A.length&&(o=A.length);var j=new Array(A.length);for(i=0;i<A.length;++i){var U=Ze(A[i],n);_<U.depth&&(_=U.depth),D<U.height&&(D=U.height),j[i]=U}var k=t.rowGaps[r],C=0;k&&(C=lt(k,n),C>0&&(C+=S,_<C&&(_=C),C=0)),t.addJot&&(_+=y),j.height=D,j.depth=_,E+=D,j.pos=E,E+=_+C,l[r]=j,$(s[r+1])}var L=E/2+n.fontMetrics().axisHeight,z=t.cols||[],W=[],V,Q,ae=[];if(t.tags&&t.tags.some(mt=>mt))for(r=0;r<a;++r){var re=l[r],me=re.pos-L,te=t.tags[r],se=void 0;te===!0?se=G.makeSpan(["eqn-num"],[],n):te===!1?se=G.makeSpan([],[],n):se=G.makeSpan([],Mt(te,n,!0),n),se.depth=re.depth,se.height=re.height,ae.push({type:"elem",elem:se,shift:me})}for(i=0,Q=0;i<o||Q<z.length;++i,++Q){for(var oe=z[Q]||{},ne=!0;oe.type==="separator";){if(ne||(V=G.makeSpan(["arraycolsep"],[]),V.style.width=Me(n.fontMetrics().doubleRuleSep),W.push(V)),oe.separator==="|"||oe.separator===":"){var Se=oe.separator==="|"?"solid":"dashed",Ce=G.makeSpan(["vertical-separator"],[],n);Ce.style.height=Me(E),Ce.style.borderRightWidth=Me(f),Ce.style.borderRightStyle=Se,Ce.style.margin="0 "+Me(-f/2);var _e=E-L;_e&&(Ce.style.verticalAlign=Me(-_e)),W.push(Ce)}else throw new he("Invalid separator type: "+oe.separator);Q++,oe=z[Q]||{},ne=!1}if(!(i>=o)){var ue=void 0;(i>0||t.hskipBeforeAndAfter)&&(ue=qe.deflt(oe.pregap,h),ue!==0&&(V=G.makeSpan(["arraycolsep"],[]),V.style.width=Me(ue),W.push(V)));var ce=[];for(r=0;r<a;++r){var K=l[r],xe=K[i];if(xe){var Te=K.pos-L;xe.depth=K.depth,xe.height=K.height,ce.push({type:"elem",elem:xe,shift:Te})}}ce=G.makeVList({positionType:"individualShift",children:ce},n),ce=G.makeSpan(["col-align-"+(oe.align||"c")],[ce]),W.push(ce),(i<o-1||t.hskipBeforeAndAfter)&&(ue=qe.deflt(oe.postgap,h),ue!==0&&(V=G.makeSpan(["arraycolsep"],[]),V.style.width=Me(ue),W.push(V)))}}if(l=G.makeSpan(["mtable"],W),u.length>0){for(var Y=G.makeLineSpan("hline",n,f),ke=G.makeLineSpan("hdashline",n,f),Ee=[{type:"elem",elem:l,shift:0}];u.length>0;){var Be=u.pop(),Le=Be.pos-L;Be.isDashed?Ee.push({type:"elem",elem:ke,shift:Le}):Ee.push({type:"elem",elem:Y,shift:Le})}l=G.makeVList({positionType:"individualShift",children:Ee},n)}if(ae.length===0)return G.makeSpan(["mord"],[l],n);var Ge=G.makeVList({positionType:"individualShift",children:ae},n);return Ge=G.makeSpan(["tag"],[Ge],n),G.makeFragment([l,Ge])},_M={c:"center ",l:"left ",r:"right "},wr=function(t,n){for(var r=[],i=new fe.MathNode("mtd",[],["mtr-glue"]),a=new fe.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],u=0;u<o.length;u++)l.push(new fe.MathNode("mtd",[et(o[u],n)]));t.tags&&t.tags[s]&&(l.unshift(i),l.push(i),t.leqno?l.unshift(a):l.push(a)),r.push(new fe.MathNode("mtr",l))}var f=new fe.MathNode("mtable",r),c=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",Me(c));var h="",d="";if(t.cols&&t.cols.length>0){var g=t.cols,y="",b=!1,w=0,S=g.length;g[0].type==="separator"&&(h+="top ",w=1),g[g.length-1].type==="separator"&&(h+="bottom ",S-=1);for(var E=w;E<S;E++)g[E].type==="align"?(d+=_M[g[E].align],b&&(y+="none "),b=!0):g[E].type==="separator"&&b&&(y+=g[E].separator==="|"?"solid ":"dashed ",b=!1);f.setAttribute("columnalign",d.trim()),/[sd]/.test(y)&&f.setAttribute("columnlines",y.trim())}if(t.colSeparationType==="align"){for(var $=t.cols||[],A="",D=1;D<$.length;D++)A+=D%2?"0em ":"1em ";f.setAttribute("columnspacing",A.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var _="",j=t.hLinesBeforeRow;h+=j[0].length>0?"left ":"",h+=j[j.length-1].length>0?"right ":"";for(var U=1;U<j.length-1;U++)_+=j[U].length===0?"none ":j[U][0]?"dashed ":"solid ";return/[sd]/.test(_)&&f.setAttribute("rowlines",_.trim()),h!==""&&(f=new fe.MathNode("menclose",[f]),f.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(f=new fe.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},L8=function(t,n){t.envName.indexOf("ed")===-1&&Cc(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=O0(t.parser,{cols:r,addJot:!0,autoTag:a?void 0:Em(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var f="",c=0;c<n[0].body.length;c++){var h=Oe(n[0].body[c],"textord");f+=h.text}o=Number(f),l=o*2}var d=!l;s.body.forEach(function(w){for(var S=1;S<w.length;S+=2){var E=Oe(w[S],"styling"),$=Oe(E.body[0],"ordgroup");$.body.unshift(u)}if(d)l<w.length&&(l=w.length);else{var A=w.length/2;if(o<A)throw new he("Too many math in a row: "+("expected "+o+", but got "+A),w[0])}});for(var g=0;g<l;++g){var y="r",b=0;g%2===1?y="l":g>0&&d&&(b=1),r[g]={type:"align",align:y,pregap:b,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};yr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=kc(t[0]),r=n?[t[0]]:Oe(t[0],"ordgroup").body,i=r.map(function(s){var o=km(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new he("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return O0(e.parser,a,_m(e.envName))},htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new he("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=O0(e.parser,r,_m(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=O0(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=kc(t[0]),r=n?[t[0]]:Oe(t[0],"ordgroup").body,i=r.map(function(s){var o=km(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new he("Unknown column alignment: "+l,s)});if(i.length>1)throw new he("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=O0(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new he("{subarray} can contain only one column");return a},htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=O0(e.parser,t,_m(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:L8,htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){qe.contains(["gather","gather*"],e.envName)&&Cc(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Em(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return O0(e.parser,t,"display")},htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:L8,htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Cc(e);var t={autoTag:Em(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return O0(e.parser,t,"display")},htmlBuilder:br,mathmlBuilder:wr});yr({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Cc(e),gM(e.parser)},htmlBuilder:br,mathmlBuilder:wr});T("\\nonumber","\\gdef\\@eqnsw{0}");T("\\notag","\\nonumber");$e({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new he(e.funcName+" valid only within array environment")}});var w6=q8;$e({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new he("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Oe(i.body[s],"textord").text;if(r==="\\begin"){if(!w6.hasOwnProperty(a))throw new he("No such environment: "+a,i);var o=w6[a],{args:l,optArgs:u}=n.parseArguments("\\begin{"+a+"}",o),f={mode:n.mode,envName:a,parser:n},c=o.handler(f,l,u);n.expect("\\end",!1);var h=n.nextToken,d=Oe(n.parseFunction(),"environment");if(d.name!==a)throw new he("Mismatch: \\begin{"+a+"} matched by \\end{"+d.name+"}",h);return c}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var R8=(e,t)=>{var n=e.font,r=t.withFont(n);return Ze(e.body,r)},F8=(e,t)=>{var n=e.font,r=t.withFont(n);return et(e.body,r)},x6={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};$e({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=Nf(t[0]),a=r;return a in x6&&(a=x6[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:R8,mathmlBuilder:F8});$e({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=qe.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:$c(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});$e({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:R8,mathmlBuilder:F8});var P8=(e,t)=>{var n=t;return e==="display"?n=n.id>=De.SCRIPT.id?n.text():De.DISPLAY:e==="text"&&n.size===De.DISPLAY.size?n=De.TEXT:e==="script"?n=De.SCRIPT:e==="scriptscript"&&(n=De.SCRIPTSCRIPT),n},zm=(e,t)=>{var n=P8(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a;a=t.havingStyle(r);var s=Ze(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(i);var u=Ze(e.denom,a,t),f,c,h;e.hasBarLine?(e.barSize?(c=lt(e.barSize,t),f=G.makeLineSpan("frac-line",t,c)):f=G.makeLineSpan("frac-line",t),c=f.height,h=f.height):(f=null,c=0,h=t.fontMetrics().defaultRuleThickness);var d,g,y;n.size===De.DISPLAY.size||e.size==="display"?(d=t.fontMetrics().num1,c>0?g=3*h:g=7*h,y=t.fontMetrics().denom1):(c>0?(d=t.fontMetrics().num2,g=h):(d=t.fontMetrics().num3,g=3*h),y=t.fontMetrics().denom2);var b;if(f){var S=t.fontMetrics().axisHeight;d-s.depth-(S+.5*c)<g&&(d+=g-(d-s.depth-(S+.5*c))),S-.5*c-(u.height-y)<g&&(y+=g-(S-.5*c-(u.height-y)));var E=-(S-.5*c);b=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:f,shift:E},{type:"elem",elem:s,shift:-d}]},t)}else{var w=d-s.depth-(u.height-y);w<g&&(d+=.5*(g-w),y+=.5*(g-w)),b=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:s,shift:-d}]},t)}a=t.havingStyle(n),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var $;n.size===De.DISPLAY.size?$=t.fontMetrics().delim1:n.size===De.SCRIPTSCRIPT.size?$=t.havingStyle(De.SCRIPT).fontMetrics().delim2:$=t.fontMetrics().delim2;var A,D;return e.leftDelim==null?A=wl(t,["mopen"]):A=jr.customSizedDelim(e.leftDelim,$,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?D=G.makeSpan([]):e.rightDelim==null?D=wl(t,["mclose"]):D=jr.customSizedDelim(e.rightDelim,$,!0,t.havingStyle(n),e.mode,["mclose"]),G.makeSpan(["mord"].concat(a.sizingClasses(t)),[A,G.makeSpan(["mfrac"],[b]),D],t)},Dm=(e,t)=>{var n=new fe.MathNode("mfrac",[et(e.numer,t),et(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=lt(e.barSize,t);n.setAttribute("linethickness",Me(r))}var i=P8(e.size,t.style);if(i.size!==t.style.size){n=new fe.MathNode("mstyle",[n]);var a=i.size===De.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new fe.MathNode("mo",[new fe.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),e.rightDelim!=null){var l=new fe.MathNode("mo",[new fe.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Mm(s)}return n};$e({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:zm,mathmlBuilder:Dm});$e({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});$e({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var M6=["display","text","script","scriptscript"],S6=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};$e({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],a=Nf(t[0]),s=a.type==="atom"&&a.family==="open"?S6(a.text):null,o=Nf(t[1]),l=o.type==="atom"&&o.family==="close"?S6(o.text):null,u=Oe(t[2],"size"),f,c=null;u.isBlank?f=!0:(c=u.value,f=c.number>0);var h="auto",d=t[3];if(d.type==="ordgroup"){if(d.body.length>0){var g=Oe(d.body[0],"textord");h=M6[Number(g.text)]}}else d=Oe(d,"textord"),h=M6[Number(d.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:f,barSize:c,leftDelim:s,rightDelim:l,size:h}},htmlBuilder:zm,mathmlBuilder:Dm});$e({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Oe(t[0],"size").value,token:i}}});$e({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=ox(Oe(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:zm,mathmlBuilder:Dm});var O8=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?Ze(e.sup,t.havingStyle(n.sup()),t):Ze(e.sub,t.havingStyle(n.sub()),t),i=Oe(e.base,"horizBrace")):i=Oe(e,"horizBrace");var a=Ze(i.base,t.havingBaseStyle(De.DISPLAY)),s=Xr.svgSpan(i,t),o;if(i.isOver?(o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=G.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);i.isOver?o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):o=G.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)},zM=(e,t)=>{var n=Xr.mathMLnode(e.label);return new fe.MathNode(e.isOver?"mover":"munder",[et(e.base,t),n])};$e({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:O8,mathmlBuilder:zM});$e({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=Oe(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:dt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1);return G.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=R0(e.body,t);return n instanceof Cn||(n=new Cn("mrow",[n])),n.setAttribute("href",e.href),n}});$e({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Oe(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:dt(o)}}});$e({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:dt(t[0])}},htmlBuilder(e,t){var n=Mt(e.body,t,!1);return G.makeFragment(n)},mathmlBuilder(e,t){return new fe.MathNode("mrow",un(e.body,t))}});$e({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,a=Oe(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),f=0;f<u.length;f++){var c=u[f].split("=");if(c.length!==2)throw new he("Error parsing key-value for \\htmlData");l["data-"+c[0].trim()]=c[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:dt(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=Mt(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=G.makeSpan(r,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>R0(e.body,t)});$e({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:dt(t[0]),mathml:dt(t[1])}},htmlBuilder:(e,t)=>{var n=Mt(e.html,t,!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>R0(e.mathml,t)});var kd=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new he("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!s8(r))throw new he("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};$e({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=Oe(n[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var c=u[f].split("=");if(c.length===2){var h=c[1].trim();switch(c[0].trim()){case"alt":o=h;break;case"width":i=kd(h);break;case"height":a=kd(h);break;case"totalheight":s=kd(h);break;default:throw new he("Invalid key: '"+c[0]+"' in \\includegraphics.")}}}var d=Oe(t[0],"url").url;return o===""&&(o=d,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=lt(e.height,t),r=0;e.totalheight.number>0&&(r=lt(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=lt(e.width,t));var a={height:Me(n+r)};i>0&&(a.width=Me(i)),r>0&&(a.verticalAlign=Me(-r));var s=new zx(e.src,e.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new fe.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=lt(e.height,t),i=0;if(e.totalheight.number>0&&(i=lt(e.totalheight,t)-r,n.setAttribute("valign",Me(-i))),n.setAttribute("height",Me(r+i)),e.width.number>0){var a=lt(e.width,t);n.setAttribute("width",Me(a))}return n.setAttribute("src",e.src),n}});$e({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=Oe(t[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return G.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=lt(e.dimension,t);return new fe.SpaceNode(n)}});$e({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=G.makeSpan([],[Ze(e.body,t)]),n=G.makeSpan(["inner"],[n],t)):n=G.makeSpan(["inner"],[Ze(e.body,t)]);var r=G.makeSpan(["fix"],[]),i=G.makeSpan([e.alignment],[n,r],t),a=G.makeSpan(["strut"]);return a.style.height=Me(i.height+i.depth),i.depth&&(a.style.verticalAlign=Me(-i.depth)),i.children.unshift(a),i=G.makeSpan(["thinbox"],[i],t),G.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new fe.MathNode("mpadded",[et(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});$e({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});$e({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new he("Mismatched "+e.funcName)}});var k6=(e,t)=>{switch(t.style.size){case De.DISPLAY.size:return e.display;case De.TEXT.size:return e.text;case De.SCRIPT.size:return e.script;case De.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};$e({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:dt(t[0]),text:dt(t[1]),script:dt(t[2]),scriptscript:dt(t[3])}},htmlBuilder:(e,t)=>{var n=k6(e,t),r=Mt(n,t,!1);return G.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=k6(e,t);return R0(n,t)}});var H8=(e,t,n,r,i,a,s)=>{e=G.makeSpan([],[e]);var o=n&&qe.isCharacterBox(n),l,u;if(t){var f=Ze(t,r.havingStyle(i.sup()),r);u={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-f.depth)}}if(n){var c=Ze(n,r.havingStyle(i.sub()),r);l={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-c.height)}}var h;if(u&&l){var d=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+s;h=G.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=e.height-s;h=G.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Me(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},r)}else if(u){var y=e.depth+s;h=G.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Me(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var b=[h];if(l&&a!==0&&!o){var w=G.makeSpan(["mspace"],[],r);w.style.marginRight=Me(a),b.unshift(w)}return G.makeSpan(["mop","op-limits"],b,r)},V8=["\\smallint"],qo=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Oe(e.base,"op"),i=!0):a=Oe(e,"op");var s=t.style,o=!1;s.size===De.DISPLAY.size&&a.symbol&&!qe.contains(V8,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",f="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(f=a.name.slice(1),a.name=f==="oiint"?"\\iint":"\\iiint"),l=G.makeSymbol(a.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),f.length>0){var c=l.italic,h=G.staticSvg(f+"Size"+(o?"2":"1"),t);l=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},t),a.name="\\"+f,l.classes.unshift("mop"),l.italic=c}}else if(a.body){var d=Mt(a.body,t,!0);d.length===1&&d[0]instanceof In?(l=d[0],l.classes[0]="mop"):l=G.makeSpan(["mop"],d,t)}else{for(var g=[],y=1;y<a.name.length;y++)g.push(G.mathsym(a.name[y],a.mode,t));l=G.makeSpan(["mop"],g,t)}var b=0,w=0;return(l instanceof In||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(l.height-l.depth)/2-t.fontMetrics().axisHeight,w=l.italic),i?H8(l,n,r,t,s,w,b):(b&&(l.style.position="relative",l.style.top=Me(b)),l)},Hl=(e,t)=>{var n;if(e.symbol)n=new Cn("mo",[Nn(e.name,e.mode)]),qe.contains(V8,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Cn("mo",un(e.body,t));else{n=new Cn("mi",[new fl(e.name.slice(1))]);var r=new Cn("mo",[Nn("⁡","text")]);e.parentIsSupSub?n=new Cn("mrow",[n,r]):n=v8([n,r])}return n},DM={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};$e({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=DM[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:qo,mathmlBuilder:Hl});$e({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:dt(r)}},htmlBuilder:qo,mathmlBuilder:Hl});var IM={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};$e({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:qo,mathmlBuilder:Hl});$e({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:qo,mathmlBuilder:Hl});$e({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=IM[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:qo,mathmlBuilder:Hl});var U8=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Oe(e.base,"operatorname"),i=!0):a=Oe(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(c=>{var h=c.text;return typeof h=="string"?{type:"textord",mode:c.mode,text:h}:c}),l=Mt(o,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof In&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=G.makeSpan(["mop"],l,t)}else s=G.makeSpan(["mop"],[],t);return i?H8(s,n,r,t,t.style,0,0):s},NM=(e,t)=>{for(var n=un(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof fe.SpaceNode))if(a instanceof fe.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof fe.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(f=>f.toText()).join("");n=[new fe.TextNode(o)]}var l=new fe.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new fe.MathNode("mo",[Nn("⁡","text")]);return e.parentIsSupSub?new fe.MathNode("mrow",[l,u]):fe.newDocumentFragment([l,u])};$e({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:dt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:U8,mathmlBuilder:NM});T("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Bs({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?G.makeFragment(Mt(e.body,t,!1)):G.makeSpan(["mord"],Mt(e.body,t,!0),t)},mathmlBuilder(e,t){return R0(e.body,t,!0)}});$e({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle()),r=G.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return G.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new fe.MathNode("mo",[new fe.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new fe.MathNode("mover",[et(e.body,t),n]);return r.setAttribute("accent","true"),r}});$e({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:dt(r)}},htmlBuilder:(e,t)=>{var n=Mt(e.body,t.withPhantom(),!1);return G.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=un(e.body,t);return new fe.MathNode("mphantom",n)}});$e({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),G.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=un(dt(e.body),t),r=new fe.MathNode("mphantom",n),i=new fe.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});$e({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=G.makeSpan(["inner"],[Ze(e.body,t.withPhantom())]),r=G.makeSpan(["fix"],[]);return G.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=un(dt(e.body),t),r=new fe.MathNode("mphantom",n),i=new fe.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});$e({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Oe(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Ze(e.body,t),r=lt(e.dy,t);return G.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new fe.MathNode("mpadded",[et(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});$e({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});$e({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],a=Oe(t[0],"size"),s=Oe(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&Oe(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var n=G.makeSpan(["mord","rule"],[],t),r=lt(e.width,t),i=lt(e.height,t),a=e.shift?lt(e.shift,t):0;return n.style.borderRightWidth=Me(r),n.style.borderTopWidth=Me(i),n.style.bottom=Me(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=lt(e.width,t),r=lt(e.height,t),i=e.shift?lt(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new fe.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Me(n)),s.setAttribute("height",Me(r));var o=new fe.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",Me(i)):(o.setAttribute("height",Me(i)),o.setAttribute("depth",Me(-i))),o.setAttribute("voffset",Me(i)),o}});function j8(e,t,n){for(var r=Mt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,t.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+t.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return G.makeFragment(r)}var $6=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],qM=(e,t)=>{var n=t.havingSize(e.size);return j8(e.body,n,t)};$e({type:"sizing",names:$6,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:$6.indexOf(r)+1,body:a}},htmlBuilder:qM,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=un(e.body,n),i=new fe.MathNode("mstyle",r);return i.setAttribute("mathsize",Me(n.sizeMultiplier)),i}});$e({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,a=!1,s=n[0]&&Oe(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var f=t[0];return{type:"smash",mode:r.mode,body:f,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var n=G.makeSpan([],[Ze(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return G.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new fe.MathNode("mpadded",[et(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});$e({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],a=t[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(e,t){var n=Ze(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=G.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,a=i;t.style.id<De.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:f}=jr.sqrtImage(o,t),c=l.height-u;c>n.height+n.depth+s&&(s=(s+c-n.height-n.depth)/2);var h=l.height-n.height-s-u;n.style.paddingLeft=Me(f);var d=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var g=t.havingStyle(De.SCRIPTSCRIPT),y=Ze(e.index,g,t),b=.6*(d.height-d.depth),w=G.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),S=G.makeSpan(["root"],[w]);return G.makeSpan(["mord","sqrt"],[S,d],t)}else return G.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new fe.MathNode("mroot",[et(n,t),et(r,t)]):new fe.MathNode("msqrt",[et(n,t)])}});var T6={display:De.DISPLAY,text:De.TEXT,script:De.SCRIPT,scriptscript:De.SCRIPTSCRIPT};$e({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var n=T6[e.style],r=t.havingStyle(n).withFont("");return j8(e.body,r,t)},mathmlBuilder(e,t){var n=T6[e.style],r=t.havingStyle(n),i=un(e.body,r),a=new fe.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var BM=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===De.DISPLAY.size||r.alwaysHandleSupSub);return i?qo:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===De.DISPLAY.size||r.limits);return a?U8:null}else{if(r.type==="accent")return qe.isCharacterBox(r.base)?$m:null;if(r.type==="horizBrace"){var s=!t.sub;return s===r.isOver?O8:null}else return null}else return null};Bs({type:"supsub",htmlBuilder(e,t){var n=BM(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:a}=e,s=Ze(r,t),o,l,u=t.fontMetrics(),f=0,c=0,h=r&&qe.isCharacterBox(r);if(i){var d=t.havingStyle(t.style.sup());o=Ze(i,d,t),h||(f=s.height-d.fontMetrics().supDrop*d.sizeMultiplier/t.sizeMultiplier)}if(a){var g=t.havingStyle(t.style.sub());l=Ze(a,g,t),h||(c=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}var y;t.style===De.DISPLAY?y=u.sup1:t.style.cramped?y=u.sup3:y=u.sup2;var b=t.sizeMultiplier,w=Me(.5/u.ptPerEm/b),S=null;if(l){var E=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof In||E)&&(S=Me(-s.italic))}var $;if(o&&l){f=Math.max(f,y,o.depth+.25*u.xHeight),c=Math.max(c,u.sub2);var A=u.defaultRuleThickness,D=4*A;if(f-o.depth-(l.height-c)<D){c=D-(f-o.depth)+l.height;var _=.8*u.xHeight-(f-o.depth);_>0&&(f+=_,c-=_)}var j=[{type:"elem",elem:l,shift:c,marginRight:w,marginLeft:S},{type:"elem",elem:o,shift:-f,marginRight:w}];$=G.makeVList({positionType:"individualShift",children:j},t)}else if(l){c=Math.max(c,u.sub1,l.height-.8*u.xHeight);var U=[{type:"elem",elem:l,marginLeft:S,marginRight:w}];$=G.makeVList({positionType:"shift",positionData:c,children:U},t)}else if(o)f=Math.max(f,y,o.depth+.25*u.xHeight),$=G.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:o,marginRight:w}]},t);else throw new Error("supsub must have either sup or sub.");var k=m4(s,"right")||"mord";return G.makeSpan([k],[s,G.makeSpan(["msupsub"],[$])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[et(e.base,t)];e.sub&&a.push(et(e.sub,t)),e.sup&&a.push(et(e.sup,t));var s;if(n)s=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===De.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===De.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===De.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===De.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===De.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===De.DISPLAY)?s="mover":s="msup"}return new fe.MathNode(s,a)}});Bs({type:"atom",htmlBuilder(e,t){return G.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new fe.MathNode("mo",[Nn(e.text,e.mode)]);if(e.family==="bin"){var r=Sm(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var W8={mi:"italic",mn:"normal",mtext:"normal"};Bs({type:"mathord",htmlBuilder(e,t){return G.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new fe.MathNode("mi",[Nn(e.text,e.mode,t)]),r=Sm(e,t)||"italic";return r!==W8[n.type]&&n.setAttribute("mathvariant",r),n}});Bs({type:"textord",htmlBuilder(e,t){return G.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Nn(e.text,e.mode,t),r=Sm(e,t)||"normal",i;return e.mode==="text"?i=new fe.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new fe.MathNode("mn",[n]):e.text==="\\prime"?i=new fe.MathNode("mo",[n]):i=new fe.MathNode("mi",[n]),r!==W8[i.type]&&i.setAttribute("mathvariant",r),i}});var $d={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Td={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Bs({type:"spacing",htmlBuilder(e,t){if(Td.hasOwnProperty(e.text)){var n=Td[e.text].className||"";if(e.mode==="text"){var r=G.makeOrd(e,t,"textord");return r.classes.push(n),r}else return G.makeSpan(["mspace",n],[G.mathsym(e.text,e.mode,t)],t)}else{if($d.hasOwnProperty(e.text))return G.makeSpan(["mspace",$d[e.text]],[],t);throw new he('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Td.hasOwnProperty(e.text))n=new fe.MathNode("mtext",[new fe.TextNode(" ")]);else{if($d.hasOwnProperty(e.text))return new fe.MathNode("mspace");throw new he('Unknown type of space "'+e.text+'"')}return n}});var C6=()=>{var e=new fe.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Bs({type:"tag",mathmlBuilder(e,t){var n=new fe.MathNode("mtable",[new fe.MathNode("mtr",[C6(),new fe.MathNode("mtd",[R0(e.body,t)]),C6(),new fe.MathNode("mtd",[R0(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var A6={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},E6={"\\textbf":"textbf","\\textmd":"textmd"},LM={"\\textit":"textit","\\textup":"textup"},_6=(e,t)=>{var n=e.font;return n?A6[n]?t.withTextFontFamily(A6[n]):E6[n]?t.withTextFontWeight(E6[n]):t.withTextFontShape(LM[n]):t};$e({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:dt(i),font:r}},htmlBuilder(e,t){var n=_6(e,t),r=Mt(e.body,n,!0);return G.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=_6(e,t);return R0(e.body,n)}});$e({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=G.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return G.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new fe.MathNode("mo",[new fe.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new fe.MathNode("munder",[et(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});$e({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ze(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return G.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new fe.MathNode("mpadded",[et(e.body,t)],["vcenter"])}});$e({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new he("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=z6(e),r=[],i=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(G.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return G.makeSpan(["mord","text"].concat(i.sizingClasses(t)),G.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new fe.TextNode(z6(e)),r=new fe.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var z6=e=>e.body.replace(/ /g,e.star?"␣":" "),I0=p8,Y8=`[ \r
	]`,RM="\\\\[a-zA-Z@]+",FM="\\\\[^\uD800-\uDFFF]",PM="("+RM+")"+Y8+"*",OM=`\\\\(
|[ \r	]+
?)[ \r	]*`,y4="[̀-ͯ]",HM=new RegExp(y4+"+$"),VM="("+Y8+"+)|"+(OM+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(y4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(y4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+PM)+("|"+FM+")");class D6{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(VM,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new dr("EOF",new hn(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new he("Unexpected character: '"+t[n]+"'",new dr(t[n],new hn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new dr(i,new hn(this,n,this.tokenRegex.lastIndex))}}class UM{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new he("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var jM=B8;T("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});T("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});T("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});T("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});T("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});T("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");T("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var I6={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};T("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new he("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=I6[t.text],r==null||r>=n)throw new he("Invalid base-"+n+" digit "+t.text);for(var i;(i=I6[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var Im=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new he("\\newcommand's first argument must be a macro name");var i=r[0].text,a=e.isDefined(i);if(a&&!t)throw new he("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!n)throw new he("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new he("Invalid number of arguments: "+o);s=parseInt(o),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:s}),""};T("\\newcommand",e=>Im(e,!1,!0));T("\\renewcommand",e=>Im(e,!0,!1));T("\\providecommand",e=>Im(e,!0,!0));T("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});T("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});T("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),I0[n],at.math[n],at.text[n]),""});T("\\bgroup","{");T("\\egroup","}");T("~","\\nobreakspace");T("\\lq","`");T("\\rq","'");T("\\aa","\\r a");T("\\AA","\\r A");T("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");T("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");T("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");T("ℬ","\\mathscr{B}");T("ℰ","\\mathscr{E}");T("ℱ","\\mathscr{F}");T("ℋ","\\mathscr{H}");T("ℐ","\\mathscr{I}");T("ℒ","\\mathscr{L}");T("ℳ","\\mathscr{M}");T("ℛ","\\mathscr{R}");T("ℭ","\\mathfrak{C}");T("ℌ","\\mathfrak{H}");T("ℨ","\\mathfrak{Z}");T("\\Bbbk","\\Bbb{k}");T("·","\\cdotp");T("\\llap","\\mathllap{\\textrm{#1}}");T("\\rlap","\\mathrlap{\\textrm{#1}}");T("\\clap","\\mathclap{\\textrm{#1}}");T("\\mathstrut","\\vphantom{(}");T("\\underbar","\\underline{\\text{#1}}");T("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');T("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");T("\\ne","\\neq");T("≠","\\neq");T("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");T("∉","\\notin");T("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");T("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");T("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");T("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");T("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");T("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");T("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");T("⟂","\\perp");T("‼","\\mathclose{!\\mkern-0.8mu!}");T("∌","\\notni");T("⌜","\\ulcorner");T("⌝","\\urcorner");T("⌞","\\llcorner");T("⌟","\\lrcorner");T("©","\\copyright");T("®","\\textregistered");T("️","\\textregistered");T("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');T("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');T("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');T("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');T("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");T("⋮","\\vdots");T("\\varGamma","\\mathit{\\Gamma}");T("\\varDelta","\\mathit{\\Delta}");T("\\varTheta","\\mathit{\\Theta}");T("\\varLambda","\\mathit{\\Lambda}");T("\\varXi","\\mathit{\\Xi}");T("\\varPi","\\mathit{\\Pi}");T("\\varSigma","\\mathit{\\Sigma}");T("\\varUpsilon","\\mathit{\\Upsilon}");T("\\varPhi","\\mathit{\\Phi}");T("\\varPsi","\\mathit{\\Psi}");T("\\varOmega","\\mathit{\\Omega}");T("\\substack","\\begin{subarray}{c}#1\\end{subarray}");T("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");T("\\boxed","\\fbox{$\\displaystyle{#1}$}");T("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");T("\\implies","\\DOTSB\\;\\Longrightarrow\\;");T("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var N6={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};T("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in N6?t=N6[n]:(n.slice(0,4)==="\\not"||n in at.math&&qe.contains(["bin","rel"],at.math[n].group))&&(t="\\dotsb"),t});var Nm={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};T("\\dotso",function(e){var t=e.future().text;return t in Nm?"\\ldots\\,":"\\ldots"});T("\\dotsc",function(e){var t=e.future().text;return t in Nm&&t!==","?"\\ldots\\,":"\\ldots"});T("\\cdots",function(e){var t=e.future().text;return t in Nm?"\\@cdots\\,":"\\@cdots"});T("\\dotsb","\\cdots");T("\\dotsm","\\cdots");T("\\dotsi","\\!\\cdots");T("\\dotsx","\\ldots\\,");T("\\DOTSI","\\relax");T("\\DOTSB","\\relax");T("\\DOTSX","\\relax");T("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");T("\\,","\\tmspace+{3mu}{.1667em}");T("\\thinspace","\\,");T("\\>","\\mskip{4mu}");T("\\:","\\tmspace+{4mu}{.2222em}");T("\\medspace","\\:");T("\\;","\\tmspace+{5mu}{.2777em}");T("\\thickspace","\\;");T("\\!","\\tmspace-{3mu}{.1667em}");T("\\negthinspace","\\!");T("\\negmedspace","\\tmspace-{4mu}{.2222em}");T("\\negthickspace","\\tmspace-{5mu}{.277em}");T("\\enspace","\\kern.5em ");T("\\enskip","\\hskip.5em\\relax");T("\\quad","\\hskip1em\\relax");T("\\qquad","\\hskip2em\\relax");T("\\tag","\\@ifstar\\tag@literal\\tag@paren");T("\\tag@paren","\\tag@literal{({#1})}");T("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new he("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});T("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");T("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");T("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");T("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");T("\\newline","\\\\\\relax");T("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var G8=Me(fr["Main-Regular"]["T".charCodeAt(0)][1]-.7*fr["Main-Regular"]["A".charCodeAt(0)][1]);T("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+G8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");T("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+G8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");T("\\hspace","\\@ifstar\\@hspacer\\@hspace");T("\\@hspace","\\hskip #1\\relax");T("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");T("\\ordinarycolon",":");T("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");T("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');T("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');T("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');T("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');T("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');T("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');T("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');T("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');T("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');T("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');T("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');T("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');T("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');T("∷","\\dblcolon");T("∹","\\eqcolon");T("≔","\\coloneqq");T("≕","\\eqqcolon");T("⩴","\\Coloneqq");T("\\ratio","\\vcentcolon");T("\\coloncolon","\\dblcolon");T("\\colonequals","\\coloneqq");T("\\coloncolonequals","\\Coloneqq");T("\\equalscolon","\\eqqcolon");T("\\equalscoloncolon","\\Eqqcolon");T("\\colonminus","\\coloneq");T("\\coloncolonminus","\\Coloneq");T("\\minuscolon","\\eqcolon");T("\\minuscoloncolon","\\Eqcolon");T("\\coloncolonapprox","\\Colonapprox");T("\\coloncolonsim","\\Colonsim");T("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");T("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");T("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");T("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");T("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");T("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");T("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");T("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");T("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");T("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");T("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");T("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");T("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");T("\\nleqq","\\html@mathml{\\@nleqq}{≰}");T("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");T("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");T("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");T("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");T("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");T("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");T("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");T("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");T("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");T("\\imath","\\html@mathml{\\@imath}{ı}");T("\\jmath","\\html@mathml{\\@jmath}{ȷ}");T("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");T("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");T("⟦","\\llbracket");T("⟧","\\rrbracket");T("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");T("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");T("⦃","\\lBrace");T("⦄","\\rBrace");T("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");T("⦵","\\minuso");T("\\darr","\\downarrow");T("\\dArr","\\Downarrow");T("\\Darr","\\Downarrow");T("\\lang","\\langle");T("\\rang","\\rangle");T("\\uarr","\\uparrow");T("\\uArr","\\Uparrow");T("\\Uarr","\\Uparrow");T("\\N","\\mathbb{N}");T("\\R","\\mathbb{R}");T("\\Z","\\mathbb{Z}");T("\\alef","\\aleph");T("\\alefsym","\\aleph");T("\\Alpha","\\mathrm{A}");T("\\Beta","\\mathrm{B}");T("\\bull","\\bullet");T("\\Chi","\\mathrm{X}");T("\\clubs","\\clubsuit");T("\\cnums","\\mathbb{C}");T("\\Complex","\\mathbb{C}");T("\\Dagger","\\ddagger");T("\\diamonds","\\diamondsuit");T("\\empty","\\emptyset");T("\\Epsilon","\\mathrm{E}");T("\\Eta","\\mathrm{H}");T("\\exist","\\exists");T("\\harr","\\leftrightarrow");T("\\hArr","\\Leftrightarrow");T("\\Harr","\\Leftrightarrow");T("\\hearts","\\heartsuit");T("\\image","\\Im");T("\\infin","\\infty");T("\\Iota","\\mathrm{I}");T("\\isin","\\in");T("\\Kappa","\\mathrm{K}");T("\\larr","\\leftarrow");T("\\lArr","\\Leftarrow");T("\\Larr","\\Leftarrow");T("\\lrarr","\\leftrightarrow");T("\\lrArr","\\Leftrightarrow");T("\\Lrarr","\\Leftrightarrow");T("\\Mu","\\mathrm{M}");T("\\natnums","\\mathbb{N}");T("\\Nu","\\mathrm{N}");T("\\Omicron","\\mathrm{O}");T("\\plusmn","\\pm");T("\\rarr","\\rightarrow");T("\\rArr","\\Rightarrow");T("\\Rarr","\\Rightarrow");T("\\real","\\Re");T("\\reals","\\mathbb{R}");T("\\Reals","\\mathbb{R}");T("\\Rho","\\mathrm{P}");T("\\sdot","\\cdot");T("\\sect","\\S");T("\\spades","\\spadesuit");T("\\sub","\\subset");T("\\sube","\\subseteq");T("\\supe","\\supseteq");T("\\Tau","\\mathrm{T}");T("\\thetasym","\\vartheta");T("\\weierp","\\wp");T("\\Zeta","\\mathrm{Z}");T("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");T("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");T("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");T("\\bra","\\mathinner{\\langle{#1}|}");T("\\ket","\\mathinner{|{#1}\\rangle}");T("\\braket","\\mathinner{\\langle{#1}\\rangle}");T("\\Bra","\\left\\langle#1\\right|");T("\\Ket","\\left|#1\\right\\rangle");var X8=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=c=>h=>{e&&(h.macros.set("|",s),i.length&&h.macros.set("\\|",o));var d=c;if(!c&&i.length){var g=h.future();g.text==="|"&&(h.popToken(),d=!0)}return{tokens:d?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,f=t.expandTokens([...a,...u,...n]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};T("\\bra@ket",X8(!1));T("\\bra@set",X8(!0));T("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");T("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");T("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");T("\\angln","{\\angl n}");T("\\blue","\\textcolor{##6495ed}{#1}");T("\\orange","\\textcolor{##ffa500}{#1}");T("\\pink","\\textcolor{##ff00af}{#1}");T("\\red","\\textcolor{##df0030}{#1}");T("\\green","\\textcolor{##28ae7b}{#1}");T("\\gray","\\textcolor{gray}{#1}");T("\\purple","\\textcolor{##9d38bd}{#1}");T("\\blueA","\\textcolor{##ccfaff}{#1}");T("\\blueB","\\textcolor{##80f6ff}{#1}");T("\\blueC","\\textcolor{##63d9ea}{#1}");T("\\blueD","\\textcolor{##11accd}{#1}");T("\\blueE","\\textcolor{##0c7f99}{#1}");T("\\tealA","\\textcolor{##94fff5}{#1}");T("\\tealB","\\textcolor{##26edd5}{#1}");T("\\tealC","\\textcolor{##01d1c1}{#1}");T("\\tealD","\\textcolor{##01a995}{#1}");T("\\tealE","\\textcolor{##208170}{#1}");T("\\greenA","\\textcolor{##b6ffb0}{#1}");T("\\greenB","\\textcolor{##8af281}{#1}");T("\\greenC","\\textcolor{##74cf70}{#1}");T("\\greenD","\\textcolor{##1fab54}{#1}");T("\\greenE","\\textcolor{##0d923f}{#1}");T("\\goldA","\\textcolor{##ffd0a9}{#1}");T("\\goldB","\\textcolor{##ffbb71}{#1}");T("\\goldC","\\textcolor{##ff9c39}{#1}");T("\\goldD","\\textcolor{##e07d10}{#1}");T("\\goldE","\\textcolor{##a75a05}{#1}");T("\\redA","\\textcolor{##fca9a9}{#1}");T("\\redB","\\textcolor{##ff8482}{#1}");T("\\redC","\\textcolor{##f9685d}{#1}");T("\\redD","\\textcolor{##e84d39}{#1}");T("\\redE","\\textcolor{##bc2612}{#1}");T("\\maroonA","\\textcolor{##ffbde0}{#1}");T("\\maroonB","\\textcolor{##ff92c6}{#1}");T("\\maroonC","\\textcolor{##ed5fa6}{#1}");T("\\maroonD","\\textcolor{##ca337c}{#1}");T("\\maroonE","\\textcolor{##9e034e}{#1}");T("\\purpleA","\\textcolor{##ddd7ff}{#1}");T("\\purpleB","\\textcolor{##c6b9fc}{#1}");T("\\purpleC","\\textcolor{##aa87ff}{#1}");T("\\purpleD","\\textcolor{##7854ab}{#1}");T("\\purpleE","\\textcolor{##543b78}{#1}");T("\\mintA","\\textcolor{##f5f9e8}{#1}");T("\\mintB","\\textcolor{##edf2df}{#1}");T("\\mintC","\\textcolor{##e0e5cc}{#1}");T("\\grayA","\\textcolor{##f6f7f7}{#1}");T("\\grayB","\\textcolor{##f0f1f2}{#1}");T("\\grayC","\\textcolor{##e3e5e6}{#1}");T("\\grayD","\\textcolor{##d6d8da}{#1}");T("\\grayE","\\textcolor{##babec2}{#1}");T("\\grayF","\\textcolor{##888d93}{#1}");T("\\grayG","\\textcolor{##626569}{#1}");T("\\grayH","\\textcolor{##3b3e40}{#1}");T("\\grayI","\\textcolor{##21242c}{#1}");T("\\kaBlue","\\textcolor{##314453}{#1}");T("\\kaGreen","\\textcolor{##71B307}{#1}");var Z8={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class WM{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new UM(jM,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new D6(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new dr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new he("Extra }",a)}else if(a.text==="EOF")throw new he("Unexpected end of input in a macro argument, expected '"+(t&&r?t[o]:"}")+"'",a);if(t&&r)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new he("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new he("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new he("Undefined control sequence: "+r);return this.pushToken(n),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new he("Too many expansions: infinite loop or need to increase maxExpand setting");var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new he("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new he("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new dr(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new D6(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var f={tokens:l,numArgs:a};return f}return i}isDefined(t){return this.macros.has(t)||I0.hasOwnProperty(t)||at.math.hasOwnProperty(t)||at.text.hasOwnProperty(t)||Z8.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:I0.hasOwnProperty(t)&&!I0[t].primitive}}var q6=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,G1=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Cd={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},B6={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class xl{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new WM(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new he("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new dr("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(xl.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&I0[i.text]&&I0[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new he("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var a,s,o=t.slice(0,n),l=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,t[n],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new he("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new he("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new he("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new he("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new he("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(G1[a.text]){var u=G1[a.text],f=q6.test(a.text);for(this.consume();;){var c=this.fetch().text;if(!G1[c]||q6.test(c)!==f)break;this.consume(),u+=G1[c]}var h=new xl(u,this.settings).parse();f?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,a=I0[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new he("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new he("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new he("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,t)}callFunction(t,n,r,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},o=I0[t];if(o&&o.handler)return o.handler(s,n,r);throw new he("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new he("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new he("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new he("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new he("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new he("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new he("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new he("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!s8(a))throw new he("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(t,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:hn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!Z8.hasOwnProperty(i)){if(this.settings.throwOnError)throw new he("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],a=i.text;a==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:hn.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:hn.range(i,t[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[r+1].text===a&&(t.splice(r,2,{type:"textord",mode:"text",loc:hn.range(i,t[r+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new he(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}B6.hasOwnProperty(n[0])&&!at[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=B6[n[0]]+n.slice(1));var a=HM.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var s;if(at[this.mode][n]){this.settings.strict&&this.mode==="math"&&d4.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=at[this.mode][n].group,l=hn.range(t),u;if(Nx.hasOwnProperty(o)){var f=o;u={type:"atom",mode:this.mode,family:f,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(a8(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:hn.range(t),text:n};else return null;if(this.consume(),a)for(var c=0;c<a[0].length;c++){var h=a[0][c];if(!Cd[h])throw new he("Unknown accent ' "+h+"'",t);var d=Cd[h][this.mode]||Cd[h].text;if(!d)throw new he("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:hn.range(t),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}xl.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var qm=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new xl(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new he("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new dr("\\df@tag")])}]}return i},Q8=function(t,n,r){n.textContent="";var i=Bm(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Q8=function(){throw new he("KaTeX doesn't work in quirks mode.")});var YM=function(t,n){var r=Bm(t,n).toMarkup();return r},GM=function(t,n){var r=new vm(n);return qm(t,r)},K8=function(t,n,r){if(r.throwOnError||!(t instanceof he))throw t;var i=G.makeSpan(["katex-error"],[new In(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},Bm=function(t,n){var r=new vm(n);try{var i=qm(t,r);return rM(i,t,r)}catch(a){return K8(a,t,r)}},XM=function(t,n){var r=new vm(n);try{var i=qm(t,r);return iM(i,t,r)}catch(a){return K8(a,t,r)}},ZM={version:"0.16.8",render:Q8,renderToString:YM,ParseError:he,SETTINGS_SCHEMA:Mf,__parse:GM,__renderToDomTree:Bm,__renderToHTMLTree:XM,__setFontMetrics:Cx,__defineSymbol:m,__defineFunction:$e,__defineMacro:T,__domTree:{Span:Ol,Anchor:wm,SymbolNode:In,SvgNode:Yr,PathNode:L0,LineNode:h4}};function QM(e){let t,n;return{c(){t=new zw(!1),n=on(),this.h()},l(r){t=Dw(r,!1),n=on(),this.h()},h(){t.a=n},m(r,i){t.m(e[0],r,i),I(r,n,i)},p(r,[i]){i&1&&t.p(r[0])},i:Xe,o:Xe,d(r){r&&(M(n),t.d())}}}function KM(e,t,n){let r="",{big:i=!1}=t,{text:a="c = \\pm\\sqrt{a^2 + b^2}"}=t,{begin:s=""}=t;return e.$$set=o=>{"big"in o&&n(1,i=o.big),"text"in o&&n(2,a=o.text),"begin"in o&&n(3,s=o.begin)},e.$$.update=()=>{if(e.$$.dirty&14){let o=a;s.length>0&&(o=`\\begin{${s}}`+o+`\\end{${s}}`),n(0,r=ZM.renderToString(o.replaceAll("[","{").replaceAll("]","}"),{throwOnError:!1,displayMode:i||s.length>0}))}},[r,i,a,s]}class Ie extends jt{constructor(t){super(),Wt(this,t,KM,QM,Ut,{big:1,text:2,begin:3})}}function sn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Vl(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ml(e){let t,n,r;e.length!==2?(t=sn,n=(o,l)=>sn(e(o),l),r=(o,l)=>e(o)-l):(t=e===sn||e===Vl?e:JM,n=e,r=e);function i(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function s(o,l,u=0,f=o.length){const c=i(o,l,u,f-1);return c>u&&r(o[c-1],l)>-r(o[c],l)?c-1:c}return{left:i,center:s,right:a}}function JM(){return 0}function J8(e){return e===null?NaN:+e}function*eS(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const tS=Ml(sn),nS=tS.right;Ml(J8).center;const Ac=nS;function Lm(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function rS(e){return e.length|0}function iS(e){return!(e>0)}function aS(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function sS(e){return t=>e(...t)}function oS(...e){const t=typeof e[e.length-1]=="function"&&sS(e.pop());e=e.map(aS);const n=e.map(rS),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(iS))return a;for(;;){a.push(i.map((o,l)=>e[l][o]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function lS(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function e9(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function t9(e,t){const n=e9(e,t);return n&&Math.sqrt(n)}function Hn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Cs{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class As extends Map{constructor(t,n=i9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(b4(this,t))}has(t){return super.has(b4(this,t))}set(t,n){return super.set(n9(this,t),n)}delete(t){return super.delete(r9(this,t))}}class Rm extends Set{constructor(t,n=i9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(b4(this,t))}add(t){return super.add(n9(this,t))}delete(t){return super.delete(r9(this,t))}}function b4({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function n9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function r9({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function i9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function w4(e){return e}function Fm(e,...t){return Pm(e,w4,w4,t)}function go(e,t,...n){return Pm(e,w4,t,n)}function uS(e,t,...n){return Pm(e,Array.from,t,n)}function Pm(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const o=new As,l=r[s++];let u=-1;for(const f of a){const c=l(f,++u,a),h=o.get(c);h?h.push(f):o.set(c,[f])}for(const[f,c]of o)o.set(f,i(c,s));return t(o)}(e,0)}function fS(e,t){return Array.from(t,n=>e[n])}function Sl(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const o=qf(s[i],s[a]);if(o)return o}})):(n=e.map(n),r.sort((i,a)=>qf(n[i],n[a]))),fS(e,r)}return e.sort(a9(n))}function a9(e=sn){if(e===sn)return qf;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function qf(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Om(e,t,n){return(t.length!==2?Sl(go(e,t,n),([r,i],[a,s])=>sn(i,s)||sn(r,a)):Sl(Fm(e,n),([r,i],[a,s])=>t(i,s)||sn(r,a))).map(([r])=>r)}const cS=Math.sqrt(50),hS=Math.sqrt(10),dS=Math.sqrt(2);function Bf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=cS?10:a>=hS?5:a>=dS?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?Bf(e,t,n*2):[o,l,u]}function kl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Bf(t,e,n):Bf(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Lf(e,t,n){return t=+t,e=+e,n=+n,Bf(e,t,n)[2]}function x4(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Lf(t,e,n):Lf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mS(e){return Math.max(1,Math.ceil(Math.log(Lm(e))/Math.LN2)+1)}function gr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function pS(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Zr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function gS(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function s9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?qf:a9(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(t-u*c/l+h)),g=Math.min(r,Math.floor(t+(l-u)*c/l+h));s9(e,t,d,g,i)}const a=e[t];let s=n,o=r;for(Wo(e,n,t),i(e[r],a)>0&&Wo(e,n,r);s<o;){for(Wo(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Wo(e,n,o):(++o,Wo(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Wo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function o9(e,t=sn){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?sn(s,i)>0:sn(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Mo(e,t,n){if(e=Float64Array.from(eS(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Zr(e);if(t>=1)return gr(e);var r,i=(r-1)*t,a=Math.floor(i),s=gr(s9(e,a).subarray(0,a+1)),o=Zr(e.subarray(a+1));return s+(o-s)*(i-a)}}function vS(e,t,n=J8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function yS(e,t,n){const r=Lm(e),i=Mo(e,.75)-Mo(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function l9(e,t,n){const r=Lm(e),i=t9(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function bS(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Rf(e,t){return Mo(e,.5,t)}function*wS(e){for(const t of e)yield*t}function u9(e){return Array.from(wS(e))}function xS(e,t){const n=new As;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function MS(e,t=SS){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function SS(e,t){return[e,t]}function M4(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function F0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Ff(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function kS(e){return e}var Ad=1,Ed=2,S4=3,X1=4,L6=1e-6;function $S(e){return"translate("+e+",0)"}function TS(e){return"translate(0,"+e+")"}function CS(e){return t=>+e(t)}function AS(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ES(){return!this.__axis}function _S(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Ad||e===X1?-1:1,f=e===X1||e===Ed?"x":"y",c=e===Ad||e===S4?$S:TS;function h(d){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,n):kS),b=Math.max(a,0)+o,w=t.range(),S=+w[0]+l,E=+w[w.length-1]+l,$=(t.bandwidth?AS:CS)(t.copy(),l),A=d.selection?d.selection():d,D=A.selectAll(".domain").data([null]),_=A.selectAll(".tick").data(g,t).order(),j=_.exit(),U=_.enter().append("g").attr("class","tick"),k=_.select("line"),C=_.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(U),k=k.merge(U.append("line").attr("stroke","currentColor").attr(f+"2",u*a)),C=C.merge(U.append("text").attr("fill","currentColor").attr(f,u*b).attr("dy",e===Ad?"0em":e===S4?"0.71em":"0.32em")),d!==A&&(D=D.transition(d),_=_.transition(d),k=k.transition(d),C=C.transition(d),j=j.transition(d).attr("opacity",L6).attr("transform",function(L){return isFinite(L=$(L))?c(L+l):this.getAttribute("transform")}),U.attr("opacity",L6).attr("transform",function(L){var z=this.parentNode.__axis;return c((z&&isFinite(z=z(L))?z:$(L))+l)})),j.remove(),D.attr("d",e===X1||e===Ed?s?"M"+u*s+","+S+"H"+l+"V"+E+"H"+u*s:"M"+l+","+S+"V"+E:s?"M"+S+","+u*s+"V"+l+"H"+E+"V"+u*s:"M"+S+","+l+"H"+E),_.attr("opacity",1).attr("transform",function(L){return c($(L)+l)}),k.attr(f+"2",u*a),C.attr(f,u*b).text(y),A.filter(ES).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ed?"start":e===X1?"end":"middle"),A.each(function(){this.__axis=$})}return h.scale=function(d){return arguments.length?(t=d,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=s=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(o=+d,h):o},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function zS(e){return _S(S4,e)}var DS={value:()=>{}};function f9(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new kf(n)}function kf(e){this._=e}function IS(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}kf.prototype=f9.prototype={constructor:kf,on:function(e,t){var n=this._,r=IS(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=NS(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=R6(n[i],e.name,t);else if(t==null)for(i in n)n[i]=R6(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new kf(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function NS(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function R6(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=DS,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var k4="http://www.w3.org/1999/xhtml";const So={svg:"http://www.w3.org/2000/svg",xhtml:k4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ec(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),So.hasOwnProperty(t)?{space:So[t],local:e}:e}function qS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===k4&&t.documentElement.namespaceURI===k4?t.createElement(e):t.createElementNS(n,e)}}function BS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _c(e){var t=Ec(e);return(t.local?BS:qS)(t)}function LS(){}function Hm(e){return e==null?LS:function(){return this.querySelector(e)}}function RS(e){typeof e!="function"&&(e=Hm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=new Array(s),l,u,f=0;f<s;++f)(l=a[f])&&(u=e.call(l,l.__data__,f,a))&&("__data__"in l&&(u.__data__=l.__data__),o[f]=u);return new gn(r,this._parents)}function FS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function PS(){return[]}function c9(e){return e==null?PS:function(){return this.querySelectorAll(e)}}function OS(e){return function(){return FS(e.apply(this,arguments))}}function HS(e){typeof e=="function"?e=OS(e):e=c9(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new gn(r,i)}function h9(e){return function(){return this.matches(e)}}function d9(e){return function(t){return t.matches(e)}}var VS=Array.prototype.find;function US(e){return function(){return VS.call(this.children,e)}}function jS(){return this.firstElementChild}function WS(e){return this.select(e==null?jS:US(typeof e=="function"?e:d9(e)))}var YS=Array.prototype.filter;function GS(){return Array.from(this.children)}function XS(e){return function(){return YS.call(this.children,e)}}function ZS(e){return this.selectAll(e==null?GS:XS(typeof e=="function"?e:d9(e)))}function QS(e){typeof e!="function"&&(e=h9(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new gn(r,this._parents)}function m9(e){return new Array(e.length)}function KS(){return new gn(this._enter||this._groups.map(m9),this._parents)}function Pf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pf.prototype={constructor:Pf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function JS(e){return function(){return e}}function ek(e,t,n,r,i,a){for(var s=0,o,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new Pf(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function tk(e,t,n,r,i,a,s){var o,l,u=new Map,f=t.length,c=a.length,h=new Array(f),d;for(o=0;o<f;++o)(l=t[o])&&(h[o]=d=s.call(l,l.__data__,o,t)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<c;++o)d=s.call(e,a[o],o,a)+"",(l=u.get(d))?(r[o]=l,l.__data__=a[o],u.delete(d)):n[o]=new Pf(e,a[o]);for(o=0;o<f;++o)(l=t[o])&&u.get(h[o])===l&&(i[o]=l)}function nk(e){return e.__data__}function rk(e,t){if(!arguments.length)return Array.from(this,nk);var n=t?tk:ek,r=this._parents,i=this._groups;typeof e!="function"&&(e=JS(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var f=r[u],c=i[u],h=c.length,d=ik(e.call(f,f&&f.__data__,u,r)),g=d.length,y=o[u]=new Array(g),b=s[u]=new Array(g),w=l[u]=new Array(h);n(f,c,y,b,w,d,t);for(var S=0,E=0,$,A;S<g;++S)if($=y[S]){for(S>=E&&(E=S+1);!(A=b[E])&&++E<g;);$._next=A||null}}return s=new gn(s,r),s._enter=o,s._exit=l,s}function ik(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ak(){return new gn(this._exit||this._groups.map(m9),this._parents)}function sk(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ok(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],f=r[l],c=u.length,h=o[l]=new Array(c),d,g=0;g<c;++g)(d=u[g]||f[g])&&(h[g]=d);for(;l<i;++l)o[l]=n[l];return new gn(o,this._parents)}function lk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function uk(e){e||(e=fk);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,f=0;f<o;++f)(u=s[f])&&(l[f]=u);l.sort(t)}return new gn(i,this._parents).order()}function fk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ck(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hk(){return Array.from(this)}function dk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function mk(){let e=0;for(const t of this)++e;return e}function pk(){return!this.node()}function gk(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function vk(e){return function(){this.removeAttribute(e)}}function yk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bk(e,t){return function(){this.setAttribute(e,t)}}function wk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Mk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Sk(e,t){var n=Ec(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?yk:vk:typeof t=="function"?n.local?Mk:xk:n.local?wk:bk)(n,t))}function p9(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kk(e){return function(){this.style.removeProperty(e)}}function $k(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Tk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ck(e,t,n){return arguments.length>1?this.each((t==null?kk:typeof t=="function"?Tk:$k)(e,t,n??"")):ko(this.node(),e)}function ko(e,t){return e.style.getPropertyValue(t)||p9(e).getComputedStyle(e,null).getPropertyValue(t)}function Ak(e){return function(){delete this[e]}}function Ek(e,t){return function(){this[e]=t}}function _k(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zk(e,t){return arguments.length>1?this.each((t==null?Ak:typeof t=="function"?_k:Ek)(e,t)):this.node()[e]}function g9(e){return e.trim().split(/^|\s+/)}function Vm(e){return e.classList||new v9(e)}function v9(e){this._node=e,this._names=g9(e.getAttribute("class")||"")}v9.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function y9(e,t){for(var n=Vm(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function b9(e,t){for(var n=Vm(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Dk(e){return function(){y9(this,e)}}function Ik(e){return function(){b9(this,e)}}function Nk(e,t){return function(){(t.apply(this,arguments)?y9:b9)(this,e)}}function qk(e,t){var n=g9(e+"");if(arguments.length<2){for(var r=Vm(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Nk:t?Dk:Ik)(n,t))}function Bk(){this.textContent=""}function Lk(e){return function(){this.textContent=e}}function Rk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Fk(e){return arguments.length?this.each(e==null?Bk:(typeof e=="function"?Rk:Lk)(e)):this.node().textContent}function Pk(){this.innerHTML=""}function Ok(e){return function(){this.innerHTML=e}}function Hk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Vk(e){return arguments.length?this.each(e==null?Pk:(typeof e=="function"?Hk:Ok)(e)):this.node().innerHTML}function Uk(){this.nextSibling&&this.parentNode.appendChild(this)}function jk(){return this.each(Uk)}function Wk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yk(){return this.each(Wk)}function Gk(e){var t=typeof e=="function"?e:_c(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xk(){return null}function Zk(e,t){var n=typeof e=="function"?e:_c(e),r=t==null?Xk:typeof t=="function"?t:Hm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Qk(){var e=this.parentNode;e&&e.removeChild(this)}function Kk(){return this.each(Qk)}function Jk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function e$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function t$(e){return this.select(e?e$:Jk)}function n$(e){return arguments.length?this.property("__data__",e):this.node().__data__}function r$(e){return function(t){e.call(this,t,this.__data__)}}function i$(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function a$(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function s$(e,t,n){return function(){var r=this.__on,i,a=r$(t);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function o$(e,t,n){var r=i$(e+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,f;l<u;++l)for(i=0,f=o[l];i<a;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(o=t?s$:a$,i=0;i<a;++i)this.each(o(r[i],t,n));return this}function w9(e,t,n){var r=p9(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function l$(e,t){return function(){return w9(this,e,t)}}function u$(e,t){return function(){return w9(this,e,t.apply(this,arguments))}}function f$(e,t){return this.each((typeof t=="function"?u$:l$)(e,t))}function*c$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var x9=[null];function gn(e,t){this._groups=e,this._parents=t}function Ul(){return new gn([[document.documentElement]],x9)}function h$(){return this}gn.prototype=Ul.prototype={constructor:gn,select:RS,selectAll:HS,selectChild:WS,selectChildren:ZS,filter:QS,data:rk,enter:KS,exit:ak,join:sk,merge:ok,selection:h$,order:lk,sort:uk,call:ck,nodes:hk,node:dk,size:mk,empty:pk,each:gk,attr:Sk,style:Ck,property:zk,classed:qk,text:Fk,html:Vk,raise:jk,lower:Yk,append:Gk,insert:Zk,remove:Kk,clone:t$,datum:n$,on:o$,dispatch:f$,[Symbol.iterator]:c$};function hl(e){return typeof e=="string"?new gn([[document.querySelector(e)]],[document.documentElement]):new gn([[e]],x9)}function d$(e){let t;for(;t=e.sourceEvent;)e=t;return e}function m$(e,t){if(e=d$(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Bo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function H0(){}var Es=.7,$o=1/Es,vo="\\s*([+-]?\\d+)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p$=/^#([0-9a-f]{3,8})$/,g$=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),v$=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),y$=new RegExp(`^rgba\\(${vo},${vo},${vo},${$l}\\)$`),b$=new RegExp(`^rgba\\(${mr},${mr},${mr},${$l}\\)$`),w$=new RegExp(`^hsl\\(${$l},${mr},${mr}\\)$`),x$=new RegExp(`^hsla\\(${$l},${mr},${mr},${$l}\\)$`),F6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bo(H0,Qr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:P6,formatHex:P6,formatHex8:M$,formatHsl:S$,formatRgb:O6,toString:O6});function P6(){return this.rgb().formatHex()}function M$(){return this.rgb().formatHex8()}function S$(){return M9(this).formatHsl()}function O6(){return this.rgb().formatRgb()}function Qr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=p$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?H6(t):n===3?new Ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Z1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Z1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g$.exec(e))?new Ct(t[1],t[2],t[3],1):(t=v$.exec(e))?new Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y$.exec(e))?Z1(t[1],t[2],t[3],t[4]):(t=b$.exec(e))?Z1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w$.exec(e))?j6(t[1],t[2]/100,t[3]/100,1):(t=x$.exec(e))?j6(t[1],t[2]/100,t[3]/100,t[4]):F6.hasOwnProperty(e)?H6(F6[e]):e==="transparent"?new Ct(NaN,NaN,NaN,0):null}function H6(e){return new Ct(e>>16&255,e>>8&255,e&255,1)}function Z1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ct(e,t,n,r)}function Um(e){return e instanceof H0||(e=Qr(e)),e?(e=e.rgb(),new Ct(e.r,e.g,e.b,e.opacity)):new Ct}function P0(e,t,n,r){return arguments.length===1?Um(e):new Ct(e,t,n,r??1)}function Ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bo(Ct,P0,jl(H0,{brighter(e){return e=e==null?$o:Math.pow($o,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Es:Math.pow(Es,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ct($s(this.r),$s(this.g),$s(this.b),Of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:V6,formatHex:V6,formatHex8:k$,formatRgb:U6,toString:U6}));function V6(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}`}function k$(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}${ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function U6(){const e=Of(this.opacity);return`${e===1?"rgb(":"rgba("}${$s(this.r)}, ${$s(this.g)}, ${$s(this.b)}${e===1?")":`, ${e})`}`}function Of(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $s(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ks(e){return e=$s(e),(e<16?"0":"")+e.toString(16)}function j6(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,n,r)}function M9(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof H0||(e=Qr(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Pn(s,o,l,e.opacity)}function $4(e,t,n,r){return arguments.length===1?M9(e):new Pn(e,t,n,r??1)}function Pn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bo(Pn,$4,jl(H0,{brighter(e){return e=e==null?$o:Math.pow($o,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Es:Math.pow(Es,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ct(_d(e>=240?e-240:e+120,i,r),_d(e,i,r),_d(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Pn(W6(this.h),Q1(this.s),Q1(this.l),Of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Of(this.opacity);return`${e===1?"hsl(":"hsla("}${W6(this.h)}, ${Q1(this.s)*100}%, ${Q1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function W6(e){return e=(e||0)%360,e<0?e+360:e}function Q1(e){return Math.max(0,Math.min(1,e||0))}function _d(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const S9=Math.PI/180,k9=180/Math.PI,Hf=18,$9=.96422,T9=1,C9=.82521,A9=4/29,yo=6/29,E9=3*yo*yo,$$=yo*yo*yo;function _9(e){if(e instanceof pr)return new pr(e.l,e.a,e.b,e.opacity);if(e instanceof Pr)return z9(e);e instanceof Ct||(e=Um(e));var t=Nd(e.r),n=Nd(e.g),r=Nd(e.b),i=zd((.2225045*t+.7168786*n+.0606169*r)/T9),a,s;return t===n&&n===r?a=s=i:(a=zd((.4360747*t+.3850649*n+.1430804*r)/$9),s=zd((.0139322*t+.0971045*n+.7141733*r)/C9)),new pr(116*i-16,500*(a-i),200*(i-s),e.opacity)}function T4(e,t,n,r){return arguments.length===1?_9(e):new pr(e,t,n,r??1)}function pr(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Bo(pr,T4,jl(H0,{brighter(e){return new pr(this.l+Hf*(e??1),this.a,this.b,this.opacity)},darker(e){return new pr(this.l-Hf*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=$9*Dd(t),e=T9*Dd(e),n=C9*Dd(n),new Ct(Id(3.1338561*t-1.6168667*e-.4906146*n),Id(-.9787684*t+1.9161415*e+.033454*n),Id(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function zd(e){return e>$$?Math.pow(e,1/3):e/E9+A9}function Dd(e){return e>yo?e*e*e:E9*(e-A9)}function Id(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Nd(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function T$(e){if(e instanceof Pr)return new Pr(e.h,e.c,e.l,e.opacity);if(e instanceof pr||(e=_9(e)),e.a===0&&e.b===0)return new Pr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*k9;return new Pr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function C4(e,t,n,r){return arguments.length===1?T$(e):new Pr(e,t,n,r??1)}function Pr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function z9(e){if(isNaN(e.h))return new pr(e.l,0,0,e.opacity);var t=e.h*S9;return new pr(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Bo(Pr,C4,jl(H0,{brighter(e){return new Pr(this.h,this.c,this.l+Hf*(e??1),this.opacity)},darker(e){return new Pr(this.h,this.c,this.l-Hf*(e??1),this.opacity)},rgb(){return z9(this).rgb()}}));var D9=-.14861,jm=1.78277,Wm=-.29227,zc=-.90649,Tl=1.97294,Y6=Tl*zc,G6=Tl*jm,X6=jm*Wm-zc*D9;function C$(e){if(e instanceof Ts)return new Ts(e.h,e.s,e.l,e.opacity);e instanceof Ct||(e=Um(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(X6*r+Y6*t-G6*n)/(X6+Y6-G6),a=r-i,s=(Tl*(n-i)-Wm*a)/zc,o=Math.sqrt(s*s+a*a)/(Tl*i*(1-i)),l=o?Math.atan2(s,a)*k9-120:NaN;return new Ts(l<0?l+360:l,o,i,e.opacity)}function vr(e,t,n,r){return arguments.length===1?C$(e):new Ts(e,t,n,r??1)}function Ts(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bo(Ts,vr,jl(H0,{brighter(e){return e=e==null?$o:Math.pow($o,e),new Ts(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Es:Math.pow(Es,e),new Ts(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*S9,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ct(255*(t+n*(D9*r+jm*i)),255*(t+n*(Wm*r+zc*i)),255*(t+n*(Tl*r)),this.opacity)}}));function A$(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function E$(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return A$((n-r/t)*t,s,i,a,o)}}const Dc=e=>()=>e;function I9(e,t){return function(n){return e+n*t}}function _$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ym(e,t){var n=t-e;return n?I9(e,n>180||n<-180?n-360*Math.round(n/360):n):Dc(isNaN(e)?t:e)}function z$(e){return(e=+e)==1?Rt:function(t,n){return n-t?_$(t,n,e):Dc(isNaN(t)?n:t)}}function Rt(e,t){var n=t-e;return n?I9(e,n):Dc(isNaN(e)?t:e)}const _s=function e(t){var n=z$(t);function r(i,a){var s=n((i=P0(i)).r,(a=P0(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Rt(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function D$(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=P0(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var I$=D$(E$);function N$(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function q$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function B$(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Wl(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function L$(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Lt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function R$(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var A4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qd=new RegExp(A4.source,"g");function F$(e){return function(){return e}}function P$(e){return function(t){return e(t)+""}}function N9(e,t){var n=A4.lastIndex=qd.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=A4.exec(e))&&(i=qd.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Lt(r,i)})),n=qd.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?P$(l[0].x):F$(t):(t=l.length,function(u){for(var f=0,c;f<t;++f)o[(c=l[f]).i]=c.x(u);return o.join("")})}function Wl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Dc(t):(n==="number"?Lt:n==="string"?(r=Qr(t))?(t=r,_s):N9:t instanceof Qr?_s:t instanceof Date?L$:q$(t)?N$:Array.isArray(t)?B$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?R$:Lt)(e,t)}function Gm(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Z6=180/Math.PI,E4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function q9(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Z6,skewX:Math.atan(l)*Z6,scaleX:s,scaleY:o}}var K1;function O$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?E4:q9(t.a,t.b,t.c,t.d,t.e,t.f)}function H$(e){return e==null||(K1||(K1=document.createElementNS("http://www.w3.org/2000/svg","g")),K1.setAttribute("transform",e),!(e=K1.transform.baseVal.consolidate()))?E4:(e=e.matrix,q9(e.a,e.b,e.c,e.d,e.e,e.f))}function B9(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,f,c,h,d,g){if(u!==c||f!==h){var y=d.push("translate(",null,t,null,n);g.push({i:y-4,x:Lt(u,c)},{i:y-2,x:Lt(f,h)})}else(c||h)&&d.push("translate("+c+t+h+n)}function s(u,f,c,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Lt(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function o(u,f,c,h){u!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Lt(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function l(u,f,c,h,d,g){if(u!==c||f!==h){var y=d.push(i(d)+"scale(",null,",",null,")");g.push({i:y-4,x:Lt(u,c)},{i:y-2,x:Lt(f,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(u,f){var c=[],h=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,c,h),s(u.rotate,f.rotate,c,h),o(u.skewX,f.skewX,c,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,h),u=f=null,function(d){for(var g=-1,y=h.length,b;++g<y;)c[(b=h[g]).i]=b.x(d);return c.join("")}}}var V$=B9(O$,"px, ","px)","deg)"),U$=B9(H$,", ",")",")");function j$(e){return function(t,n){var r=e((t=$4(t)).h,(n=$4(n)).h),i=Rt(t.s,n.s),a=Rt(t.l,n.l),s=Rt(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const W$=j$(Ym);function Y$(e,t){var n=Rt((e=T4(e)).l,(t=T4(t)).l),r=Rt(e.a,t.a),i=Rt(e.b,t.b),a=Rt(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function G$(e){return function(t,n){var r=e((t=C4(t)).h,(n=C4(n)).h),i=Rt(t.c,n.c),a=Rt(t.l,n.l),s=Rt(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const X$=G$(Ym);function L9(e){return function t(n){n=+n;function r(i,a){var s=e((i=vr(i)).h,(a=vr(a)).h),o=Rt(i.s,a.s),l=Rt(i.l,a.l),u=Rt(i.opacity,a.opacity);return function(f){return i.h=s(f),i.s=o(f),i.l=l(Math.pow(f,n)),i.opacity=u(f),i+""}}return r.gamma=t,r}(1)}L9(Ym);var Xm=L9(Rt);function Ic(e,t){t===void 0&&(t=e,e=Wl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Un(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var To=0,tl=0,Yo=0,R9=1e3,Vf,nl,Uf=0,zs=0,Nc=0,Cl=typeof performance=="object"&&performance.now?performance:Date,F9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zm(){return zs||(F9(Z$),zs=Cl.now()+Nc)}function Z$(){zs=0}function jf(){this._call=this._time=this._next=null}jf.prototype=P9.prototype={constructor:jf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Zm():+n)+(t==null?0:+t),!this._next&&nl!==this&&(nl?nl._next=this:Vf=this,nl=this),this._call=e,this._time=n,_4()},stop:function(){this._call&&(this._call=null,this._time=1/0,_4())}};function P9(e,t,n){var r=new jf;return r.restart(e,t,n),r}function Q$(){Zm(),++To;for(var e=Vf,t;e;)(t=zs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--To}function Q6(){zs=(Uf=Cl.now())+Nc,To=tl=0;try{Q$()}finally{To=0,J$(),zs=0}}function K$(){var e=Cl.now(),t=e-Uf;t>R9&&(Nc-=t,Uf=e)}function J$(){for(var e,t=Vf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Vf=n);nl=e,_4(r)}function _4(e){if(!To){tl&&(tl=clearTimeout(tl));var t=e-zs;t>24?(e<1/0&&(tl=setTimeout(Q6,e-Cl.now()-Nc)),Yo&&(Yo=clearInterval(Yo))):(Yo||(Uf=Cl.now(),Yo=setInterval(K$,R9)),To=1,F9(Q6))}}function K6(e,t,n){var r=new jf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var eT=f9("start","end","cancel","interrupt"),tT=[],O9=0,J6=1,z4=2,$f=3,e7=4,D4=5,Tf=6;function qc(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;nT(e,n,{name:t,index:r,group:i,on:eT,tween:tT,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:O9})}function Qm(e,t){var n=Xn(e,t);if(n.state>O9)throw new Error("too late; already scheduled");return n}function xr(e,t){var n=Xn(e,t);if(n.state>$f)throw new Error("too late; already running");return n}function Xn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function nT(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=P9(a,0,n.time);function a(u){n.state=J6,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,h,d;if(n.state!==J6)return l();for(f in r)if(d=r[f],d.name===n.name){if(d.state===$f)return K6(s);d.state===e7?(d.state=Tf,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[f]):+f<t&&(d.state=Tf,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[f])}if(K6(function(){n.state===$f&&(n.state=e7,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=z4,n.on.call("start",e,e.__data__,n.index,n.group),n.state===z4){for(n.state=$f,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(d=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=d);i.length=c+1}}function o(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=D4,1),c=-1,h=i.length;++c<h;)i[c].call(e,f);n.state===D4&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Tf,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function rT(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>z4&&r.state<D4,r.state=Tf,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function iT(e){return this.each(function(){rT(this,e)})}function aT(e,t){var n,r;return function(){var i=xr(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function sT(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=xr(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function oT(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Xn(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?aT:sT)(n,e,t))}function Km(e,t,n){var r=e._id;return e.each(function(){var i=xr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Xn(i,r).value[t]}}function H9(e,t){var n;return(typeof t=="number"?Lt:t instanceof Qr?_s:(n=Qr(t))?(t=n,_s):N9)(e,t)}function lT(e){return function(){this.removeAttribute(e)}}function uT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fT(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function cT(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function hT(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function dT(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function mT(e,t){var n=Ec(e),r=n==="transform"?U$:H9;return this.attrTween(e,typeof t=="function"?(n.local?dT:hT)(n,r,Km(this,"attr."+e,t)):t==null?(n.local?uT:lT)(n):(n.local?cT:fT)(n,r,t))}function pT(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function gT(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function vT(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&gT(e,a)),n}return i._value=t,i}function yT(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&pT(e,a)),n}return i._value=t,i}function bT(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ec(e);return this.tween(n,(r.local?vT:yT)(r,t))}function wT(e,t){return function(){Qm(this,e).delay=+t.apply(this,arguments)}}function xT(e,t){return t=+t,function(){Qm(this,e).delay=t}}function MT(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wT:xT)(t,e)):Xn(this.node(),t).delay}function ST(e,t){return function(){xr(this,e).duration=+t.apply(this,arguments)}}function kT(e,t){return t=+t,function(){xr(this,e).duration=t}}function $T(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ST:kT)(t,e)):Xn(this.node(),t).duration}function TT(e,t){if(typeof t!="function")throw new Error;return function(){xr(this,e).ease=t}}function CT(e){var t=this._id;return arguments.length?this.each(TT(t,e)):Xn(this.node(),t).ease}function AT(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xr(this,e).ease=n}}function ET(e){if(typeof e!="function")throw new Error;return this.each(AT(this._id,e))}function _T(e){typeof e!="function"&&(e=h9(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new Kr(r,this._parents,this._name,this._id)}function zT(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=t[o],u=n[o],f=l.length,c=s[o]=new Array(f),h,d=0;d<f;++d)(h=l[d]||u[d])&&(c[d]=h);for(;o<r;++o)s[o]=t[o];return new Kr(s,this._parents,this._name,this._id)}function DT(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function IT(e,t,n){var r,i,a=DT(t)?Qm:xr;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}function NT(e,t){var n=this._id;return arguments.length<2?Xn(this.node(),n).on.on(e):this.each(IT(n,e,t))}function qT(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function BT(){return this.on("end.remove",qT(this._id))}function LT(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hm(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),f,c,h=0;h<l;++h)(f=o[h])&&(c=e.call(f,f.__data__,h,o))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c,qc(u[h],t,n,h,u,Xn(f,n)));return new Kr(a,this._parents,t,n)}function RT(e){var t=this._name,n=this._id;typeof e!="function"&&(e=c9(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,f,c=0;c<u;++c)if(f=l[c]){for(var h=e.call(f,f.__data__,c,l),d,g=Xn(f,n),y=0,b=h.length;y<b;++y)(d=h[y])&&qc(d,t,n,y,h,g);a.push(h),s.push(f)}return new Kr(a,s,t,n)}var FT=Ul.prototype.constructor;function PT(){return new FT(this._groups,this._parents)}function OT(e,t){var n,r,i;return function(){var a=ko(this,e),s=(this.style.removeProperty(e),ko(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function V9(e){return function(){this.style.removeProperty(e)}}function HT(e,t,n){var r,i=n+"",a;return function(){var s=ko(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function VT(e,t,n){var r,i,a;return function(){var s=ko(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),ko(this,e))),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}function UT(e,t){var n,r,i,a="style."+t,s="end."+a,o;return function(){var l=xr(this,e),u=l.on,f=l.value[a]==null?o||(o=V9(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(s,i=f),l.on=r}}function jT(e,t,n){var r=(e+="")=="transform"?V$:H9;return t==null?this.styleTween(e,OT(e,r)).on("end.style."+e,V9(e)):typeof t=="function"?this.styleTween(e,VT(e,r,Km(this,"style."+e,t))).each(UT(this._id,e)):this.styleTween(e,HT(e,r,t),n).on("end.style."+e,null)}function WT(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function YT(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&WT(e,s,n)),r}return a._value=t,a}function GT(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,YT(e,t,n??""))}function XT(e){return function(){this.textContent=e}}function ZT(e){return function(){var t=e(this);this.textContent=t??""}}function QT(e){return this.tween("text",typeof e=="function"?ZT(Km(this,"text",e)):XT(e==null?"":e+""))}function KT(e){return function(t){this.textContent=e.call(this,t)}}function JT(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&KT(i)),t}return r._value=e,r}function eC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,JT(e))}function tC(){for(var e=this._name,t=this._id,n=U9(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var f=Xn(l,t);qc(l,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Kr(r,this._parents,e,n)}function nC(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=xr(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&a()})}var rC=0;function Kr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function U9(){return++rC}var Dr=Ul.prototype;Kr.prototype={constructor:Kr,select:LT,selectAll:RT,selectChild:Dr.selectChild,selectChildren:Dr.selectChildren,filter:_T,merge:zT,selection:PT,transition:tC,call:Dr.call,nodes:Dr.nodes,node:Dr.node,size:Dr.size,empty:Dr.empty,each:Dr.each,on:NT,attr:mT,attrTween:bT,style:jT,styleTween:GT,text:QT,textTween:eC,remove:BT,tween:oT,delay:MT,duration:$T,ease:CT,easeVarying:ET,end:nC,[Symbol.iterator]:Dr[Symbol.iterator]};function iC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var aC={time:null,delay:0,duration:250,ease:iC};function sC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function oC(e){var t,n;e instanceof Kr?(t=e._id,e=e._name):(t=U9(),(n=aC).time=Zm(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&qc(l,e,t,u,s,n||sC(l,t));return new Kr(r,this._parents,e,t)}Ul.prototype.interrupt=iT;Ul.prototype.transition=oC;const I4=Math.PI,N4=2*I4,xs=1e-6,lC=N4-xs;function j9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function uC(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return j9;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fC{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?j9:uC(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,f=s-t,c=o-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>xs)if(!(Math.abs(c*l-u*f)>xs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-s,g=i-o,y=l*l+u*u,b=d*d+g*g,w=Math.sqrt(y),S=Math.sqrt(h),E=a*Math.tan((I4-Math.acos((y+h-b)/(2*w*S)))/2),$=E/S,A=E/w;Math.abs($-1)>xs&&this._append`L${t+$*f},${n+$*c}`,this._append`A${a},${a},0,0,${+(c*d>f*g)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,f=n+l,c=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>xs||Math.abs(this._y1-f)>xs)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%N4+N4),h>lC?this._append`A${r},${r},0,1,${c},${t-o},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>xs&&this._append`A${r},${r},0,${+(h>=I4)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function q4(e=3){return new fC(+e)}function cC(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Co(e){return e=Wf(Math.abs(e)),e?e[1]:NaN}function hC(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function dC(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Al(e){if(!(t=mC.exec(e)))throw new Error("invalid format: "+e);var t;return new Jm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Al.prototype=Jm.prototype;function Jm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pC(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var W9;function gC(e,t){var n=Wf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(W9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Wf(e,Math.max(0,t+a-1))[0]}function t7(e,t){var n=Wf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const n7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cC,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>t7(e*100,t),r:t7,s:gC,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function r7(e){return e}var i7=Array.prototype.map,a7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vC(e){var t=e.grouping===void 0||e.thousands===void 0?r7:hC(i7.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?r7:dC(i7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(c){c=Al(c);var h=c.fill,d=c.align,g=c.sign,y=c.symbol,b=c.zero,w=c.width,S=c.comma,E=c.precision,$=c.trim,A=c.type;A==="n"?(S=!0,A="g"):n7[A]||(E===void 0&&(E=12),$=!0,A="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var D=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=y==="$"?r:/[%p]/.test(A)?s:"",j=n7[A],U=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function k(C){var L=D,z=_,W,V,Q;if(A==="c")z=j(C)+z,C="";else{C=+C;var ae=C<0||1/C<0;if(C=isNaN(C)?l:j(Math.abs(C),E),$&&(C=pC(C)),ae&&+C==0&&g!=="+"&&(ae=!1),L=(ae?g==="("?g:o:g==="-"||g==="("?"":g)+L,z=(A==="s"?a7[8+W9/3]:"")+z+(ae&&g==="("?")":""),U){for(W=-1,V=C.length;++W<V;)if(Q=C.charCodeAt(W),48>Q||Q>57){z=(Q===46?i+C.slice(W+1):C.slice(W))+z,C=C.slice(0,W);break}}}S&&!b&&(C=t(C,1/0));var re=L.length+C.length+z.length,me=re<w?new Array(w-re+1).join(h):"";switch(S&&b&&(C=t(me+C,me.length?w-z.length:1/0),me=""),d){case"<":C=L+C+z+me;break;case"=":C=L+me+C+z;break;case"^":C=me.slice(0,re=me.length>>1)+L+C+z+me.slice(re);break;default:C=me+L+C+z;break}return a(C)}return k.toString=function(){return c+""},k}function f(c,h){var d=u((c=Al(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Co(h)/3)))*3,y=Math.pow(10,-g),b=a7[8+g/3];return function(w){return d(y*w)+b}}return{format:u,formatPrefix:f}}var J1,Yl,Y9;yC({thousands:",",grouping:[3],currency:["$",""]});function yC(e){return J1=vC(e),Yl=J1.format,Y9=J1.formatPrefix,J1}function bC(e){return Math.max(0,-Co(Math.abs(e)))}function wC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Co(t)/3)))*3-Co(Math.abs(e)))}function xC(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Co(t)-Co(e))+1}var Pe=1e-6,G9=1e-12,je=Math.PI,ct=je/2,s7=je/4,vn=je*2,Ot=180/je,ft=je/180,Je=Math.abs,Lo=Math.atan,Jr=Math.atan2,Ve=Math.cos,X9=Math.exp,Yf=Math.log,Bd=Math.pow,Fe=Math.sin,En=Math.sign||function(e){return e>0?1:e<0?-1:0},ln=Math.sqrt,e3=Math.tan;function Z9(e){return e>1?0:e<-1?je:Math.acos(e)}function qn(e){return e>1?ct:e<-1?-ct:Math.asin(e)}function _n(){}function Gf(e,t){e&&l7.hasOwnProperty(e.type)&&l7[e.type](e,t)}var o7={Feature:function(e,t){Gf(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Gf(n[r].geometry,t)}},l7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){B4(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)B4(n[r],t,0)},Polygon:function(e,t){u7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)u7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Gf(n[r],t)}};function B4(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function u7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)B4(e[n],t,1);t.polygonEnd()}function Ss(e,t){e&&o7.hasOwnProperty(e.type)?o7[e.type](e,t):Gf(e,t)}function L4(e){return[Jr(e[1],e[0]),qn(e[2])]}function Ao(e){var t=e[0],n=e[1],r=Ve(n);return[r*Ve(t),r*Fe(t),Fe(n)]}function ef(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Xf(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ld(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function tf(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function R4(e){var t=ln(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function F4(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function P4(e,t){return Je(e)>je&&(e-=Math.round(e/vn)*vn),[e,t]}P4.invert=P4;function Q9(e,t,n){return(e%=vn)?t||n?F4(c7(e),h7(t,n)):c7(e):t||n?h7(t,n):P4}function f7(e){return function(t,n){return t+=e,Je(t)>je&&(t-=Math.round(t/vn)*vn),[t,n]}}function c7(e){var t=f7(e);return t.invert=f7(-e),t}function h7(e,t){var n=Ve(e),r=Fe(e),i=Ve(t),a=Fe(t);function s(o,l){var u=Ve(l),f=Ve(o)*u,c=Fe(o)*u,h=Fe(l),d=h*n+f*r;return[Jr(c*i-d*a,f*n-h*r),qn(d*i+c*a)]}return s.invert=function(o,l){var u=Ve(l),f=Ve(o)*u,c=Fe(o)*u,h=Fe(l),d=h*i-c*a;return[Jr(c*i+h*a,f*n+d*r),qn(d*n-f*r)]},s}function MC(e){e=Q9(e[0]*ft,e[1]*ft,e.length>2?e[2]*ft:0);function t(n){return n=e(n[0]*ft,n[1]*ft),n[0]*=Ot,n[1]*=Ot,n}return t.invert=function(n){return n=e.invert(n[0]*ft,n[1]*ft),n[0]*=Ot,n[1]*=Ot,n},t}function SC(e,t,n,r,i,a){if(n){var s=Ve(t),o=Fe(t),l=r*n;i==null?(i=t+r*vn,a=t-l/2):(i=d7(s,i),a=d7(s,a),(r>0?i<a:i>a)&&(i+=r*vn));for(var u,f=i;r>0?f>a:f<a;f-=l)u=L4([s,-o*Ve(f),-o*Fe(f)]),e.point(u[0],u[1])}}function d7(e,t){t=Ao(t),t[0]-=e,R4(t);var n=Z9(-t[1]);return((-t[2]<0?-n:n)+vn-Pe)%vn}function K9(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:_n,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Cf(e,t){return Je(e[0]-t[0])<Pe&&Je(e[1]-t[1])<Pe}function nf(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function J9(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(g){if(!((y=g.length-1)<=0)){var y,b=g[0],w=g[y],S;if(Cf(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),o=0;o<y;++o)i.point((b=g[o])[0],b[1]);i.lineEnd();return}w[0]+=2*Pe}a.push(S=new nf(b,g,null,!0)),s.push(S.o=new nf(b,null,S,!1)),a.push(S=new nf(w,g,null,!1)),s.push(S.o=new nf(w,null,S,!0))}}),!!a.length){for(s.sort(t),m7(a),m7(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var u=a[0],f,c;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=f.length;o<l;++o)i.point((c=f[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((c=f[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,d=!d}while(!h.v);i.lineEnd()}}}function m7(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Rd(e){return Je(e[0])<=je?e[0]:En(e[0])*((Je(e[0])+je)%vn-je)}function kC(e,t){var n=Rd(t),r=t[1],i=Fe(r),a=[Fe(n),-Ve(n),0],s=0,o=0,l=new Cs;i===1?r=ct+Pe:i===-1&&(r=-ct-Pe);for(var u=0,f=e.length;u<f;++u)if(h=(c=e[u]).length)for(var c,h,d=c[h-1],g=Rd(d),y=d[1]/2+s7,b=Fe(y),w=Ve(y),S=0;S<h;++S,g=$,b=D,w=_,d=E){var E=c[S],$=Rd(E),A=E[1]/2+s7,D=Fe(A),_=Ve(A),j=$-g,U=j>=0?1:-1,k=U*j,C=k>je,L=b*D;if(l.add(Jr(L*U*Fe(k),w*_+L*Ve(k))),s+=C?j+U*vn:j,C^g>=n^$>=n){var z=Xf(Ao(d),Ao(E));R4(z);var W=Xf(a,z);R4(W);var V=(C^j>=0?-1:1)*qn(W[2]);(r>V||r===V&&(z[0]||z[1]))&&(o+=C^j>=0?1:-1)}}return(s<-Pe||s<Pe&&l<-G9)^o&1}function eg(e,t,n,r){return function(i){var a=t(i),s=K9(),o=t(s),l=!1,u,f,c,h={point:d,lineStart:y,lineEnd:b,polygonStart:function(){h.point=w,h.lineStart=S,h.lineEnd=E,f=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=y,h.lineEnd=b,f=u9(f);var $=kC(u,r);f.length?(l||(i.polygonStart(),l=!0),J9(f,TC,$,n,i)):$&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d($,A){e($,A)&&i.point($,A)}function g($,A){a.point($,A)}function y(){h.point=g,a.lineStart()}function b(){h.point=d,a.lineEnd()}function w($,A){c.push([$,A]),o.point($,A)}function S(){o.lineStart(),c=[]}function E(){w(c[0][0],c[0][1]),o.lineEnd();var $=o.clean(),A=s.result(),D,_=A.length,j,U,k;if(c.pop(),u.push(c),c=null,!!_){if($&1){if(U=A[0],(j=U.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),D=0;D<j;++D)i.point((k=U[D])[0],k[1]);i.lineEnd()}return}_>1&&$&2&&A.push(A.pop().concat(A.shift())),f.push(A.filter($C))}}return h}}function $C(e){return e.length>1}function TC(e,t){return((e=e.x)[0]<0?e[1]-ct-Pe:ct-e[1])-((t=t.x)[0]<0?t[1]-ct-Pe:ct-t[1])}const p7=eg(function(){return!0},CC,EC,[-je,-ct]);function CC(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?je:-je,l=Je(a-t);Je(l-je)<Pe?(e.point(t,n=(n+s)/2>0?ct:-ct),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=je&&(Je(t-r)<Pe&&(t-=r*Pe),Je(a-o)<Pe&&(a-=o*Pe),n=AC(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function AC(e,t,n,r){var i,a,s=Fe(e-n);return Je(s)>Pe?Lo((Fe(t)*(a=Ve(r))*Fe(n)-Fe(r)*(i=Ve(t))*Fe(e))/(i*a*s)):(t+r)/2}function EC(e,t,n,r){var i;if(e==null)i=n*ct,r.point(-je,i),r.point(0,i),r.point(je,i),r.point(je,0),r.point(je,-i),r.point(0,-i),r.point(-je,-i),r.point(-je,0),r.point(-je,i);else if(Je(e[0]-t[0])>Pe){var a=e[0]<t[0]?je:-je;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function _C(e){var t=Ve(e),n=6*ft,r=t>0,i=Je(t)>Pe;function a(f,c,h,d){SC(d,e,n,h,f,c)}function s(f,c){return Ve(f)*Ve(c)>t}function o(f){var c,h,d,g,y;return{lineStart:function(){g=d=!1,y=1},point:function(b,w){var S=[b,w],E,$=s(b,w),A=r?$?0:u(b,w):$?u(b+(b<0?je:-je),w):0;if(!c&&(g=d=$)&&f.lineStart(),$!==d&&(E=l(c,S),(!E||Cf(c,E)||Cf(S,E))&&(S[2]=1)),$!==d)y=0,$?(f.lineStart(),E=l(S,c),f.point(E[0],E[1])):(E=l(c,S),f.point(E[0],E[1],2),f.lineEnd()),c=E;else if(i&&c&&r^$){var D;!(A&h)&&(D=l(S,c,!0))&&(y=0,r?(f.lineStart(),f.point(D[0][0],D[0][1]),f.point(D[1][0],D[1][1]),f.lineEnd()):(f.point(D[1][0],D[1][1]),f.lineEnd(),f.lineStart(),f.point(D[0][0],D[0][1],3)))}$&&(!c||!Cf(c,S))&&f.point(S[0],S[1]),c=S,d=$,h=A},lineEnd:function(){d&&f.lineEnd(),c=null},clean:function(){return y|(g&&d)<<1}}}function l(f,c,h){var d=Ao(f),g=Ao(c),y=[1,0,0],b=Xf(d,g),w=ef(b,b),S=b[0],E=w-S*S;if(!E)return!h&&f;var $=t*w/E,A=-t*S/E,D=Xf(y,b),_=tf(y,$),j=tf(b,A);Ld(_,j);var U=D,k=ef(_,U),C=ef(U,U),L=k*k-C*(ef(_,_)-1);if(!(L<0)){var z=ln(L),W=tf(U,(-k-z)/C);if(Ld(W,_),W=L4(W),!h)return W;var V=f[0],Q=c[0],ae=f[1],re=c[1],me;Q<V&&(me=V,V=Q,Q=me);var te=Q-V,se=Je(te-je)<Pe,oe=se||te<Pe;if(!se&&re<ae&&(me=ae,ae=re,re=me),oe?se?ae+re>0^W[1]<(Je(W[0]-V)<Pe?ae:re):ae<=W[1]&&W[1]<=re:te>je^(V<=W[0]&&W[0]<=Q)){var ne=tf(U,(-k+z)/C);return Ld(ne,_),[W,L4(ne)]}}}function u(f,c){var h=r?e:je-e,d=0;return f<-h?d|=1:f>h&&(d|=2),c<-h?d|=4:c>h&&(d|=8),d}return eg(s,o,a,r?[0,-e]:[-je,e-je])}function zC(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],u=t[1],f=0,c=1,h=l-s,d=u-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<f)return;g<c&&(c=g)}else if(h>0){if(g>c)return;g>f&&(f=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>c)return;g>f&&(f=g)}else if(h>0){if(g<f)return;g<c&&(c=g)}if(g=r-o,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<c&&(c=g)}else if(d>0){if(g>c)return;g>f&&(f=g)}if(g=a-o,!(!d&&g<0)){if(g/=d,d<0){if(g>c)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<c&&(c=g)}return f>0&&(e[0]=s+f*h,e[1]=o+f*d),c<1&&(t[0]=s+c*h,t[1]=o+c*d),!0}}}}}var rl=1e9,rf=-rl;function tg(e,t,n,r){function i(u,f){return e<=u&&u<=n&&t<=f&&f<=r}function a(u,f,c,h){var d=0,g=0;if(u==null||(d=s(u,c))!==(g=s(f,c))||l(u,f)<0^c>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+c+4)%4)!==g);else h.point(f[0],f[1])}function s(u,f){return Je(u[0]-e)<Pe?f>0?0:3:Je(u[0]-n)<Pe?f>0?2:1:Je(u[1]-t)<Pe?f>0?1:0:f>0?3:2}function o(u,f){return l(u.x,f.x)}function l(u,f){var c=s(u,1),h=s(f,1);return c!==h?c-h:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=K9(),h,d,g,y,b,w,S,E,$,A,D,_={point:j,lineStart:L,lineEnd:z,polygonStart:k,polygonEnd:C};function j(V,Q){i(V,Q)&&f.point(V,Q)}function U(){for(var V=0,Q=0,ae=d.length;Q<ae;++Q)for(var re=d[Q],me=1,te=re.length,se=re[0],oe,ne,Se=se[0],Ce=se[1];me<te;++me)oe=Se,ne=Ce,se=re[me],Se=se[0],Ce=se[1],ne<=r?Ce>r&&(Se-oe)*(r-ne)>(Ce-ne)*(e-oe)&&++V:Ce<=r&&(Se-oe)*(r-ne)<(Ce-ne)*(e-oe)&&--V;return V}function k(){f=c,h=[],d=[],D=!0}function C(){var V=U(),Q=D&&V,ae=(h=u9(h)).length;(Q||ae)&&(u.polygonStart(),Q&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),ae&&J9(h,o,V,a,u),u.polygonEnd()),f=u,h=d=g=null}function L(){_.point=W,d&&d.push(g=[]),A=!0,$=!1,S=E=NaN}function z(){h&&(W(y,b),w&&$&&c.rejoin(),h.push(c.result())),_.point=j,$&&f.lineEnd()}function W(V,Q){var ae=i(V,Q);if(d&&g.push([V,Q]),A)y=V,b=Q,w=ae,A=!1,ae&&(f.lineStart(),f.point(V,Q));else if(ae&&$)f.point(V,Q);else{var re=[S=Math.max(rf,Math.min(rl,S)),E=Math.max(rf,Math.min(rl,E))],me=[V=Math.max(rf,Math.min(rl,V)),Q=Math.max(rf,Math.min(rl,Q))];zC(re,me,e,t,n,r)?($||(f.lineStart(),f.point(re[0],re[1])),f.point(me[0],me[1]),ae||f.lineEnd(),D=!1):ae&&(f.lineStart(),f.point(V,Q),D=!1)}S=V,E=Q,$=ae}return _}}const O4=e=>e;var Fd=new Cs,H4=new Cs,ng,rg,V4,U4,D0={point:_n,lineStart:_n,lineEnd:_n,polygonStart:function(){D0.lineStart=DC,D0.lineEnd=NC},polygonEnd:function(){D0.lineStart=D0.lineEnd=D0.point=_n,Fd.add(Je(H4)),H4=new Cs},result:function(){var e=Fd/2;return Fd=new Cs,e}};function DC(){D0.point=IC}function IC(e,t){D0.point=ig,ng=V4=e,rg=U4=t}function ig(e,t){H4.add(U4*e-V4*t),V4=e,U4=t}function NC(){ig(ng,rg)}const g7=D0;var Eo=1/0,Zf=Eo,El=-Eo,Qf=El,qC={point:BC,lineStart:_n,lineEnd:_n,polygonStart:_n,polygonEnd:_n,result:function(){var e=[[Eo,Zf],[El,Qf]];return El=Qf=-(Zf=Eo=1/0),e}};function BC(e,t){e<Eo&&(Eo=e),e>El&&(El=e),t<Zf&&(Zf=t),t>Qf&&(Qf=t)}const Kf=qC;var j4=0,W4=0,il=0,Jf=0,ec=0,mo=0,Y4=0,G4=0,al=0,ag,sg,lr,ur,On={point:Ds,lineStart:v7,lineEnd:y7,polygonStart:function(){On.lineStart=FC,On.lineEnd=PC},polygonEnd:function(){On.point=Ds,On.lineStart=v7,On.lineEnd=y7},result:function(){var e=al?[Y4/al,G4/al]:mo?[Jf/mo,ec/mo]:il?[j4/il,W4/il]:[NaN,NaN];return j4=W4=il=Jf=ec=mo=Y4=G4=al=0,e}};function Ds(e,t){j4+=e,W4+=t,++il}function v7(){On.point=LC}function LC(e,t){On.point=RC,Ds(lr=e,ur=t)}function RC(e,t){var n=e-lr,r=t-ur,i=ln(n*n+r*r);Jf+=i*(lr+e)/2,ec+=i*(ur+t)/2,mo+=i,Ds(lr=e,ur=t)}function y7(){On.point=Ds}function FC(){On.point=OC}function PC(){og(ag,sg)}function OC(e,t){On.point=og,Ds(ag=lr=e,sg=ur=t)}function og(e,t){var n=e-lr,r=t-ur,i=ln(n*n+r*r);Jf+=i*(lr+e)/2,ec+=i*(ur+t)/2,mo+=i,i=ur*e-lr*t,Y4+=i*(lr+e),G4+=i*(ur+t),al+=i*3,Ds(lr=e,ur=t)}const b7=On;function lg(e){this._context=e}lg.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,vn);break}}},result:_n};var X4=new Cs,Pd,ug,fg,sl,ol,tc={point:_n,lineStart:function(){tc.point=HC},lineEnd:function(){Pd&&cg(ug,fg),tc.point=_n},polygonStart:function(){Pd=!0},polygonEnd:function(){Pd=null},result:function(){var e=+X4;return X4=new Cs,e}};function HC(e,t){tc.point=cg,ug=sl=e,fg=ol=t}function cg(e,t){sl-=e,ol-=t,X4.add(ln(sl*sl+ol*ol)),sl=e,ol=t}const w7=tc;let x7,nc,M7,S7;class k7{constructor(t){this._append=t==null?hg:VC(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==M7||this._append!==nc){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,M7=r,nc=this._append,S7=this._,this._=i}this._+=S7;break}}}result(){const t=this._;return this._="",t.length?t:null}}function hg(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function VC(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return hg;if(t!==x7){const n=10**t;x7=t,nc=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return nc}function dg(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Ss(o,i(a))),a.result()}return s.area=function(o){return Ss(o,i(g7)),g7.result()},s.measure=function(o){return Ss(o,i(w7)),w7.result()},s.bounds=function(o){return Ss(o,i(Kf)),Kf.result()},s.centroid=function(o){return Ss(o,i(b7)),b7.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,O4):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new k7(n)):new lg(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(a=new k7(n)),s},s.projection(e).digits(n).context(t)}function Z4(e){return{stream:Bc(e)}}function Bc(e){return function(t){var n=new Q4;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Q4(){}Q4.prototype={constructor:Q4,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function t3(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Ss(n,e.stream(Kf)),t(Kf.result()),r!=null&&e.clipExtent(r),e}function n3(e,t,n){return t3(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,l])},n)}function mg(e,t,n){return n3(e,[[0,0],t],n)}function pg(e,t,n){return t3(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function gg(e,t,n){return t3(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var $7=16,UC=Ve(30*ft);function T7(e,t){return+t?WC(e,t):jC(e)}function jC(e){return Bc({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function WC(e,t){function n(r,i,a,s,o,l,u,f,c,h,d,g,y,b){var w=u-r,S=f-i,E=w*w+S*S;if(E>4*t&&y--){var $=s+h,A=o+d,D=l+g,_=ln($*$+A*A+D*D),j=qn(D/=_),U=Je(Je(D)-1)<Pe||Je(a-c)<Pe?(a+c)/2:Jr(A,$),k=e(U,j),C=k[0],L=k[1],z=C-r,W=L-i,V=S*z-w*W;(V*V/E>t||Je((w*z+S*W)/E-.5)>.3||s*h+o*d+l*g<UC)&&(n(r,i,a,s,o,l,C,L,U,$/=_,A/=_,D,y,b),b.point(C,L),n(C,L,U,$,A,D,u,f,c,h,d,g,y,b))}}return function(r){var i,a,s,o,l,u,f,c,h,d,g,y,b={point:w,lineStart:S,lineEnd:$,polygonStart:function(){r.polygonStart(),b.lineStart=A},polygonEnd:function(){r.polygonEnd(),b.lineStart=S}};function w(j,U){j=e(j,U),r.point(j[0],j[1])}function S(){c=NaN,b.point=E,r.lineStart()}function E(j,U){var k=Ao([j,U]),C=e(j,U);n(c,h,f,d,g,y,c=C[0],h=C[1],f=j,d=k[0],g=k[1],y=k[2],$7,r),r.point(c,h)}function $(){b.point=w,r.lineEnd()}function A(){S(),b.point=D,b.lineEnd=_}function D(j,U){E(i=j,U),a=c,s=h,o=d,l=g,u=y,b.point=E}function _(){n(c,h,f,d,g,y,a,s,i,o,l,u,$7,r),b.lineEnd=$,$()}return b}}var YC=Bc({point:function(e,t){this.stream.point(e*ft,t*ft)}});function GC(e){return Bc({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function XC(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function C7(e,t,n,r,i,a){if(!a)return XC(e,t,n,r,i);var s=Ve(a),o=Fe(a),l=s*e,u=o*e,f=s/e,c=o/e,h=(o*n-s*t)/e,d=(o*t+s*n)/e;function g(y,b){return y*=r,b*=i,[l*y-u*b+t,n-u*y-l*b]}return g.invert=function(y,b){return[r*(f*y-c*b+h),i*(d-c*y-f*b)]},g}function V0(e){return vg(function(){return e})()}function vg(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,l=0,u=0,f,c=0,h=1,d=1,g=null,y=p7,b=null,w,S,E,$=O4,A=.5,D,_,j,U,k;function C(V){return j(V[0]*ft,V[1]*ft)}function L(V){return V=j.invert(V[0],V[1]),V&&[V[0]*Ot,V[1]*Ot]}C.stream=function(V){return U&&k===V?U:U=YC(GC(f)(y(D($(k=V)))))},C.preclip=function(V){return arguments.length?(y=V,g=void 0,W()):y},C.postclip=function(V){return arguments.length?($=V,b=w=S=E=null,W()):$},C.clipAngle=function(V){return arguments.length?(y=+V?_C(g=V*ft):(g=null,p7),W()):g*Ot},C.clipExtent=function(V){return arguments.length?($=V==null?(b=w=S=E=null,O4):tg(b=+V[0][0],w=+V[0][1],S=+V[1][0],E=+V[1][1]),W()):b==null?null:[[b,w],[S,E]]},C.scale=function(V){return arguments.length?(n=+V,z()):n},C.translate=function(V){return arguments.length?(r=+V[0],i=+V[1],z()):[r,i]},C.center=function(V){return arguments.length?(a=V[0]%360*ft,s=V[1]%360*ft,z()):[a*Ot,s*Ot]},C.rotate=function(V){return arguments.length?(o=V[0]%360*ft,l=V[1]%360*ft,u=V.length>2?V[2]%360*ft:0,z()):[o*Ot,l*Ot,u*Ot]},C.angle=function(V){return arguments.length?(c=V%360*ft,z()):c*Ot},C.reflectX=function(V){return arguments.length?(h=V?-1:1,z()):h<0},C.reflectY=function(V){return arguments.length?(d=V?-1:1,z()):d<0},C.precision=function(V){return arguments.length?(D=T7(_,A=V*V),W()):ln(A)},C.fitExtent=function(V,Q){return n3(C,V,Q)},C.fitSize=function(V,Q){return mg(C,V,Q)},C.fitWidth=function(V,Q){return pg(C,V,Q)},C.fitHeight=function(V,Q){return gg(C,V,Q)};function z(){var V=C7(n,0,0,h,d,c).apply(null,t(a,s)),Q=C7(n,r-V[0],i-V[1],h,d,c);return f=Q9(o,l,u),_=F4(t,Q),j=F4(f,_),D=T7(_,A),W()}function W(){return U=k=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&L,z()}}function r3(e){var t=0,n=je/3,r=vg(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*ft,n=a[1]*ft):[t*Ot,n*Ot]},i}function ZC(e){var t=Ve(e);function n(r,i){return[r*t,Fe(i)/t]}return n.invert=function(r,i){return[r/t,qn(i*t)]},n}function QC(e,t){var n=Fe(e),r=(n+Fe(t))/2;if(Je(r)<Pe)return ZC(e);var i=1+n*(2*r-n),a=ln(i)/r;function s(o,l){var u=ln(i-2*r*Fe(l))/r;return[u*Fe(o*=r),a-u*Ve(o)]}return s.invert=function(o,l){var u=a-l,f=Jr(o,Je(u))*En(u);return u*r<0&&(f-=je*En(o)*En(u)),[f/r,qn((i-(o*o+u*u)*r*r)/(2*r))]},s}function rc(){return r3(QC).scale(155.424).center([0,33.6442])}function yg(){return rc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function KC(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function JC(){var e,t,n=yg(),r,i=rc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=rc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(h,d){l=[h,d]}};function f(h){var d=h[0],g=h[1];return l=null,r.point(d,g),l||(a.point(d,g),l)||(o.point(d,g),l)}f.invert=function(h){var d=n.scale(),g=n.translate(),y=(h[0]-g[0])/d,b=(h[1]-g[1])/d;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?i:b>=.166&&b<.234&&y>=-.214&&y<-.115?s:n).invert(h)},f.stream=function(h){return e&&t===h?e:e=KC([n.stream(t=h),i.stream(h),s.stream(h)])},f.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),c()):n.precision()},f.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),f.translate(n.translate())):n.scale()},f.translate=function(h){if(!arguments.length)return n.translate();var d=n.scale(),g=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[g-.455*d,y-.238*d],[g+.455*d,y+.238*d]]).stream(u),a=i.translate([g-.307*d,y+.201*d]).clipExtent([[g-.425*d+Pe,y+.12*d+Pe],[g-.214*d-Pe,y+.234*d-Pe]]).stream(u),o=s.translate([g-.205*d,y+.212*d]).clipExtent([[g-.214*d+Pe,y+.166*d+Pe],[g-.115*d-Pe,y+.234*d-Pe]]).stream(u),c()},f.fitExtent=function(h,d){return n3(f,h,d)},f.fitSize=function(h,d){return mg(f,h,d)},f.fitWidth=function(h,d){return pg(f,h,d)},f.fitHeight=function(h,d){return gg(f,h,d)};function c(){return e=t=null,f}return f.scale(1070)}function bg(e){return function(t,n){var r=Ve(t),i=Ve(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Fe(t),a*Fe(n)]}}function Gl(e){return function(t,n){var r=ln(t*t+n*n),i=e(r),a=Fe(i),s=Ve(i);return[Jr(t*a,r*s),qn(r&&n*a/r)]}}var wg=bg(function(e){return ln(2/(1+e))});wg.invert=Gl(function(e){return 2*qn(e/2)});function eA(){return V0(wg).scale(124.75).clipAngle(180-.001)}var xg=bg(function(e){return(e=Z9(e))&&e/Fe(e)});xg.invert=Gl(function(e){return e});function tA(){return V0(xg).scale(79.4188).clipAngle(180-.001)}function Lc(e,t){return[e,Yf(e3((ct+t)/2))]}Lc.invert=function(e,t){return[e,2*Lo(X9(t))-ct]};function nA(){return Mg(Lc).scale(961/vn)}function Mg(e){var t=V0(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,u;t.scale=function(c){return arguments.length?(r(c),f()):r()},t.translate=function(c){return arguments.length?(i(c),f()):i()},t.center=function(c){return arguments.length?(n(c),f()):n()},t.clipExtent=function(c){return arguments.length?(c==null?s=o=l=u=null:(s=+c[0][0],o=+c[0][1],l=+c[1][0],u=+c[1][1]),f()):s==null?null:[[s,o],[l,u]]};function f(){var c=je*r(),h=t(MC(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:e===Lc?[[Math.max(h[0]-c,s),o],[Math.min(h[0]+c,l),u]]:[[s,Math.max(h[1]-c,o)],[l,Math.min(h[1]+c,u)]])}return f()}function af(e){return e3((ct+e)/2)}function rA(e,t){var n=Ve(e),r=e===t?Fe(e):Yf(n/Ve(t))/Yf(af(t)/af(e)),i=n*Bd(af(e),r)/r;if(!r)return Lc;function a(s,o){i>0?o<-ct+Pe&&(o=-ct+Pe):o>ct-Pe&&(o=ct-Pe);var l=i/Bd(af(o),r);return[l*Fe(r*s),i-l*Ve(r*s)]}return a.invert=function(s,o){var l=i-o,u=En(r)*ln(s*s+l*l),f=Jr(s,Je(l))*En(l);return l*r<0&&(f-=je*En(s)*En(l)),[f/r,2*Lo(Bd(i/u,1/r))-ct]},a}function iA(){return r3(rA).scale(109.5).parallels([30,30])}function ic(e,t){return[e,t]}ic.invert=ic;function aA(){return V0(ic).scale(152.63)}function sA(e,t){var n=Ve(e),r=e===t?Fe(e):(n-Ve(t))/(t-e),i=n/r+e;if(Je(r)<Pe)return ic;function a(s,o){var l=i-o,u=r*s;return[l*Fe(u),i-l*Ve(u)]}return a.invert=function(s,o){var l=i-o,u=Jr(s,Je(l))*En(l);return l*r<0&&(u-=je*En(s)*En(l)),[u/r,i-En(r)*ln(s*s+l*l)]},a}function oA(){return r3(sA).scale(131.154).center([0,13.9389])}var dl=1.340264,ml=-.081106,pl=893e-6,gl=.003796,ac=ln(3)/2,lA=12;function Sg(e,t){var n=qn(ac*Fe(t)),r=n*n,i=r*r*r;return[e*Ve(n)/(ac*(dl+3*ml*r+i*(7*pl+9*gl*r))),n*(dl+ml*r+i*(pl+gl*r))]}Sg.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,l;a<lA&&(o=n*(dl+ml*r+i*(pl+gl*r))-t,l=dl+3*ml*r+i*(7*pl+9*gl*r),n-=s=o/l,r=n*n,i=r*r*r,!(Je(s)<G9));++a);return[ac*e*(dl+3*ml*r+i*(7*pl+9*gl*r))/Ve(n),qn(Fe(n)/ac)]};function uA(){return V0(Sg).scale(177.158)}function kg(e,t){var n=Ve(t),r=Ve(e)*n;return[n*Fe(e)/r,Fe(t)/r]}kg.invert=Gl(Lo);function fA(){return V0(kg).scale(144.049).clipAngle(60)}function $g(e,t){return[Ve(t)*Fe(e),Fe(t)]}$g.invert=Gl(qn);function cA(){return V0($g).scale(249.5).clipAngle(90+Pe)}function Tg(e,t){var n=Ve(t),r=1+Ve(e)*n;return[n*Fe(e)/r,Fe(t)/r]}Tg.invert=Gl(function(e){return 2*Lo(e)});function hA(){return V0(Tg).scale(250).clipAngle(142)}function Cg(e,t){return[Yf(e3((ct+t)/2)),-e]}Cg.invert=function(e,t){return[-t,2*Lo(X9(e))-ct]};function dA(){var e=Mg(Cg),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const i3=Math.random,mA=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(i3),A7=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(i3),pA=function e(t){function n(r,i){var a,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var o;if(a!=null)o=a,a=null;else do a=t()*2-1,o=t()*2-1,s=a*a+o*o;while(!s||s>1);return r+i*o*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(i3);function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Rc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const K4=Symbol("implicit");function a3(){var e=new As,t=[],n=[],r=K4;function i(a){let s=e.get(a);if(s===void 0){if(r!==K4)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new As;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return a3(t,n).unknown(r)},Mr.apply(i,arguments),i}function Fc(){var e=a3().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,f=.5;delete e.unknown;function c(){var h=t().length,d=i<r,g=d?i:r,y=d?r:i;a=(y-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*f,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var b=M4(h).map(function(w){return g+a*w});return n(d?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),c()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,c()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},e.copy=function(){return Fc(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(f)},Mr.apply(c(),arguments)}function Ag(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ag(t())},e}function gA(){return Ag(Fc.apply(null,arguments).paddingInner(1))}function vA(e){return function(){return e}}function J4(e){return+e}var E7=[0,1];function zn(e){return e}function em(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:vA(isNaN(t)?NaN:.5)}function yA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bA(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=em(i,r),a=n(s,a)):(r=em(r,i),a=n(a,s)),function(o){return a(r(o))}}function wA(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=em(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Ac(e,o,1,r)-1;return a[l](i[l](o))}}function Xl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pc(){var e=E7,t=E7,n=Wl,r,i,a,s=zn,o,l,u;function f(){var h=Math.min(e.length,t.length);return s!==zn&&(s=yA(e[0],e[h-1])),o=h>2?wA:bA,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return c.invert=function(h){return s(i((u||(u=o(t,e.map(r),Lt)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,J4),f()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=Gm,f()},c.clamp=function(h){return arguments.length?(s=h?!0:zn,f()):s!==zn},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,d){return r=h,i=d,f()}}function Eg(){return Pc()(zn,zn)}function xA(e,t,n,r){var i=x4(e,t,n),a;switch(r=Al(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=wC(i,s))&&(r.precision=a),Y9(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=xC(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bC(i))&&(r.precision=a-(r.type==="%")*2);break}}return Yl(r)}function Zl(e){var t=e.domain;return e.ticks=function(n){var r=t();return kl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return xA(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,f=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);f-- >0;){if(u=Lf(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function s3(){var e=Eg();return e.copy=function(){return Xl(e,s3())},Mr.apply(e,arguments),Zl(e)}function _g(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,J4),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return _g(e).unknown(t)},e=arguments.length?Array.from(e,J4):[0,1],Zl(n)}function zg(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function _7(e){return Math.log(e)}function z7(e){return Math.exp(e)}function MA(e){return-Math.log(-e)}function SA(e){return-Math.exp(-e)}function kA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $A(e){return e===10?kA:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TA(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function D7(e){return(t,n)=>-e(-t,n)}function Dg(e){const t=e(_7,z7),n=t.domain;let r=10,i,a;function s(){return i=TA(r),a=$A(r),n()[0]<0?(i=D7(i),a=D7(a),e(MA,SA)):e(_7,z7),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=i(u),d=i(f),g,y;const b=o==null?10:+o;let w=[];if(!(r%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>f)break;w.push(y)}}else for(;h<=d;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>f)break;w.push(y)}w.length*2<b&&(w=kl(u,f,b))}else w=kl(h,d,Math.min(d-h,b)).map(a);return c?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Al(l)).precision==null&&(l.trim=!0),l=Yl(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},t.nice=()=>n(zg(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function Ig(){const e=Dg(Pc()).domain([1,10]);return e.copy=()=>Xl(e,Ig()).base(e.base()),Mr.apply(e,arguments),e}function I7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function N7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ng(e){var t=1,n=e(I7(t),N7(t));return n.constant=function(r){return arguments.length?e(I7(t=+r),N7(t)):t},Zl(n)}function qg(){var e=Ng(Pc());return e.copy=function(){return Xl(e,qg()).constant(e.constant())},Mr.apply(e,arguments)}function q7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CA(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AA(e){return e<0?-e*e:e*e}function Bg(e){var t=e(zn,zn),n=1;function r(){return n===1?e(zn,zn):n===.5?e(CA,AA):e(q7(n),q7(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Zl(t)}function Lg(){var e=Bg(Pc());return e.copy=function(){return Xl(e,Lg()).exponent(e.exponent())},Mr.apply(e,arguments),e}function Rg(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=vS(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Ac(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(sn),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Rg().domain(e).range(t).unknown(r)},Mr.apply(a,arguments)}function Fg(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ac(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Fg().domain(e).range(t).unknown(n)},Mr.apply(i,arguments)}const Od=new Date,Hd=new Date;function kt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>kt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Od.setTime(+a),Hd.setTime(+s),e(Od),e(Hd),Math.floor(n(Od,Hd))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const sc=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sc);sc.range;const Or=1e3,Dn=Or*60,Hr=Dn*60,e0=Hr*24,o3=e0*7,B7=e0*30,Vd=e0*365,Vr=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCSeconds());Vr.range;const Oc=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Or)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());Oc.range;const Hc=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());Hc.range;const Vc=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Or-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*Hr)},(e,t)=>(t-e)/Hr,e=>e.getHours());Vc.range;const Uc=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hr)},(e,t)=>(t-e)/Hr,e=>e.getUTCHours());Uc.range;const Ro=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/e0,e=>e.getDate()-1);Ro.range;const jc=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/e0,e=>e.getUTCDate()-1);jc.range;const l3=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/e0,e=>Math.floor(e/e0));l3.range;function Ls(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/o3)}const _o=Ls(0),_l=Ls(1),Pg=Ls(2),Og=Ls(3),Is=Ls(4),Hg=Ls(5),Vg=Ls(6);_o.range;_l.range;Pg.range;Og.range;Is.range;Hg.range;Vg.range;function Rs(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/o3)}const zo=Rs(0),zl=Rs(1),Ug=Rs(2),jg=Rs(3),Ns=Rs(4),Wg=Rs(5),Yg=Rs(6);zo.range;zl.range;Ug.range;jg.range;Ns.range;Wg.range;Yg.range;const Wc=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Wc.range;const Yc=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yc.range;const jn=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});jn.range;const Wn=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wn.range;function Gg(e,t,n,r,i,a){const s=[[Vr,1,Or],[Vr,5,5*Or],[Vr,15,15*Or],[Vr,30,30*Or],[a,1,Dn],[a,5,5*Dn],[a,15,15*Dn],[a,30,30*Dn],[i,1,Hr],[i,3,3*Hr],[i,6,6*Hr],[i,12,12*Hr],[r,1,e0],[r,2,2*e0],[n,1,o3],[t,1,B7],[t,3,3*B7],[e,1,Vd]];function o(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const d=c&&typeof c.range=="function"?c:l(u,f,c),g=d?d.range(u,+f+1):[];return h?g.reverse():g}function l(u,f,c){const h=Math.abs(f-u)/c,d=Ml(([,,b])=>b).right(s,h);if(d===s.length)return e.every(x4(u/Vd,f/Vd,c));if(d===0)return sc.every(Math.max(x4(u,f,c),1));const[g,y]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(y)}return[o,l]}const[EA,Xg]=Gg(Wn,Yc,zo,l3,Uc,Hc),[_A,zA]=Gg(jn,Wc,_o,Ro,Vc,Oc);function Ud(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Go(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function DA(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Xo(i),f=Zo(i),c=Xo(a),h=Zo(a),d=Xo(s),g=Zo(s),y=Xo(o),b=Zo(o),w=Xo(l),S=Zo(l),E={a:ae,A:re,b:me,B:te,c:null,d:H7,e:H7,f:tE,g:cE,G:dE,H:KA,I:JA,j:eE,L:Zg,m:nE,M:rE,p:se,q:oe,Q:j7,s:W7,S:iE,u:aE,U:sE,V:oE,w:lE,W:uE,x:null,X:null,y:fE,Y:hE,Z:mE,"%":U7},$={a:ne,A:Se,b:Ce,B:_e,c:null,d:V7,e:V7,f:yE,g:AE,G:_E,H:pE,I:gE,j:vE,L:Kg,m:bE,M:wE,p:ue,q:ce,Q:j7,s:W7,S:xE,u:ME,U:SE,V:kE,w:$E,W:TE,x:null,X:null,y:CE,Y:EE,Z:zE,"%":U7},A={a:k,A:C,b:L,B:z,c:W,d:P7,e:P7,f:GA,g:F7,G:R7,H:O7,I:O7,j:UA,L:YA,m:VA,M:jA,p:U,q:HA,Q:ZA,s:QA,S:WA,u:LA,U:RA,V:FA,w:BA,W:PA,x:V,X:Q,y:F7,Y:R7,Z:OA,"%":XA};E.x=D(n,E),E.X=D(r,E),E.c=D(t,E),$.x=D(n,$),$.X=D(r,$),$.c=D(t,$);function D(K,xe){return function(Te){var Y=[],ke=-1,Ee=0,Be=K.length,Le,Ge,mt;for(Te instanceof Date||(Te=new Date(+Te));++ke<Be;)K.charCodeAt(ke)===37&&(Y.push(K.slice(Ee,ke)),(Ge=L7[Le=K.charAt(++ke)])!=null?Le=K.charAt(++ke):Ge=Le==="e"?" ":"0",(mt=xe[Le])&&(Le=mt(Te,Ge)),Y.push(Le),Ee=ke+1);return Y.push(K.slice(Ee,ke)),Y.join("")}}function _(K,xe){return function(Te){var Y=Go(1900,void 0,1),ke=j(Y,K,Te+="",0),Ee,Be;if(ke!=Te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(xe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=jd(Go(Y.y,0,1)),Be=Ee.getUTCDay(),Ee=Be>4||Be===0?zl.ceil(Ee):zl(Ee),Ee=jc.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=Ud(Go(Y.y,0,1)),Be=Ee.getDay(),Ee=Be>4||Be===0?_l.ceil(Ee):_l(Ee),Ee=Ro.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Be="Z"in Y?jd(Go(Y.y,0,1)).getUTCDay():Ud(Go(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Be+5)%7:Y.w+Y.U*7-(Be+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,jd(Y)):Ud(Y)}}function j(K,xe,Te,Y){for(var ke=0,Ee=xe.length,Be=Te.length,Le,Ge;ke<Ee;){if(Y>=Be)return-1;if(Le=xe.charCodeAt(ke++),Le===37){if(Le=xe.charAt(ke++),Ge=A[Le in L7?xe.charAt(ke++):Le],!Ge||(Y=Ge(K,Te,Y))<0)return-1}else if(Le!=Te.charCodeAt(Y++))return-1}return Y}function U(K,xe,Te){var Y=u.exec(xe.slice(Te));return Y?(K.p=f.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function k(K,xe,Te){var Y=d.exec(xe.slice(Te));return Y?(K.w=g.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function C(K,xe,Te){var Y=c.exec(xe.slice(Te));return Y?(K.w=h.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function L(K,xe,Te){var Y=w.exec(xe.slice(Te));return Y?(K.m=S.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function z(K,xe,Te){var Y=y.exec(xe.slice(Te));return Y?(K.m=b.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function W(K,xe,Te){return j(K,t,xe,Te)}function V(K,xe,Te){return j(K,n,xe,Te)}function Q(K,xe,Te){return j(K,r,xe,Te)}function ae(K){return s[K.getDay()]}function re(K){return a[K.getDay()]}function me(K){return l[K.getMonth()]}function te(K){return o[K.getMonth()]}function se(K){return i[+(K.getHours()>=12)]}function oe(K){return 1+~~(K.getMonth()/3)}function ne(K){return s[K.getUTCDay()]}function Se(K){return a[K.getUTCDay()]}function Ce(K){return l[K.getUTCMonth()]}function _e(K){return o[K.getUTCMonth()]}function ue(K){return i[+(K.getUTCHours()>=12)]}function ce(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var xe=D(K+="",E);return xe.toString=function(){return K},xe},parse:function(K){var xe=_(K+="",!1);return xe.toString=function(){return K},xe},utcFormat:function(K){var xe=D(K+="",$);return xe.toString=function(){return K},xe},utcParse:function(K){var xe=_(K+="",!0);return xe.toString=function(){return K},xe}}}var L7={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,IA=/^%/,NA=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function qA(e){return e.replace(NA,"\\$&")}function Xo(e){return new RegExp("^(?:"+e.map(qA).join("|")+")","i")}function Zo(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function BA(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function LA(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function RA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function FA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function PA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function R7(e,t,n){var r=Et.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function F7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function OA(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function HA(e,t,n){var r=Et.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function VA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function P7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function UA(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function O7(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function jA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function WA(e,t,n){var r=Et.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function YA(e,t,n){var r=Et.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function GA(e,t,n){var r=Et.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function XA(e,t,n){var r=IA.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ZA(e,t,n){var r=Et.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function QA(e,t,n){var r=Et.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function H7(e,t){return Qe(e.getDate(),t,2)}function KA(e,t){return Qe(e.getHours(),t,2)}function JA(e,t){return Qe(e.getHours()%12||12,t,2)}function eE(e,t){return Qe(1+Ro.count(jn(e),e),t,3)}function Zg(e,t){return Qe(e.getMilliseconds(),t,3)}function tE(e,t){return Zg(e,t)+"000"}function nE(e,t){return Qe(e.getMonth()+1,t,2)}function rE(e,t){return Qe(e.getMinutes(),t,2)}function iE(e,t){return Qe(e.getSeconds(),t,2)}function aE(e){var t=e.getDay();return t===0?7:t}function sE(e,t){return Qe(_o.count(jn(e)-1,e),t,2)}function Qg(e){var t=e.getDay();return t>=4||t===0?Is(e):Is.ceil(e)}function oE(e,t){return e=Qg(e),Qe(Is.count(jn(e),e)+(jn(e).getDay()===4),t,2)}function lE(e){return e.getDay()}function uE(e,t){return Qe(_l.count(jn(e)-1,e),t,2)}function fE(e,t){return Qe(e.getFullYear()%100,t,2)}function cE(e,t){return e=Qg(e),Qe(e.getFullYear()%100,t,2)}function hE(e,t){return Qe(e.getFullYear()%1e4,t,4)}function dE(e,t){var n=e.getDay();return e=n>=4||n===0?Is(e):Is.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function mE(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function V7(e,t){return Qe(e.getUTCDate(),t,2)}function pE(e,t){return Qe(e.getUTCHours(),t,2)}function gE(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function vE(e,t){return Qe(1+jc.count(Wn(e),e),t,3)}function Kg(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function yE(e,t){return Kg(e,t)+"000"}function bE(e,t){return Qe(e.getUTCMonth()+1,t,2)}function wE(e,t){return Qe(e.getUTCMinutes(),t,2)}function xE(e,t){return Qe(e.getUTCSeconds(),t,2)}function ME(e){var t=e.getUTCDay();return t===0?7:t}function SE(e,t){return Qe(zo.count(Wn(e)-1,e),t,2)}function Jg(e){var t=e.getUTCDay();return t>=4||t===0?Ns(e):Ns.ceil(e)}function kE(e,t){return e=Jg(e),Qe(Ns.count(Wn(e),e)+(Wn(e).getUTCDay()===4),t,2)}function $E(e){return e.getUTCDay()}function TE(e,t){return Qe(zl.count(Wn(e)-1,e),t,2)}function CE(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function AE(e,t){return e=Jg(e),Qe(e.getUTCFullYear()%100,t,2)}function EE(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function _E(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ns(e):Ns.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function zE(){return"+0000"}function U7(){return"%"}function j7(e){return+e}function W7(e){return Math.floor(+e/1e3)}var oo,Gc,Dl;DE({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DE(e){return oo=DA(e),Gc=oo.format,oo.parse,Dl=oo.utcFormat,oo.utcParse,oo}function IE(e){return new Date(e)}function NE(e){return e instanceof Date?+e:+new Date(+e)}function u3(e,t,n,r,i,a,s,o,l,u){var f=Eg(),c=f.invert,h=f.domain,d=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),S=u("%b %d"),E=u("%B"),$=u("%Y");function A(D){return(l(D)<D?d:o(D)<D?g:s(D)<D?y:a(D)<D?b:r(D)<D?i(D)<D?w:S:n(D)<D?E:$)(D)}return f.invert=function(D){return new Date(c(D))},f.domain=function(D){return arguments.length?h(Array.from(D,NE)):h().map(IE)},f.ticks=function(D){var _=h();return e(_[0],_[_.length-1],D??10)},f.tickFormat=function(D,_){return _==null?A:u(_)},f.nice=function(D){var _=h();return(!D||typeof D.range!="function")&&(D=t(_[0],_[_.length-1],D??10)),D?h(zg(_,D)):f},f.copy=function(){return Xl(f,u3(e,t,n,r,i,a,s,o,l,u))},f}function qE(){return Mr.apply(u3(_A,zA,jn,Wc,_o,Ro,Vc,Oc,Vr,Gc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BE(){return Mr.apply(u3(EA,Xg,Wn,Yc,zo,jc,Uc,Hc,Vr,Dl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Zc(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=zn,f,c=!1,h;function d(y){return isNaN(y=+y)?h:(y=.5+((y=+f(y))-a)*(r*y<r*a?o:l),u(c?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([e,t,n]=y,i=f(e=+e),a=f(t=+t),s=f(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(y){return arguments.length?(c=!!y,d):c},d.interpolator=function(y){return arguments.length?(u=y,d):u};function g(y){return function(b){var w,S,E;return arguments.length?([w,S,E]=b,u=Ic(y,[w,S,E]),d):[u(0),u(.5),u(1)]}}return d.range=g(Wl),d.rangeRound=g(Gm),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return f=y,i=y(e),a=y(t),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,d}}function ev(){var e=Zl(Zc()(zn));return e.copy=function(){return Xc(e,ev())},Rc.apply(e,arguments)}function tv(){var e=Dg(Zc()).domain([.1,1,10]);return e.copy=function(){return Xc(e,tv()).base(e.base())},Rc.apply(e,arguments)}function nv(){var e=Ng(Zc());return e.copy=function(){return Xc(e,nv()).constant(e.constant())},Rc.apply(e,arguments)}function rv(){var e=Bg(Zc());return e.copy=function(){return Xc(e,rv()).exponent(e.exponent())},Rc.apply(e,arguments)}function He(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const LE=He("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),RE=He("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),FE=He("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),PE=He("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),OE=He("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),HE=He("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),VE=He("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),UE=He("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),jE=He("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),WE=He("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),tt=e=>I$(e[e.length-1]);var iv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(He);const av=tt(iv);var sv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(He);const ov=tt(sv);var lv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(He);const uv=tt(lv);var fv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(He);const cv=tt(fv);var tm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(He);const oc=tt(tm);var hv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(He);const dv=tt(hv);var nm=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(He);const lc=tt(nm);var mv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(He);const pv=tt(mv);var gv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(He);const vv=tt(gv);var yv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(He);const bv=tt(yv);var wv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(He);const xv=tt(wv);var Mv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(He);const Sv=tt(Mv);var kv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(He);const $v=tt(kv);var Tv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(He);const Cv=tt(Tv);var Av=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(He);const Ev=tt(Av);var _v=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(He);const zv=tt(_v);var Dv=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(He);const Iv=tt(Dv);var Nv=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(He);const qv=tt(Nv);var Bv=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(He);const Lv=tt(Bv);var Rv=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(He);const Fv=tt(Rv);var Pv=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(He);const Ov=tt(Pv);var Hv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(He);const Vv=tt(Hv);var Uv=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(He);const jv=tt(Uv);var Wv=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(He);const Yv=tt(Wv);var Gv=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(He);const Xv=tt(Gv);var Zv=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(He);const Qv=tt(Zv);var Kv=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(He);const Jv=tt(Kv);function ey(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const ty=Xm(vr(300,.5,0),vr(-240,.5,1));var ny=Xm(vr(-100,.75,.35),vr(80,1.5,.8)),ry=Xm(vr(260,.75,.35),vr(80,1.5,.8)),sf=vr();function iy(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return sf.h=360*e-100,sf.s=1.5-1.5*t,sf.l=.8-.9*t,sf+""}var of=P0(),YE=Math.PI/3,GE=Math.PI*2/3;function ay(e){var t;return e=(.5-e)*Math.PI,of.r=255*(t=Math.sin(e))*t,of.g=255*(t=Math.sin(e+YE))*t,of.b=255*(t=Math.sin(e+GE))*t,of+""}function sy(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Qc(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const oy=Qc(He("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var ly=Qc(He("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),uy=Qc(He("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),fy=Qc(He("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const cy=Math.cos,f3=Math.min,uc=Math.sin,$t=Math.sqrt,fc=Math.PI,Kc=2*fc,XE=$t(3),hy={draw(e,t){const n=$t(t+f3(t/28,.75))*.59436,r=n/2,i=r*XE;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},c3={draw(e,t){const n=$t(t/fc);e.moveTo(n,0),e.arc(0,0,n,0,Kc)}},dy={draw(e,t){const n=$t(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},my=$t(1/3),ZE=my*2,py={draw(e,t){const n=$t(t/ZE),r=n*my;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gy={draw(e,t){const n=$t(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},vy={draw(e,t){const n=$t(t-f3(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},yy={draw(e,t){const n=$t(t),r=-n/2;e.rect(r,r,n,n)}},by={draw(e,t){const n=$t(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},QE=.8908130915292852,wy=uc(fc/10)/uc(7*fc/10),KE=uc(Kc/10)*wy,JE=-cy(Kc/10)*wy,xy={draw(e,t){const n=$t(t*QE),r=KE*n,i=JE*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Kc*a/5,o=cy(s),l=uc(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},Wd=$t(3),My={draw(e,t){const n=-$t(t/(Wd*3));e.moveTo(0,n*2),e.lineTo(-Wd*n,-n),e.lineTo(Wd*n,-n),e.closePath()}},e_=$t(3),Sy={draw(e,t){const n=$t(t)*.6824,r=n/2,i=n*e_/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},$n=-.5,Tn=$t(3)/2,rm=1/$t(12),t_=(rm/2+1)*3,ky={draw(e,t){const n=$t(t/t_),r=n/2,i=n*rm,a=r,s=n*rm+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo($n*r-Tn*i,Tn*r+$n*i),e.lineTo($n*a-Tn*s,Tn*a+$n*s),e.lineTo($n*o-Tn*l,Tn*o+$n*l),e.lineTo($n*r+Tn*i,$n*i-Tn*r),e.lineTo($n*a+Tn*s,$n*s-Tn*a),e.lineTo($n*o+Tn*l,$n*l-Tn*o),e.closePath()}},$y={draw(e,t){const n=$t(t-f3(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},n_=[c3,dy,py,yy,xy,My,ky],r_=[c3,vy,$y,Sy,hy,by,gy];function ll(e,t,n){this.k=e,this.x=t,this.y=n}ll.prototype={constructor:ll,scale:function(e){return e===1?this:new ll(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ll(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ll.prototype;const lf={f32:Float32Array,u8:Uint8Array};class Ke{constructor(t,n,r="f32",i=!1){this.data=t,this.shape=n,this.strides=[n[1],1],this.offset=0,this.codebook=void 0,this.dtype=r,this.transposed=i}get bytes(){const t=this.data.byteLength/this.data.length;return this.shape[0]*this.shape[1]*t}static totalBytes(...t){let n=0;for(const r of t)n+=r.bytes+(r.codebook?r.codebook.bytes:0);return n}static GB(...t){return Ke.totalBytes(...t)/1024**3}static MB(...t){return Ke.totalBytes(...t)/1024**2}static KB(...t){return Ke.totalBytes(...t)/1024}relu(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.data[this.index2D(t,n)];this.data[this.index2D(t,n)]=r>0?r:0}return this}sigmoid(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.index2D(t,n),i=this.data[r];this.data[r]=1/(1+Math.exp(-i))}return this}tanh(){for(let t=0;t<this.shape[0];t++)for(let n=0;n<this.shape[1];n++){const r=this.offset+t*this.strides[0]+n*this.strides[1],i=this.data[r],a=Math.exp(i),s=Math.exp(-i);this.data[r]=(a-s)/(a+s)}return this}print({round:t=3,showBytes:n=!1}={}){let r="";for(let i=0;i<this.shape[0];i++){let a="|";for(let s=0;s<this.shape[1];s++){let o=this.data[this.index2D(i,s)];this.dtype[0]==="u"&&(t=0),a+=" "+o.toFixed(t)}a+=" |",r+=a+`
`}console.log(r,this.dtype),n&&console.log(`${this.bytes} bytes`)}get T(){const t=this.shallowCopy();return t.shape=[this.shape[1],this.shape[0]],t.transposed=!t.transposed,t}shallowCopy(){const t=new Ke(this.data,Yd(this.shape,Array),this.dtype);return t.codebook=this.codebook,t}deepCopy(){return new Ke(Yd(this.data,lf[this.dtype]),Yd(this.shape,Array),this.dtype)}self(t,n=!0){return t?this.deepCopy():this}sub(t,n=!1){const r=this.self(n);let i=[t.strides[0],t.strides[1]];r.shape[0]>t.shape[0]&&(t.strides[0]=0),r.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let a=0;a<r.shape[0];a++)for(let s=0;s<r.shape[1];s++)r.data[r.index2D(a,s)]-=t.value2D(a,s);return t.strides[0]=i[0],t.strides[1]=i[1],r}add(t){let n=[t.strides[0],t.strides[1]];this.shape[0]>t.shape[0]&&(t.strides[0]=0),this.shape[1]>t.shape[1]&&(t.strides[1]=0);for(let r=0;r<this.shape[0];r++)for(let i=0;i<this.shape[1];i++)this.data[this.index2D(r,i)]+=t.value2D(r,i);return t.strides[0]=n[0],t.strides[1]=n[1],this}index2D(t,n){return this.transposed&&([t,n]=[n,t]),this.offset+this.strides[0]*t+this.strides[1]*n}value2D(t,n){const r=this.data[this.index2D(t,n)];return this.codebook?this.codebook.data[r]:r}matmul(t){const n=this.shape[0],r=this.shape[1],i=t.shape[1];Y7(r===t.shape[0],"must have same inner dimensions");const a=Ke.zeros([n,i],"f32");for(let s=0;s<n;s++)for(let o=0;o<i;o++)for(let l=0;l<r;l++)a.data[a.index2D(s,o)]+=this.value2D(s,l)*t.value2D(l,o);return a}static zeros(t,n){return new Ke(Array(t[0]*t[1]).fill(0),t,n)}static arange(t,n="f32"){let r=new Array(t[0]*t[1]);for(let i=0;i<r.length;i++)r[i]=i;return new Ke(r,t,n)}static randrng(t,n,r){const i=Ke.$(t[0]*t[1],[t[0],t[1]],r);for(let a=0;a<i.data.length;a++)i.data[a]=n();return i}static randu(t,n=0,r=1,i="f32"){return Ke.randrng(t,mA(n,r),i)}static randn(t,n=0,r=1,i="f32"){return Ke.randrng(t,pA(n,r),i)}round(){for(let t=0;t<this.data.length;t++)this.data[t]=Math.round(this.data[t]);return this}to(t){this.dtype=t;const n=new lf[t](this.data.length);for(let r=0;r<this.data.length;r++)n[r]=this.data[r];return this.data=n,this}static $(t,n,r="f32"){return Y7(r in lf,"type must be f32 or u8"),new Ke(new lf[r](t),n,r)}reconstruct(){const t=Ke.zeros([this.shape[0],this.shape[1]]);for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t.data[t.index2D(n,r)]=this.value2D(n,r);return t}sum(){let t=0;for(let n=0;n<this.shape[0];n++)for(let r=0;r<this.shape[1];r++)t+=this.value2D(n,r);return t}}function Y7(e,t=""){if(!e)throw Error(t)}function Yd(e,t){const n=new t(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}function Jc(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}const Gd={distanceFunction:Jc};function i_(e,t,n=Gd){const r=n.distanceFunction||Gd.distanceFunction,i=n.similarityFunction||Gd.similarityFunction;let a=-1;if(typeof i=="function"){let s=Number.MIN_VALUE;for(let o=0;o<e.length;o++){const l=i(t,e[o]);l>s&&(s=l,a=o)}}else if(typeof r=="function"){let s=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const l=r(t,e[o]);l<s&&(s=l,a=o)}}else throw new Error("A similarity or distance function it's required");return a}function a_(e,t){let n=new Array(e.length);for(let r=0;r<e.length;++r)for(let i=r;i<e.length;++i){n[r]||(n[r]=new Array(e.length)),n[i]||(n[i]=new Array(e.length));const a=t(e[r],e[i]);n[r][i]=a,n[i][r]=a}return n}function Ty(e,t,n,r){for(let i=0;i<e.length;i++)n[i]=i_(t,e[i],{distanceFunction:r});return n}function s_(e,t,n,r){const i=t[0].length;let a=new Array(r),s=new Array(r);for(let o=0;o<r;o++){a[o]=new Array(i),s[o]=0;for(let l=0;l<i;l++)a[o][l]=0}for(let o=0;o<t.length;o++){s[n[o]]++;for(let l=0;l<i;l++)a[n[o]][l]+=t[o][l]}for(let o=0;o<r;o++)for(let l=0;l<i;l++)s[o]?a[o][l]/=s[o]:a[o][l]=e[o][l];return a}function o_(e,t,n,r){for(let i=0;i<e.length;i++)if(n(e[i],t[i])>r)return!1;return!0}class l_{constructor(t,n,r,i,a){this.clusters=t,this.centroids=n,this.converged=r,this.iterations=i,this.distance=a}nearest(t){const n=new Array(t.length);return Ty(t,this.centroids,n,this.distance)}computeInformation(t){let n=this.centroids.map(r=>({centroid:r,error:0,size:0}));for(let r=0;r<t.length;r++)n[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),n[this.clusters[r]].size++;for(let r=0;r<this.centroids.length;r++){let i=n[r].error;n[r].size&&i!==-1?i/=n[r].size:n[r].error=-1}return n}}function u_(e,t){throw new Error(`${t}: "${String(e)}"`)}function f_(e,t){if(t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points")}const c_=Object.prototype.toString;function dn(e){const t=c_.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function h_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!dn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]>s&&(s=e[o]);return s}function d_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!dn(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var n=t.fromIndex,r=n===void 0?0:n,i=t.toIndex,a=i===void 0?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>e.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=e[r],o=r+1;o<a;o++)e[o]<s&&(s=e[o]);return s}function G7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dn(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(t.output!==void 0){if(!dn(t.output))throw new TypeError("output option must be an array if specified");n=t.output}else n=new Array(e.length);var r=d_(e),i=h_(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=t.min,s=a===void 0?t.autoMinMax?r:0:a,o=t.max,l=o===void 0?t.autoMinMax?i:1:o;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(i-r),f=0;f<e.length;f++)n[f]=(e[f]-r)*u+s;return n}const uf=" ".repeat(2),Cy=" ".repeat(4);function m_(){return Ay(this)}function Ay(e,t={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:a="auto"}=t;return`${e.constructor.name} {
${uf}[
${Cy}${p_(e,n,r,i,a)}
${uf}]
${uf}rows: ${e.rows}
${uf}columns: ${e.columns}
}`}function p_(e,t,n,r,i){const{rows:a,columns:s}=e,o=Math.min(a,t),l=Math.min(s,n),u=[];if(i==="auto"){i=!1;e:for(let f=0;f<o;f++)for(let c=0;c<l;c++)if(e.get(f,c)<0){i=!0;break e}}for(let f=0;f<o;f++){let c=[];for(let h=0;h<l;h++)c.push(g_(e.get(f,h),r,i));u.push(`${c.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-n} more columns`),o!==a&&u.push(`... ${a-t} more rows`),u.join(`
${Cy}`)}function g_(e,t,n){return(e>=0&&n?` ${X7(e,t-1)}`:X7(e,t)).padEnd(t)}function X7(e,t){let n=e.toString();if(n.length<=t)return n;let r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function v_(e,t){e.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},e.prototype.addS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r);return this},e.prototype.addM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)+r.get(i,a));return this},e.add=function(r,i){return new t(r).add(i)},e.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},e.prototype.subS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r);return this},e.prototype.subM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)-r.get(i,a));return this},e.sub=function(r,i){return new t(r).sub(i)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},e.prototype.mulS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r);return this},e.prototype.mulM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)*r.get(i,a));return this},e.mul=function(r,i){return new t(r).mul(i)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},e.prototype.divS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r);return this},e.prototype.divM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)/r.get(i,a));return this},e.div=function(r,i){return new t(r).div(i)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},e.prototype.modS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r);return this},e.prototype.modM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)%r.get(i,a));return this},e.mod=function(r,i){return new t(r).mod(i)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},e.prototype.andS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r);return this},e.prototype.andM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)&r.get(i,a));return this},e.and=function(r,i){return new t(r).and(i)},e.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},e.prototype.orS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r);return this},e.prototype.orM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)|r.get(i,a));return this},e.or=function(r,i){return new t(r).or(i)},e.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},e.prototype.xorS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r);return this},e.prototype.xorM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)^r.get(i,a));return this},e.xor=function(r,i){return new t(r).xor(i)},e.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},e.prototype.leftShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r);return this},e.prototype.leftShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)<<r.get(i,a));return this},e.leftShift=function(r,i){return new t(r).leftShift(i)},e.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},e.prototype.signPropagatingRightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r);return this},e.prototype.signPropagatingRightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>r.get(i,a));return this},e.signPropagatingRightShift=function(r,i){return new t(r).signPropagatingRightShift(i)},e.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},e.prototype.rightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r);return this},e.prototype.rightShiftM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,this.get(i,a)>>>r.get(i,a));return this},e.rightShift=function(r,i){return new t(r).rightShift(i)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,~this.get(r,i));return this},e.not=function(r){return new t(r).not()},e.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.abs(this.get(r,i)));return this},e.abs=function(r){return new t(r).abs()},e.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acos(this.get(r,i)));return this},e.acos=function(r){return new t(r).acos()},e.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acosh(this.get(r,i)));return this},e.acosh=function(r){return new t(r).acosh()},e.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asin(this.get(r,i)));return this},e.asin=function(r){return new t(r).asin()},e.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asinh(this.get(r,i)));return this},e.asinh=function(r){return new t(r).asinh()},e.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atan(this.get(r,i)));return this},e.atan=function(r){return new t(r).atan()},e.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atanh(this.get(r,i)));return this},e.atanh=function(r){return new t(r).atanh()},e.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cbrt(this.get(r,i)));return this},e.cbrt=function(r){return new t(r).cbrt()},e.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.ceil(this.get(r,i)));return this},e.ceil=function(r){return new t(r).ceil()},e.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.clz32(this.get(r,i)));return this},e.clz32=function(r){return new t(r).clz32()},e.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cos(this.get(r,i)));return this},e.cos=function(r){return new t(r).cos()},e.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cosh(this.get(r,i)));return this},e.cosh=function(r){return new t(r).cosh()},e.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.exp(this.get(r,i)));return this},e.exp=function(r){return new t(r).exp()},e.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.expm1(this.get(r,i)));return this},e.expm1=function(r){return new t(r).expm1()},e.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.floor(this.get(r,i)));return this},e.floor=function(r){return new t(r).floor()},e.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.fround(this.get(r,i)));return this},e.fround=function(r){return new t(r).fround()},e.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log(this.get(r,i)));return this},e.log=function(r){return new t(r).log()},e.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log1p(this.get(r,i)));return this},e.log1p=function(r){return new t(r).log1p()},e.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log10(this.get(r,i)));return this},e.log10=function(r){return new t(r).log10()},e.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log2(this.get(r,i)));return this},e.log2=function(r){return new t(r).log2()},e.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.round(this.get(r,i)));return this},e.round=function(r){return new t(r).round()},e.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sign(this.get(r,i)));return this},e.sign=function(r){return new t(r).sign()},e.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sin(this.get(r,i)));return this},e.sin=function(r){return new t(r).sin()},e.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sinh(this.get(r,i)));return this},e.sinh=function(r){return new t(r).sinh()},e.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sqrt(this.get(r,i)));return this},e.sqrt=function(r){return new t(r).sqrt()},e.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tan(this.get(r,i)));return this},e.tan=function(r){return new t(r).tan()},e.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tanh(this.get(r,i)));return this},e.tanh=function(r){return new t(r).tanh()},e.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.trunc(this.get(r,i)));return this},e.trunc=function(r){return new t(r).trunc()},e.pow=function(r,i){return new t(r).pow(i)},e.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},e.prototype.powS=function(r){for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r));return this},e.prototype.powM=function(r){if(r=t.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let a=0;a<this.columns;a++)this.set(i,a,Math.pow(this.get(i,a),r.get(i,a)));return this}}function Ln(e,t,n){let r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function Rn(e,t,n){let r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function co(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function ho(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function y_(e,t){if(!dn(t))throw new TypeError("row indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function b_(e,t){if(!dn(t))throw new TypeError("column indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function Z7(e,t,n,r,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(ff("startRow",t),ff("endRow",n),ff("startColumn",r),ff("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function eh(e,t=0){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function ff(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}function lo(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function w_(e){let t=eh(e.rows);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}function x_(e){let t=eh(e.columns);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}function M_(e){let t=0;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t+=e.get(n,r);return t}function S_(e){let t=eh(e.rows,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}function k_(e){let t=eh(e.columns,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}function $_(e){let t=1;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t*=e.get(n,r);return t}function T_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<r;s++){let o=0,l=0,u=0;for(let f=0;f<i;f++)u=e.get(s,f)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/i)/(i-1)):a.push((l-o*o/i)/i)}return a}function C_(e,t,n){const r=e.rows,i=e.columns,a=[];for(let s=0;s<i;s++){let o=0,l=0,u=0;for(let f=0;f<r;f++)u=e.get(f,s)-n[s],o+=u,l+=u*u;t?a.push((l-o*o/r)/(r-1)):a.push((l-o*o/r)/r)}return a}function A_(e,t,n){const r=e.rows,i=e.columns,a=r*i;let s=0,o=0,l=0;for(let u=0;u<r;u++)for(let f=0;f<i;f++)l=e.get(u,f)-n,s+=l,o+=l*l;return t?(o-s*s/a)/(a-1):(o-s*s/a)/a}function E_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function __(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function z_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function D_(e){const t=[];for(let n=0;n<e.rows;n++){let r=0;for(let i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function I_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function N_(e){const t=[];for(let n=0;n<e.columns;n++){let r=0;for(let i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function q_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function B_(e){const t=e.size-1;let n=0;for(let r=0;r<e.columns;r++)for(let i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function L_(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}class Ue{static from1DArray(t,n,r){if(t*n!==r.length)throw new RangeError("data length does not match given dimensions");let a=new ze(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,r[s*n+o]);return a}static rowVector(t){let n=new ze(1,t.length);for(let r=0;r<t.length;r++)n.set(0,r,t[r]);return n}static columnVector(t){let n=new ze(t.length,1);for(let r=0;r<t.length;r++)n.set(r,0,t[r]);return n}static zeros(t,n){return new ze(t,n)}static ones(t,n){return new ze(t,n).fill(1)}static rand(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=r;let a=new ze(t,n);for(let s=0;s<t;s++)for(let o=0;o<n;o++)a.set(s,o,i());return a}static randInt(t,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:i=0,max:a=1e3,random:s=Math.random}=r;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");let o=a-i,l=new ze(t,n);for(let u=0;u<t;u++)for(let f=0;f<n;f++){let c=i+Math.round(s()*o);l.set(u,f,c)}return l}static eye(t,n,r){n===void 0&&(n=t),r===void 0&&(r=1);let i=Math.min(t,n),a=this.zeros(t,n);for(let s=0;s<i;s++)a.set(s,s,r);return a}static diag(t,n,r){let i=t.length;n===void 0&&(n=i),r===void 0&&(r=n);let a=Math.min(i,n,r),s=this.zeros(n,r);for(let o=0;o<a;o++)s.set(o,o,t[o]);return s}static min(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new ze(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.min(t.get(s,o),n.get(s,o)));return a}static max(t,n){t=this.checkMatrix(t),n=this.checkMatrix(n);let r=t.rows,i=t.columns,a=new this(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)a.set(s,o,Math.max(t.get(s,o),n.get(s,o)));return a}static checkMatrix(t){return Ue.isMatrix(t)?t:new ze(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.call(this,n,r);return this}to1DArray(){let t=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.push(this.get(n,r));return t}to2DArray(){let t=[];for(let n=0;n<this.rows;n++){t.push([]);for(let r=0;r<this.columns;r++)t[n].push(this.get(n,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let n=0;n<=t;n++)if(this.get(t,n)!==this.get(n,t))return!1;return!0}return!1}isEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);t++}return i}isReducedEchelonForm(){let t=0,n=0,r=-1,i=!0,a=!1;for(;t<this.rows&&i;){for(n=0,a=!1;n<this.columns&&a===!1;)this.get(t,n)===0?n++:this.get(t,n)===1&&n>r?(a=!0,r=n):(i=!1,a=!0);for(let s=n+1;s<this.rows;s++)this.get(t,s)!==0&&(i=!1);t++}return i}echelonForm(){let t=this.clone(),n=0,r=0;for(;n<t.rows&&r<t.columns;){let i=n;for(let a=n;a<t.rows;a++)t.get(a,r)>t.get(i,r)&&(i=a);if(t.get(i,r)===0)r++;else{t.swapRows(n,i);let a=t.get(n,r);for(let s=r;s<t.columns;s++)t.set(n,s,t.get(n,s)/a);for(let s=n+1;s<t.rows;s++){let o=t.get(s,r)/t.get(n,r);t.set(s,r,0);for(let l=r+1;l<t.columns;l++)t.set(s,l,t.get(s,l)-t.get(n,l)*o)}n++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),n=t.columns,r=t.rows,i=r-1;for(;i>=0;)if(t.maxRow(i)===0)i--;else{let a=0,s=!1;for(;a<r&&s===!1;)t.get(i,a)===1?s=!0:a++;for(let o=0;o<i;o++){let l=t.get(o,a);for(let u=a;u<n;u++){let f=t.get(o,u)-l*t.get(i,u);t.set(o,u,f)}}i--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=t;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new ze(this.rows*n,this.columns*r);for(let a=0;a<n;a++)for(let s=0;s<r;s++)i.setSubMatrix(this,this.rows*a,this.columns*s);return i}fill(t){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,t);return this}neg(){return this.mulS(-1)}getRow(t){Ln(this,t);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(t,r));return n}getRowVector(t){return ze.rowVector(this.getRow(t))}setRow(t,n){Ln(this,t),n=co(this,n);for(let r=0;r<this.columns;r++)this.set(t,r,n[r]);return this}swapRows(t,n){Ln(this,t),Ln(this,n);for(let r=0;r<this.columns;r++){let i=this.get(t,r);this.set(t,r,this.get(n,r)),this.set(n,r,i)}return this}getColumn(t){Rn(this,t);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,t));return n}getColumnVector(t){return ze.columnVector(this.getColumn(t))}setColumn(t,n){Rn(this,t),n=ho(this,n);for(let r=0;r<this.rows;r++)this.set(r,t,n[r]);return this}swapColumns(t,n){Rn(this,t),Rn(this,n);for(let r=0;r<this.rows;r++){let i=this.get(r,t);this.set(r,t,this.get(r,n)),this.set(r,n,i)}return this}addRowVector(t){t=co(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[r]);return this}subRowVector(t){t=co(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[r]);return this}mulRowVector(t){t=co(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[r]);return this}divRowVector(t){t=co(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[r]);return this}addColumnVector(t){t=ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+t[n]);return this}subColumnVector(t){t=ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-t[n]);return this}mulColumnVector(t){t=ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*t[n]);return this}divColumnVector(t){t=ho(this,t);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/t[n]);return this}mulRow(t,n){Ln(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*n);return this}mulColumn(t,n){Rn(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*n);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){lo(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${t}`)}}minIndex(){lo(this);let t=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<t&&(t=this.get(r,i),n[0]=r,n[1]=i);return n}maxRow(t){if(Ln(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>n&&(n=this.get(t,r));return n}maxRowIndex(t){Ln(this,t),lo(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)>n&&(n=this.get(t,i),r[1]=i);return r}minRow(t){if(Ln(this,t),this.isEmpty())return NaN;let n=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<n&&(n=this.get(t,r));return n}minRowIndex(t){Ln(this,t),lo(this);let n=this.get(t,0),r=[t,0];for(let i=1;i<this.columns;i++)this.get(t,i)<n&&(n=this.get(t,i),r[1]=i);return r}maxColumn(t){if(Rn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>n&&(n=this.get(r,t));return n}maxColumnIndex(t){Rn(this,t),lo(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)>n&&(n=this.get(i,t),r[0]=i);return r}minColumn(t){if(Rn(this,t),this.isEmpty())return NaN;let n=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<n&&(n=this.get(r,t));return n}minColumnIndex(t){Rn(this,t),lo(this);let n=this.get(0,t),r=[0,t];for(let i=1;i<this.rows;i++)this.get(i,t)<n&&(n=this.get(i,t),r[0]=i);return r}diag(){let t=Math.min(this.rows,this.columns),n=[];for(let r=0;r<t;r++)n.push(this.get(r,r));return n}norm(t="frobenius"){let n=0;if(t==="max")return this.max();if(t==="frobenius"){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)n=n+this.get(r,i)*this.get(r,i);return Math.sqrt(n)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t+=this.get(n,r),this.set(n,r,t);return this}dot(t){Ue.isMatrix(t)&&(t=t.to1DArray());let n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let i=0;i<n.length;i++)r+=n[i]*t[i];return r}mmul(t){t=ze.checkMatrix(t);let n=this.rows,r=this.columns,i=t.columns,a=new ze(n,i),s=new Float64Array(r);for(let o=0;o<i;o++){for(let l=0;l<r;l++)s[l]=t.get(l,o);for(let l=0;l<n;l++){let u=0;for(let f=0;f<r;f++)u+=this.get(l,f)*s[f];a.set(l,o,u)}}return a}strassen2x2(t){t=ze.checkMatrix(t);let n=new ze(2,2);const r=this.get(0,0),i=t.get(0,0),a=this.get(0,1),s=t.get(0,1),o=this.get(1,0),l=t.get(1,0),u=this.get(1,1),f=t.get(1,1),c=(r+u)*(i+f),h=(o+u)*i,d=r*(s-f),g=u*(l-i),y=(r+a)*f,b=(o-r)*(i+s),w=(a-u)*(l+f),S=c+g-y+w,E=d+y,$=h+g,A=c-h+d+b;return n.set(0,0,S),n.set(0,1,E),n.set(1,0,$),n.set(1,1,A),n}strassen3x3(t){t=ze.checkMatrix(t);let n=new ze(3,3);const r=this.get(0,0),i=this.get(0,1),a=this.get(0,2),s=this.get(1,0),o=this.get(1,1),l=this.get(1,2),u=this.get(2,0),f=this.get(2,1),c=this.get(2,2),h=t.get(0,0),d=t.get(0,1),g=t.get(0,2),y=t.get(1,0),b=t.get(1,1),w=t.get(1,2),S=t.get(2,0),E=t.get(2,1),$=t.get(2,2),A=(r+i+a-s-o-f-c)*b,D=(r-s)*(-d+b),_=o*(-h+d+y-b-w-S+$),j=(-r+s+o)*(h-d+b),U=(s+o)*(-h+d),k=r*h,C=(-r+u+f)*(h-g+w),L=(-r+u)*(g-w),z=(u+f)*(-h+g),W=(r+i+a-o-l-u-f)*w,V=f*(-h+g+y-b-w-S+E),Q=(-a+f+c)*(b+S-E),ae=(a-c)*(b-E),re=a*S,me=(f+c)*(-S+E),te=(-a+o+l)*(w+S-$),se=(a-l)*(w-$),oe=(o+l)*(-S+$),ne=i*y,Se=l*E,Ce=s*g,_e=u*d,ue=c*$,ce=k+re+ne,K=A+j+U+k+Q+re+me,xe=k+C+z+W+re+te+oe,Te=D+_+j+k+re+te+se,Y=D+j+U+k+Se,ke=re+te+se+oe+Ce,Ee=k+C+L+V+Q+ae+re,Be=Q+ae+re+me+_e,Le=k+C+L+z+ue;return n.set(0,0,ce),n.set(0,1,K),n.set(0,2,xe),n.set(1,0,Te),n.set(1,1,Y),n.set(1,2,ke),n.set(2,0,Ee),n.set(2,1,Be),n.set(2,2,Le),n}mmulStrassen(t){t=ze.checkMatrix(t);let n=this.clone(),r=n.rows,i=n.columns,a=t.rows,s=t.columns;i!==a&&console.warn(`Multiplying ${r} x ${i} and ${a} x ${s} matrix: dimensions do not match.`);function o(c,h,d){let g=c.rows,y=c.columns;if(g===h&&y===d)return c;{let b=Ue.zeros(h,d);return b=b.setSubMatrix(c,0,0),b}}let l=Math.max(r,a),u=Math.max(i,s);n=o(n,l,u),t=o(t,l,u);function f(c,h,d,g){if(d<=512||g<=512)return c.mmul(h);d%2===1&&g%2===1?(c=o(c,d+1,g+1),h=o(h,d+1,g+1)):d%2===1?(c=o(c,d+1,g),h=o(h,d+1,g)):g%2===1&&(c=o(c,d,g+1),h=o(h,d,g+1));let y=parseInt(c.rows/2,10),b=parseInt(c.columns/2,10),w=c.subMatrix(0,y-1,0,b-1),S=h.subMatrix(0,y-1,0,b-1),E=c.subMatrix(0,y-1,b,c.columns-1),$=h.subMatrix(0,y-1,b,h.columns-1),A=c.subMatrix(y,c.rows-1,0,b-1),D=h.subMatrix(y,h.rows-1,0,b-1),_=c.subMatrix(y,c.rows-1,b,c.columns-1),j=h.subMatrix(y,h.rows-1,b,h.columns-1),U=f(Ue.add(w,_),Ue.add(S,j),y,b),k=f(Ue.add(A,_),S,y,b),C=f(w,Ue.sub($,j),y,b),L=f(_,Ue.sub(D,S),y,b),z=f(Ue.add(w,E),j,y,b),W=f(Ue.sub(A,w),Ue.add(S,$),y,b),V=f(Ue.sub(E,_),Ue.add(D,j),y,b),Q=Ue.add(U,L);Q.sub(z),Q.add(V);let ae=Ue.add(C,z),re=Ue.add(k,L),me=Ue.sub(U,k);me.add(C),me.add(W);let te=Ue.zeros(2*Q.rows,2*Q.columns);return te=te.setSubMatrix(Q,0,0),te=te.setSubMatrix(ae,Q.rows,0),te=te.setSubMatrix(re,0,Q.columns),te=te.setSubMatrix(me,Q.rows,Q.columns),te.subMatrix(0,d-1,0,g-1)}return f(n,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new ze(this.rows,this.columns);for(let a=0;a<this.rows;a++){const s=this.getRow(a);s.length>0&&G7(s,{min:n,max:r,output:s}),i.setRow(a,s)}return i}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=t;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new ze(this.rows,this.columns);for(let a=0;a<this.columns;a++){const s=this.getColumn(a);s.length&&G7(s,{min:n,max:r,output:s}),i.setColumn(a,s)}return i}flipRows(){const t=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<t;r++){let i=this.get(n,r),a=this.get(n,this.columns-1-r);this.set(n,r,a),this.set(n,this.columns-1-r,i)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<t;r++){let i=this.get(r,n),a=this.get(this.rows-1-r,n);this.set(r,n,a),this.set(this.rows-1-r,n,i)}return this}kroneckerProduct(t){t=ze.checkMatrix(t);let n=this.rows,r=this.columns,i=t.rows,a=t.columns,s=new ze(n*i,r*a);for(let o=0;o<n;o++)for(let l=0;l<r;l++)for(let u=0;u<i;u++)for(let f=0;f<a;f++)s.set(i*o+u,a*l+f,this.get(o,l)*t.get(u,f));return s}kroneckerSum(t){if(t=ze.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=t.rows,i=this.kroneckerProduct(ze.eye(r,r)),a=ze.eye(n,n).kroneckerProduct(t);return i.add(a)}transpose(){let t=new ze(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(r,n,this.get(n,r));return t}sortRows(t=Q7){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(t));return this}sortColumns(t=Q7){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(t));return this}subMatrix(t,n,r,i){Z7(this,t,n,r,i);let a=new ze(n-t+1,i-r+1);for(let s=t;s<=n;s++)for(let o=r;o<=i;o++)a.set(s-t,o-r,this.get(s,o));return a}subMatrixRow(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let i=new ze(t.length,r-n+1);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.rows)throw new RangeError(`Row index out of range: ${t[a]}`);i.set(a,s-n,this.get(t[a],s))}return i}subMatrixColumn(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let i=new ze(r-n+1,t.length);for(let a=0;a<t.length;a++)for(let s=n;s<=r;s++){if(t[a]<0||t[a]>=this.columns)throw new RangeError(`Column index out of range: ${t[a]}`);i.set(s-n,a,this.get(s,t[a]))}return i}setSubMatrix(t,n,r){if(t=ze.checkMatrix(t),t.isEmpty())return this;let i=n+t.rows-1,a=r+t.columns-1;Z7(this,n,i,r,a);for(let s=0;s<t.rows;s++)for(let o=0;o<t.columns;o++)this.set(n+s,r+o,t.get(s,o));return this}selection(t,n){y_(this,t),b_(this,n);let r=new ze(t.length,n.length);for(let i=0;i<t.length;i++){let a=t[i];for(let s=0;s<n.length;s++){let o=n[s];r.set(i,s,this.get(a,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),n=0;for(let r=0;r<t;r++)n+=this.get(r,r);return n}clone(){let t=new ze(this.rows,this.columns);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)t.set(n,r,this.get(n,r));return t}sum(t){switch(t){case"row":return w_(this);case"column":return x_(this);case void 0:return M_(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return S_(this);case"column":return k_(this);case void 0:return $_(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const n=this.sum(t);switch(t){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(t)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!dn(i))throw new TypeError("mean must be an array");return T_(this,r,i)}case"column":{if(!dn(i))throw new TypeError("mean must be an array");return C_(this,r,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return A_(this,r,i)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,n){typeof t=="object"&&(n=t,t=void 0);const r=this.variance(t,n);if(t===void 0)return Math.sqrt(r);for(let i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}center(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(t)}=n;switch(t){case"row":{if(!dn(r))throw new TypeError("center must be an array");return E_(this,r),this}case"column":{if(!dn(r))throw new TypeError("center must be an array");return __(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return z_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,n={}){if(typeof t=="object"&&(n=t,t=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(t){case"row":{if(r===void 0)r=D_(this);else if(!dn(r))throw new TypeError("scale must be an array");return I_(this,r),this}case"column":{if(r===void 0)r=N_(this);else if(!dn(r))throw new TypeError("scale must be an array");return q_(this,r),this}case void 0:{if(r===void 0)r=B_(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return L_(this,r),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return Ay(this,t)}}Ue.prototype.klass="Matrix";typeof Symbol<"u"&&(Ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=m_);function Q7(e,t){return e-t}function R_(e){return e.every(t=>typeof t=="number")}Ue.random=Ue.rand;Ue.randomInt=Ue.randInt;Ue.diagonal=Ue.diag;Ue.prototype.diagonal=Ue.prototype.diag;Ue.identity=Ue.eye;Ue.prototype.negate=Ue.prototype.neg;Ue.prototype.tensorProduct=Ue.prototype.kroneckerProduct;class ze extends Ue{constructor(t,n){if(super(),ze.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0)if(this.data=[],Number.isInteger(n)&&n>=0)for(let r=0;r<t;r++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(dn(t)){const r=t;if(t=r.length,n=t?r[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<t;i++){if(r[i].length!==n)throw new RangeError("Inconsistent array dimensions");if(!R_(r[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=t,this.columns=n}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}removeRow(t){return Ln(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,n){return n===void 0&&(n=t,t=this.rows),Ln(this,t,!0),n=Float64Array.from(co(this,n)),this.data.splice(t,0,n),this.rows+=1,this}removeColumn(t){Rn(this,t);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns-1);for(let i=0;i<t;i++)r[i]=this.data[n][i];for(let i=t+1;i<this.columns;i++)r[i-1]=this.data[n][i];this.data[n]=r}return this.columns-=1,this}addColumn(t,n){typeof n>"u"&&(n=t,t=this.columns),Rn(this,t,!0),n=ho(this,n);for(let r=0;r<this.rows;r++){const i=new Float64Array(this.columns+1);let a=0;for(;a<t;a++)i[a]=this.data[r][a];for(i[a++]=n[r];a<this.columns+1;a++)i[a]=this.data[r][a-1];this.data[r]=i}return this.columns+=1,this}}v_(Ue,ze);class F_ extends Ue{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,n,r){return this.data[t][n]=r,this}get(t,n){return this.data[t][n]}}function uo(e,t){let n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):t!==0?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}class P_{constructor(t,n={}){if(t=F_.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,i=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:s=!0,autoTranspose:o=!1}=n;let l=!!a,u=!!s,f=!1,c;if(r<i)if(!o)c=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{c=t.transpose(),r=c.rows,i=c.columns,f=!0;let k=l;l=u,u=k}else c=t.clone();let h=Math.min(r,i),d=Math.min(r+1,i),g=new Float64Array(d),y=new ze(r,h),b=new ze(i,i),w=new Float64Array(i),S=new Float64Array(r),E=new Float64Array(d);for(let k=0;k<d;k++)E[k]=k;let $=Math.min(r-1,i),A=Math.max(0,Math.min(i-2,r)),D=Math.max($,A);for(let k=0;k<D;k++){if(k<$){g[k]=0;for(let C=k;C<r;C++)g[k]=uo(g[k],c.get(C,k));if(g[k]!==0){c.get(k,k)<0&&(g[k]=-g[k]);for(let C=k;C<r;C++)c.set(C,k,c.get(C,k)/g[k]);c.set(k,k,c.get(k,k)+1)}g[k]=-g[k]}for(let C=k+1;C<i;C++){if(k<$&&g[k]!==0){let L=0;for(let z=k;z<r;z++)L+=c.get(z,k)*c.get(z,C);L=-L/c.get(k,k);for(let z=k;z<r;z++)c.set(z,C,c.get(z,C)+L*c.get(z,k))}w[C]=c.get(k,C)}if(l&&k<$)for(let C=k;C<r;C++)y.set(C,k,c.get(C,k));if(k<A){w[k]=0;for(let C=k+1;C<i;C++)w[k]=uo(w[k],w[C]);if(w[k]!==0){w[k+1]<0&&(w[k]=0-w[k]);for(let C=k+1;C<i;C++)w[C]/=w[k];w[k+1]+=1}if(w[k]=-w[k],k+1<r&&w[k]!==0){for(let C=k+1;C<r;C++)S[C]=0;for(let C=k+1;C<r;C++)for(let L=k+1;L<i;L++)S[C]+=w[L]*c.get(C,L);for(let C=k+1;C<i;C++){let L=-w[C]/w[k+1];for(let z=k+1;z<r;z++)c.set(z,C,c.get(z,C)+L*S[z])}}if(u)for(let C=k+1;C<i;C++)b.set(C,k,w[C])}}let _=Math.min(i,r+1);if($<i&&(g[$]=c.get($,$)),r<_&&(g[_-1]=0),A+1<_&&(w[A]=c.get(A,_-1)),w[_-1]=0,l){for(let k=$;k<h;k++){for(let C=0;C<r;C++)y.set(C,k,0);y.set(k,k,1)}for(let k=$-1;k>=0;k--)if(g[k]!==0){for(let C=k+1;C<h;C++){let L=0;for(let z=k;z<r;z++)L+=y.get(z,k)*y.get(z,C);L=-L/y.get(k,k);for(let z=k;z<r;z++)y.set(z,C,y.get(z,C)+L*y.get(z,k))}for(let C=k;C<r;C++)y.set(C,k,-y.get(C,k));y.set(k,k,1+y.get(k,k));for(let C=0;C<k-1;C++)y.set(C,k,0)}else{for(let C=0;C<r;C++)y.set(C,k,0);y.set(k,k,1)}}if(u)for(let k=i-1;k>=0;k--){if(k<A&&w[k]!==0)for(let C=k+1;C<i;C++){let L=0;for(let z=k+1;z<i;z++)L+=b.get(z,k)*b.get(z,C);L=-L/b.get(k+1,k);for(let z=k+1;z<i;z++)b.set(z,C,b.get(z,C)+L*b.get(z,k))}for(let C=0;C<i;C++)b.set(C,k,0);b.set(k,k,1)}let j=_-1,U=Number.EPSILON;for(;_>0;){let k,C;for(k=_-2;k>=-1&&k!==-1;k--){const L=Number.MIN_VALUE+U*Math.abs(g[k]+Math.abs(g[k+1]));if(Math.abs(w[k])<=L||Number.isNaN(w[k])){w[k]=0;break}}if(k===_-2)C=4;else{let L;for(L=_-1;L>=k&&L!==k;L--){let z=(L!==_?Math.abs(w[L]):0)+(L!==k+1?Math.abs(w[L-1]):0);if(Math.abs(g[L])<=U*z){g[L]=0;break}}L===k?C=3:L===_-1?C=1:(C=2,k=L)}switch(k++,C){case 1:{let L=w[_-2];w[_-2]=0;for(let z=_-2;z>=k;z--){let W=uo(g[z],L),V=g[z]/W,Q=L/W;if(g[z]=W,z!==k&&(L=-Q*w[z-1],w[z-1]=V*w[z-1]),u)for(let ae=0;ae<i;ae++)W=V*b.get(ae,z)+Q*b.get(ae,_-1),b.set(ae,_-1,-Q*b.get(ae,z)+V*b.get(ae,_-1)),b.set(ae,z,W)}break}case 2:{let L=w[k-1];w[k-1]=0;for(let z=k;z<_;z++){let W=uo(g[z],L),V=g[z]/W,Q=L/W;if(g[z]=W,L=-Q*w[z],w[z]=V*w[z],l)for(let ae=0;ae<r;ae++)W=V*y.get(ae,z)+Q*y.get(ae,k-1),y.set(ae,k-1,-Q*y.get(ae,z)+V*y.get(ae,k-1)),y.set(ae,z,W)}break}case 3:{const L=Math.max(Math.abs(g[_-1]),Math.abs(g[_-2]),Math.abs(w[_-2]),Math.abs(g[k]),Math.abs(w[k])),z=g[_-1]/L,W=g[_-2]/L,V=w[_-2]/L,Q=g[k]/L,ae=w[k]/L,re=((W+z)*(W-z)+V*V)/2,me=z*V*(z*V);let te=0;(re!==0||me!==0)&&(re<0?te=0-Math.sqrt(re*re+me):te=Math.sqrt(re*re+me),te=me/(re+te));let se=(Q+z)*(Q-z)+te,oe=Q*ae;for(let ne=k;ne<_-1;ne++){let Se=uo(se,oe);Se===0&&(Se=Number.MIN_VALUE);let Ce=se/Se,_e=oe/Se;if(ne!==k&&(w[ne-1]=Se),se=Ce*g[ne]+_e*w[ne],w[ne]=Ce*w[ne]-_e*g[ne],oe=_e*g[ne+1],g[ne+1]=Ce*g[ne+1],u)for(let ue=0;ue<i;ue++)Se=Ce*b.get(ue,ne)+_e*b.get(ue,ne+1),b.set(ue,ne+1,-_e*b.get(ue,ne)+Ce*b.get(ue,ne+1)),b.set(ue,ne,Se);if(Se=uo(se,oe),Se===0&&(Se=Number.MIN_VALUE),Ce=se/Se,_e=oe/Se,g[ne]=Se,se=Ce*w[ne]+_e*g[ne+1],g[ne+1]=-_e*w[ne]+Ce*g[ne+1],oe=_e*w[ne+1],w[ne+1]=Ce*w[ne+1],l&&ne<r-1)for(let ue=0;ue<r;ue++)Se=Ce*y.get(ue,ne)+_e*y.get(ue,ne+1),y.set(ue,ne+1,-_e*y.get(ue,ne)+Ce*y.get(ue,ne+1)),y.set(ue,ne,Se)}w[_-2]=se;break}case 4:{if(g[k]<=0&&(g[k]=g[k]<0?-g[k]:0,u))for(let L=0;L<=j;L++)b.set(L,k,-b.get(L,k));for(;k<j&&!(g[k]>=g[k+1]);){let L=g[k];if(g[k]=g[k+1],g[k+1]=L,u&&k<i-1)for(let z=0;z<i;z++)L=b.get(z,k+1),b.set(z,k+1,b.get(z,k)),b.set(z,k,L);if(l&&k<r-1)for(let z=0;z<r;z++)L=y.get(z,k+1),y.set(z,k+1,y.get(z,k)),y.set(z,k,L);k++}_--;break}}}if(f){let k=b;b=y,y=k}this.m=r,this.n=i,this.s=g,this.U=y,this.V=b}solve(t){let n=t,r=this.threshold,i=this.s.length,a=ze.zeros(i,i);for(let h=0;h<i;h++)Math.abs(this.s[h])<=r?a.set(h,h,0):a.set(h,h,1/this.s[h]);let s=this.U,o=this.rightSingularVectors,l=o.mmul(a),u=o.rows,f=s.rows,c=ze.zeros(u,f);for(let h=0;h<u;h++)for(let d=0;d<f;d++){let g=0;for(let y=0;y<i;y++)g+=l.get(h,y)*s.get(d,y);c.set(h,d,g)}return c.mmul(n)}solveForDiagonal(t){return this.solve(ze.diag(t))}inverse(){let t=this.V,n=this.threshold,r=t.rows,i=t.columns,a=new ze(r,this.s.length);for(let f=0;f<r;f++)for(let c=0;c<i;c++)Math.abs(this.s[c])>n&&a.set(f,c,t.get(f,c)/this.s[c]);let s=this.U,o=s.rows,l=s.columns,u=new ze(r,o);for(let f=0;f<r;f++)for(let c=0;c<o;c++){let h=0;for(let d=0;d<l;d++)h+=a.get(f,d)*s.get(c,d);u.set(f,c,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s;for(let i=0,a=r.length;i<a;i++)r[i]>t&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return ze.diag(this.s)}}function O_(e,t=Number.EPSILON){if(e=ze.checkMatrix(e),e.isEmpty())return e.transpose();let n=new P_(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,a=n.diagonal;for(let s=0;s<a.length;s++)Math.abs(a[s])>t?a[s]=1/a[s]:a[s]=0;return i.mmul(ze.diag(a).mmul(r.transpose()))}const K7=8,H_=1/16777216,V_=15,U_=18,j_=11;function W_(e,t){e>>>=0,t>>>=0;const n=e&65535;return((e-n)*t>>>0)+n*t>>>0}class Y_{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*H_}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let n=1;n<K7;n++)this.state[n&3]^=n+W_(1812433253,this.state[n-1&3]^this.state[n-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let n=0;n<K7;n++)this.nextState()}periodCertification(){this.state[0]===0&&this.state[1]===0&&this.state[2]===0&&this.state[3]===0&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<V_,t^=t>>>U_,t^=this.state[3]<<j_,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}const G_=1e-8;function J7(e,t={},n=Math.random){const{size:r=1,replace:i=!1,probabilities:a}=t;let s,o;if(typeof e=="number"?s=X_(e):s=e.slice(),a){if(!i)throw new Error("choice with probabilities and no replacement is not implemented");if(a.length!==s.length)throw new Error("the length of probabilities option should be equal to the number of choices");o=[a[0]];for(let u=1;u<a.length;u++)o[u]=o[u-1]+a[u];if(Math.abs(1-o[o.length-1])>G_)throw new Error(`probabilities should sum to 1, but instead sums to ${o[o.length-1]}`)}if(i===!1&&r>s.length)throw new Error("size option is too large");const l=[];for(let u=0;u<r;u++){const f=Z_(s.length,n,o);l.push(s[f]),i||s.splice(f,1)}return l}function X_(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function Z_(e,t,n){const r=t();if(n){let i=0;for(;r>n[i];)i++;return i}else return Math.floor(r*e)}class h3{constructor(t=Math.random){if(typeof t=="number"){const n=new Y_(t);this.randomGenerator=n.random}else this.randomGenerator=t}choice(t,n){return typeof t=="number"?J7(t,n,this.randomGenerator):J7(t,n,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,n){return n===void 0&&(n=t,t=0),t+Math.floor(this.randomGenerator()*(n-t))}randomSample(t){const n=[];for(let r=0;r<t;r++)n.push(this.random());return n}}function Q_(e,t,n){return new h3(n).choice(e,{size:t})}function K_(e,t,n,r){const i=new h3(r);let a=new Array(t);if(a[0]=Math.floor(i.random()*e.length),t>1){let s={dist:-1,index:-1};for(let o=0;o<e.length;++o)n[a[0]][o]>s.dist&&(s.dist=n[a[0]][o],s.index=o);if(a[1]=s.index,t>2)for(let o=2;o<t;++o){let l={dist:-1,index:-1};for(let u=0;u<e.length;++u){let f={dist:Number.MAX_VALUE,index:-1};for(let c=0;c<o;++c)n[c][u]<f.dist&&!a.includes(u)&&(f={dist:n[c][u],index:u});f.dist!==Number.MAX_VALUE&&f.dist>l.dist&&(l={...f})}a[o]=l.index}}return a.map(s=>e[s])}function J_(e,t,n={}){const r=new ze(e),i=r.rows,a=new h3(n.seed),s=[],o=n.localTrials||2+Math.floor(Math.log(t)),l=a.randInt(i);s.push(r.getRow(l));let u=new ze(1,r.rows);for(let d=0;d<r.rows;d++)u.set(0,d,Jc(r.getRow(d),s[0]));let f=[ep(u.getRow(0))];const c=1/f[0][i-1];let h=ze.mul(u,c);for(let d=1;d<t;d++){const g=a.choice(i,{replace:!0,size:o,probabilities:h.getRow(0)}),y=r.selection(g,tz(r.columns)),b=ez(y,r);let w=1/0,S=1/0,E=u;for(let $=0;$<o;$++){const A=ze.min(u,[b.getRow($)]),D=A.sum();D<S&&(w=g[$],S=D,E=A)}s[d]=r.getRow(w),u=E,f=[ep(u.getRow(0))],h=ze.mul(u,1/f[0][i-1])}return s}function ez(e,t){const n=new ze(e.rows,t.rows);for(let r=0;r<e.rows;r++)for(let i=0;i<t.rows;i++)n.set(r,i,Jc(e.getRow(r),t.getRow(i)));return n}function tz(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}function ep(e){let t=[e[0]];for(let n=1;n<e.length;n++)t[n]=t[n-1]+e[n];return t}const nz={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:Jc};function rz(e,t,n,r,i,a){n=Ty(t,e,n,i.distanceFunction);let s=s_(e,t,n,r),o=o_(s,e,i.distanceFunction,i.tolerance);return new l_(n,s,o,a,i.distanceFunction)}function iz(e,t,n){const r=sz(n);f_(e,t);let i=az(e,t,r);r.maxIterations===0&&(r.maxIterations=Number.MAX_VALUE);let a=new Array(e.length),s=!1,o=0,l;for(;!s&&o<r.maxIterations;)l=rz(i,e,a,t,r,++o),s=l.converged,i=l.centroids;if(!l)throw new Error("unreachable: no kmeans step executed");return l}function az(e,t,n){let r;if(Array.isArray(n.initialization)){if(n.initialization.length!==t)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=J_(e,t,n);break;case"random":r=Q_(e,t,n.seed);break;case"mostDistant":r=K_(e,t,a_(e,n.distanceFunction),n.seed);break;default:u_(n.initialization,"Unknown initialization method")}return r}function sz(e){return{...nz,...e}}function oz(e,t=8,n=300,r=1e-4){const i=e.shape[0]*e.shape[1],a=Ke.randu([t,1]),s=Ke.zeros(e.shape,"u8");function o(f,c,h){for(let d=0;d<i;d++){const g=f.data[d];let y=0,b=1/0;for(let w=0;w<t;w++){const E=(c.data[w]-g)**2;E<b&&(b=E,y=w)}h.data[d]=y}}function l(f,c,h){for(let d=0;d<t;d++){let g=0,y=0;for(let b=0;b<i;b++)h.data[b]===d&&(g+=f.data[b],y++);y>0&&(c.data[d]=g/y)}}let u=0;for(;u<n;)o(e,a,s),l(e,a,s),u++;return{centroids:a,assignments:s}}function lz(e){const t=new Array(e.data.length);for(let n=0;n<e.data.length;n++)t[n]=[e.data[n]];return t}function uz(e,t=5,n=!1){if(t<=0)return Ke.zeros(e.shape);if(t>8)throw Error();if(n){const{centroids:r,assignments:i}=oz(e,2**t);return i.codebook=r,i}else{const r=iz(lz(e),2**t),i=Ke.$(r.clusters,e.shape,"u8");return i.codebook=Ke.$(r.centroids,[r.centroids.length,1]),i}}function qs(e){return e!=null&&!Number.isNaN(e)}function Yn(e,t){return+qs(t)-+qs(e)||sn(e,t)}function cc(e,t){return+qs(t)-+qs(e)||Vl(e,t)}function Ey(e){return e!=null&&`${e}`!=""}function _y(e){return isFinite(e)?e:NaN}function d3(e){return e>0&&isFinite(e)?e:NaN}function zy(e){return e<0&&isFinite(e)?e:NaN}function fz(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${cz(e.getUTCFullYear())}-${Fr(e.getUTCMonth()+1,2)}-${Fr(e.getUTCDate(),2)}${n||r||i||a?`T${Fr(n,2)}:${Fr(r,2)}${i||a?`:${Fr(i,2)}${a?`.${Fr(a,3)}`:""}`:""}Z`:""}`}function cz(e){return e<0?`-${Fr(-e,6)}`:e>9999?`+${Fr(e,6)}`:Fr(e,4)}function Fr(e,t){return`${e}`.padStart(t,"0")}const hz=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Dy(e,t){return hz.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const Af=1e3,im=Af*60,am=im*60,Il=am*24,dz=Il*7,tp=Il*30,mz=Il*365,Qo=[["millisecond",.5*Af],["second",Af],["second",30*Af],["minute",im],["minute",30*im],["hour",am],["hour",12*am],["day",Il],["day",2*Il],["week",dz],["month",tp],["month",3*tp],["year",mz]],pz=new Map([["second",Vr],["minute",Oc],["hour",Vc],["day",Ro],["week",_o],["month",Wc],["year",jn],["monday",_l],["tuesday",Pg],["wednesday",Og],["thursday",Is],["friday",Hg],["saturday",Vg],["sunday",_o]]),gz=new Map([["second",Vr],["minute",Hc],["hour",Uc],["day",l3],["week",zo],["month",Yc],["year",Wn],["monday",zl],["tuesday",Ug],["wednesday",jg],["thursday",Ns],["friday",Wg],["saturday",Yg],["sunday",zo]]);function Iy(e,t){let n=`${e}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let a=t.get(n);if(!a)throw new Error(`unknown interval: ${e}`);if(!(r>1))return a;if(!a.every)throw new Error(`non-periodic interval: ${n}`);return a.every(r)}function vz(e){return Iy(e,pz)}function Ny(e){return Iy(e,gz)}function yz(e){if(!e)return!1;const t=e.floor(new Date(Date.UTC(2e3,11,31)));return Wn(t)>=t}function bz(e){if(!e)return!1;const t=e.floor(new Date(2e3,11,31));return jn(t)>=t}function wz(e,t,n,r){const i=e.type==="time"?Gc:Dl,a=r==="left"||r==="right"?(s,o)=>`
${s}
${o}`:r==="top"?(s,o)=>`${o}
${s}`:(s,o)=>`${s}
${o}`;switch(xz(e,t,n)){case"millisecond":return ws(i(".%L"),i(":%M:%S"),a);case"second":return ws(i(":%S"),i("%-I:%M"),a);case"minute":return ws(i("%-I:%M"),i("%p"),a);case"hour":return ws(i("%-I %p"),i("%b %-d"),a);case"day":return ws(i("%-d"),i("%b"),a);case"week":return ws(i("%-d"),i("%b"),a);case"month":return ws(i("%b"),i("%Y"),a);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function xz(e,t,n){const r=Rf(MS(t,(l,u)=>Math.abs(u-l)||NaN));if(r>0)return Qo[Ml(([,l])=>l).right(Qo,r,1,Qo.length)-1][0];const[i,a]=Hn(e.domain()),s=typeof n=="number"?n:10,o=Math.abs(a-i)/s;return Qo[Ml(([,l])=>Math.log(l)).center(Qo,Math.log(o))][0]}function ws(e,t,n){return(r,i,a)=>{const s=e(r,i),o=t(r,i),l=i-Do(a);return i!==l&&a[l]!==void 0&&o===t(a[l],l)?s:n(s,o)}}const Nl=Object.getPrototypeOf(Uint8Array),Mz=Object.prototype.toString;function At(e,t,n){const r=typeof t;return r==="string"?np(e,qy(t),n):r==="function"?np(e,t,n):r==="number"||t instanceof Date||r==="boolean"?St(e,Ql(t),n):typeof(t==null?void 0:t.transform)=="function"?rp(t.transform(e),n):rp(t,n)}function np(e,t,n){return St(e,(n==null?void 0:n.prototype)instanceof Nl?Sz(t):t,n)}function rp(e,t){return t===void 0?yn(e):e instanceof t?e:t.prototype instanceof Nl&&!(e instanceof Nl)?t.from(e,g3):t.from(e)}function Sz(e){return(t,n)=>g3(e(t,n))}const Ef=[null],qy=e=>t=>t[e],m3={transform:i0},Ft={transform:e=>e},kz=()=>1,$z=()=>!0,Ht=e=>e==null?e:`${e}`,rt=e=>e==null?e:+e,p3=e=>e?e[0]:void 0,sm=e=>e?e[1]:void 0,Ql=e=>()=>e;function Tz(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Mo(n,t,r)}function hc(e){return e instanceof Nl?e:St(e,g3,Float64Array)}function g3(e){return e==null?NaN:Number(e)}function Cz(e){return St(e,By)}function By(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Dy(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function t0(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:th(e)?[void 0,e]:[e,void 0]}function mn(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function v3(e,t,n){if(e!=null)return Sr(e,t,n)}function Sr(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function yn(e){return e==null||e instanceof Array||e instanceof Nl?e:Array.from(e)}function St(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function om(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Ly({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function Ry({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function Fy(e){return Ly(e)||Ry(e)||e.interval!==void 0}function Fs(e){return(e==null?void 0:e.toString)===Mz}function lm(e){return Fs(e)&&(e.type!==void 0||e.domain!==void 0)}function y3(e){return Fs(e)&&typeof e.transform!="function"}function ql(e){return y3(e)&&e.value===void 0&&e.channel===void 0}function Py(e,t,n,r=Ft){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function b3(e,t){return e===void 0&&t===void 0?[p3,sm]:[e,t]}function Az({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=t0(t)),e===void 0&&([e]=t0(n)),e}function i0(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Oy(e,t){return St(t,n=>e[n])}function Ez(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function cf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _z(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function dc(e){let t;return[{transform:()=>t,label:Ps(e)},n=>t=n]}function Br(e){return e==null?[e]:dc(e)}function Ps(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function mc(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Gn(r)||Gn(i)?St(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):St(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function Hy(e,t){const n=Vy(t==null?void 0:t.interval,t==null?void 0:t.type);return n?St(e,n):e}function Vy(e,t){const n=w3(e,t);return n&&(r=>qs(r)?n.floor(r):r)}function w3(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>M4(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>M4(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?vz:Ny)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Fo(e,t){if(e=w3(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function zz(e,t){if(e=Fo(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Kl(e){return e===void 0||y3(e)?e:{value:e}}function Dz(e){return e==null?null:{transform:t=>At(t,e,Float64Array),label:Ps(e)}}function a0(e){return e&&typeof e[Symbol.iterator]=="function"}function Uy(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function ip(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Gn(e){for(const t of e)if(t!=null)return t instanceof Date}function Iz(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Dy(t)}function Nz(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function qz(e){for(const t of e)if(t!=null)return typeof t=="number"}function Xd(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function th(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||Qr(e)!==null)}function Bz(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function rn(e){return e==null||Bl(e)}function Bl(e){return/^\s*none\s*$/i.test(e)}function Lz(e){return/^\s*round\s*$/i.test(e)}function jy(e,t){return v3(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function x3(e="middle"){return jy(e,"frameAnchor")}function Do(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Vl(t,n)}function Rz(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function Fz(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Wy(e){return a0(e)?Fz(e):e}const cr=Symbol("position"),s0=Symbol("color"),nh=Symbol("radius"),rh=Symbol("length"),ih=Symbol("opacity"),ah=Symbol("symbol"),Yy=Symbol("projection"),ht=new Map([["x",cr],["y",cr],["fx",cr],["fy",cr],["r",nh],["color",s0],["opacity",ih],["symbol",ah],["length",rh],["projection",Yy]]);function Pz(e){return e===cr||e===Yy}const Oz=Math.sqrt(3),Hz=2/Oz,Vz={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Hz,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Gy=new Map([["asterisk",hy],["circle",c3],["cross",dy],["diamond",py],["diamond2",gy],["hexagon",Vz],["plus",vy],["square",yy],["square2",by],["star",xy],["times",$y],["triangle",My],["triangle2",Sy],["wye",ky]]);function Xy(e){return e&&typeof e.draw=="function"}function Uz(e){return Xy(e)?!0:typeof e!="string"?!1:Gy.has(e.toLowerCase())}function M3(e){if(e==null||Xy(e))return e;const t=Gy.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function S3({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=Zy(e)),t!=null&&!ql(t)&&(r=Zd(r,Ky(t))),n&&(r=Zd(r,Qy))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||ql(t))&&{sort:t},transform:Zd(r,s)}}function pc({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=Zy(e)),t!=null&&!ql(t)&&(r=Qd(r,Ky(t))),n&&(r=Qd(r,Qy))),{...i,...(t===null||ql(t))&&{sort:t},initializer:Qd(r,a)}}function Zd(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,yn(n),r,i)}}function Qd(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,o,l,u,f,c;return{data:o=n,facets:l=r,channels:s}=e.call(this,n,r,i,...a),{data:f=o,facets:c=l,channels:u}=t.call(this,o,l,{...i,...s},...a),{data:f,facets:c,channels:{...s,...u}}}}function Zy(e){return(t,n)=>{const r=At(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function Qy(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function Ky(e){return(typeof e=="function"&&e.length!==1?jz:Wz)(e)}function jz(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function Wz(e){let t,n;({channel:t,value:e,order:n}={...Kl(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?cc:Yn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Yn;break;case"descending":n=cc;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let o;if(t===void 0)o=At(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(o=s[t],!o)return{};o=o.value}const l=(u,f)=>n(o[u],o[f]);return{data:i,facets:a.map(u=>u.slice().sort(l))}}}function hf(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function Yz(e,t,n=Jy){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",eD]),t.href!=null&&e.href===void 0&&r.push(["href",nb]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?Gz(i):n(i,a,t))}function Jy(e,t,n,r=eb){let i;Fs(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const a=r(e,t,n),[s,o]=dc(a.label);let l;return{name:e,output:i===void 0?s:{value:s,scale:i},initialize(u){a.initialize(u),l=o([])},scope(u,f){a.scope(u,f)},reduce(u,f){l.push(a.reduce(u,f))}}}function Gz(e){return{name:e,initialize(){},scope(){},reduce(){}}}function eb(e,t,n,r=k3){const i=_z(e,n),a=r(t,i);let s,o;return{label:Ps(a===gc?null:i,a.label),initialize(l){s=i===void 0?l:At(l,i),a.scope==="data"&&(o=a.reduceIndex(i0(l),s))},scope(l,u){a.scope===l&&(o=a.reduceIndex(u,s))},reduce(l,u){return a.scope==null?a.reduceIndex(l,s,u):a.reduceIndex(l,s,o,u)}}}function ap(e,t){return t?Sl(Fm(e,n=>t[n]),p3):[[,e]]}function k3(e,t,n=Xz){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Fs(e))return Kz(e);if(typeof e=="function")return Jz(e);if(/^p\d{2}$/i.test(e))return Lr(Tz(e));switch(`${e}`.toLowerCase()){case"first":return nb;case"last":return tD;case"identity":return tb;case"count":return gc;case"distinct":return nD;case"sum":return t==null?gc:rD;case"proportion":return op(t,"data");case"proportion-facet":return op(t,"facet");case"deviation":return Lr(t9);case"min":return Lr(Zr);case"min-index":return Lr(gS);case"max":return Lr(gr);case"max-index":return Lr(pS);case"mean":return sp(bS);case"median":return sp(Rf);case"variance":return Lr(e9);case"mode":return Lr(xS)}return n(e)}function Xz(e){throw new Error(`invalid reduce: ${e}`)}function Zz(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function Qz(e,t,n){if(t){const r=t.output.transform(),i=(a,s)=>Yn(r[a],r[s]);e.forEach(a=>a.sort(i))}n&&e.forEach(r=>r.reverse())}function Kz(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Jz(e){return{reduceIndex(t,n,r){return e(Oy(n,t),r)}}}function Lr(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function sp(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Gn(n)?new Date(r):r}}}const tb={reduceIndex(e,t){return Oy(t,e)}},nb={reduceIndex(e,t){return t[e[0]]}},eD={reduceIndex(e,t){const r=Sl(go(e,a=>a.length,a=>t[a]),sm),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[5-1]=[`… ${a.length.toLocaleString("en-US")} more`,F0(a,sm)]}return i.map(([a,s])=>`${a} (${s.toLocaleString("en-US")})`).join(`
`)}},tD={reduceIndex(e,t){return t[e[e.length-1]]}},gc={label:"Frequency",reduceIndex(e){return e.length}},nD={label:"Distinct",reduceIndex(e,t){const n=new Rm;for(const r of e)n.add(t[r]);return n.size}},rD=Lr(F0);function op(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>F0(n,a=>r[a])/i}}function Ll(e,{scale:t,type:n,value:r,filter:i,hint:a},s){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),rb(s,{scale:t,type:n,value:At(e,r),label:Ps(r),filter:i,hint:a})}function iD(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Ll(t,r,n)]))}function aD(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:St(a,s)]}));return n.channels=e,n}function rb(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Xd(r,th)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Xd(r,Bz)?null:"opacity";break;case"symbol":n!==!0&&Xd(r,Uz)?(t.scale=null,t.value=St(r,M3)):t.scale="symbol";break;default:t.scale=ht.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ht.has(n))throw new Error(`unknown scale: ${n}`);return t}function sD(e,t,n,r,i){const{order:a,reverse:s,reduce:o=!0,limit:l}=i;for(const u in i){if(!ht.has(u))continue;let{value:f,order:c=a,reverse:h=s,reduce:d=o,limit:g=l}=Kl(i[u]);const y=f==null?void 0:f.startsWith("-");if(y&&(f=f.slice(1)),c=c===void 0?y!==(f==="width"||f==="height")?ab:ib:uD(c),d==null||d===!1)continue;const b=u==="fx"||u==="fy"?lD(t,r[u]):oD(n,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const w=b.value,[S=0,E=1/0]=a0(g)?g:g<0?[g]:[0,g];if(f==null)b.domain=()=>{let $=Array.from(new Rm(w));return h&&($=$.reverse()),(S!==0||E!==1/0)&&($=$.slice(S,E)),$};else{const $=f==="data"?e:f==="height"?lp(n,"y1","y2"):f==="width"?lp(n,"x1","x2"):um(n,f,f==="y"?"y2":f==="x"?"x2":void 0),A=k3(d===!0?"max":d,$);b.domain=()=>{let D=uS(i0(w),_=>A.reduceIndex(_,$),_=>w[_]);return c&&D.sort(c),h&&D.reverse(),(S!==0||E!==1/0)&&(D=D.slice(S,E)),D.map(p3)}}}}function oD(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function lD(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const o of e[a])i[o]=s}return t}function lp(e,t,n){const r=um(e,t),i=um(e,n);return St(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function um(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function uD(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return ib;case"descending":return ab}throw new Error(`invalid order: ${e}`)}function ib([e,t],[n,r]){return Yn(t,r)||Yn(e,n)}function ab([e,t],[n,r]){return cc(t,r)||Yn(e,n)}function fD(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function cD(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const hD=cD(e=>new Intl.NumberFormat(e));function dD(e="en-US"){const t=hD(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function mD(e){return fz(e,"Invalid Date")}function pD(e="en-US"){const t=dD(e);return n=>(n instanceof Date?mD:typeof n=="number"?t:Ht)(n)}const N0=pD();let fm=0;function gD(){const e=fm;return fm=0,e}function bo(e){console.warn(e),++fm}const pn=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let vD=0;function up(){return`plot-clip-${++vD}`}function yD(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:o,fillOpacity:l,stroke:u,strokeWidth:f,strokeOpacity:c,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:g,strokeDasharray:y,strokeDashoffset:b,opacity:w,mixBlendMode:S,imageFilter:E,paintOrder:$,pointerEvents:A,shapeRendering:D,channels:_},{ariaLabel:j,fill:U="currentColor",fillOpacity:k,stroke:C="none",strokeOpacity:L,strokeWidth:z,strokeLinecap:W,strokeLinejoin:V,strokeMiterlimit:Q,paintOrder:ae}){U===null&&(o=null,l=null),C===null&&(u=null,c=null),rn(U)?!rn(C)&&(!rn(o)||_!=null&&_.fill)&&(C="none"):rn(C)&&(!rn(u)||_!=null&&_.stroke)&&(U="none");const[re,me]=t0(o,U),[te,se]=mn(l,k),[oe,ne]=t0(u,C),[Se,Ce]=mn(c,L),[_e,ue]=mn(w);Bl(ne)||(f===void 0&&(f=z),d===void 0&&(d=W),h===void 0&&(h=V),g===void 0&&!Lz(h)&&(g=Q),!Bl(me)&&$===void 0&&($=ae));const[ce,K]=mn(f);return U!==null&&(e.fill=xt(me,"currentColor"),e.fillOpacity=Ko(se,1)),C!==null&&(e.stroke=xt(ne,"none"),e.strokeWidth=Ko(K,1),e.strokeOpacity=Ko(Ce,1),e.strokeLinejoin=xt(h,"miter"),e.strokeLinecap=xt(d,"butt"),e.strokeMiterlimit=Ko(g,4),e.strokeDasharray=xt(y,"none"),e.strokeDashoffset=xt(b,"0")),e.target=Ht(s),e.ariaLabel=Ht(j),e.ariaDescription=Ht(i),e.ariaHidden=Ht(a),e.opacity=Ko(ue,1),e.mixBlendMode=xt(S,"normal"),e.imageFilter=xt(E,"none"),e.paintOrder=xt($,"normal"),e.pointerEvents=xt(A,"auto"),e.shapeRendering=xt(D,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:re,scale:"auto",optional:!0},fillOpacity:{value:te,scale:"auto",optional:!0},stroke:{value:oe,scale:"auto",optional:!0},strokeOpacity:{value:Se,scale:"auto",optional:!0},strokeWidth:{value:ce,optional:!0},opacity:{value:_e,scale:"auto",optional:!0}}}function bD(e,t){t&&e.filter(n=>Ey(t[n])).append("title").call(wD,t)}function wD(e,t){t&&e.text(n=>N0(t[n]))}function Os(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:f,href:c}){r&&We(e,"aria-label",h=>r[h]),a&&We(e,"fill",h=>a[h]),s&&We(e,"fill-opacity",h=>s[h]),o&&We(e,"stroke",h=>o[h]),l&&We(e,"stroke-opacity",h=>l[h]),u&&We(e,"stroke-width",h=>u[h]),f&&We(e,"opacity",h=>f[h]),c&&MD(e,h=>c[h],t),n||bD(e,i)}function sb(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=Sr(e,"clip",["frame","sphere"])),e}function xD(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:o,marginLeft:l,marginRight:u,marginTop:f,marginBottom:c}=n,h=up();i=`url(#${h})`,e=Gt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",h).append("rect").attr("x",l).attr("y",f).attr("width",s-u-l).attr("height",o-f-c)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const o=up();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",dg(s)({type:"Sphere"}));break}}We(e,"aria-label",t.ariaLabel),We(e,"aria-description",t.ariaDescription),We(e,"aria-hidden",t.ariaHidden),We(e,"clip-path",i)}function U0(e,t,n,r){xD(e,t,n,r),We(e,"fill",t.fill),We(e,"fill-opacity",t.fillOpacity),We(e,"stroke",t.stroke),We(e,"stroke-width",t.strokeWidth),We(e,"stroke-opacity",t.strokeOpacity),We(e,"stroke-linejoin",t.strokeLinejoin),We(e,"stroke-linecap",t.strokeLinecap),We(e,"stroke-miterlimit",t.strokeMiterlimit),We(e,"stroke-dasharray",t.strokeDasharray),We(e,"stroke-dashoffset",t.strokeDashoffset),We(e,"shape-rendering",t.shapeRendering),We(e,"filter",t.imageFilter),We(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;We(e,"pointer-events",i)}function j0(e,t){SD(e,"mix-blend-mode",t.mixBlendMode),We(e,"opacity",t.opacity)}function MD(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(So.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(So.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function We(e,t,n){n!=null&&e.attr(t,n)}function SD(e,t,n){n!=null&&e.style(t,n)}function o0(e,t,{x:n,y:r},i=pn,a=pn){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function xt(e,t){if((e=Ht(e))!==t)return e}function Ko(e,t){if((e=rt(e))!==t)return e}const kD=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function $3(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!kD.test(e))throw new Error(`invalid class name: ${e}`);return e}function T3(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function sh({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function C3(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:sb(n)}}function Gt(e,{document:t}){return hl(_c(e).call(t.documentElement))}const ob=Math.PI,Ir=2*ob,fp=.618;function $D({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let o,l,u="frame";if(Fs(e)){let A;if({type:e,domain:l,inset:A,insetTop:n=A!==void 0?A:n,insetRight:r=A!==void 0?A:r,insetBottom:i=A!==void 0?A:i,insetLeft:a=A!==void 0?A:a,clip:u=u,...o}=e,e==null)return}typeof e!="function"&&({type:e}=lb(e));const{width:f,height:c,marginLeft:h,marginRight:d,marginTop:g,marginBottom:y}=s,b=f-h-d-a-r,w=c-g-y-n-i;if(e=e==null?void 0:e({width:b,height:w,clip:u,...o}),e==null)return;u=TD(u,h,g,f-d,c-y);let S=h+a,E=g+n,$;if(l!=null){const[[A,D],[_,j]]=dg(e).bounds(l),U=Math.min(b/(_-A),w/(j-D));U>0?(S-=(U*(A+_)-b)/2,E-=(U*(D+j)-w)/2,$=Z4({point(k,C){this.stream.point(k*U+S,C*U+E)}})):bo("Warning: the projection could not be fit to the specified domain; using the default scale.")}return $??($=S===0&&E===0?ub():Z4({point(A,D){this.stream.point(A+S,D+E)}})),{stream:A=>e.stream($.stream(u(A)))}}function lb(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Bn(JC,.7463,.4673);case"albers":return df(yg,.7463,.4673);case"azimuthal-equal-area":return Bn(eA,4,4);case"azimuthal-equidistant":return Bn(tA,Ir,Ir);case"conic-conformal":return df(iA,Ir,Ir);case"conic-equal-area":return df(rc,6.1702,2.9781);case"conic-equidistant":return df(oA,7.312,3.6282);case"equal-earth":return Bn(uA,5.4133,2.6347);case"equirectangular":return Bn(aA,Ir,ob);case"gnomonic":return Bn(fA,3.4641,3.4641);case"identity":return{type:ub};case"reflect-y":return{type:CD};case"mercator":return Bn(nA,Ir,Ir);case"orthographic":return Bn(cA,2,2);case"stereographic":return Bn(hA,2,2);case"transverse-mercator":return Bn(dA,Ir,Ir);default:throw new Error(`unknown projection type: ${e}`)}}function TD(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return tg(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Bn(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:o})=>{var u,f,c;const l=e();return s!=null&&((u=l.precision)==null||u.call(l,s)),a!=null&&((f=l.rotate)==null||f.call(l,a)),typeof o=="number"&&((c=l.clipAngle)==null||c.call(l,o)),l.scale(Math.min(r/t,i/n)),l.translate([r/2,i/2]),l},aspectRatio:n/t}}function df(e,t,n){const{type:r,aspectRatio:i}=Bn(e,t,n);return{type:a=>{const{parallels:s,domain:o,width:l,height:u}=a,f=r(a);return s!=null&&(f.parallels(s),o===void 0&&f.fitSize([l,u],{type:"Sphere"})),f},aspectRatio:i}}const ub=Ql({stream:e=>e}),CD=Ql(Z4({point(e,t){this.stream.point(e,-t)}}));function AD(e,t,n,r){const i=n[e],a=n[t],s=i.length,o=n[e]=new Float64Array(s).fill(NaN),l=n[t]=new Float64Array(s).fill(NaN);let u;const f=r.stream({point(c,h){o[u]=c,l[u]=h}});for(u=0;u<s;++u)f.point(i[u],a[u])}function ED({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Fs(e)&&(e=e.type),e!=null)}function _D(e){if(typeof(e==null?void 0:e.stream)=="function")return fp;if(Fs(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=lb(e);if(t)return t}return fp}}function zD(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,o){t.push(s),n.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)Ss(s,a);return[r,i]}const fb=new Map([["accent",RE],["category10",LE],["dark2",FE],["paired",PE],["pastel1",OE],["pastel2",HE],["set1",VE],["set2",UE],["set3",jE],["tableau10",WE]]);function DD(e){return e!=null&&fb.has(`${e}`.toLowerCase())}const cp=new Map([...fb,["brbg",Nr(iv,av)],["prgn",Nr(sv,ov)],["piyg",Nr(lv,uv)],["puor",Nr(fv,cv)],["rdbu",Nr(tm,oc)],["rdgy",Nr(hv,dv)],["rdylbu",Nr(nm,lc)],["rdylgn",Nr(mv,pv)],["spectral",Nr(gv,vv)],["burd",hp(tm,oc)],["buylrd",hp(nm,lc)],["blues",Tt(Hv,Vv)],["greens",Tt(Uv,jv)],["greys",Tt(Wv,Yv)],["oranges",Tt(Kv,Jv)],["purples",Tt(Gv,Xv)],["reds",Tt(Zv,Qv)],["turbo",qr(sy)],["viridis",qr(oy)],["magma",qr(ly)],["inferno",qr(uy)],["plasma",qr(fy)],["cividis",qr(ey)],["cubehelix",qr(ty)],["warm",qr(ny)],["cool",qr(ry)],["bugn",Tt(yv,bv)],["bupu",Tt(wv,xv)],["gnbu",Tt(Mv,Sv)],["orrd",Tt(kv,$v)],["pubu",Tt(Av,Ev)],["pubugn",Tt(Tv,Cv)],["purd",Tt(_v,zv)],["rdpu",Tt(Dv,Iv)],["ylgn",Tt(Bv,Lv)],["ylgnbu",Tt(Nv,qv)],["ylorbr",Tt(Rv,Fv)],["ylorrd",Tt(Pv,Ov)],["rainbow",dp(iy)],["sinebow",dp(ay)]]);function Tt(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Un(t,n):e[n])}function Nr(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Un(t,n):e[n])}function hp(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Un(r=>t(1-r),n):e[n].slice().reverse())}function qr(e){return({length:t})=>Un(e,Math.max(2,Math.floor(t)))}function dp(e){return({length:t})=>Un(e,Math.floor(t)+1).slice(0,-1)}function cb(e){const t=`${e}`.toLowerCase();if(!cp.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return cp.get(t)}function oh(e,t){const n=cb(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function ID(e,t="greys"){const n=new Set,[r,i]=oh(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const mp=new Map([["brbg",av],["prgn",ov],["piyg",uv],["puor",cv],["rdbu",oc],["rdgy",dv],["rdylbu",lc],["rdylgn",pv],["spectral",vv],["burd",e=>oc(1-e)],["buylrd",e=>lc(1-e)],["blues",Vv],["greens",jv],["greys",Yv],["purples",Xv],["reds",Qv],["oranges",Jv],["turbo",sy],["viridis",oy],["magma",ly],["inferno",uy],["plasma",fy],["cividis",ey],["cubehelix",ty],["warm",ny],["cool",ry],["bugn",bv],["bupu",xv],["gnbu",Sv],["orrd",$v],["pubugn",Cv],["pubu",Ev],["purd",zv],["rdpu",Iv],["ylgnbu",qv],["ylgn",Lv],["ylorbr",Fv],["ylorrd",Ov],["rainbow",iy],["sinebow",ay]]);function A3(e){const t=`${e}`.toLowerCase();if(!mp.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return mp.get(t)}const ND=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function qD(e){return e!=null&&ND.has(`${e}`.toLowerCase())}const hb=e=>t=>e(1-t),Kd=[0,1],pp=new Map([["number",Lt],["rgb",_s],["hsl",W$],["hcl",X$],["lab",Y$]]);function db(e){const t=`${e}`.toLowerCase();if(!pp.has(t))throw new Error(`unknown interpolator: ${t}`);return pp.get(t)}function Jl(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:o=pb(e,n),unknown:l,round:u,scheme:f,interval:c,range:h=ht.get(e)===nh?WD(n,o):ht.get(e)===rh?YD(n,o):ht.get(e)===ih?Kd:void 0,interpolate:d=ht.get(e)===s0?f==null&&h!==void 0?_s:A3(f!==void 0?f:r==="cyclical"?"rainbow":"turbo"):u?Gm:Lt,reverse:g}){if(c=Fo(c,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=db(d)),g=!!g,h!==void 0){const y=(o=yn(o)).length,b=(h=yn(h)).length;if(y!==b){if(d.length===1)throw new Error("invalid piecewise interpolator");d=Ic(d,h),h=void 0}}if(d.length===1?(g&&(d=hb(d),g=!1),h===void 0&&(h=Float64Array.from(o,(y,b)=>b/(o.length-1)),h.length===2&&(h=Kd)),t.interpolate((h===Kd?Ql:_3)(d))):t.interpolate(d),s){const[y,b]=Hn(o);(y>0||b<0)&&(o=om(o),Do(o)!==Math.sign(y)?o[o.length-1]=0:o[0]=0)}return g&&(o=Ff(o)),t.domain(o).unknown(l),i&&(t.nice(BD(i,r)),o=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:o,range:h,scale:t,interpolate:d,interval:c}}function BD(e,t){return e===!0?void 0:typeof e=="number"?e:zz(e,t)}function LD(e,t,n){return Jl(e,s3(),t,n)}function RD(e,t,n){return mb(e,t,{...n,exponent:.5})}function mb(e,t,{exponent:n=1,...r}){return Jl(e,Lg().exponent(n),t,{...r,type:"pow"})}function FD(e,t,{base:n=10,domain:r=GD(t),...i}){return Jl(e,Ig().base(n),t,{...i,domain:r})}function PD(e,t,{constant:n=1,...r}){return Jl(e,qg().constant(n),t,r)}function OD(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=XD(t),unknown:o,interpolate:l,reverse:u}){return n===void 0&&(n=l!==void 0?Un(l,i):ht.get(e)===s0?oh(a,i):void 0),s.length>0&&(s=Rg(s,n===void 0?{length:i}:n).quantiles()),E3(e,t,{domain:s,range:n,reverse:u,unknown:o})}function HD(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=pb(e,t),unknown:s,interpolate:o,reverse:l}){const[u,f]=Hn(a);let c;return n===void 0?(c=kl(u,f,r),c[0]<=u&&c.splice(0,1),c[c.length-1]>=f&&c.pop(),r=c.length+1,n=o!==void 0?Un(o,r):ht.get(e)===s0?oh(i,r):void 0):(c=Un(Lt(u,f),r+1).slice(1,-1),u instanceof Date&&(c=c.map(h=>new Date(h)))),Do(yn(a))<0&&c.reverse(),E3(e,t,{domain:c,range:n,reverse:l,unknown:s})}function E3(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?Un(a,n.length+1):ht.get(e)===s0?oh(i,n.length+1):void 0,reverse:o}){n=yn(n);const l=Do(n);if(!isNaN(l)&&!VD(n,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return o&&(s=Ff(s)),{type:"threshold",scale:Fg(l<0?Ff(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function VD(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=Vl(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function UD(){return{type:"identity",scale:_g()}}function Rl(e,t=_y){return e.length?[Zr(e,({value:n})=>n===void 0?n:Zr(n,t)),gr(e,({value:n})=>n===void 0?n:gr(n,t))]:[0,1]}function pb(e,t){const n=ht.get(e);return(n===nh||n===ih||n===rh?jD:Rl)(t)}function jD(e){return[0,e.length?gr(e,({value:t})=>t===void 0?t:gr(t,_y)):1]}function WD(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=Mo(e,.5,({value:s})=>s===void 0?NaN:Mo(s,.25,d3)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/gr(i);return a<1?i.map(s=>s*a):i}function YD(e,t){const n=Rf(e,({value:a})=>a===void 0?NaN:Rf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/gr(r);return i<1?r.map(a=>a*i):r}function GD(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Rl(e,d3);if(n<0)return Rl(e,zy)}return[1,10]}function XD(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function _3(e){return(t,n)=>r=>e(t+r*(n-t))}function lh(e,t,n,r,{type:i,nice:a,clamp:s,domain:o=Rl(r),unknown:l,pivot:u=0,scheme:f,range:c,symmetric:h=!0,interpolate:d=ht.get(e)===s0?f==null&&c!==void 0?_s:A3(f!==void 0?f:"rdbu"):Lt,reverse:g}){u=+u,o=yn(o);let[y,b]=o;if(o.length>2&&bo(`Warning: the diverging ${e} scale domain contains extra elements.`),Vl(y,b)<0&&([y,b]=[b,y],g=!g),y=Math.min(y,u),b=Math.max(b,u),typeof d!="function"&&(d=db(d)),c!==void 0&&(d=d.length===1?_3(d)(...c):Ic(d,c)),g&&(d=hb(d)),h){const w=n.apply(u),S=w-n.apply(y),E=n.apply(b)-w;S<E?y=n.invert(w-E):S>E&&(b=n.invert(w+S))}return t.domain([y,u,b]).unknown(l).interpolator(d),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[y,b],pivot:u,interpolate:d,scale:t}}function ZD(e,t,n){return lh(e,ev(),eI,t,n)}function QD(e,t,n){return gb(e,t,{...n,exponent:.5})}function gb(e,t,{exponent:n=1,...r}){return lh(e,rv().exponent(n=+n),rI(n),t,{...r,type:"diverging-pow"})}function KD(e,t,{base:n=10,pivot:r=1,domain:i=Rl(t,r<0?zy:d3),...a}){return lh(e,tv().base(n=+n),tI,t,{domain:i,pivot:r,...a})}function JD(e,t,{constant:n=1,...r}){return lh(e,nv().constant(n=+n),iI(n),t,r)}const eI={apply(e){return e},invert(e){return e}},tI={apply:Math.log,invert:Math.exp},nI={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function rI(e){return e===.5?nI:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function iI(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function vb(e,t,n,r){return Jl(e,t,n,r)}function aI(e,t,n){return vb(e,qE(),t,n)}function sI(e,t,n){return vb(e,BE(),t,n)}const eu=Symbol("ordinal");function yb(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:o,hint:l}){return i=Fo(i,r),a===void 0&&(a=wb(n,i,e)),(r==="categorical"||r===eu)&&(r="ordinal"),o&&(a=Ff(a)),t.domain(a),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:l,interval:i}}function oI(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:o,...l}){r=Fo(r,n),i===void 0&&(i=wb(t,r,e));let u;if(ht.get(e)===ah)u=fI(t),a=a===void 0?cI(u):St(a,M3);else if(ht.get(e)===s0&&(a===void 0&&(n==="ordinal"||n===eu)&&(a=ID(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"tableau10"),s!==void 0))if(a!==void 0){const f=A3(s),c=a[0],h=a[1]-a[0];a=({length:d})=>Un(g=>f(c+h*g),d)}else a=cb(s);if(o===K4)throw new Error(`implicit unknown on ${e} scale is not supported`);return yb(e,a3().unknown(o),t,{...l,type:n,domain:i,range:a,hint:u})}function lI(e,t,{align:n=.5,padding:r=.5,...i}){return bb(gA().align(n).padding(r),t,i,e)}function uI(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return bb(Fc().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function bb(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=yb(r,e,t,n),e.round=i,e}function wb(e,t,n){const r=new Rm;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=Hn(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&ht.get(n)===cr)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Sl(r,Yn)}function gp(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function fI(e){return{fill:gp(e,"fill"),stroke:gp(e,"stroke")}}function cI(e){return rn(e.fill)?r_:n_}function cm(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:o,nice:l,clamp:u,zero:f,align:c,padding:h,projection:d,facet:{label:g=t}={},...y}={}){const b={};for(const[w,S]of e){const E=y[w],$=pI(w,S,{round:ht.get(w)===cr?o:void 0,nice:l,clamp:u,zero:f,align:c,padding:h,projection:d,...E});if($){let{label:A=w==="fx"||w==="fy"?g:t,percent:D,transform:_,inset:j,insetTop:U=j!==void 0?j:w==="y"?r:0,insetRight:k=j!==void 0?j:w==="x"?i:0,insetBottom:C=j!==void 0?j:w==="y"?a:0,insetLeft:L=j!==void 0?j:w==="x"?s:0}=E||{};if(_==null)_=void 0;else if(typeof _!="function")throw new Error("invalid scale transform; not a function");$.percent=!!D,$.label=A===void 0?dI(S,$):A,$.transform=_,w==="x"||w==="fx"?($.insetLeft=+L,$.insetRight=+k):(w==="y"||w==="fy")&&($.insetTop=+U,$.insetBottom=+C),b[w]=$}}return b}function vp(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function hI(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?z3(t):t;i&&yp(i,s),a&&bp(a,s);const o=i||a?xb(e,t):t;n&&yp(n,o),r&&bp(r,o)}function dI(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Hs(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function z3(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:o,marginRight:l,marginBottom:u,marginLeft:f}}=e;return{marginTop:Math.max(t,o),marginRight:Math.max(n,l),marginBottom:Math.max(r,u),marginLeft:Math.max(i,f),width:a,height:s}}function xb({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=z3(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:o,height:t?t.scale.bandwidth()+r+a:l,facet:{width:o,height:l}}}function yp(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,o=a+n,l=i-s-r;e.range=[o,Math.max(o,l)],Hs(e)||(e.range=Sb(e)),e.scale.range(e.range)}Mb(e)}function bp(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,o=a+n,l=i-s-r;e.range=[Math.max(o,l),o],Hs(e)?e.range.reverse():e.range=Sb(e),e.scale.range(e.range)}Mb(e)}function Mb(e){e.round===void 0&&vI(e)&&mI(e)<=30&&e.scale.round(!0)}function mI({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,o=Math.abs(r-n)/Math.max(1,s+a*2);return(o-Math.floor(o))*s}function Sb(e){const t=e.scale.domain().length+kb(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function pI(e,t=[],n={}){const r=gI(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Hs({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Gn)?bo(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${fo(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${fo(r)}".`):i.some(Iz)?bo(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${fo(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${fo(r)}".`):i.some(Nz)&&bo(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${fo(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${fo(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=mf(t,n,hc);break;case"identity":switch(ht.get(e)){case cr:n=mf(t,n,hc);break;case ah:n=mf(t,n,yI);break}break;case"utc":case"time":n=mf(t,n,Cz);break}switch(r){case"diverging":return ZD(e,t,n);case"diverging-sqrt":return QD(e,t,n);case"diverging-pow":return gb(e,t,n);case"diverging-log":return KD(e,t,n);case"diverging-symlog":return JD(e,t,n);case"categorical":case"ordinal":case eu:return oI(e,t,n);case"cyclical":case"sequential":case"linear":return LD(e,t,n);case"sqrt":return RD(e,t,n);case"threshold":return E3(e,t,n);case"quantile":return OD(e,t,n);case"quantize":return HD(e,t,n);case"pow":return mb(e,t,n);case"log":return FD(e,t,n);case"symlog":return PD(e,t,n);case"utc":return sI(e,t,n);case"time":return aI(e,t,n);case"point":return lI(e,t,n);case"band":return uI(e,t,n);case"identity":return ht.get(e)===cr?UD():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function fo(e){return typeof e=="symbol"?e.description:e}const wp={toString:()=>"projection"};function gI(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:o}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&o!=null&&(n=wp);for(const{type:u}of t)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===wp)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=ht.get(e);if(l===nh)return"sqrt";if(l===ih||l===rh)return"linear";if(l===ah)return"ordinal";if((r||i||[]).length>2)return Jd(l);if(r!==void 0){if(ip(r))return Jd(l);if(Gn(r))return"utc"}else{const u=t.map(({value:f})=>f).filter(f=>f!==void 0);if(u.some(ip))return Jd(l);if(u.some(Gn))return"utc"}if(l===s0){if(s!=null||qD(a))return"diverging";if(DD(a))return"categorical"}return"linear"}function Jd(e){switch(e){case cr:return"point";case s0:return eu;default:return"ordinal"}}function D3({type:e}){return e==="time"||e==="utc"}function Hs({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===eu}function kb({type:e}){return e==="threshold"}function vI({type:e}){return e==="point"||e==="band"}function hr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function mf(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function yI(e){return St(e,M3)}function bI(e){return t=>{if(!ht.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?wI(e[t]):void 0}}function wI({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:o,pivot:l}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const u=e.unknown?e.unknown():void 0;return{type:t,domain:om(n),...r!==void 0&&{range:om(r)},...s!==void 0&&{transform:s},...o&&{percent:o},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:f=>e(f),...e.invert&&{invert:f=>e.invert(f)}}}function xI(e,t,n={}){let r=.5-pn,i=.5+pn,a=.5+pn,s=.5-pn;for(const{marginTop:y,marginRight:b,marginBottom:w,marginLeft:S}of t)y>r&&(r=y),b>i&&(i=b),w>a&&(a=w),S>s&&(s=S);let{margin:o,marginTop:l=o!==void 0?o:r,marginRight:u=o!==void 0?o:i,marginBottom:f=o!==void 0?o:a,marginLeft:c=o!==void 0?o:s}=n;l=+l,u=+u,f=+f,c=+c;let{width:h=640,height:d=MI(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,l-r+f-a)}=n;h=+h,d=+d;const g={width:h,height:d,marginTop:l,marginRight:u,marginBottom:f,marginLeft:c};if(e.fx||e.fy){let{margin:y,marginTop:b=y!==void 0?y:l,marginRight:w=y!==void 0?y:u,marginBottom:S=y!==void 0?y:f,marginLeft:E=y!==void 0?y:c}=n.facet??{};b=+b,w=+w,S=+S,E=+E,g.facet={marginTop:b,marginRight:w,marginBottom:S,marginLeft:E}}return g}function MI({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:o,marginRightDefault:l,marginBottomDefault:u,marginLeftDefault:f}){const c=n?n.scale.domain().length:1,h=_D(i);if(h){const g=r?r.scale.domain().length:1,y=(1.1*c-.1)/(1.1*g-.1)*h,b=Math.max(.1,Math.min(10,y));return Math.round((s-f-l)*b+o+u)}const d=t?Hs(t)?t.scale.domain().length:Math.max(7,17/c):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const g=xp("y",t)/(xp("x",e)*a),y=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,w=y*(s-f-l)-e.insetLeft-e.insetRight;return(g*w+t.insetTop+t.insetBottom)/b+o+u}return!!(t||n)*Math.max(1,Math.min(60,d*c))*20+!!r*30+60}function xp(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=t.scale.exponent();i=l=>Math.pow(l,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=Hn(r);return Math.abs(i(s)-i(a))}function SI(e,t){const{fx:n,fy:r}=cm(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?oS(i,a).map(([s,o],l)=>({x:s,y:o,i:l})):i?i.map((s,o)=>({x:s,i:o})):a?a.map((s,o)=>({y:s,i:o})):void 0}function kI(e,{x:t,y:n}){return t&&(t=hm(t)),n&&(n=hm(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function I3(e,{fx:t,fy:n}){const r=i0(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?go(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?go(r,s=>(s.fx=i[s[0]],s),s=>i[s]):go(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function $I(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function TI(e){const t=[],n=new Uint32Array(F0(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const CI=new Map([["top",e4],["right",r4],["bottom",t4],["left",n4],["top-left",pf(e4,n4)],["top-right",pf(e4,r4)],["bottom-left",pf(t4,n4)],["bottom-right",pf(t4,r4)],["top-empty",_I],["right-empty",II],["bottom-empty",zI],["left-empty",DI],["empty",NI]]);function AI(e){if(e==null)return null;const t=CI.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Mp=new WeakMap;function hm(e){let t=Mp.get(e);return t||Mp.set(e,t=new As(St(e,(n,r)=>[n,r]))),t}function W0(e,t){return hm(e).get(t)}function EI(e,t,n){return t=cf(t),n=cf(n),e.find(r=>Object.is(cf(r.x),t)&&Object.is(cf(r.y),n))}function uh(e,t,n){var r;return(r=EI(e,t,n))==null?void 0:r.empty}function e4(e,{y:t},{y:n}){return t?W0(t,n)===0:!0}function t4(e,{y:t},{y:n}){return t?W0(t,n)===t.length-1:!0}function n4(e,{x:t},{x:n}){return t?W0(t,n)===0:!0}function r4(e,{x:t},{x:n}){return t?W0(t,n)===t.length-1:!0}function _I(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=W0(t,r);if(a>0)return uh(e,n,t[a-1])}function zI(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=W0(t,r);if(a<t.length-1)return uh(e,n,t[a+1])}function DI(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=W0(t,n);if(a>0)return uh(e,t[a-1],r)}function II(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=W0(t,n);if(a<t.length-1)return uh(e,t[a+1],r)}function NI(e,t,{empty:n}){return n}function pf(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function i4(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class Zn{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:o,fy:l,sort:u,dx:f=0,dy:c=0,margin:h=0,marginTop:d=h,marginRight:g=h,marginBottom:y=h,marginLeft:b=h,clip:w=i==null?void 0:i.clip,channels:S,tip:E,render:$}=r;if(this.data=t,this.sort=ql(u)?u:null,this.initializer=pc(r).initializer,this.transform=this.initializer?r.transform:S3(r).transform,a===null||a===!1?this.facet=null:(this.facet=Sr(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Ef&&typeof o=="string"?[o]:o,this.fy=t===Ef&&typeof l=="string"?[l]:l),this.facetAnchor=AI(s),n=Wy(n),S!==void 0&&(n={...qI(S),...n}),i!==void 0&&(n={...yD(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([A,D])=>{if(y3(D.value)){const{value:_,scale:j=D.scale}=D.value;D={...D,scale:j,value:_}}if(t===Ef&&typeof D.value=="string"){const{value:_}=D;D={...D,value:[_]}}return[A,D]}).filter(([A,{value:D,optional:_}])=>{if(D!=null)return!0;if(_)return!1;throw new Error(`missing channel value: ${A}`)})),this.dx=+f,this.dy=+c,this.marginTop=+d,this.marginRight=+g,this.marginBottom=+y,this.marginLeft=+b,this.clip=sb(w),this.tip=BI(E),this.facet==="super"){if(o||l)throw new Error("super-faceting cannot use fx or fy");for(const A in this.channels){const{scale:D}=n[A];if(!(D!=="x"&&D!=="y"))throw new Error("super-faceting cannot use x or y")}}$!=null&&(this.render=Tb($,this.render))}initialize(t,n,r){let i=yn(this.data);t===void 0&&i!=null&&(t=[i0(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=yn(i)),t!==void 0&&(t.original=a);const s=iD(this.channels,i);return this.sort!=null&&sD(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=qs}=n[i];if(a!==null){const s=r[i];t=t.filter(o=>a(s[o]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&AD(i,a,n,r.projection)}}scale(t,n,r){const i=aD(t,n);return r.projection&&this.project(t,i,r),i}}function $b(...e){return e.plot=Zn.prototype.plot,e}function Tb(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,o){return e.call(this,n,r,i,a,s,(l,u,f,c,h)=>t.call(this,l,u,f,c,h,o))}}function qI(e){return Object.fromEntries(Object.entries(Wy(e)).map(([t,n])=>(n=Kl(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function BI(e){return e===!0?"xy":e===!1?null:v3(e,"tip",["x","y","xy"])}function fh(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:e}const Sp=new WeakMap;function N3(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:o,render:l,...u}={}){return s=+s,i!=null&&(n??(n=null),o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),o={...o,py:{value:a,scale:"y"}}),{x:n,y:r,channels:o,...u,render:Tb(function(f,c,h,d,g,y){g={...g,pointerSticky:!1};const b=g.ownerSVGElement,{data:w}=g.getMarkState(this);let S=Sp.get(b);S||Sp.set(b,S={sticky:!1,roots:[],renders:[]});let E=S.renders.push(ne)-1;const{x:$,y:A,fx:D,fy:_}=c;let j=D?D(f.fx)-d.marginLeft:0,U=_?_(f.fy)-d.marginTop:0;$!=null&&$.bandwidth&&(j+=$.bandwidth()/2),A!=null&&A.bandwidth&&(U+=A.bandwidth()/2);const k=f.fi!=null;let C;if(k){let ue=S.facetStates;ue||(S.facetStates=ue=new Map),C=ue.get(this),C||ue.set(this,C=new Map)}const[L,z]=sh(this,d),{px:W,py:V}=h,Q=W?ue=>W[ue]:Cb(h,L),ae=V?ue=>V[ue]:Ab(h,z);let re,me,te,se;function oe(ue,ce){if(k)if(se&&(se=cancelAnimationFrame(se)),ue==null)C.delete(f.fi);else{C.set(f.fi,ce),se=requestAnimationFrame(()=>{se=null;for(const[K,xe]of C)if(xe<ce||xe===ce&&K<f.fi){ue=null;break}ne(ue)});return}ne(ue)}function ne(ue){if(re===ue&&te===S.sticky)return;re=ue,te=g.pointerSticky=S.sticky;const ce=re==null?[]:[re];k&&(ce.fx=f.fx,ce.fy=f.fy,ce.fi=f.fi);const K=y(ce,c,h,d,g);if(me){if(k){const xe=me.parentNode,Te=me.getAttribute("transform"),Y=K.getAttribute("transform");Te?K.setAttribute("transform",Te):K.removeAttribute("transform"),Y?xe.setAttribute("transform",Y):xe.removeAttribute("transform"),K.removeAttribute("aria-label"),K.removeAttribute("aria-description"),K.removeAttribute("aria-hidden")}me.replaceWith(K)}return S.roots[E]=me=K,re==null&&(C==null?void 0:C.size)>1||g.dispatchValue(re==null?null:w[re]),K}function Se(ue){if(S.sticky||ue.pointerType==="mouse"&&ue.buttons===1)return;let[ce,K]=m$(ue);ce-=j,K-=U;const xe=ce<d.marginLeft||ce>d.width-d.marginRight?1:e,Te=K<d.marginTop||K>d.height-d.marginBottom?1:t;let Y=null,ke=s*s;for(const Ee of f){const Be=xe*(Q(Ee)-ce),Le=Te*(ae(Ee)-K),Ge=Be*Be+Le*Le;Ge<=ke&&(Y=Ee,ke=Ge)}if(Y!=null&&(e!==1||t!==1)){const Ee=Q(Y)-ce,Be=ae(Y)-K;ke=Ee*Ee+Be*Be}oe(Y,ke)}function Ce(ue){ue.pointerType==="mouse"&&re!=null&&(S.sticky&&S.roots.some(ce=>ce==null?void 0:ce.contains(ue.target))||(S.sticky?(S.sticky=!1,S.renders.forEach(ce=>ce(null))):(S.sticky=!0,ne(re)),ue.stopImmediatePropagation()))}function _e(ue){ue.pointerType==="mouse"&&(S.sticky||oe(null))}return b.addEventListener("pointerenter",Se),b.addEventListener("pointermove",Se),b.addEventListener("pointerdown",Ce),b.addEventListener("pointerleave",_e),ne(null)},l)}}function LI(e){return N3(1,1,e)}function RI(e){return N3(1,.01,e)}function FI(e){return N3(.01,1,e)}function Cb({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Ab({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Eb(e){return Hs(e)&&e.interval===void 0?void 0:"tabular-nums"}function PI(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:o=0,marginBottom:l=16+r,marginLeft:u=0,style:f,ticks:c=(i-u-o)/64,tickFormat:h,fontVariant:d=Eb(e),round:g=!0,opacity:y,className:b}=t;const w=C3(t);b=$3(b),y=mn(y)[1],h===null&&(h=()=>null);const S=Gt("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(L=>L.append("style").text(`.${b}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${b}-ramp text {
  white-space: pre;
}`)).call(T3,f);let E=L=>L.selectAll(".tick line").attr("y1",s+l-a),$;const A=g?(L,z)=>L.rangeRound(z):(L,z)=>L.range(z),{type:D,domain:_,range:j,interpolate:U,scale:k,pivot:C}=e;if(U){const L=j===void 0?U:Ic(U.length===1?_3(U):U,j);$=A(k.copy(),Un(Lt(u,i-o),Math.min(_.length+(C!==void 0),j===void 0?1/0:j.length)));const z=256,W=w.document.createElement("canvas");W.width=z,W.height=1;const V=W.getContext("2d");for(let Q=0,ae=z-1;Q<z;++Q)V.fillStyle=L(Q/ae),V.fillRect(Q,0,1,1);S.append("image").attr("opacity",y).attr("x",u).attr("y",s).attr("width",i-u-o).attr("height",a-s-l).attr("preserveAspectRatio","none").attr("xlink:href",W.toDataURL())}else if(D==="threshold"){const L=_,z=h===void 0?W=>W:typeof h=="string"?Yl(h):h;$=A(s3().domain([-1,j.length-1]),[u,i-o]),S.append("g").attr("fill-opacity",y).selectAll().data(j).enter().append("rect").attr("x",(W,V)=>$(V-1)).attr("y",s).attr("width",(W,V)=>$(V)-$(V-1)).attr("height",a-s-l).attr("fill",W=>W),c=St(L,(W,V)=>V),h=W=>z(L[W],W)}else $=A(Fc().domain(_),[u,i-o]),S.append("g").attr("fill-opacity",y).selectAll().data(_).enter().append("rect").attr("x",$).attr("y",s).attr("width",Math.max(0,$.bandwidth()-1)).attr("height",a-s-l).attr("fill",k),E=()=>{};return S.append("g").attr("transform",`translate(0,${a-l})`).call(zS($).ticks(Array.isArray(c)?null:c,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(c)?c:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",xt(d,"normal")).call(E).call(L=>L.select(".domain").remove()),n!==void 0&&S.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),S.node()}const _b=Math.PI/180;function zb(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=a4(n),e.markerMid=a4(r),e.markerEnd=a4(i)}function a4(e){if(e==null||e===!1)return null;if(e===!0)return $p;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return kp("auto");case"arrow-reverse":return kp("auto-start-reverse");case"dot":return OI;case"circle":case"circle-fill":return $p;case"circle-stroke":return HI}throw new Error(`invalid marker: ${e}`)}function kp(e){return(t,n)=>Gt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function OI(e,t){return Gt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function $p(e,t){return Gt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function HI(e,t){return Gt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let VI=0;function Db(e,t,{stroke:n},r){return UI(e,t,n&&(i=>n[i]),r)}function UI(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const o=new Map;function l(u){return function(f){const c=a(f);let h=o.get(u);h||o.set(u,h=new Map);let d=h.get(c);if(!d){const g=this.parentNode.insertBefore(u(c,s),this),y=`plot-marker-${++VI}`;g.setAttribute("id",y),h.set(c,d=`url(#${y})`)}return d}}t&&e.attr("marker-start",l(t)),n&&e.attr("marker-mid",l(n)),r&&e.attr("marker-end",l(r))}function ch({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Nb(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Ib({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Nb(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Nb(e,t,n){return e===void 0&&t===void 0&&n===void 0?pn?[1,0]:[.5,.5]:[t,n]}function qb(e,{interval:t}){return e={...Kl(e)},e.interval=w3(e.interval===void 0?t:e.interval),e}function q3(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:o,interval:l}=qb(i,n);if(o==null||l==null&&!r)return n;const u=Ps(i);if(l==null){let d;const g={transform:y=>d||(d=At(y,o)),label:u};return{...n,[e]:void 0,[`${e}1`]:a===void 0?g:a,[`${e}2`]:s===void 0?g:s}}let f,c;function h(d){return c!==void 0&&d===f?c:c=St(At(f=d,o),g=>l.floor(g))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:u}:a,[`${e}2`]:s===void 0?{transform:d=>h(d).map(g=>l.offset(g)),label:u}:s})}function Bb(e,t,n){const{[e]:r}=n,{value:i,interval:a}=qb(r,n);return i==null||a==null?n:t({...n,[e]:{label:Ps(r),transform:s=>{const o=St(At(s,i),u=>a.floor(u)),l=o.map(u=>a.offset(u));return o.map(Gn(o)?(u,f)=>u==null||isNaN(u=+u)||(f=l[f],f==null)||isNaN(f=+f)?void 0:new Date((u+f)/2):(u,f)=>u==null||(f=l[f],f==null)?NaN:(+u+ +f)/2)}}})}function jI(e={}){return q3("x",ch,e,!0)}function Lb(e={}){return q3("x",ch,e)}function WI(e={}){return q3("y",Ib,e)}function YI(e={}){return Bb("x",ch,e)}function GI(e={}){return Bb("y",Ib,e)}const Rb={ariaLabel:"rule",fill:null,stroke:"currentColor"};class XI extends Zn{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:o=s,insetBottom:l=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},fh(n,"x"),Rb),this.insetTop=rt(o),this.insetBottom=rt(l),zb(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y1:u,y2:f}=r,{width:c,height:h,marginTop:d,marginRight:g,marginLeft:y,marginBottom:b}=i,{insetTop:w,insetBottom:S}=this;return Gt("svg:g",a).call(U0,this,i,a).call(o0,this,{x:l&&s},pn,0).call(E=>E.selectAll().data(t).enter().append("line").call(j0,this).attr("x1",l?$=>l[$]:(y+c-g)/2).attr("x2",l?$=>l[$]:(y+c-g)/2).attr("y1",u&&!hr(o)?$=>u[$]+w:d+w).attr("y2",f&&!hr(o)?o.bandwidth?$=>f[$]+o.bandwidth()-S:$=>f[$]-S:h-b-S).call(Os,this,r).call(Db,this,r,a)).node()}}class ZI extends Zn{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:o=s,insetLeft:l=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},fh(n,"y"),Rb),this.insetRight=rt(o),this.insetLeft=rt(l),zb(this,n)}render(t,n,r,i,a){const{x:s,y:o}=n,{y:l,x1:u,x2:f}=r,{width:c,height:h,marginTop:d,marginRight:g,marginLeft:y,marginBottom:b}=i,{insetLeft:w,insetRight:S}=this;return Gt("svg:g",a).call(U0,this,i,a).call(o0,this,{y:l&&o},0,pn).call(E=>E.selectAll().data(t).enter().append("line").call(j0,this).attr("x1",u&&!hr(s)?$=>u[$]+w:y+w).attr("x2",f&&!hr(s)?s.bandwidth?$=>f[$]+s.bandwidth()-S:$=>f[$]-S:c-g-S).attr("y1",l?$=>l[$]:(d+h-b)/2).attr("y2",l?$=>l[$]:(d+h-b)/2).call(Os,this,r).call(Db,this,r,a)).node()}}function QI(e,t){let{x:n=Ft,y:r,y1:i,y2:a,...s}=WI(t);return[i,a]=Pb(r,i,a),new XI(e,{...s,x:n,y1:i,y2:a})}function Fb(e,t){let{y:n=Ft,x:r,x1:i,x2:a,...s}=Lb(t);return[i,a]=Pb(r,i,a),new ZI(e,{...s,y:n,x1:i,x2:a})}function Pb(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Ob(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const KI={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Hb="­";class B3 extends Zn{constructor(t,n={}){const{x:r,y:i,text:a=a0(t)&&Uy(t)?Ft:m3,frameAnchor:s,textAnchor:o=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:l=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:f=1/0,textOverflow:c,monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:b,fontWeight:w,rotate:S}=n,[E,$]=mn(S,0),[A,D]=iN(g);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:A,optional:!0},rotate:{value:Dz(E),optional:!0},text:{value:a,filter:Ey,optional:!0}},n,KI),this.rotate=$,this.textAnchor=xt(o,"middle"),this.lineAnchor=Sr(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+f,this.textOverflow=Vb(c),this.monospace=!!h,this.fontFamily=Ht(d),this.fontSize=D,this.fontStyle=Ht(y),this.fontVariant=Ht(b),this.fontWeight=Ht(w),this.frameAnchor=x3(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=jb(this),this.clipLine=Wb(this)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,rotate:f,text:c,title:h,fontSize:d}=r,{rotate:g}=this,[y,b]=sh(this,i);return Gt("svg:g",a).call(U0,this,i,a).call(Ub,this,c,i).call(o0,this,{x:l&&s,y:u&&o}).call(w=>w.selectAll().data(t).enter().append("text").call(j0,this).call(JI,this,c,h).attr("transform",Ob`translate(${l?S=>l[S]:y},${u?S=>u[S]:b})${f?S=>` rotate(${f[S]})`:g?` rotate(${g})`:""}`).call(We,"font-size",d&&(S=>d[S])).call(Os,this,r)).node()}}function Vb(e){return e==null?null:Sr(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function JI(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:o,clipLine:l}=t;e.each(function(u){const f=o(N0(n[u])??"").map(l),c=f.length,h=i==="top"?.71:i==="bottom"?1-c:(164-c*100)/200;if(c>1){let d=0;for(let g=0;g<c;++g){if(++d,!f[g])continue;const y=this.ownerDocument.createElementNS(So.svg,"tspan");y.setAttribute("x",0),g===d-1?y.setAttribute("y",`${(h+g)*a}em`):y.setAttribute("dy",`${d*a}em`),y.textContent=f[g],this.appendChild(y),d=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=f[0];if(s&&!r&&f[0]!==n[u]){const d=this.ownerDocument.createElementNS(So.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function L3(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=b3(t,n)),new B3(e,{...r,x:t,y:n})}function eN(e,{x:t=Ft,...n}={}){return new B3(e,GI({...n,x:t}))}function tN(e,{y:t=Ft,...n}={}){return new B3(e,YI({...n,y:t}))}function Ub(e,t,n){We(e,"text-anchor",t.textAnchor),We(e,"font-family",t.fontFamily),We(e,"font-size",t.fontSize),We(e,"font-style",t.fontStyle),We(e,"font-variant",t.fontVariant===void 0?nN(n):t.fontVariant),We(e,"font-weight",t.fontWeight)}function nN(e){return e&&(qz(e)||Gn(e))?"tabular-nums":void 0}const rN=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function iN(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),rN.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function aN(e,t,n){const r=[];let i,a=0;for(const[s,o,l]of sN(e)){if(i===void 0&&(i=s),a>i&&n(e,i,o)>t&&(r.push(e.slice(i,a)+(e[a-1]===Hb?"-":"")),i=s),l){r.push(e.slice(i,o)),i=void 0;continue}a=o}return r}function*sN(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Hb:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Tp={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function R3(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Po(e,i))r+=Tp[e[i]]??(Gb(e,i)?120:Tp.e);return r}function F3(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Po(e,i))r+=Gb(e,i)?200:100;return r}function jb({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?F3:R3,i=t*100;return a=>aN(a,i,r)}function Wb({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?F3:R3,i=t*100;switch(n){case"clip-start":return a=>Ap(a,i,r,"");case"clip-end":return a=>Cp(a,i,r,"");case"ellipsis-start":return a=>Ap(a,i,r,wo);case"ellipsis-middle":return a=>oN(a,i,r,wo);case"ellipsis-end":return a=>Cp(a,i,r,wo)}}const wo="…";function Io(e,t,n,r){const i=[];let a=0;for(let s=0,o=0,l=e.length;s<l;s=o){o=Po(e,s);const u=n(e,s,o);if(a+u>t){for(a+=r;a>t&&s>0;)o=s,s=i.pop(),a-=n(e,s,o);return[s,t-a]}a+=u,i.push(s)}return[-1,0]}function Cp(e,t,n,r){e=e.trim();const i=n(r),[a]=Io(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function oN(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,o]=Io(e,t/2,n,a),[l]=Io(e,i-t/2-o+a,n,-a);return l<0?r:e.slice(0,s).trimEnd()+r+e.slice(Po(e,l)).trimStart()}function Ap(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=Io(e,i-t+a,n,-a);return s<0?r:r+e.slice(Po(e,s)).trimStart()}const dm=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Ep=/\p{Extended_Pictographic}/uy;function Po(e,t){return t+=lN(e,t)?2:1,fN(e,t)&&(t=dm.lastIndex),uN(e,t)?Po(e,t+1):t}function Yb(e,t){return e.charCodeAt(t)<128}function lN(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function uN(e,t){return e.charCodeAt(t)===8205}function fN(e,t){return Yb(e,t)?!1:(dm.lastIndex=t,dm.test(e))}function Gb(e,t){return Yb(e,t)?!1:(Ep.lastIndex=t,Ep.test(e))}const cN={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Xb=3.5,hN=Xb*5,Zb={draw(e,t,n){const r=t*n/hN;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},dN={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},mN=new Map([["arrow",Zb],["spike",dN]]);function pN(e){return e&&typeof e.draw=="function"}function gN(e){if(pN(e))return e;const t=mN.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class Qb extends Zn{constructor(t,n={}){const{x:r,y:i,r:a=Xb,length:s,rotate:o,shape:l=Zb,anchor:u="middle",frameAnchor:f}=n,[c,h]=mn(s,12),[d,g]=mn(o,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:c,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,cN),this.r=+a,this.length=h,this.rotate=g,this.shape=gN(l),this.anchor=Sr(u,"anchor",["start","middle","end"]),this.frameAnchor=x3(f)}render(t,n,r,i,a){const{x:s,y:o}=n,{x:l,y:u,length:f,rotate:c}=r,{length:h,rotate:d,anchor:g,shape:y,r:b}=this,[w,S]=sh(this,i);return Gt("svg:g",a).call(U0,this,i,a).call(o0,this,{x:l&&s,y:u&&o}).call(E=>E.selectAll().data(t).enter().append("path").call(j0,this).attr("transform",Ob`translate(${l?$=>l[$]:w},${u?$=>u[$]:S})${c?$=>` rotate(${c[$]})`:d?` rotate(${d})`:""}${g==="start"?"":g==="end"?f?$=>` translate(0,${f[$]})`:` translate(0,${h})`:f?$=>` translate(0,${f[$]/2})`:` translate(0,${h/2})`}`).attr("d",f?$=>{const A=q4();return y.draw(A,f[$],b),A}:(()=>{const $=q4();return y.draw($,h,b),$})()).call(Os,this,r)).node()}}function vN(e,t={}){const{x:n=Ft,...r}=t;return new Qb(e,{...r,x:n})}function yN(e,t={}){const{y:n=Ft,...r}=t;return new Qb(e,{...r,y:n})}function Y0(e,t){return arguments.length<2&&!a0(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function hh({anchor:e}={},t){return e===void 0?t[0]:Sr(e,"anchor",t)}function Kb(e){return hh(e,["left","right"])}function Jb(e){return hh(e,["right","left"])}function ew(e){return hh(e,["bottom","top"])}function tw(e){return hh(e,["top","bottom"])}function nw(){const[e,t]=Y0(...arguments);return iw("y",Kb(t),e,t)}function bN(){const[e,t]=Y0(...arguments);return iw("fy",Jb(t),e,t)}function rw(){const[e,t]=Y0(...arguments);return aw("x",ew(t),e,t)}function wN(){const[e,t]=Y0(...arguments);return aw("fx",tw(t),e,t)}function iw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:f,textStroke:c,textStrokeOpacity:h,textStrokeWidth:d,tickSize:g=e==="y"?6:0,tickPadding:y,tickRotate:b,x:w,margin:S,marginTop:E=S===void 0?20:S,marginRight:$=S===void 0?t==="right"?40:0:S,marginBottom:A=S===void 0?20:S,marginLeft:D=S===void 0?t==="left"?40:0:S,label:_,labelAnchor:j,labelArrow:U,labelOffset:k,...C}){return g=rt(g),y=rt(y),b=rt(b),j!==void 0&&(j=Sr(j,"labelAnchor",["center","top","bottom"])),U=dw(U),$b(g&&!rn(a)?xN(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:g,tickPadding:y,tickRotate:b,x:w,...C}):null,rn(l)?null:SN(e,t,n,{fill:l,fillOpacity:u,stroke:c,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:g,tickPadding:y,tickRotate:b,x:w,marginTop:E,marginRight:$,marginBottom:A,marginLeft:D,...C}),!rn(l)&&_!==null?L3([],uw({fill:l,fillOpacity:u,...C},function(L,z,W,V,Q){const ae=V[e],{marginTop:re,marginRight:me,marginBottom:te,marginLeft:se}=e==="y"&&Q.inset||Q,oe=j??(ae.bandwidth?"center":"top"),ne=k??(t==="right"?me:se)-3;return oe==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=oe,this.frameAnchor=`${oe}-${t}`,this.rotate=0),this.dy=oe==="top"?3-re:oe==="bottom"?te-3:0,this.dx=t==="right"?ne:-ne,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[hw(e,ae,{anchor:t,label:_,labelAnchor:oe,labelArrow:U})]}}}})):null)}function aw(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:f,textStroke:c,textStrokeOpacity:h,textStrokeWidth:d,tickSize:g=e==="x"?6:0,tickPadding:y,tickRotate:b,y:w,margin:S,marginTop:E=S===void 0?t==="top"?30:0:S,marginRight:$=S===void 0?20:S,marginBottom:A=S===void 0?t==="bottom"?30:0:S,marginLeft:D=S===void 0?20:S,label:_,labelAnchor:j,labelArrow:U,labelOffset:k,...C}){return g=rt(g),y=rt(y),b=rt(b),j!==void 0&&(j=Sr(j,"labelAnchor",["center","left","right"])),U=dw(U),$b(g&&!rn(a)?MN(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:g,tickPadding:y,tickRotate:b,y:w,...C}):null,rn(l)?null:kN(e,t,n,{fill:l,fillOpacity:u,stroke:c,strokeOpacity:h,strokeWidth:d,textAnchor:f,tickSize:g,tickPadding:y,tickRotate:b,y:w,marginTop:E,marginRight:$,marginBottom:A,marginLeft:D,...C}),!rn(l)&&_!==null?L3([],uw({fill:l,fillOpacity:u,...C},function(L,z,W,V,Q){const ae=V[e],{marginTop:re,marginRight:me,marginBottom:te,marginLeft:se}=e==="x"&&Q.inset||Q,oe=j??(ae.bandwidth?"center":"right"),ne=k??(t==="top"?re:te)-3;return oe==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${oe}`,this.textAnchor=oe==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ne:ne,this.dx=oe==="right"?me-3:oe==="left"?3-se:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[hw(e,ae,{anchor:t,label:_,labelAnchor:oe,labelArrow:U})]}}}})):null)}function xN(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetLeft:f=u,insetRight:c=u,dx:h=0,y:d=e==="y"?void 0:null,...g}){return Oo(yN,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:o,y:d,...g,dx:t==="left"?+h-pn+ +f:+h+pn-c,anchor:"start",length:l,shape:t==="left"?zN:DN})}function MN(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetTop:f=u,insetBottom:c=u,dy:h=0,x:d=e==="x"?void 0:null,...g}){return Oo(vN,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:o,x:d,...g,dy:t==="bottom"?+h-pn-c:+h+pn+ +f,anchor:"start",length:l,shape:t==="bottom"?EN:_N})}function SN(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*_b):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:f=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:c=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:d=0,insetLeft:g=d,insetRight:y=d,dx:b=0,y:w=e==="y"?void 0:null,...S}){return Oo(tN,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:f,lineAnchor:c,fontVariant:h,rotate:s,y:w,...S,dx:t==="left"?+b-a-o+ +g:+b+ +a+ +o-y},function(E,$,A,D){h===void 0&&(this.fontVariant=cw(E)),u===void 0&&(D.text=fw(E,$,A,l,t))})}function kN(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*_b):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:f=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:d=0,insetTop:g=d,insetBottom:y=d,dy:b=0,x:w=e==="x"?void 0:null,...S}){return Oo(eN,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:f,lineAnchor:c,fontVariant:h,rotate:s,x:w,...S,dy:t==="bottom"?+b+ +a+ +o-y:+b-a-o+ +g},function(E,$,A,D){h===void 0&&(this.fontVariant=cw(E)),u===void 0&&(D.text=fw(E,$,A,l,t))})}function $N(){const[e,t]=Y0(...arguments);return sw("y",Kb(t),e,t)}function TN(){const[e,t]=Y0(...arguments);return sw("fy",Jb(t),e,t)}function CN(){const[e,t]=Y0(...arguments);return ow("x",ew(t),e,t)}function AN(){const[e,t]=Y0(...arguments);return ow("fx",tw(t),e,t)}function sw(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...o}){return Oo(Fb,e,`${e}-grid`,n,{y:r,x1:a,x2:s,...lw(o)})}function ow(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...o}){return Oo(QI,e,`${e}-grid`,n,{x:r,y1:a,y2:s,...lw(o)})}function lw({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function uw({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u=!1},f){return[,e]=t0(e),[,t]=mn(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:s,pointerEvents:o,shapeRendering:l,clip:u,initializer:f}}function Oo(e,t,n,r,i,a){let s;function o(f,c,h,d,g,y){const b=f==null&&(t==="fx"||t==="fy"),{[t]:w}=d;if(!w)throw new Error(`missing scale: ${t}`);let{ticks:S,tickSpacing:E,interval:$}=i;if(D3(w)&&typeof S=="string"&&($=S,S=void 0),f==null){if(a0(S))f=yn(S);else if(w.ticks)if(S!==void 0)f=w.ticks(S);else if($=Fo($===void 0?w.interval:$,w.type),$!==void 0){const[D,_]=Hn(w.domain());f=$.range(D,$.offset($.floor(_)))}else{const[D,_]=Hn(w.range());S=(_-D)/(E===void 0?t==="x"?80:35:E),f=w.ticks(S)}else f=w.domain();t==="y"||t==="x"?c=[i0(f)]:s[t]={scale:t,value:Ft}}a==null||a.call(this,w,f,S,s);const A=Object.fromEntries(Object.entries(s).map(([D,_])=>[D,{..._,value:At(f,_.value)}]));return b&&(c=y.filterFacets(f,A)),{data:f,facets:c,channels:A}}const l=pc(i).initializer,u=e(r,pc({...i,initializer:o},l));return r==null?(s=u.channels,u.channels={}):s={},u.ariaLabel=n,u.clip===void 0&&(u.clip=!1),u}function fw(e,t,n,r,i){return{value:vc(e,t,n,r,i)}}function vc(e,t,n,r,i){return r===void 0&&D3(e)?wz(e,t,n,i):e.tickFormat?e.tickFormat(a0(n)?null:n,r):r===void 0?yz(e.interval)?Dl("%Y"):bz(e.interval)?Gc("%Y"):N0:typeof r=="string"?(Gn(e.domain())?Dl:Yl)(r):Ql(r)}const EN={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},_N={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},zN={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},DN={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function cw(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function IN(e){return Math.sign(Do(e.domain()))*Math.sign(Do(e.range()))}function hw(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&NN(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=IN(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function dw(e="auto"){return rn(e)?!1:typeof e=="boolean"?e:Sr(e,"labelArrow",["auto","up","right","down","left"])}function NN(e){return D3(e)||e.interval!=null}function _p(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function qN(e,{opacity:t,...n}={}){if(!Hs(e)&&!kb(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return mw(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",mn(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function BN(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(f=>(f=e.hint)==null?void 0:f.stroke)()!==void 0?e.hint.stroke:rn(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...o}={},l){const[c,h]=t0(t),[d,g]=t0(r),y=_p(l,c),b=_p(l,d),w=s*s*Math.PI;return n=mn(n)[1],i=mn(i)[1],a=mn(a)[1],mw(e,o,(S,E,$,A)=>S.append("svg").attr("viewBox","-8 -8 16 16").attr("width",$).attr("height",A).attr("fill",c==="color"?D=>y.scale(D):h).attr("fill-opacity",n).attr("stroke",d==="color"?D=>b.scale(D):g).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",D=>{const _=q4();return e.scale(D).draw(_,w),_}))}function mw(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=Eb(e),swatchSize:s=15,swatchWidth:o=s,swatchHeight:l=s,marginLeft:u=0,className:f,style:c,width:h}=t;const d=C3(t);f=$3(f),typeof i!="function"&&(i=vc(e.scale,e.domain,void 0,i));const g=Gt("div",d).attr("class",`${f}-swatches ${f}-swatches-${r!=null?"columns":"wrap"}`);let y;return r!=null?(y=`.${f}-swatches-columns .${f}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${f}-swatches-columns .${f}-swatch::before {
  flex-shrink: 0;
}
.${f}-swatches-columns .${f}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,g.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(n,e,o,l).call(b=>b.append("div").attr("class",`${f}-swatch-label`).attr("title",i).text(i))):(y=`.${f}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${f}-swatches-wrap .${f}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,g.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(n,e,o,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),g.call(b=>b.insert("style","*").text(`.${f}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${f}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${y}`)).style("margin-left",u?`${+u}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",xt(a,"normal")).call(T3,c).node()}const mm=new Map([["symbol",BN],["color",gw],["opacity",RN]]);function LN(e,t,n={}){return(r,i)=>{if(!mm.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return mm.get(r)(e[r],pw(t,n[r],i),a=>e[a])}}function pw({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return Rz(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function gw(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return qN(e,n);case"ramp":return PI(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function RN({type:e,interpolate:t,...n},{legend:r=!0,color:i=P0(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return gw({type:e,...n,interpolate:FN(i)},{legend:r,...a})}function FN(e){const{r:t,g:n,b:r}=P0(e)||P0(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function PN(e,t,n){const r=[];for(const[i,a]of mm){const s=n[i];if(s!=null&&s.legend&&i in e){const o=a(e[i],pw(t,e[i],s),l=>e[l]);o!=null&&r.push(o)}}return r}const ON={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},HN={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class VN extends Zn{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:o=r,rx:l,ry:u}=t;super(Ef,void 0,t,n==null?ON:HN),this.anchor=v3(n,"anchor",["top","right","bottom","left"]),this.insetTop=rt(i),this.insetRight=rt(a),this.insetBottom=rt(s),this.insetLeft=rt(o),this.rx=rt(l),this.ry=rt(u)}render(t,n,r,i,a){const{marginTop:s,marginRight:o,marginBottom:l,marginLeft:u,width:f,height:c}=i,{anchor:h,insetTop:d,insetRight:g,insetBottom:y,insetLeft:b,rx:w,ry:S}=this,E=u+b,$=f-o-g,A=s+d,D=c-l-y;return Gt(h?"svg:line":"svg:rect",a).datum(0).call(U0,this,i,a).call(j0,this).call(Os,this,r).call(o0,this,{}).call(h==="left"?_=>_.attr("x1",E).attr("x2",E).attr("y1",A).attr("y2",D):h==="right"?_=>_.attr("x1",$).attr("x2",$).attr("y1",A).attr("y2",D):h==="top"?_=>_.attr("x1",E).attr("x2",$).attr("y1",A).attr("y2",A):h==="bottom"?_=>_.attr("x1",E).attr("x2",$).attr("y1",D).attr("y2",D):_=>_.attr("x",E).attr("y",A).attr("width",$-E).attr("height",D-A).attr("rx",w).attr("ry",S)).node()}}function UN(e){return new VN(e)}const s4={ariaLabel:"tip",fill:"white",stroke:"currentColor"},jN=new Set(["geometry","href","src","ariaLabel"]);class WN extends Zn{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&a0(t)&&Uy(t)&&(n={...n,title:Ft});const{x:r,y:i,x1:a,x2:s,y1:o,y2:l,anchor:u,monospace:f,fontFamily:c=f?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:d,fontVariant:g,fontWeight:y,lineHeight:b=1,lineWidth:w=20,frameAnchor:S,textAnchor:E="start",textOverflow:$,textPadding:A=8,title:D,pointerSize:_=12,pathFilter:j="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&l!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:o,scale:"y",optional:l==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:o==null},title:{value:D,optional:!0}},n,s4),this.anchor=jy(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=x3(S),this.textAnchor=xt(E,"middle"),this.textPadding=+A,this.pointerSize=+_,this.pathFilter=Ht(j),this.lineHeight=+b,this.lineWidth=+w,this.textOverflow=Vb($),this.monospace=!!f,this.fontFamily=Ht(c),this.fontSize=rt(h),this.fontStyle=Ht(d),this.fontVariant=Ht(g),this.fontWeight=Ht(y);for(const U in s4)U in this.channels&&(this[U]=s4[U]);this.splitLines=jb(this),this.clipLine=Wb(this)}render(t,n,r,i,a){const s=this,{x:o,y:l,fx:u,fy:f}=n,{ownerSVGElement:c,document:h}=a,{anchor:d,monospace:g,lineHeight:y,lineWidth:b}=this,{textPadding:w,pointerSize:S,pathFilter:E}=this,{marginTop:$,marginLeft:A}=i,D=QN(r),{x1:_,y1:j,x2:U,y2:k,x:C=_??U,y:L=j??k}=r,z=u?u(t.fx)-A:0,W=f?f(t.fy)-$:0,[V,Q]=sh(this,i),ae=Cb(r,V),re=Ab(r,Q),me=g?F3:R3,te=me(wo),se=u&&vc(u),oe=f&&vc(f);function*ne(ue,ce){if("title"in ue){const K=ue.title.value[ce];for(const xe of s.splitLines(N0(K)))yield{name:"",value:s.clipLine(xe)};return}for(const K in ue){if(K==="x1"&&"x2"in ue||K==="y1"&&"y2"in ue)continue;const xe=ue[K],Te=xe.value[ce];if(!(!qs(Te)&&xe.scale==null))if(K==="x2"&&"x1"in ue)yield{name:Dp(n,ue.x1,xe,"x"),value:zp(ue.x1,xe,ce)};else if(K==="y2"&&"y1"in ue)yield{name:Dp(n,ue.y1,xe,"y"),value:zp(ue.y1,xe,ce)};else{const Y=xe.scale,ke={name:pm(n,xe,K),value:N0(Te)};(Y==="color"||Y==="opacity")&&(ke[Y]=r[K][ce]),yield ke}}t.fi!=null&&u&&(yield{name:String(u.label??"fx"),value:se(t.fx)}),t.fi!=null&&f&&(yield{name:String(f.label??"fy"),value:oe(t.fy)})}const Se=Gt("svg:g",a).call(U0,this,i,a).call(Ub,this).call(o0,this,{x:C&&o,y:L&&l}).call(ue=>ue.selectAll().data(t).enter().append("g").attr("transform",ce=>`translate(${Math.round(ae(ce))},${Math.round(re(ce))})`).call(j0,this).call(ce=>ce.append("path").attr("filter",E)).call(ce=>ce.append("text").each(function(K){const xe=hl(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Te=new Set;for(const Y of ne(D,K)){const ke=Y.name;ke&&Te.has(ke)||(Te.add(ke),Ce(xe,Y))}})));function Ce(ue,{name:ce,value:K,color:xe,opacity:Te}){const Y=xe!=null||Te!=null;let ke,Ee=b*100;const[Be]=Io(ce,Ee,me,te);if(Be>=0)ce=ce.slice(0,Be).trimEnd()+wo,ke=K.trim(),K="";else{(ce||!K&&!Y)&&(K=" "+K);const[Ge]=Io(K,Ee-me(ce),me,te);Ge>=0&&(K=K.slice(0,Ge).trimEnd()+wo,ke=K.trim())}const Le=ue.append("tspan").attr("x",0).attr("dy",`${y}em`).text("​");ce&&Le.append("tspan").attr("font-weight","bold").text(ce),K&&Le.append(()=>h.createTextNode(K)),Y&&Le.append("tspan").text(" ■").attr("fill",xe).attr("fill-opacity",Te).style("user-select","none"),ke&&Le.append("title").text(ke)}function _e(){const{width:ue,height:ce}=i.facet??i;Se.selectChildren().each(function(K){let{x:xe,width:Te,height:Y}=this.getBBox();Te=Math.round(Te),Y=Math.round(Y);let ke=d;if(ke===void 0){ke=s.previousAnchor;const Le=ae(K)+z,Ge=re(K)+W,mt=Le+Te+w*2<ue,bt=Le-Te-w*2>0,Pt=Ge+Y+S+w*2+7<ce,Xt=Ge-Y-S-w*2>0,_t=(/-left$/.test(ke)?mt||!bt:mt&&!bt)?"left":"right",Vs=(/^top-/.test(ke)?Pt||!Xt:Pt&&!Xt)?"top":"bottom";ke=s.previousAnchor=`${Vs}-${_t}`}const Ee=this.firstChild,Be=this.lastChild;if(Ee.setAttribute("d",ZN(ke,S,w,Te,Y)),xe)for(const Le of Be.childNodes)Le.setAttribute("x",-xe);Be.setAttribute("y",`${+GN(ke,Be.childNodes.length,y).toFixed(6)}em`),Be.setAttribute("transform",`translate(${XN(ke,S,w,Te,Y)})`)})}return c.isConnected?Promise.resolve().then(_e):typeof requestAnimationFrame<"u"&&requestAnimationFrame(_e),Se.node()}}function YN(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=b3(t,n)),new WN(e,{...r,x:t,y:n})}function GN(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function XN(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function ZN(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function QN({channels:e}){const t={};for(const n in e){if(jN.has(n))continue;const r=fD(e,n);r&&(t[n]=r)}return t}function zp(e,t,n){var r;return(r=t.hint)!=null&&r.length?`${N0(t.value[n]-e.value[n])}`:`${N0(e.value[n])}–${N0(t.value[n])}`}function Dp(e,t,n,r){const i=pm(e,t,r),a=pm(e,n,r);return i===a?i:`${i}–${a}`}function pm(e,t,n){var r;return String(((r=e[t.scale])==null?void 0:r.label)??(t==null?void 0:t.label)??n)}function tu(e={}){var me;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:o}=e,l=$3(e.className),u=e.marks===void 0?[]:Np(e.marks);u.push(...aq(u));const f=rq(t,e),c=new Map;for(const te of u){const se=qp(te,f,e);se&&c.set(te,se)}const h=new Map;f&&Jo(h,[f],e),Jo(h,c,e);const d=Np(sq(u,h,e));for(const te of d){const se=qp(te,f,e);se&&c.set(te,se)}u.unshift(...d);let g=SI(h,e);if(g!==void 0){const te=f?i4(g,f):void 0;for(const oe of u){if(oe.facet===null||oe.facet==="super")continue;const ne=c.get(oe);ne!==void 0&&(ne.facetsIndex=oe.fx!=null||oe.fy!=null?i4(g,ne):te)}const se=new Set;for(const{facetsIndex:oe}of c.values())oe==null||oe.forEach((ne,Se)=>{(ne==null?void 0:ne.length)>0&&se.add(Se)});g.forEach(0<se.size&&se.size<g.length?(oe,ne)=>oe.empty=!se.has(ne):oe=>oe.empty=!1);for(const oe of u)if(oe.facet==="exclude"){const ne=c.get(oe);ne!==void 0&&(ne.facetsIndex=TI(ne.facetsIndex))}}for(const te of ht.keys())lm(e[te])&&te!=="fx"&&te!=="fy"&&h.set(te,[]);const y=new Map;for(const te of u){if(y.has(te))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:se,channels:oe}=c.get(te)??{},{data:ne,facets:Se,channels:Ce}=te.initialize(se,oe,e);P3(Ce,e),y.set(te,{data:ne,facets:Se,channels:Ce})}const b=cm(Jo(h,y,e),e),w=vp(b),S=xI(b,u,e);hI(b,S);const{fx:E,fy:$}=w,A=E||$?xb(b,S):S,D=E||$?dq(w,S):S,_=C3(e),j=_.document,U=_c("svg").call(j.documentElement);let k=U;_.ownerSVGElement=U,_.className=l,_.projection=$D(e,A),_.filterFacets=(te,se)=>i4(g,{channels:se,groups:I3(te,se)}),_.getMarkState=te=>{const se=y.get(te),oe=c.get(te);return{...se,channels:{...se.channels,...oe==null?void 0:oe.channels}}},_.dispatchValue=te=>{k.value!==te&&(k.value=te,k.dispatchEvent(new Event("input",{bubbles:!0})))};const C=new Set;for(const[te,se]of y)if(te.initializer!=null){const oe=te.facet==="super"?D:A,ne=te.initializer(se.data,se.facets,se.channels,w,oe,_);if(ne.data!==void 0&&(se.data=ne.data),ne.facets!==void 0&&(se.facets=ne.facets),ne.channels!==void 0){const{fx:Se,fy:Ce,..._e}=ne.channels;nq(_e),Object.assign(se.channels,_e);for(const ue of Object.values(_e)){const{scale:ce}=ue;ce!=null&&!Pz(ht.get(ce))&&(vw(ue,e),C.add(ce))}(Se!=null||Ce!=null)&&c.set(te,!0)}}if(C.size){const te=new Map;Jo(te,y,e,ne=>C.has(ne)),Jo(h,y,e,ne=>C.has(ne));const se=hq(cm(te,e),b),oe=vp(se);Object.assign(b,se),Object.assign(w,oe)}let L,z;g!==void 0&&(L={x:E==null?void 0:E.domain(),y:$==null?void 0:$.domain()},g=kI(g,L),z=$I(E,$,S));for(const[te,se]of y)se.values=te.scale(se.channels,w,_);const{width:W,height:V}=S;hl(U).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",W).attr("height",V).attr("viewBox",`0 0 ${W} ${V}`).attr("aria-label",s).attr("aria-description",o).call(te=>te.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(T3,n);for(const te of u){const{channels:se,values:oe,facets:ne}=y.get(te);if(g===void 0||te.facet==="super"){let Se=null;if(ne&&(Se=ne[0],Se=te.filter(Se,se,oe),Se.length===0))continue;const Ce=te.render(Se,w,oe,D,_);if(Ce==null)continue;U.appendChild(Ce)}else{let Se;for(const Ce of g){if(!(((me=te.facetAnchor)==null?void 0:me.call(te,g,L,Ce))??!Ce.empty))continue;let _e=null;if(ne){const ce=c.has(te);if(_e=ne[ce?Ce.i:0],_e=te.filter(_e,se,oe),_e.length===0)continue;!ce&&_e===ne[0]&&(_e=Ez(_e)),_e.fx=Ce.x,_e.fy=Ce.y,_e.fi=Ce.i}const ue=te.render(_e,w,oe,A,_);if(ue!=null){(Se??(Se=hl(U).append("g"))).append(()=>ue).datum(Ce);for(const ce of["aria-label","aria-description","aria-hidden","transform"])ue.hasAttribute(ce)&&(Se.attr(ce,ue.getAttribute(ce)),ue.removeAttribute(ce))}}Se==null||Se.selectChildren().attr("transform",z)}}const Q=PN(b,_,e),{figure:ae=r!=null||i!=null||a!=null||Q.length>0}=e;ae&&(k=j.createElement("figure"),k.className=`${l}-figure`,k.style.maxWidth="initial",r!=null&&k.append(Ip(j,r,"h2")),i!=null&&k.append(Ip(j,i,"h3")),k.append(...Q,U),a!=null&&k.append(KN(j,a))),k.scale=bI(b),k.legend=LN(b,_,e);const re=gD();return re>0&&hl(U).append("text").attr("x",W).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${re.toLocaleString("en-US")} warning${re===1?"":"s"}. Please check the console.`),k}function Ip(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(e.createTextNode(t)),r}function KN(e,t){const n=e.createElement("figcaption");return n.append(t.ownerDocument?t:e.createTextNode(t)),n}function JN({marks:e=[],...t}={}){return tu({...t,marks:[...e,this]})}Zn.prototype.plot=JN;function Np(e){return e.flat(1/0).filter(t=>t!=null).map(eq)}function eq(e){return typeof e.render=="function"?e:new tq(e)}class tq extends Zn{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function P3(e,t){for(const n in e)vw(e[n],t);return e}function vw(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:o=a?l=>l*100:Vy(s,i)}=t[n]??{};o!=null&&(e.value=St(e.value,o),e.transform=!1)}function nq(e){for(const t in e)rb(t,e[t])}function Jo(e,t,n,r=$z){var i,a;for(const{channels:s}of t.values())for(const o in s){const l=s[o],{scale:u}=l;if(u!=null&&r(u))if(u==="projection"){if(!ED(n)){const f=((i=n.x)==null?void 0:i.domain)===void 0,c=((a=n.y)==null?void 0:a.domain)===void 0;if(f||c){const[h,d]=zD(l);f&&o4(e,"x",h),c&&o4(e,"y",d)}}}else o4(e,u,l)}return e}function o4(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function rq(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=yn(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Ll(i,{value:n,scale:"fx"})),r!=null&&(a.fy=Ll(i,{value:r,scale:"fy"})),P3(a,t);const s=I3(i,a);return{channels:a,groups:s,data:e.data}}function qp(e,t,n){var l;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=yn(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const f={};return r!=null&&(f.fx=Ll(u,{value:r,scale:"fx"})),i!=null&&(f.fy=Ll(u,{value:i,scale:"fy"})),P3(f,n),{channels:f,groups:I3(u,f)}}if(t===void 0)return;const{channels:a,groups:s,data:o}=t;if(e.facet!=="auto"||e.data===o)return{channels:a,groups:s};o.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((l=yn(e.data))==null?void 0:l.length)===o.length&&bo(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function iq(e,t={}){return pc({...t,x:null,y:null},(n,r,i,a,s,o)=>o.getMarkState(e))}function aq(e){const t=[];for(const n of e){const r=n.tip;if(r){const a=(r==="x"?RI:r==="y"?FI:LI)(iq(n));a.title=null,t.push(YN(n.data,a))}}return t}function sq(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:o={},axis:l,grid:u,facet:f={},facet:{axis:c=l,grid:h}=f,x:{axis:d=l,grid:g=d===null?null:u}=i,y:{axis:y=l,grid:b=y===null?null:u}=a,fx:{axis:w=c,grid:S=w===null?null:h}=s,fy:{axis:E=c,grid:$=E===null?null:h}=o}=n;(r||!lm(i)&&!Bp("x",e))&&(d=g=null),(r||!lm(a)&&!Bp("y",e))&&(y=b=null),t.has("fx")||(w=S=null),t.has("fy")||(E=$=null),d===void 0&&(d=!yf(e,"x")),y===void 0&&(y=!yf(e,"y")),w===void 0&&(w=!yf(e,"fx")),E===void 0&&(E=!yf(e,"fy")),d===!0&&(d="bottom"),y===!0&&(y="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),E===!0&&(E=y==="right"||y===null?"left":"right");const A=[];return vf(A,$,TN,o),gf(A,E,bN,"right","left",f,o),vf(A,S,AN,s),gf(A,w,wN,"top","bottom",f,s),vf(A,b,$N,a),gf(A,y,nw,"left","right",n,a),vf(A,g,CN,i),gf(A,d,rw,"bottom","top",n,i),A}function gf(e,t,n,r,i,a,s){if(!t)return;const o=oq(t);s=lq(o?r:t,a,s);const{line:l}=s;(n===nw||n===rw)&&l&&!Bl(l)&&e.push(UN(uq(s))),e.push(n(s)),o&&e.push(n({...s,anchor:i,label:null}))}function vf(e,t,n,r){!t||Bl(t)||e.push(n(fq(t,r)))}function oq(e){return/^\s*both\s*$/i.test(e)}function lq(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:c,label:h=t.label,labelAnchor:d,labelArrow:g=t.labelArrow,labelOffset:y}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:c,label:h,labelAnchor:d,labelArrow:g,labelOffset:y}}function uq(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function fq(e,{stroke:t=th(e)?e:void 0,ticks:n=cq(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function cq(e){switch(typeof e){case"number":return!0;case"string":return!th(e)}return a0(e)||typeof(e==null?void 0:e.range)=="function"}function yf(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Bp(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function hq(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function dq({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=z3(n),u=e&&Lp(e),f=t&&Lp(t);return{marginTop:t?f[0]:r,marginRight:e?o-u[1]:i,marginBottom:t?l-f[1]:a,marginLeft:e?u[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:o,height:l}}function Lp(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}function mq(e={y:"count"},t={}){[e,t]=gq(e,t);const{x:n,y:r}=t;return pq(vq(n,t,Ft),null,null,r,e,ch(t))}function pq(e,t,n,r,{data:i=tb,filter:a=gc,sort:s,reverse:o,...l}={},u={}){e=Rp(e),t=Rp(t),l=bq(l,u),i=ww(i,Ft),s=s==null?void 0:yw("sort",s,u),a=a==null?void 0:bw("filter",a,u),n!=null&&hf(l,"x","x1","x2")&&(n=null),r!=null&&hf(l,"y","y1","y2")&&(r=null);const[f,c]=Br(e),[h,d]=Br(e),[g,y]=Br(t),[b,w]=Br(t),[S,E]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[$,A]=Br(S),{x:D,y:_,z:j,fill:U,stroke:k,x1:C,x2:L,y1:z,y2:W,domain:V,cumulative:Q,thresholds:ae,interval:re,...me}=u,[te,se]=Br(j),[oe]=t0(U),[ne]=t0(k),[Se,Ce]=Br(oe),[_e,ue]=Br(ne);return{..."z"in u&&{z:te||j},..."fill"in u&&{fill:Se||U},..."stroke"in u&&{stroke:_e||k},...S3(me,(ce,K,xe)=>{const Te=Hy(At(ce,S),xe==null?void 0:xe[E]),Y=At(ce,j),ke=At(ce,oe),Ee=At(ce,ne),Be=Zz(l,{z:Y,fill:ke,stroke:Ee}),Le=[],Ge=[],mt=Te&&A([]),bt=Y&&se([]),Pt=ke&&Ce([]),Xt=Ee&&ue([]),_t=e&&c([]),Vs=e&&d([]),G0=t&&y([]),kr=t&&w([]),nu=Sq(e==null?void 0:e(ce),t==null?void 0:t(ce));let Us=0;for(const Zt of l)Zt.initialize(ce);s&&s.initialize(ce),a&&a.initialize(ce);for(const Zt of K){const Ho=[];for(const Qn of l)Qn.scope("facet",Zt);s&&s.scope("facet",Zt),a&&a.scope("facet",Zt);for(const[Qn,$r]of ap(Zt,Be))for(const[ru,js]of ap($r,Te))for(const[Dt,Kn]of nu(js))if(!(a&&!a.reduce(Dt,Kn))){Ho.push(Us++),Ge.push(i.reduceIndex(Dt,ce,Kn)),Te&&mt.push(ru),Y&&bt.push(Be===Y?Qn:Y[Dt[0]]),ke&&Pt.push(Be===ke?Qn:ke[Dt[0]]),Ee&&Xt.push(Be===Ee?Qn:Ee[Dt[0]]),_t&&(_t.push(Kn.x1),Vs.push(Kn.x2)),G0&&(G0.push(Kn.y1),kr.push(Kn.y2));for(const Ws of l)Ws.reduce(Dt,Kn);s&&s.reduce(Dt)}Le.push(Ho)}return Qz(Le,s,o),{data:Ge,facets:Le}}),...!hf(l,"x")&&(f?{x1:f,x2:h,x:mc(f,h)}:{x:D,x1:C,x2:L}),...!hf(l,"y")&&(g?{y1:g,y2:b,y:mc(g,b)}:{y:_,y1:z,y2:W}),...$&&{[E]:$},...Object.fromEntries(l.map(({name:ce,output:K})=>[ce,K]))}}function gq({cumulative:e,domain:t,thresholds:n,interval:r,...i},a){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...a}]}function vq(e,{cumulative:t,domain:n,thresholds:r,interval:i},a){return e={...Kl(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=a),e.thresholds=yq(e.thresholds,e.interval),e}function Rp(e){if(e==null)return;const{value:t,cumulative:n,domain:r=Hn,thresholds:i}=e,a=s=>{let o=At(s,t),l;if(Gn(o)||xq(i)){o=St(o,By,Float64Array);let[f,c]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!ul(i)?i(o,f,c):i;typeof h=="number"&&(h=Xg(f,c,h)),ul(h)&&(r===Hn&&(f=h.floor(f),c=h.offset(h.floor(c))),h=h.range(f,h.offset(c))),l=h}else{o=hc(o);let[f,c]=typeof r=="function"?r(o):r,h=typeof i=="function"&&!ul(i)?i(o,f,c):i;if(typeof h=="number")if(r===Hn){let d=Lf(f,c,h);if(isFinite(d))if(d>0){let g=Math.round(f/d),y=Math.round(c/d);g*d<=f||--g,y*d>c||++y;let b=y-g+1;h=new Float64Array(b);for(let w=0;w<b;++w)h[w]=(g+w)*d}else if(d<0){d=-d;let g=Math.round(f*d),y=Math.round(c*d);g/d<=f||--g,y/d>c||++y;let b=y-g+1;h=new Float64Array(b);for(let w=0;w<b;++w)h[w]=(g+w)/d}else h=[f];else h=[f]}else h=kl(f,c,h);else ul(h)&&(r===Hn&&(f=h.floor(f),c=h.offset(h.floor(c))),h=h.range(f,h.offset(c)));l=h}const u=[];if(l.length===1)u.push([l[0],l[0]]);else for(let f=1;f<l.length;++f)u.push([l[f-1],l[f]]);return u.bin=(n<0?$q:n>0?kq:O3)(u,l,o),u};return a.label=Ps(t),a}function yq(e,t,n=Fp){if(e===void 0)return t===void 0?n:Fo(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return yS;case"scott":return l9;case"sturges":return mS;case"auto":return Fp}return Ny(e)}return e}function bq(e,t){return Yz(e,t,yw)}function yw(e,t,n){return Jy(e,t,n,bw)}function bw(e,t,n){return eb(e,t,n,ww)}function ww(e,t){return k3(e,t,wq)}function wq(e){switch(`${e}`.toLowerCase()){case"x":return Tq;case"x1":return Aq;case"x2":return Eq;case"y":return Cq;case"y1":return _q;case"y2":return zq}throw new Error(`invalid bin reduce: ${e}`)}function Fp(e,t,n){return Math.min(200,l9(e,t,n))}function xq(e){return Mq(e)||a0(e)&&Gn(e)}function Mq(e){return ul(e)&&typeof e=="function"&&e()instanceof Date}function ul(e){return typeof(e==null?void 0:e.range)=="function"}function Sq(e,t){return e&&t?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries()){const o=t.bin(r[i]);for(const[l,[u,f]]of t.entries())yield[o[l],{x1:a,y1:u,x2:s,y2:f}]}}:e?function*(n){const r=e.bin(n);for(const[i,[a,s]]of e.entries())yield[r[i],{x1:a,x2:s}]}:function*(n){const r=t.bin(n);for(const[i,[a,s]]of t.entries())yield[r[i],{y1:a,y2:s}]}}function O3(e,t,n){return t=hc(t),r=>{var a;const i=e.map(()=>[]);for(const s of r)(a=i[Ac(t,n[s])-1])==null||a.push(s);return i}}function kq(e,t,n){const r=O3(e,t,n);return i=>{const a=r(i);for(let s=1,o=a.length;s<o;++s){const l=a[s-1],u=a[s];for(const f of l)u.push(f)}return a}}function $q(e,t,n){const r=O3(e,t,n);return i=>{const a=r(i);for(let s=a.length-2;s>=0;--s){const o=a[s+1],l=a[s];for(const u of o)l.push(u)}return a}}function xw(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const Tq={reduceIndex(e,t,{x1:n,x2:r}){return xw(n,r)}},Cq={reduceIndex(e,t,{y1:n,y2:r}){return xw(n,r)}},Aq={reduceIndex(e,t,{x1:n}){return n}},Eq={reduceIndex(e,t,{x2:n}){return n}},_q={reduceIndex(e,t,{y1:n}){return n}},zq={reduceIndex(e,t,{y2:n}){return n}};function Dq(e={}){return Ly(e)?e:{...e,x:Ft}}function Iq(e={}){return Ry(e)?e:{...e,y:Ft}}function Nq(e={},t={}){arguments.length===1&&([e,t]=Mw(e));const{y1:n,y:r=n,x:i,...a}=t,[s,o,l,u]=Sw(r,i,"y","x",e,a);return{...s,y1:n,y:o,x1:l,x2:u,x:mc(l,u)}}function qq(e={},t={}){arguments.length===1&&([e,t]=Mw(e));const{x1:n,x:r=n,y:i,...a}=t,[s,o,l,u]=Sw(r,i,"x","y",e,a);return{...s,x1:n,x:o,y1:l,y2:u,y:mc(l,u)}}function Bq({x:e,x1:t,x2:n,...r}={}){return r=fh(r,"y"),t===void 0&&n===void 0?Nq({x:e,...r}):([t,n]=Py(e,t,n),{...r,x1:t,x2:n})}function Lq({y:e,y1:t,y2:n,...r}={}){return r=fh(r,"x"),t===void 0&&n===void 0?qq({y:e,...r}):([t,n]=Py(e,t,n),{...r,y1:t,y2:n})}function Mw(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const Rq={length:!0};function Sw(e,t=kz,n,r,{offset:i,order:a,reverse:s},o){if(t===null)throw new Error(`stack requires ${r}`);const l=Az(o),[u,f]=Br(e),[c,h]=dc(t),[d,g]=dc(t);return c.hint=d.hint=Rq,i=Fq(i),a=Hq(a,i,r),[S3(o,(y,b,w)=>{const S=e==null?void 0:f(Hy(At(y,e),w==null?void 0:w[n])),E=At(y,t,Float64Array),$=At(y,l),A=a&&a(y,S,E,$),D=y.length,_=h(new Float64Array(D)),j=g(new Float64Array(D)),U=[];for(const k of b){const C=S?Array.from(Fm(k,L=>S[L]).values()):[k];if(A)for(const L of C)L.sort(A);for(const L of C){let z=0,W=0;s&&L.reverse();for(const V of L){const Q=E[V];Q<0?z=j[V]=(_[V]=z)+Q:Q>0?W=j[V]=(_[V]=W)+Q:j[V]=_[V]=W}}U.push(C)}return i&&i(U,_,j,$),{data:y,facets:b}}),u,c,d]}function Fq(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Pq;case"center":case"silhouette":return Oq;case"wiggle":return $w}throw new Error(`unknown offset: ${e}`)}}function kw(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function Pq(e,t,n){for(const r of e)for(const i of r){const[a,s]=kw(i,n);for(const o of i){const l=1/(s-a||1);t[o]=l*(t[o]-a),n[o]=l*(n[o]-a)}}}function Oq(e,t,n){for(const r of e){for(const i of r){const[a,s]=kw(i,n);for(const o of i){const l=(s+a)/2;t[o]-=l,n[o]-=l}}Tw(r,t,n)}Cw(e,t,n)}function $w(e,t,n,r){for(const i of e){const a=new As;let s=0;for(const o of i){let l=-1;const u=o.map(d=>Math.abs(n[d]-t[d])),f=o.map(d=>{l=r?r[d]:++l;const g=n[d]-t[d],y=a.has(l)?g-a.get(l):0;return a.set(l,g),y}),c=[0,...lS(f)];for(const d of o)t[d]+=s,n[d]+=s;const h=F0(u);h&&(s-=F0(u,(d,g)=>(f[g]/2+c[g])*d)/h)}Tw(i,t,n)}Cw(e,t,n)}function Tw(e,t,n){const r=Zr(e,i=>Zr(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Cw(e,t,n){const r=e.length;if(r===1)return;const i=e.map(o=>o.flat()),a=i.map(o=>(Zr(o,l=>t[l])+gr(o,l=>n[l]))/2),s=Zr(a);for(let o=0;o<r;o++){const l=s-a[o];for(const u of i[o])t[u]+=l,n[u]+=l}}function Hq(e,t,n){if(e===void 0&&t===$w)return Pp(Yn);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?cc:Yn;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return Vq(i);case"z":return Uq(i);case"sum":return jq(i);case"appearance":return Wq(i);case"inside-out":return Pp(i)}return Op(qy(e))}if(typeof e=="function")return(e.length===1?Op:Yq)(e);if(Array.isArray(e))return Gq(e);throw new Error(`invalid order: ${e}`)}}function Vq(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function Uq(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function jq(e){return dh(e,(t,n,r,i)=>Om(i0(t),a=>F0(a,s=>r[s]),a=>i[a]))}function Wq(e){return dh(e,(t,n,r,i)=>Om(i0(t),a=>n[o9(a,s=>r[s])],a=>i[a]))}function Pp(e){return dh(e,(t,n,r,i)=>{const a=i0(t),s=Om(a,c=>n[o9(c,h=>r[h])],c=>i[c]),o=go(a,c=>F0(c,h=>r[h]),c=>i[c]),l=[],u=[];let f=0;for(const c of s)f<0?(f+=o.get(c),l.push(c)):(f-=o.get(c),u.push(c));return u.reverse().concat(l)})}function Op(e){return t=>{const n=At(t,e);return(r,i)=>Yn(n[r],n[i])}}function Yq(e){return t=>(n,r)=>e(t[n],t[r])}function Gq(e){return dh(Yn,()=>e)}function dh(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new As(t(n,r,i,a).map((o,l)=>[o,l]));return(o,l)=>e(s.get(a[o]),s.get(a[l]))}}class Aw extends Zn{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:o=a,insetBottom:l=a,insetLeft:u=a,rx:f,ry:c}=r;this.insetTop=rt(s),this.insetRight=rt(o),this.insetBottom=rt(l),this.insetLeft=rt(u),this.rx=xt(f,"auto"),this.ry=xt(c,"auto")}render(t,n,r,i,a){const{rx:s,ry:o}=this;return Gt("svg:g",a).call(U0,this,i,a).call(this._transform,this,n).call(l=>l.selectAll().data(t).enter().append("rect").call(j0,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(We,"rx",s).call(We,"ry",o).call(Os,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:o}=this,l=n&&t?t.bandwidth():a-r-i;return Math.max(0,l-s-o)}}const Xq={ariaLabel:"bar"};class Zq extends Aw{constructor(t,n={}){const{x1:r,x2:i,y:a}=n;super(t,{x1:{value:r,scale:"x"},x2:{value:i,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,Xq)}_transform(t,n,{x:r}){t.call(o0,n,{x:r},0,0)}_x({x:t},{x1:n,x2:r},{marginLeft:i}){const{insetLeft:a}=this;return hr(t)?i+a:s=>Math.min(n[s],r[s])+a}_width({x:t},{x1:n,x2:r},{marginRight:i,marginLeft:a,width:s}){const{insetLeft:o,insetRight:l}=this;return hr(t)?s-i-a-o-l:u=>Math.max(0,Math.abs(r[u]-n[u])-o-l)}}function Ew(e,t={}){return Fy(t)||(t={...t,y:m3,x2:Ft}),new Zq(e,Bq(Lb(Dq(t))))}const Qq={ariaLabel:"cell"};class Kq extends Aw{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,Qq)}_transform(t,n){t.call(o0,n,{},0,0)}}function Jq(e,{x:t,y:n,...r}={}){return[t,n]=b3(t,n),new Kq(e,{...r,x:t,y:n})}const eB={ariaLabel:"rect"};class tB extends Zn{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:o=0,insetTop:l=o,insetRight:u=o,insetBottom:f=o,insetLeft:c=o,rx:h,ry:d}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,eB),this.insetTop=rt(l),this.insetRight=rt(u),this.insetBottom=rt(f),this.insetLeft=rt(c),this.rx=xt(h,"auto"),this.ry=xt(d,"auto")}render(t,n,r,i,a){const{x:s,y:o}=n,{x1:l,y1:u,x2:f,y2:c}=r,{marginTop:h,marginRight:d,marginBottom:g,marginLeft:y,width:b,height:w}=i,{projection:S}=a,{insetTop:E,insetRight:$,insetBottom:A,insetLeft:D,rx:_,ry:j}=this;return Gt("svg:g",a).call(U0,this,i,a).call(o0,this,{x:l&&f&&s,y:u&&c&&o},0,0).call(U=>U.selectAll().data(t).enter().append("rect").call(j0,this).attr("x",l&&f&&(S||!hr(s))?k=>Math.min(l[k],f[k])+D:y+D).attr("y",u&&c&&(S||!hr(o))?k=>Math.min(u[k],c[k])+E:h+E).attr("width",l&&f&&(S||!hr(s))?k=>Math.max(0,Math.abs(f[k]-l[k])-D-$):b-d-y-$-D).attr("height",u&&c&&(S||!hr(o))?k=>Math.max(0,Math.abs(u[k]-c[k])-E-A):w-h-g-E-A).call(We,"rx",_).call(We,"ry",j).call(Os,this,r)).node()}}function nB(e,t={}){return Fy(t)||(t={...t,x:m3,y2:Ft,interval:1}),new tB(e,Lq(jI(Iq(t))))}function rB(e){let t,n,r;return{c(){t=P("div"),this.h()},l(i){t=O(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){F(t,"role","img")},m(i,a){I(i,t,a),e[9](t),n||(r=vt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[9](null),n=!1,r()}}}function Hp(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function iB(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:f="background: none;"}=t;function c(d){wc.call(this,e,d)}function h(d){Vn[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,f=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:f}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let g=Hp(a,o);s&&(g=g.concat(Hp(s,o,"Quantized Weights (Q)"))),i==null||i.append(tu({padding:0,grid:!0,x:{axis:null,label:"column",inset:30},y:{axis:null,label:"row"},color:{type:"diverging",scheme:"RdBu",legend:!0,style:"background:none;"},marks:[Jq(g,{x:"i",y:"j",fx:"label",fill:"weight",inset:.5,tip:!0})],...r,facet:{label:null}}))}},[i,a,s,o,l,u,f,r,c,h]}class aB extends jt{constructor(t){super(),Wt(this,t,iB,rB,Ut,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function sB(e){let t,n,r;return{c(){t=P("div"),this.h()},l(i){t=O(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){F(t,"role","img")},m(i,a){I(i,t,a),e[9](t),n||(r=vt(t,"mousemove",e[8]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[9](null),n=!1,r()}}}function Vp(e,t,n="Weights (W)"){let r=[];for(let i=0;i<t[0];i++)for(let a=0;a<t[1];a++){let s={i,j:a,weight:e[i*t[1]+a],label:n};r.push(s)}return r}function oB(e,t,n){let r,i,{data:a}=t,{data2:s=null}=t,{shape:o=[10,10]}=t,{width:l=void 0}=t,{height:u=void 0}=t,{style:f="background: none;"}=t;function c(d){wc.call(this,e,d)}function h(d){Vn[d?"unshift":"push"](()=>{i=d,n(0,i)})}return e.$$set=d=>{"data"in d&&n(1,a=d.data),"data2"in d&&n(2,s=d.data2),"shape"in d&&n(3,o=d.shape),"width"in d&&n(4,l=d.width),"height"in d&&n(5,u=d.height),"style"in d&&n(6,f=d.style)},e.$$.update=()=>{var d;if(e.$$.dirty&112&&n(7,r={width:l,height:u,style:f}),e.$$.dirty&143&&a){(d=i==null?void 0:i.firstChild)==null||d.remove();let g=Vp(a,o);s&&(g=g.concat(Vp(s,o,"Quantized Weights (Q)"))),i==null||i.append(tu({facet:{label:null},y:{grid:!0},color:{style:"background:none;",type:"diverging",scheme:"RdBu"},marks:[nB(g,mq({y:"count"},{x:"weight",fx:"label",fill:"weight"})),Fb([0])],...r}))}},[i,a,s,o,l,u,f,r,c,h]}class lB extends jt{constructor(t){super(),Wt(this,t,oB,sB,Ut,{data:1,data2:2,shape:3,width:4,height:5,style:6})}}function uB(e){let t,n,r;return{c(){t=P("div"),this.h()},l(i){t=O(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){F(t,"role","img")},m(i,a){I(i,t,a),e[8](t),n||(r=vt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[8](null),n=!1,r()}}}function fB(e,t,n){let r,i,{data:a=[{error:0,label:"Operator Norm"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function f(h){wc.call(this,e,h)}function c(h){Vn[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&99&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(tu({marginLeft:80,marginRight:50,x:{domain:u},y:{label:null},marks:[Ew(d,{y:"label",x:"error",fill:"darkgrey",fillOpacity:.5}),L3(d,{x:"error",y:"label",text:g=>g.error.toFixed(3),textAnchor:"start",dx:5,fontSize:14,fontStyle:"italic"})],...r}))}},[i,a,s,o,l,u,r,f,c]}class cB extends jt{constructor(t){super(),Wt(this,t,fB,uB,Ut,{data:1,width:2,height:3,style:4,domain:5})}}function hB(e){const t=mB(e),n=O_(t);return dB(n)}function dB(e){const[t,n]=[e.rows,e.columns],r=Ke.$(t*n,[t,n],"f32");for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[r.index2D(i,a)]=e.data[i][a];return r}function mB(e){const[t,n]=e.shape,r=new ze(t,n);for(let i=0;i<t;i++)for(let a=0;a<n;a++)r.data[i][a]=e.value2D(i,a);return r}function pB(e){let t,n,r;return{c(){t=P("div"),this.h()},l(i){t=O(i,"DIV",{role:!0}),ie(t).forEach(M),this.h()},h(){F(t,"role","img")},m(i,a){I(i,t,a),e[8](t),n||(r=vt(t,"mousemove",e[7]),n=!0)},p:Xe,i:Xe,o:Xe,d(i){i&&M(t),e[8](null),n=!1,r()}}}function gB(e,t,n){let r,i,{data:a=[{size:2e3,label:"Original"}]}=t,{width:s=void 0}=t,{height:o=void 0}=t,{style:l="background: none;"}=t,{domain:u=[0,1]}=t;function f(h){wc.call(this,e,h)}function c(h){Vn[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"data"in h&&n(1,a=h.data),"width"in h&&n(2,s=h.width),"height"in h&&n(3,o=h.height),"style"in h&&n(4,l=h.style),"domain"in h&&n(5,u=h.domain)},e.$$.update=()=>{var h;if(e.$$.dirty&28&&n(6,r={width:s,height:o,style:l}),e.$$.dirty&67&&a){(h=i==null?void 0:i.firstChild)==null||h.remove();let d=a;i==null||i.append(tu({marginLeft:80,marginRight:50,x:{},y:{label:null},marks:[Ew(d,{y:"label",x:"size",fill:"darkgrey",fillOpacity:.5})],...r}))}},[i,a,s,o,l,u,r,f,c]}class vB extends jt{constructor(t){super(),Wt(this,t,gB,pB,Ut,{data:1,width:2,height:3,style:4,domain:5})}}function l4(e){const t=e.slice(),n=t[3].reconstruct();return t[13]=n,t}function Up(e,t,n){const r=e.slice();return r[14]=t[n],r}function jp(e){let t,n=e[14]+"",r;return{c(){t=P("option"),r=J(n),this.h()},l(i){t=O(i,"OPTION",{});var a=ie(t);r=ee(a,n),a.forEach(M),this.h()},h(){t.__value=e[14],Wr(t,t.__value)},m(i,a){I(i,t,a),B(t,r)},p:Xe,d(i){i&&M(t)}}}function Wp(e){let t,n,r,i;return t=new aB({props:{data:e[2].data,data2:e[13].data,shape:[vl,yl],height:200}}),r=new lB({props:{data:e[2].data,data2:e[13].data,shape:[vl,yl],height:200}}),{c(){ve(t.$$.fragment),n=X(),ve(r.$$.fragment)},l(a){ye(t.$$.fragment,a),n=Z(a),ye(r.$$.fragment,a)},m(a,s){be(t,a,s),I(a,n,s),be(r,a,s),i=!0},p(a,s){const o={};s&4&&(o.data=a[2].data),s&8&&(o.data2=a[13].data),t.$set(o);const l={};s&4&&(l.data=a[2].data),s&8&&(l.data2=a[13].data),r.$set(l)},i(a){i||(de(t.$$.fragment,a),de(r.$$.fragment,a),i=!0)},o(a){pe(t.$$.fragment,a),pe(r.$$.fragment,a),i=!1},d(a){a&&M(n),we(t,a),we(r,a)}}}function yB(e){let t,n,r,i,a,s,o,l,u,f,c,h,d,g,y=e[4].toFixed(3)+"",b,w,S,E,$,A=(e[5]*e[4]).toFixed(3)+"",D,_,j,U,k=q0(Object.keys(e[6])),C=[];for(let z=0;z<k.length;z+=1)C[z]=jp(Up(e,k,z));let L=e[2]&&Wp(l4(e));return l=new vB({props:{data:[{label:"W bytes",size:bf(e[2])/8},{label:"Q bytes",size:bf(e[3],e[1])/8}]}}),f=new cB({props:{data:[{label:"||W-Q||/||W||",error:e[5]}]}}),d=new Ie({props:{text:"||W|| \\ ||W^[-1]||"}}),E=new Ie({props:{text:"\\left(||W||| \\ |W^[-1]||\\right)\\left(||W-Q||/||W||\\right)"}}),{c(){t=P("select");for(let z=0;z<C.length;z+=1)C[z].c();n=X(),r=P("input"),i=X(),a=J(e[1]),s=J(` bits
`),L&&L.c(),o=X(),ve(l.$$.fragment),u=X(),ve(f.$$.fragment),c=X(),h=P("div"),ve(d.$$.fragment),g=J(" as condition number = "),b=J(y),w=X(),S=P("div"),ve(E.$$.fragment),$=J(` as
	combined error = `),D=J(A),this.h()},l(z){t=O(z,"SELECT",{});var W=ie(t);for(let ae=0;ae<C.length;ae+=1)C[ae].l(W);W.forEach(M),n=Z(z),r=O(z,"INPUT",{type:!0,min:!0,max:!0}),i=Z(z),a=ee(z,e[1]),s=ee(z,` bits
`),L&&L.l(z),o=Z(z),ye(l.$$.fragment,z),u=Z(z),ye(f.$$.fragment,z),c=Z(z),h=O(z,"DIV",{class:!0});var V=ie(h);ye(d.$$.fragment,V),g=ee(V," as condition number = "),b=ee(V,y),V.forEach(M),w=Z(z),S=O(z,"DIV",{class:!0});var Q=ie(S);ye(E.$$.fragment,Q),$=ee(Q,` as
	combined error = `),D=ee(Q,A),Q.forEach(M),this.h()},h(){e[0]===void 0&&Iw(()=>e[7].call(t)),F(r,"type","range"),F(r,"min","1"),F(r,"max","8"),F(h,"class","label svelte-93sz7w"),F(S,"class","label svelte-93sz7w")},m(z,W){I(z,t,W);for(let V=0;V<C.length;V+=1)C[V]&&C[V].m(t,null);e6(t,e[0],!0),I(z,n,W),I(z,r,W),Wr(r,e[1]),I(z,i,W),I(z,a,W),I(z,s,W),L&&L.m(z,W),I(z,o,W),be(l,z,W),I(z,u,W),be(f,z,W),I(z,c,W),I(z,h,W),be(d,h,null),B(h,g),B(h,b),I(z,w,W),I(z,S,W),be(E,S,null),B(S,$),B(S,D),_=!0,j||(U=[vt(t,"change",e[7]),vt(r,"change",e[8]),vt(r,"input",e[8])],j=!0)},p(z,[W]){if(W&64){k=q0(Object.keys(z[6]));let ae;for(ae=0;ae<k.length;ae+=1){const re=Up(z,k,ae);C[ae]?C[ae].p(re,W):(C[ae]=jp(re),C[ae].c(),C[ae].m(t,null))}for(;ae<C.length;ae+=1)C[ae].d(1);C.length=k.length}W&65&&e6(t,z[0]),W&2&&Wr(r,z[1]),(!_||W&2)&&an(a,z[1]),z[2]?L?(L.p(l4(z),W),W&4&&de(L,1)):(L=Wp(l4(z)),L.c(),de(L,1),L.m(o.parentNode,o)):L&&(n8(),pe(L,1,1,()=>{L=null}),r8());const V={};W&14&&(V.data=[{label:"W bytes",size:bf(z[2])/8},{label:"Q bytes",size:bf(z[3],z[1])/8}]),l.$set(V);const Q={};W&32&&(Q.data=[{label:"||W-Q||/||W||",error:z[5]}]),f.$set(Q),(!_||W&16)&&y!==(y=z[4].toFixed(3)+"")&&an(b,y),(!_||W&48)&&A!==(A=(z[5]*z[4]).toFixed(3)+"")&&an(D,A)},i(z){_||(de(L),de(l.$$.fragment,z),de(f.$$.fragment,z),de(d.$$.fragment,z),de(E.$$.fragment,z),_=!0)},o(z){pe(L),pe(l.$$.fragment,z),pe(f.$$.fragment,z),pe(d.$$.fragment,z),pe(E.$$.fragment,z),_=!1},d(z){z&&(M(t),M(n),M(r),M(i),M(a),M(s),M(o),M(u),M(c),M(h),M(w),M(S)),xc(C,z),L&&L.d(z),we(l,z),we(f,z),we(d),we(E),j=!1,Fl(U)}}}const vl=20,yl=20;function yc(e){let t=-1/0;for(let n=0;n<e.shape[1];n++)for(let r=0;r<e.shape[0];r++){const i=Math.abs(e.value2D(r,n));i>t&&(t=i)}return t}function bB(e,t){return yc(e.sub(t,!0))/yc(e)}function wB(e){const t=e.dtype==="f32"?32:8;return e.shape[0]*e.shape[1]*t}function bf(e,t=-1){const n=wB(e);if(t===-1)return n;{const r=2**t;return n+r*8}}function xB(e,t,n){let r,i,a,s;const o={uniform:Ke.randu([vl,yl],-2,2),normal:Ke.randn([vl,yl],0,1),outlier:h(Ke.randn([vl,yl],0,1),25,1)};let l="normal",u=1;const f={};function c(b,w,S){const E=`${b}-${S}`;return E in f||(f[E]=uz(w,S)),f[E]}function h(b,w=10,S=1){for(let E=0;E<S;E++){const $=A7(b.shape[0]-1)(),A=A7(b.shape[1]-1)();b.data[b.index2D($,A)]=w}return b}function d(b){return yc(b)*yc(hB(b))}function g(){l=Nw(this),n(0,l),n(6,o)}function y(){u=bc(this.value),n(1,u)}return e.$$.update=()=>{e.$$.dirty&1&&n(2,r=o[l]),e.$$.dirty&7&&n(3,i=c(l,r,u)),e.$$.dirty&12&&n(5,a=bB(r,i)),e.$$.dirty&4&&n(4,s=d(r))},[l,u,r,i,s,a,o,g,y]}class MB extends jt{constructor(t){super(),Wt(this,t,xB,yB,Ut,{})}}function Yp(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function Gp(e,t,n){const r=e.slice();return r[20]=t[n],r[19]=n,r}function Xp(e,t,n){const r=e.slice();r[20]=t[n],r[28]=n;const i=_w/n0;r[22]=i;const a=r[6][r[28]*n0+r[19]];r[23]=a;const s=`rgb(${r[23].R}, ${r[23].G}, ${r[23].B})`;r[24]=s;const o=r[22]/2;r[25]=o;const l=3;return r[26]=l,r}function SB(e){let t,n,r,i,a,s,o,l,u,f,c,h,d,g,y=e[6]&&Zp(e),b=e[5]&&e8(e);return{c(){t=P("canvas"),n=X(),r=qt("svg"),i=qt("rect"),a=X(),s=P("div"),o=P("div"),l=J("Magnified"),u=X(),f=qt("svg"),y&&y.c(),c=J(`

		indexes into →

		`),h=P("div"),b&&b.c(),this.h()},l(w){t=O(w,"CANVAS",{width:!0,height:!0,class:!0}),ie(t).forEach(M),n=Z(w),r=Bt(w,"svg",{width:!0,height:!0,style:!0});var S=ie(r);i=Bt(S,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),ie(i).forEach(M),S.forEach(M),a=Z(w),s=O(w,"DIV",{});var E=ie(s);o=O(E,"DIV",{style:!0});var $=ie(o);l=ee($,"Magnified"),$.forEach(M),u=Z(E),f=Bt(E,"svg",{width:!0,height:!0,style:!0});var A=ie(f);y&&y.l(A),A.forEach(M),E.forEach(M),c=ee(w,`

		indexes into →

		`),h=O(w,"DIV",{});var D=ie(h);b&&b.l(D),D.forEach(M),this.h()},h(){F(t,"width",e[0]),F(t,"height",e[1]),F(t,"class","svelte-1jbpmen"),F(i,"x",e[2]),F(i,"y",e[3]),F(i,"width",n0),F(i,"height",n0),F(i,"fill","none"),F(i,"stroke",u4),F(i,"stroke-width",2),F(r,"width",e[0]),F(r,"height",e[1]),Ye(r,"position","absolute"),Ye(r,"left","0"),Ye(r,"top","0"),Ye(r,"cursor","none"),Ye(o,"color",u4),Ye(o,"margin-bottom","5px"),F(f,"width",_w),F(f,"height",CB),Ye(f,"outline",u4+" solid 2px")},m(w,S){I(w,t,S),e[9](t),I(w,n,S),I(w,r,S),B(r,i),I(w,a,S),I(w,s,S),B(s,o),B(o,l),B(s,u),B(s,f),y&&y.m(f,null),I(w,c,S),I(w,h,S),b&&b.m(h,null),d||(g=vt(r,"mousemove",e[10]),d=!0)},p(w,S){S&1&&F(t,"width",w[0]),S&2&&F(t,"height",w[1]),S&4&&F(i,"x",w[2]),S&8&&F(i,"y",w[3]),S&1&&F(r,"width",w[0]),S&2&&F(r,"height",w[1]),w[6]?y?y.p(w,S):(y=Zp(w),y.c(),y.m(f,null)):y&&(y.d(1),y=null),w[5]?b?b.p(w,S):(b=e8(w),b.c(),b.m(h,null)):b&&(b.d(1),b=null)},d(w){w&&(M(t),M(n),M(r),M(a),M(s),M(c),M(h)),e[9](null),y&&y.d(),b&&b.d(),d=!1,g()}}}function kB(e){let t;return{c(){t=J(`Canvas context imageSmoothingEnabled not working or Canvas Pixelated CSS
		property not working in your browser, try Chrome.`)},l(n){t=ee(n,`Canvas context imageSmoothingEnabled not working or Canvas Pixelated CSS
		property not working in your browser, try Chrome.`)},m(n,r){I(n,t,r)},p:Xe,d(n){n&&M(t)}}}function Zp(e){let t,n=q0({length:n0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=Jp(Gp(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=on()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=on()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,t,a)},p(i,a){if(a&64){n=q0({length:n0});let s;for(s=0;s<n.length;s+=1){const o=Gp(i,n,s);r[s]?r[s].p(o,a):(r[s]=Jp(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&M(t),xc(r,i)}}}function Qp(e){let t,n,r,i=e[23].index+"",a;return{c(){t=qt("rect"),r=qt("text"),a=J(i),this.h()},l(s){t=Bt(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-opacity":!0}),ie(t).forEach(M),r=Bt(s,"text",{x:!0,y:!0,fill:!0,style:!0,"text-anchor":!0});var o=ie(r);a=ee(o,i),o.forEach(M),this.h()},h(){F(t,"x",e[19]*e[22]),F(t,"y",e[28]*e[22]),F(t,"width",e[22]),F(t,"height",e[22]),F(t,"fill",n=e[24]),F(t,"stroke","white"),F(t,"stroke-width",1),F(t,"stroke-opacity",.2),F(r,"x",e[19]*e[22]+e[25]),F(r,"y",e[28]*e[22]+e[25]+e[26]),F(r,"fill","white"),Ye(r,"font-size","10px"),Ye(r,"font-family","menlo"),Ye(r,"font-weight","200"),F(r,"text-anchor","middle")},m(s,o){I(s,t,o),I(s,r,o),B(r,a)},p(s,o){o&64&&n!==(n=s[24])&&F(t,"fill",n),o&64&&i!==(i=s[23].index+"")&&an(a,i)},d(s){s&&(M(t),M(r))}}}function Kp(e){let t,n=e[23].index!==-1&&Qp(e);return{c(){n&&n.c(),t=on()},l(r){n&&n.l(r),t=on()},m(r,i){n&&n.m(r,i),I(r,t,i)},p(r,i){r[23].index!==-1?n?n.p(r,i):(n=Qp(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&M(t),n&&n.d(r)}}}function Jp(e){let t,n=q0({length:n0}),r=[];for(let i=0;i<n.length;i+=1)r[i]=Kp(Xp(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=on()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=on()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,t,a)},p(i,a){if(a&64){n=q0({length:n0});let s;for(s=0;s<n.length;s+=1){const o=Xp(i,n,s);r[s]?r[s].p(o,a):(r[s]=Kp(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&M(t),xc(r,i)}}}function e8(e){let t,n="Shared Weights",r,i,a,s,o=q0(Object.keys(e[5])),l=[];for(let u=0;u<o.length;u+=1)l[u]=t8(Yp(e,o,u));return{c(){t=P("b"),t.textContent=n,r=X(),i=P("br"),a=X();for(let u=0;u<l.length;u+=1)l[u].c();s=on()},l(u){t=O(u,"B",{"data-svelte-h":!0}),ge(t)!=="svelte-sl4iro"&&(t.textContent=n),r=Z(u),i=O(u,"BR",{}),a=Z(u);for(let f=0;f<l.length;f+=1)l[f].l(u);s=on()},m(u,f){I(u,t,f),I(u,r,f),I(u,i,f),I(u,a,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(u,f);I(u,s,f)},p(u,f){if(f&32){o=q0(Object.keys(u[5]));let c;for(c=0;c<o.length;c+=1){const h=Yp(u,o,c);l[c]?l[c].p(h,f):(l[c]=t8(h),l[c].c(),l[c].m(s.parentNode,s))}for(;c<l.length;c+=1)l[c].d(1);l.length=o.length}},d(u){u&&(M(t),M(r),M(i),M(a),M(s)),xc(l,u)}}}function $B(e){let t,n,r=e[5][e[17]]+"",i,a,s,o=e[17]+"",l,u;return{c(){t=P("div"),n=P("span"),i=J(r),a=X(),s=P("div"),l=J(o),u=X(),this.h()},l(f){t=O(f,"DIV",{style:!0});var c=ie(t);n=O(c,"SPAN",{style:!0});var h=ie(n);i=ee(h,r),h.forEach(M),a=Z(c),s=O(c,"DIV",{style:!0});var d=ie(s);l=ee(d,o),d.forEach(M),u=Z(c),c.forEach(M),this.h()},h(){Ye(n,"font-family","menlo"),Ye(s,"background",e[17]),Ye(s,"color","white"),Ye(s,"display","inline"),Ye(t,"width","160px")},m(f,c){I(f,t,c),B(t,n),B(n,i),B(t,a),B(t,s),B(s,l),B(t,u)},p(f,c){c&32&&r!==(r=f[5][f[17]]+"")&&an(i,r),c&32&&o!==(o=f[17]+"")&&an(l,o),c&32&&Ye(s,"background",f[17])},d(f){f&&M(t)}}}function t8(e){let t,n=e[19]<8&&$B(e);return{c(){n&&n.c(),t=on()},l(r){n&&n.l(r),t=on()},m(r,i){n&&n.m(r,i),I(r,t,i)},p(r,i){r[19]<8&&n.p(r,i)},d(r){r&&M(t),n&&n.d(r)}}}function TB(e){let t;function n(a,s){return a[7]?kB:SB}let r=n(e),i=r(e);return{c(){t=P("div"),i.c(),this.h()},l(a){t=O(a,"DIV",{style:!0});var s=ie(t);i.l(s),s.forEach(M),this.h()},h(){Ye(t,"position","relative"),Ye(t,"display","flex"),Ye(t,"gap","10px"),Ye(t,"align-items","center")},m(a,s){I(a,t,s),i.m(t,null)},p(a,[s]){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t,null)))},i:Xe,o:Xe,d(a){a&&M(t),i.d()}}}let n0=8,_w=125,CB=125,u4="salmon";function AB(e,t,n){const r=.6840909090909091;let{width:i=250}=t,{height:a=r*i}=t,s,o,l=200,u=85;function f($,A){return new Promise((_,j)=>{const U=new Image;U.src=A,U.onload=function(){$.drawImage(U,0,0,i,a),_()}})}let c=!1;gm(async()=>{o=s.getContext("2d",{willReadFrequently:!0}),o.imageSmoothingEnabled=!1,await f(o,"8.png"),d(o.getImageData(0,0,i,a).data),n(8,c=!0)});let h;function d($){n(5,h={});let A=0,D=[];for(let _=0;_<$.length;_+=4){const j=$[_],U=$[_+1],k=$[_+2],C=`rgb(${j},${U},${k})`;C in h||(n(5,h[C]=A,h),A++)}return D}let g;function y($){let A=[];for(let D=0;D<$.length;D+=4){const _=$[D],j=$[D+1],U=$[D+2],k=`rgb(${_},${j},${U})`,C=h[k]??-1;C>8&&n(7,w=!0),A.push({R:_,G:j,B:U,index:C})}return A}function b($,A,D=3){const _=o.getImageData($,A,D,D).data;n(6,g=y(_))}let w=!1;function S($){Vn[$?"unshift":"push"](()=>{s=$,n(4,s)})}const E=$=>{n(2,l=$.offsetX),n(3,u=$.offsetY)};return e.$$set=$=>{"width"in $&&n(0,i=$.width),"height"in $&&n(1,a=$.height)},e.$$.update=()=>{e.$$.dirty&268&&c&&l!==void 0&&u!==void 0&&b(l,u,n0)},[i,a,l,u,s,h,g,w,c,S,E]}class EB extends jt{constructor(t){super(),Wt(this,t,AB,TB,Ut,{width:0,height:1})}}class Ms{constructor(t,n){this.weight=Ke.$(t*n,[n,t]),this.bias=Ke.$(n,[n,1])}forward(t){return t.matmul(this.weight.T).add(this.bias.T)}}class wf{forward(t){return t.relu()}}class _B{forward(t){return t.sigmoid()}}class zB{constructor(...t){this.layers=t}forward(t){for(const n of this.layers)t=n.forward(t);return t}splitStateKey(t){const n=t.split(".");let r,i,a;return n.length===3?(r=+n[1],i=n[2]):n.length===4&&(r=+n[1],i=n[2],a=n[3],a==="weights"&&(a=void 0)),[r,i,a]}load(t,n,r=256){const[i,a,s]=this.splitStateKey(t),o=this.layers[+i];if(s){if(a==="weight"){if(s==="codebook")o.weight.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.weight.codebook;o.weight=Ke.$(n,[o.weight.shape[0],o.weight.shape[1]],"u8"),o.weight.codebook=l}}else if(a==="bias"){if(s==="codebook")o.bias.codebook=Ke.$(n,[r,1],"f32");else if(s==="indexes"){const l=o.bias.codebook;o.bias=Ke.$(n,[o.bias.shape[0],o.bias.shape[1]],"u8"),o.bias.codebook=l}}}else a==="weight"?o.weight.data=new Float32Array(n):a==="bias"&&(o.bias.data=new Float32Array(n))}loadStateDict(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,a]=n[r];this.load(i,a.data)}return this}get bytes(){let t=0;for(const n of this.layers)n instanceof Ms&&(t+=n.weight.bytes+n.bias.bytes);return t}MB(){return this.bytes/1024**2}}function DB(e){let t,n,r,i,a,s;return{c(){t=qt("svg"),n=qt("path"),r=qt("defs"),i=qt("linearGradient"),a=qt("stop"),s=qt("stop"),this.h()},l(o){t=Bt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=ie(t);n=Bt(l,"path",{d:!0,stroke:!0,"stroke-width":!0}),ie(n).forEach(M),r=Bt(l,"defs",{});var u=ie(r);i=Bt(u,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var f=ie(i);a=Bt(f,"stop",{"stop-color":!0}),ie(a).forEach(M),s=Bt(f,"stop",{offset:!0,"stop-color":!0}),ie(s).forEach(M),f.forEach(M),u.forEach(M),l.forEach(M),this.h()},h(){F(n,"d","M511 323.648V10.3519C511 7.18199 507.489 5.27159 504.827 6.99341L10.1727 327.007C7.51126 328.728 4 326.818 4 323.648V10.3519C4 7.18199 7.51127 5.27159 10.1727 6.99341L504.827 327.007C507.489 328.728 511 326.818 511 323.648Z"),F(n,"stroke","url(#paint0_linear_19_2)"),F(n,"stroke-width","7"),F(a,"stop-color","#4682B4"),F(s,"offset","1"),F(s,"stop-color","#FA8171"),F(i,"id","paint0_linear_19_2"),F(i,"x1","4"),F(i,"y1","131.5"),F(i,"x2","511"),F(i,"y2","134.5"),F(i,"gradientUnits","userSpaceOnUse"),F(t,"width",e[0]),F(t,"height",e[1]),F(t,"viewBox","0 0 515 336"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg")},m(o,l){I(o,t,l),B(t,n),B(t,r),B(r,i),B(i,a),B(i,s)},p(o,[l]){l&1&&F(t,"width",o[0]),l&2&&F(t,"height",o[1])},i:Xe,o:Xe,d(o){o&&M(t)}}}function IB(e,t,n){let{width:r=250}=t,{height:i=170}=t;return e.$$set=a=>{"width"in a&&n(0,r=a.width),"height"in a&&n(1,i=a.height)},[r,i]}class NB extends jt{constructor(t){super(),Wt(this,t,IB,DB,Ut,{width:0,height:1})}}function qB(e){let t,n,r,i,a,s,o,l,u,f,c="Input | You drag to draw!",h,d,g,y,b,w="Clear Canvas",S,E,$,A="Autoencoder",D,_,j,U,k,C="Output",L,z,W,V,Q,ae,re,me,te=(e[6]/1048576).toFixed(3)+"",se,oe,ne,Se,Ce,_e=(e[7]/1024**2).toFixed(3)+"",ue,ce,K,xe,Te;return _=new NB({props:{color:"steelblue"}}),{c(){t=P("div"),n=P("input"),r=X(),i=P("span"),a=J(e[1]),s=J(" bits"),o=X(),l=P("div"),u=P("div"),f=P("div"),f.textContent=c,h=X(),d=P("div"),g=P("canvas"),y=X(),b=P("button"),b.textContent=w,S=X(),E=P("div"),$=P("div"),$.textContent=A,D=X(),ve(_.$$.fragment),j=X(),U=P("div"),k=P("div"),k.textContent=C,L=X(),z=P("div"),W=P("canvas"),V=X(),Q=P("br"),ae=X(),re=P("div"),me=J("Original: "),se=J(te),oe=J(" mega bytes"),ne=X(),Se=P("div"),Ce=J("Quantized: "),ue=J(_e),ce=J(" mega bytes"),this.h()},l(Y){t=O(Y,"DIV",{class:!0});var ke=ie(t);n=O(ke,"INPUT",{type:!0,min:!0,max:!0}),r=Z(ke),i=O(ke,"SPAN",{class:!0});var Ee=ie(i);a=ee(Ee,e[1]),s=ee(Ee," bits"),Ee.forEach(M),ke.forEach(M),o=Z(Y),l=O(Y,"DIV",{class:!0});var Be=ie(l);u=O(Be,"DIV",{});var Le=ie(u);f=O(Le,"DIV",{class:!0,"data-svelte-h":!0}),ge(f)!=="svelte-14bwmx0"&&(f.textContent=c),h=Z(Le),d=O(Le,"DIV",{});var Ge=ie(d);g=O(Ge,"CANVAS",{class:!0,width:!0,height:!0}),ie(g).forEach(M),Ge.forEach(M),y=Z(Le),b=O(Le,"BUTTON",{"data-svelte-h":!0}),ge(b)!=="svelte-1ts6e04"&&(b.textContent=w),Le.forEach(M),S=Z(Be),E=O(Be,"DIV",{});var mt=ie(E);$=O(mt,"DIV",{class:!0,"data-svelte-h":!0}),ge($)!=="svelte-1dyqkas"&&($.textContent=A),D=Z(mt),ye(_.$$.fragment,mt),mt.forEach(M),j=Z(Be),U=O(Be,"DIV",{});var bt=ie(U);k=O(bt,"DIV",{class:!0,"data-svelte-h":!0}),ge(k)!=="svelte-w6dby0"&&(k.textContent=C),L=Z(bt),z=O(bt,"DIV",{});var Pt=ie(z);W=O(Pt,"CANVAS",{width:!0,height:!0,class:!0}),ie(W).forEach(M),Pt.forEach(M),bt.forEach(M),Be.forEach(M),V=Z(Y),Q=O(Y,"BR",{}),ae=Z(Y),re=O(Y,"DIV",{class:!0});var Xt=ie(re);me=ee(Xt,"Original: "),se=ee(Xt,te),oe=ee(Xt," mega bytes"),Xt.forEach(M),ne=Z(Y),Se=O(Y,"DIV",{class:!0});var _t=ie(Se);Ce=ee(_t,"Quantized: "),ue=ee(_t,_e),ce=ee(_t," mega bytes"),_t.forEach(M),this.h()},h(){F(n,"type","range"),F(n,"min","0"),F(n,"max",e[13].length-1),F(i,"class","label svelte-axyz63"),F(t,"class","container svelte-axyz63"),F(f,"class","label svelte-axyz63"),F(g,"class","input-canvas svelte-axyz63"),F(g,"width",e[10]),F(g,"height",e[11]),F($,"class","label svelte-axyz63"),F(k,"class","label svelte-axyz63"),F(W,"width",e[10]),F(W,"height",e[11]),F(W,"class","output-canvas svelte-axyz63"),F(l,"class","container svelte-axyz63"),F(re,"class","label svelte-axyz63"),F(Se,"class","label svelte-axyz63")},m(Y,ke){I(Y,t,ke),B(t,n),Wr(n,e[0]),B(t,r),B(t,i),B(i,a),B(i,s),I(Y,o,ke),I(Y,l,ke),B(l,u),B(u,f),B(u,h),B(u,d),B(d,g),e[17](g),B(u,y),B(u,b),B(l,S),B(l,E),B(E,$),B(E,D),be(_,E,null),B(l,j),B(l,U),B(U,k),B(U,L),B(U,z),B(z,W),e[22](W),I(Y,V,ke),I(Y,Q,ke),I(Y,ae,ke),I(Y,re,ke),B(re,me),B(re,se),B(re,oe),I(Y,ne,ke),I(Y,Se,ke),B(Se,Ce),B(Se,ue),B(Se,ce),K=!0,xe||(Te=[vt(n,"change",e[16]),vt(n,"input",e[16]),vt(g,"mousedown",e[18]),vt(g,"mouseup",e[19]),vt(g,"mousemove",e[20]),vt(b,"click",e[21])],xe=!0)},p(Y,[ke]){ke&1&&Wr(n,Y[0]),(!K||ke&2)&&an(a,Y[1]),(!K||ke&64)&&te!==(te=(Y[6]/1024**2).toFixed(3)+"")&&an(se,te),(!K||ke&128)&&_e!==(_e=(Y[7]/1024**2).toFixed(3)+"")&&an(ue,_e)},i(Y){K||(de(_.$$.fragment,Y),K=!0)},o(Y){pe(_.$$.fragment,Y),K=!1},d(Y){Y&&(M(t),M(o),M(l),M(V),M(Q),M(ae),M(re),M(ne),M(Se)),e[17](null),we(_),e[22](null),xe=!1,Fl(Te)}}}let Nt=28;async function BB(e){return(await fetch(e)).json()}function LB(e,t,n){let r;function i(){return new zB(new Ms(Nt*Nt,1e3),new wf,new Ms(1e3,256),new wf,new Ms(256,256),new wf,new Ms(256,1e3),new wf,new Ms(1e3,Nt*Nt),new _B)}function a(re,me=0){let te=0,se=0;for(let oe=0;oe<re.layers.length;oe++){const ne=re.layers[oe];if(ne instanceof Ms){const Se=ne.weight,Ce=2**me*32,_e=Se.shape[0]*Se.shape[1]*8;te+=Ce+_e,se+=Se.shape[0]*Se.shape[1]*32}}return[se,te]}async function s(re){const me=D.map(se=>BB(`ae/q${se}.json`));return(await Promise.all(me)).map(se=>re().loadStateDict(se))}let o,l,u=!1;gm(async()=>{o=await s(i),n(14,l=o.at(-1)),n(3,y=g.getContext("2d",{willReadFrequently:!0})),n(3,y.fillStyle="black",y),y.fillRect(0,0,S,E),w=b.getContext("2d"),w.fillStyle="black",w.fillRect(0,0,S,E),n(15,u=!0)});function f(re,me,te){re.fillStyle="white",re.fillRect(me,te,$,$)}function c(re,me,te,se){const oe=Ke.$(Nt*Nt,[1,Nt*Nt],"f32");for(let ne=0;ne<Nt;ne++)for(let Se=0;Se<Nt;Se++){const Ce=re.getImageData(ne*se,Se*se,se,se).data[0]/255;oe.data[Se*Nt+ne]=Ce}return oe}function h(re,me){re.fillStyle="black",re.fillRect(0,0,S,E);for(let te=0;te<Nt;te++)for(let se=0;se<Nt;se++){const oe=me.data[se*Nt+te],ne=Qr("hsl(0, 0%, "+oe*100+"%)");re.fillStyle=ne.toString(),re.fillRect(te*$,se*$,$,$)}}function d(){const re=c(y,S,E,$),me=l.forward(re);h(w,me)}let g,y,b,w,S=Nt*6,E=S,$=S/Nt,A=!1;const D=[1,2,3,4,5,6,7,8];let _=D.length-1;function j(re){n(14,l=o[+re]),d()}let U,k;function C(){_=bc(this.value),n(0,_)}function L(re){Vn[re?"unshift":"push"](()=>{g=re,n(2,g)})}const z=()=>{n(5,A=!0)},W=()=>{n(5,A=!1),d()},V=re=>{if(A){let me=re.offsetX,te=re.offsetY;me-=me%$,te-=te%$,f(y,me,te)}},Q=()=>{n(3,y.fillStyle="black",y),y.fillRect(0,0,S,E),d()};function ae(re){Vn[re?"unshift":"push"](()=>{b=re,n(4,b)})}return e.$$.update=()=>{e.$$.dirty&1&&n(1,r=D[_]),e.$$.dirty&32769&&u&&j(_),e.$$.dirty&49154&&u&&n(6,[U,k]=a(l,+r),U,(n(7,k),n(15,u),n(14,l),n(1,r),n(0,_)))},[_,r,g,y,b,A,U,k,f,d,S,E,$,D,l,u,C,L,z,W,V,Q,ae]}class RB extends jt{constructor(t){super(),Wt(this,t,LB,qB,Ut,{})}}function FB(e){let t,n="<strong>Abstract:</strong> Often, the best models are the biggest. Too big for you or me to run. Luckily, with model compression we can drastically reduce the size of these models. This article runs through a simple way to compress neural network weights with k-means quantization. Through interactive visuals, I&#39;ll explore a simple approach as well as it&#39;s shortcomings (error).",r,i,a,s,o='<a href="#Introduction" class="svp-title-anchor" aria-label="Introduction"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Introduction',l,u,f="Modern deep learning is quite extraordinary. I don't need to convince you. You've likely seen the latest generative art models.",c,h,d,g,y,b,w,S,E,$,A,D,_,j,U,k="Size enables amazing capabilities, but also limits who can run the models. Most people don't have fast GPUs with lots of memory. To fit these models on our hardware, we must to reduce the size.",C,L,z,W,V='<a href="#Sharing-as-Compression" class="svp-title-anchor" aria-label="Sharing as Compression"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing as Compression',Q,ae,re,me,te,se,oe,ne="Suppose you owned 20 dogs. An army of golden retrievers. And also suppose you are on the market for dog toys.",Se,Ce,_e="Should you buy 20 toys for all 20 dogs? That would be quite expensive! If each toy was $20, then you'd pay $400. (as you can tell I love the number 20)",ue,ce,K="But you are a clever one you. You could reason that buying 5 toys would be totally fine. The dogs can share. Now your bill would only be $100 for the 5 toys.",xe,Te,Y="Not only that, but sharing might increase the amount of fun the dogs have! But sharing might also favor the more dominant and strong dogs. There is a tradeoff, but we're on a budget, so it's fine.",ke,Ee,Be="Morale of the short story: sharing under constraints is reasonable. More than that. It's a good idea. Don't pay for more than you need to if you're on a budget. But also don't delude yourself in thinking there aren't downsides because there are.",Le,Ge,mt="In some sense we are compressing our budget through sharing.",bt,Pt,Xt,_t,Vs='<a href="#Sharing-Pixels" class="svp-title-anchor" aria-label="Sharing Pixels"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Sharing Pixels',G0,kr,nu="Images and neural network weights are held in similar data structures so let's first look at the more intuitive image use-case. It will be the same.",Us,Zt,Ho="For image compression, the goal is to reduce the memory footprint while maintaining what the original image looked like. In other words, the budget is the size.",Qn,$r,ru="As you know, images are made up of tons of small colored squares: pixels. I'll start with a 880 pixels wide by 602 pixels tall image of this cutest golden retriever you've ever seen.",js,Dt,Kn,Ws,Qt,mh,X0,ph,Z0,H3="red",gh,Q0,V3="green",vh,K0,U3="blue",yh,iu,J0,j3="Instead of each pixel having it's own unique color, why not pick the most important colors and force the pixels to share? Exactly like the previous example with buying toys. Instead of storing three numbers per every pixel, I can now just store a few colors that each pixel can index into.",au,ei,W3="First, I'll take an average over all the pixels to get the one most important color. Making all the pixels share that one pixel I get:",su,ti,ou,ni,Y3="It is significantly smaller in terms of memory, but looks nothing like the dog.",lu,ri,G3="Now, let's share two colors instead of just one.",uu,ii,fu,ai,X3="Starting to look like a dog!",cu,si,Z3="So what happens when we increase beyond two colors? Let's try!",hu,l0,Q3='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider to increase the number of colors to share.</p></div>',du,oi,mu,li,K3="After sharing just 256 colors, the images look remarkably similar. And we're only storing just 256 colors instead of nearly 5 million!",pu,u0,ui,J3='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',Tr,Ys,e5="I've left out some information on how to compute these multiple averages.",Gs,t5="<strong>For the purposes of this article, you can ignore how I compute the averages.</strong>",fi,bh,ci,wh,hi,xh,di,Mh,gu,mi,n5="Instead of storing three numbers per pixel, I store one that indexes into the shared important color pixels.",vu,pi,yu,wn,Sh,gi,r5="window",kh,vi,$h,yi,i5="window",Th,bu,bi,wu,wi,a5='<a href="#Quantifying-Error" class="svp-title-anchor" aria-label="Quantifying Error"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Quantifying Error',xu,xi,s5="You get the point. We can indeed reduce our budget without losing the main use-case.",Mu,Mi,o5="You can apply this exact method to the weight matrix in a linear layer of a neural network! But in some ways, the problem is harder.",Su,Si,l5="First, how do we know when we've compressed the weights adequately? With the image example, we could just view all the different quantizations and see which was closest. How would you do this for arbitrary numbers learned in a neural network? You can't just look at them and see if they look good.",ku,ki,u5="Instead, we need a metric that tells us how good the compression is compared to the original.",$u,$i,f5="Let's go back to the image case because it's more intuitive. I will assume that the image compression when the colors are far away from the true colors. In other words, the difference between the original pixels and the compressed pixels is how bad our error is.",Tu,f0,c5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Drag the slider increase the number of colors quantized. Observe the pixels that are deep red for high error.</p></div>',Cu,Ti,Au,Ci,h5="As you can see, when the images look very similar, the red error is almost nonexistent. I can further summarize the error with an average into one number.",Eu,Ai,d5="This example shows it's entirely possible to attach a number to how good the compression is.",_u,c0,Ei,m5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',h0,zt,Ch,_i,Ah,zi,Eh,Di,_h,Ii,zh,Ni,Dh,qi,Ih,fn,Nh,Bi,qh,Li,Bh,Ri,Lh,Fi,Rh,cn,Fh,Pi,Ph,Oi,Oh,Xs,p5="Average Error",Hh,Hi,Vh,zu,Vi,Du,Ui,g5='<a href="#Matrix-Multiplication" class="svp-title-anchor" aria-label="Matrix Multiplication"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Matrix Multiplication',Iu,ji,v5="For neural network weights, we aren't viewing them as images. So what makes their compression good or not?",Nu,Wi,y5="Take this three layer neural network",qu,Yi,Bu,xn,Uh,Gi,jh,Xi,Wh,Zi,Yh,Lu,Qi,b5="Just like we created an error metric for the use-case for images, we should do the same here. Since almost all the operations on the weights are matrix multiplies, it greatly matters we know how the error amplifies or hides under matrix multiplies for the quantized weights. Just doing an element-wise difference would not capture what matrix multiplication is actually doing.",Ru,d0,w5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 11 11"><path d="M6.62 8.5l3.11 1.55l-.45.89L5.5 9.06l-3.78 1.89l-.45-.89L4.38 8.5l-3.1-1.55l.45-.89L5.5 7.94l3.78-1.89l.44.9l-3.1 1.55zM8.5 3.21v.29l-1 1v1l-2 1l-2-1v-1l-1-1V3a2.9 2.9 0 0 1 3-3a3.09 3.09 0 0 1 3 3.21zm-3.79-.5a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79zM5 4.5h-.5v1H5v-1zm1.5 0H6v1h.5v-1zm1.36-1.79a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79z" fill="currentColor"></path></svg></span>WARNING</div><div class="admonition-content"><p>Things are about to get mathematically dense for a small while. It pains me to say that it&#39;s easier to write concisely with notation.</p></div>',Fu,pt,Gh,Ki,Xh,Ji,Zh,ea,Qh,ta,Kh,na,Jh,ra,e2,ia,t2,Pu,nt,n2,aa,r2,sa,i2,oa,a2,la,s2,ua,o2,fa,l2,ca,u2,ha,f2,da,c2,ma,h2,Ou,m0,pa,x5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',Zs,ga,d2,va,m2,Hu,Mn,p2,ya,g2,ba,v2,wa,y2,Vu,Qs,xa,Uu,Ma,M5="simply by how I defined things.",ju,Kt,b2,Sa,w2,ka,x2,$a,M2,Ta,S2,Wu,p0,Ca,S5='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE',g0,Cr,k2,Aa,$2,Ea,T2,Ks,k5="I use the matrix operator norm because the vector norm of a matrix doesn't capture the important information. The matrix operator norm tells me how the matrix transforms vectors under matrix multiplication which is exactly what I need.",_a,C2,za,A2,Yu,Sn,E2,Da,_2,Ia,z2,Na,D2,Gu,qa,$5="Let's see what error looks like on some different weight matrices!",Xu,v0,T5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Select a distribution for the weights and how much you&#39;d like to quantize the weights by dragging the slider. Observe the error terms and when the weights look similar.</p></div>',Zu,Ba,Qu,La,C5="Unsurprisingly, the error drops drastically when we have enough weights to share. The error is close to zero and is 4 times smaller! That is a total win!",Ku,Ra,A5="My second observation is that not all weight distributions have the same condition number. Additionally, it seems to be that k-means quantization does quite well, if not better, when the condition number is higher. How could this be?",Ju,Fa,E5="The condition number, which scales the error term, becomes very high with spiked values (outliers). This makes sense given small errors to these values would change the matrix multiply drastically.",e1,Pa,_5="But at the very same time, k-means is known to be sensitive to outliers (to a fault). So k-means gives an entire shared weight to the outlier. Most of the time this is terrible for compression, but since k-means quantization is non-linear, it's a total win.",t1,Oa,z5="This is a bit of a tangent, but k-means has a clear advantage over linear quantization schemes in terms of minimizing error!",n1,y0,D5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 17h2.1l6-5.95l-2.15-2.15L7 14.85Zm8.8-6.65l1.05-1.1Q17 9.1 17 8.9q0-.2-.15-.35l-1.4-1.4Q15.3 7 15.1 7q-.2 0-.35.15l-1.1 1.05ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h4.2q.325-.9 1.088-1.45Q11.05 1 12 1t1.713.55Q14.475 2.1 14.8 3H19q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14Zm7-14.75q.325 0 .538-.213q.212-.212.212-.537q0-.325-.212-.538q-.213-.212-.538-.212q-.325 0-.537.212q-.213.213-.213.538q0 .325.213.537q.212.213.537.213ZM5 19V5v14Z"></path></svg></span>NOTE</div><div class="admonition-content"><p>Depending on the underlying distribution, it may be that k-means does not encode an entire value to the outlier point. So more analysis is needed here to minimize error or predict performance.</p></div>',r1,Ha,i1,Va,I5='<a href="#More-layers" class="svp-title-anchor" aria-label="More layers"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>More layers',a1,Ua,N5="Okay, but what about more than just one weight matrix.",s1,ja,q5="Instead of just one layer of weights, now I'll scale up to multiple layers with a real usable model.",o1,Wa,B5='I&#39;ll use a simple autoencoder architecture takes takes images of handwritten digits<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup> (0 through 9) and attempts to reconstruct the image after a bottleneck.',l1,b0,I2,Ya,N2,u1,Ga,kn,Ar,L5=`<code><span class="line"><span style="color: #1E754F">import</span><span style="color: #393A34"> torch</span></span>
<span class="line"><span style="color: #393A34">model </span><span style="color: #AB5959">=</span><span style="color: #393A34"> torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sequential</span><span style="color: #999999">(</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">256</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">256</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">1000</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">ReLU</span><span style="color: #999999">(),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Linear</span><span style="color: #999999">(</span><span style="color: #2F798A">1000</span><span style="color: #999999">,</span><span style="color: #393A34"> </span><span style="color: #2F798A">28</span><span style="color: #AB5959">*</span><span style="color: #2F798A">28</span><span style="color: #999999">),</span></span>
<span class="line"><span style="color: #393A34">    torch</span><span style="color: #999999">.</span><span style="color: #393A34">nn</span><span style="color: #999999">.</span><span style="color: #393A34">Sigmoid</span><span style="color: #999999">()</span></span>
<span class="line"><span style="color: #999999">)</span></span></code>`,q2,Er,R5=`<code><span class="line"><span style="color: #C792EA; font-style: italic">import</span><span style="color: #D6DEEB"> torch</span></span>
<span class="line"><span style="color: #D6DEEB">model </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> torch.nn.</span><span style="color: #B2CCD6">Sequential</span><span style="color: #D6DEEB">(</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">256</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">256</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1000</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">ReLU</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Linear</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1000</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">28</span><span style="color: #C792EA">*</span><span style="color: #F78C6C">28</span><span style="color: #D6DEEB">)</span><span style="color: #D9F5DD">,</span></span>
<span class="line"><span style="color: #82AAFF">    torch.nn.</span><span style="color: #B2CCD6">Sigmoid</span><span style="color: #D6DEEB">()</span></span>
<span class="line"><span style="color: #D6DEEB">)</span></span></code>`,B2,Xa,F5="python",L2,Za,f1,Jn,R2,Qa,F2,Ka,P2,c1,w0,O2,Ja,H2,h1,x0,P5='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>YOUR TURN</div><div class="admonition-content"><p>Draw on the left side blackboard a number and see how the model reconstructs your digit. Drag the slider to change the level of quantization.</p></div>',d1,es,m1,ts,O5="As you can see, with a small number of bits, the output reconstruction is terrible. But as you pass some threshold it becomes quite good and doesn't improve by too much. Very importantly, the quantized models are four times smaller than the original.",p1,M0,V2,ns,U2,g1,rs,v1,is,H5='<a href="#Conclusion" class="svp-title-anchor" aria-label="Conclusion"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Conclusion',y1,as,V5="I hope you learned some things. I certainly did!",b1,ss,U5="Overall, yes it's possible to quantize the vast majority of weights in your neural network with little error. But make sure you're using the right error metrics!",w1,os,j5="Until next time 😄",x1,ls,M1,us,W5='<a href="#Acknowledgments" class="svp-title-anchor" aria-label="Acknowledgments"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Acknowledgments',S1,Jt,_r,j2,fs,W2,cs,Y2,G2,hs,X2,ds,Z2,Q2,Js,ms,K2,J2,eo,ps,ed,td,to,gs,nd,k1,er,S0,Y5="Footnotes",rd,Vo,no,k0,id,vs,ad,tr,G5="↩",$1;return w=new wt({props:{to:"https://lexica.art/?q=cyberpunk+city",label:"Lexica"}}),D=new wt({props:{to:"https://stability.ai/stablediffusion",label:"Stable Diffusion XL"}}),me=new wt({props:{to:"https://arxiv.org/abs/1510.00149",label:"Deep Compression"}}),X0=new Ie({props:{text:"880 \\cdot 602"}}),ti=new dd({props:{selected:0}}),ii=new dd({props:{selected:1}}),oi=new dd({props:{selected:1,showSlider:!0}}),ci=new wt({props:{to:"https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html",label:"k-means algorithm"}}),di=new wt({props:{to:OB+"/blob/main/notebooks/image.ipynb",label:"image.ipynb"}}),pi=new EB({}),vi=new Ie({props:{text:"2^3"}}),Ti=new Kw({}),_i=new Ie({props:{text:"i"}}),zi=new Ie({props:{text:"Q"}}),Di=new Ie({props:{text:"W"}}),Ii=new Ie({props:{text:"(0,0,0)"}}),Ni=new Ie({props:{text:"(255,255,255)"}}),qi=new Ie({props:{text:"|255-0| + |255-0| + |255-0| = 765"}}),Bi=new Ie({props:{text:"E"}}),Li=new Ie({props:{text:"E_[i] = \\sum_[c=1]^[3] |W_[i, c] - Q_[i,c]| \\tag1",big:!0}}),Ri=new Ie({props:{text:"i"}}),Fi=new Ie({props:{text:"c"}}),Pi=new Ie({props:{text:"E"}}),Oi=new Ie({props:{text:"(1)"}}),Hi=new Ie({props:{text:"\\frac[1][N]\\sum_[i=1]^[N] E_i"}}),Yi=new Ie({props:{text:"\\text[ReLU]\\left(\\text[ReLU]\\left(xW_1^T + b_1\\right)W_2^T + b_2\\right)W_3^T + b_3.\\tag[2]",big:!0}}),Gi=new Ie({props:{text:"W_i"}}),Xi=new Ie({props:{text:"b_i"}}),Zi=new Ie({props:{text:"i"}}),Ki=new Ie({props:{text:"Wx = y"}}),Ji=new Ie({props:{text:"W"}}),ea=new Ie({props:{text:"x"}}),ta=new Ie({props:{text:"y"}}),na=new Ie({props:{text:"W"}}),ra=new Ie({props:{text:"x"}}),ia=new Ie({props:{text:"y"}}),aa=new Ie({props:{text:"W"}}),sa=new Ie({props:{text:"Q"}}),oa=new Ie({props:{text:"Q"}}),la=new Ie({props:{text:"x"}}),ua=new Ie({props:{text:"\\hat[y]"}}),fa=new Ie({props:{text:"Q"}}),ca=new Ie({props:{text:"W"}}),ha=new Ie({props:{text:"y"}}),da=new Ie({props:{text:"\\hat[y]"}}),ma=new Ie({props:{text:"\\text[error] &:= \\frac[||y - \\hat[y]||][||y||]\\tag[3]",begin:"align*"}}),va=new Ie({props:{text:"||\\cdot||"}}),ya=new Ie({props:{text:"Wx = y"}}),ba=new Ie({props:{text:"Qx = \\hat[y]"}}),wa=new Ie({props:{text:"(3)"}}),xa=new Ie({props:{text:`
\\frac[||y - \\hat[y]||][||y||] = \\frac[||Wx - Qx||][||Wx||]\\tag[4]\\\\
`,begin:"align*"}}),Sa=new Ie({props:{text:"W"}}),ka=new Ie({props:{text:"Q"}}),$a=new Ie({props:{text:"W"}}),Ta=new Ie({props:{begin:"align*",text:`
\\frac[||Wx - Qx||][||Wx||] &= \\frac[||(W-Q)x||][||Wx||]\\\\
&= \\frac[||(W-Q)W^[-1]y||][||Wx||]&&\\text[since ] x = W^[-1]y\\\\
&\\leq \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||y||][||Wx||]&&\\text[since ] ||AB|| \\leq ||A|| \\ ||B||\\\\
&= \\frac[||W-Q|| \\ ||W^[-1]|| \\ ||Wx||][||Wx||]&&\\text[since ] ||Wx|| = ||y||\\\\
&= ||W-Q|| \\ ||W^[-1]||\\\\
&= \\frac[||W||][||W||] \\ ||W-Q|| \\ ||W^[-1]||\\\\
&= \\left(||W|| \\ ||W^[-1]||\\right) \\left(\\frac[||W-Q||][||W||]\\right). \\tag[5]\\\\
`}}),Aa=new Ie({props:{text:"(5)"}}),Ea=new wt({props:{to:"https://www.cs.cornell.edu/~bindel/class/cs4220-s15/lec/2015-02-04-notes.pdf",label:"CS 4220 Numerical Analysis"}}),za=new wt({props:{to:"https://www.youtube.com/watch?v=G2RKg1pHApc",label:"good video"}}),Da=new Ie({props:{text:"W"}}),Ia=new Ie({props:{text:"||W|| \\ ||W^[-1]||"}}),Na=new Ie({props:{text:"\\frac[||W-Q||][||W||]"}}),Ba=new MB({}),Ya=new wt({props:{to:"https://pytorch.org/docs/stable/index.html",label:"PyTorch"}}),Za=new Uw({}),Qa=new wt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/mnist_autoencoder.ipynb",label:"mnist_autoencoder.ipynb"}}),Ka=new wt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/quantized_mnist_autoencoder.ipynb",label:"quantized_mnist_autoencoder.ipynb"}}),Ja=new wt({props:{to:"https://github.com/xnought/docs/blob/main/ui/src/components/tensor.js",label:"mini neural network library"}}),es=new RB({}),ns=new wt({props:{to:"https://github.com/xnought/docs/blob/main/notebooks/ae_cond.ipynb",label:"ae_cond.ipynb"}}),fs=new wt({props:{to:"https://donnybertucci.com",label:"Donny Bertucci"}}),cs=new wt({props:{to:"https://perer.org/",label:"Adam Perer"}}),ds=new wt({props:{to:"https://www.youtube.com/watch?v=AlASZb93rrc",label:"here"}}),ms=new wt({props:{to:"https://observablehq.com/plot/",label:"Observable Plot"}}),ps=new wt({props:{to:"https://sveltepress.site/",label:"SveltePress"}}),gs=new wt({props:{to:"https://katex.org/",label:"KaTeX"}}),vs=new wt({props:{to:"https://pytorch.org/vision/stable/generated/torchvision.datasets.MNIST.html",label:"MNIST"}}),{c(){t=P("p"),t.innerHTML=n,r=X(),i=P("div"),a=X(),s=P("h2"),s.innerHTML=o,l=X(),u=P("p"),u.textContent=f,c=X(),h=P("div"),d=X(),g=P("p"),y=P("em"),b=J("From "),ve(w.$$.fragment),S=J("'s Aperture Model."),E=X(),$=P("p"),A=J("These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ve(D.$$.fragment),_=J(" transform your text and images with over 3 billion parameters into something awesome!"),j=X(),U=P("p"),U.textContent=k,C=X(),L=P("div"),z=X(),W=P("h2"),W.innerHTML=V,Q=X(),ae=P("p"),re=J("In this article I'll use the weight sharing scheme from "),ve(me.$$.fragment),te=J(" to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),se=X(),oe=P("p"),oe.textContent=ne,Se=X(),Ce=P("p"),Ce.textContent=_e,ue=X(),ce=P("p"),ce.textContent=K,xe=X(),Te=P("p"),Te.textContent=Y,ke=X(),Ee=P("p"),Ee.textContent=Be,Le=X(),Ge=P("p"),Ge.textContent=mt,bt=X(),Pt=P("div"),Xt=X(),_t=P("h2"),_t.innerHTML=Vs,G0=X(),kr=P("p"),kr.textContent=nu,Us=X(),Zt=P("p"),Zt.textContent=Ho,Qn=X(),$r=P("p"),$r.textContent=ru,js=X(),Dt=P("img"),Ws=X(),Qt=P("p"),mh=J("In total, there are 4,824,160 colors in the image ("),ve(X0.$$.fragment),ph=J("): one for each pixel. Each color is represented by three numbers: "),Z0=P("span"),Z0.textContent=H3,gh=J(", "),Q0=P("span"),Q0.textContent=V3,vh=J(", and "),K0=P("span"),K0.textContent=U3,yh=J(" that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),iu=X(),J0=P("p"),J0.textContent=j3,au=X(),ei=P("p"),ei.textContent=W3,su=X(),ve(ti.$$.fragment),ou=X(),ni=P("p"),ni.textContent=Y3,lu=X(),ri=P("p"),ri.textContent=G3,uu=X(),ve(ii.$$.fragment),fu=X(),ai=P("p"),ai.textContent=X3,cu=X(),si=P("p"),si.textContent=Z3,hu=X(),l0=P("div"),l0.innerHTML=Q3,du=X(),ve(oi.$$.fragment),mu=X(),li=P("p"),li.textContent=K3,pu=X(),u0=P("div"),ui=P("div"),ui.innerHTML=J3,Tr=P("div"),Ys=P("p"),Ys.textContent=e5,Gs=P("p"),Gs.innerHTML=t5,fi=P("p"),bh=J("However, if you must know: I use the "),ve(ci.$$.fragment),wh=J(" on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),hi=P("p"),xh=J("Check out "),ve(di.$$.fragment),Mh=J(" to see how I used k-means on the images."),gu=X(),mi=P("p"),mi.textContent=n5,vu=X(),ve(pi.$$.fragment),yu=X(),wn=P("p"),Sh=J("Above, the "),gi=P("span"),gi.textContent=r5,kh=J(" shows a small portion of the pixels at eight (or three bit since "),ve(vi.$$.fragment),$h=J(") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),yi=P("span"),yi.textContent=i5,Th=J("!"),bu=X(),bi=P("div"),wu=X(),wi=P("h2"),wi.innerHTML=a5,xu=X(),xi=P("p"),xi.textContent=s5,Mu=X(),Mi=P("p"),Mi.textContent=o5,Su=X(),Si=P("p"),Si.textContent=l5,ku=X(),ki=P("p"),ki.textContent=u5,$u=X(),$i=P("p"),$i.textContent=f5,Tu=X(),f0=P("div"),f0.innerHTML=c5,Cu=X(),ve(Ti.$$.fragment),Au=X(),Ci=P("p"),Ci.textContent=h5,Eu=X(),Ai=P("p"),Ai.textContent=d5,_u=X(),c0=P("div"),Ei=P("div"),Ei.innerHTML=m5,h0=P("div"),zt=P("p"),Ch=J("For each pixel at (location "),ve(_i.$$.fragment),Ah=J(") I find the difference between the corresponding color channels of the compressed/quantized image "),ve(zi.$$.fragment),Eh=J(" and the original image "),ve(Di.$$.fragment),_h=J(". For example if the original color was black "),ve(Ii.$$.fragment),zh=J(" and the quantized color was white "),ve(Ni.$$.fragment),Dh=J(", the summed error would be "),ve(qi.$$.fragment),Ih=J(" for that one pixel."),fn=P("p"),Nh=J("I store each error term in this "),ve(Bi.$$.fragment),qh=J(" matrix where each number is the error "),ve(Li.$$.fragment),Bh=J(" such that "),ve(Ri.$$.fragment),Lh=J(" is the pixel index and "),ve(Fi.$$.fragment),Rh=J(" is the color channel (one of rgb)."),cn=P("p"),Fh=J("This error image "),ve(Pi.$$.fragment),Ph=J(" is what you see in red above. Then I simply average over these error matrix values from "),ve(Oi.$$.fragment),Oh=J(" to get the "),Xs=P("strong"),Xs.textContent=p5,Hh=J(" as "),ve(Hi.$$.fragment),Vh=J("."),zu=X(),Vi=P("div"),Du=X(),Ui=P("h2"),Ui.innerHTML=g5,Iu=X(),ji=P("p"),ji.textContent=v5,Nu=X(),Wi=P("p"),Wi.textContent=y5,qu=X(),ve(Yi.$$.fragment),Bu=X(),xn=P("p"),Uh=J("where "),ve(Gi.$$.fragment),jh=J(" are weights and "),ve(Xi.$$.fragment),Wh=J(" are biases at layer "),ve(Zi.$$.fragment),Yh=J("."),Lu=X(),Qi=P("p"),Qi.textContent=b5,Ru=X(),d0=P("div"),d0.innerHTML=w5,Fu=X(),pt=P("p"),Gh=J("With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the vector. Namely, "),ve(Ki.$$.fragment),Xh=J(" where "),ve(Ji.$$.fragment),Zh=J(" is the matrix, "),ve(ea.$$.fragment),Qh=J(" is the column vector, and "),ve(ta.$$.fragment),Kh=J(" is the output of the matrix multiply. Alternatively, think of "),ve(na.$$.fragment),Jh=J(" as transforming "),ve(ra.$$.fragment),e2=J(" into "),ve(ia.$$.fragment),t2=J("."),Pu=X(),nt=P("p"),n2=J("I can also define "),ve(aa.$$.fragment),r2=J(" compressed/quantized as "),ve(sa.$$.fragment),i2=J(". The "),ve(oa.$$.fragment),a2=J(" matrix transforms the input "),ve(la.$$.fragment),s2=J(" into some approximate output "),ve(ua.$$.fragment),o2=J(". Cleary, since "),ve(fa.$$.fragment),l2=J(" is an approximate "),ve(ca.$$.fragment),u2=J(` so the output would also be approximate.
I can then express the differences between the outputs `),ve(ha.$$.fragment),f2=J(" and "),ve(da.$$.fragment),c2=J(` in a single error term
`),ve(ma.$$.fragment),h2=J(" which is the size of how wrong the approximation is."),Ou=X(),m0=P("div"),pa=P("div"),pa.innerHTML=x5,Zs=P("div"),ga=P("p"),d2=J("I use the vector 1-norm here denoted by "),ve(va.$$.fragment),m2=J(" to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),Hu=X(),Mn=P("p"),p2=J("And since "),ve(ya.$$.fragment),g2=J(" and "),ve(ba.$$.fragment),v2=J(" I can write the equation "),ve(wa.$$.fragment),y2=J(" only in terms of the inputs as"),Vu=X(),Qs=P("p"),ve(xa.$$.fragment),Uu=X(),Ma=P("p"),Ma.textContent=M5,ju=X(),Kt=P("p"),b2=J("As is turns out, I can factor this error term into a term that only contains "),ve(Sa.$$.fragment),w2=J(" and one other that contains both "),ve(ka.$$.fragment),x2=J(" and "),ve($a.$$.fragment),M2=J(` through the steps
`),ve(Ta.$$.fragment),S2=J(" where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),Wu=X(),p0=P("div"),Ca=P("div"),Ca.innerHTML=S5,g0=P("div"),Cr=P("p"),k2=J("The above formulation "),ve(Aa.$$.fragment),$2=J(" was adapted from the lecture notes "),ve(Ea.$$.fragment),T2=J("."),Ks=P("p"),Ks.textContent=k5,_a=P("p"),C2=J("This is a "),ve(za.$$.fragment),A2=J(" on the matrix operator norm induced by the 2-norm for some intuition."),Yu=X(),Sn=P("p"),E2=J("The first term defined by only "),ve(Da.$$.fragment),_2=J(" as "),ve(Ia.$$.fragment),z2=J(" is a very useful number in many applications for linear problems: the condition number. The second term looks quite similar to the image pixel error case as the difference between the matrices with a norm applied as "),ve(Na.$$.fragment),D2=J(". But remember now we use the matrix operator norm."),Gu=X(),qa=P("p"),qa.textContent=$5,Xu=X(),v0=P("div"),v0.innerHTML=T5,Zu=X(),ve(Ba.$$.fragment),Qu=X(),La=P("p"),La.textContent=C5,Ku=X(),Ra=P("p"),Ra.textContent=A5,Ju=X(),Fa=P("p"),Fa.textContent=E5,e1=X(),Pa=P("p"),Pa.textContent=_5,t1=X(),Oa=P("p"),Oa.textContent=z5,n1=X(),y0=P("div"),y0.innerHTML=D5,r1=X(),Ha=P("div"),i1=X(),Va=P("h2"),Va.innerHTML=I5,a1=X(),Ua=P("p"),Ua.textContent=N5,s1=X(),ja=P("p"),ja.textContent=q5,o1=X(),Wa=P("p"),Wa.innerHTML=B5,l1=X(),b0=P("p"),I2=J("In "),ve(Ya.$$.fragment),N2=J(" I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),u1=X(),Ga=P("div"),kn=P("div"),Ar=P("pre"),Ar.innerHTML=L5,q2=X(),Er=P("pre"),Er.innerHTML=R5,B2=X(),Xa=P("div"),Xa.textContent=F5,L2=X(),ve(Za.$$.fragment),f1=X(),Jn=P("p"),R2=J("The training and definitions are in "),ve(Qa.$$.fragment),F2=J(" and the quantization is in "),ve(Ka.$$.fragment),P2=J(" if you're interested."),c1=X(),w0=P("p"),O2=J("I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ve(Ja.$$.fragment),H2=J(" in JavaScript."),h1=X(),x0=P("div"),x0.innerHTML=P5,d1=X(),ve(es.$$.fragment),m1=X(),ts=P("p"),ts.textContent=O5,p1=X(),M0=P("p"),V2=J("Despite this neural network having a high maximum condition number (computed by taking the condition number over each layer and taking the max "),ve(ns.$$.fragment),U2=J("), using k-means quantization, the outputs look quite good: the reconstruction is accurate. I speculate again that with extra shared numbers to spare, k-means was sensitive tot he outlier which caused the high condition number, thereby masking the large effects."),g1=X(),rs=P("div"),v1=X(),is=P("h2"),is.innerHTML=H5,y1=X(),as=P("p"),as.textContent=V5,b1=X(),ss=P("p"),ss.textContent=U5,w1=X(),os=P("p"),os.textContent=j5,x1=X(),ls=P("div"),M1=X(),us=P("h2"),us.innerHTML=W5,S1=X(),Jt=P("ul"),_r=P("li"),j2=J("I thank myself "),ve(fs.$$.fragment),W2=J(" for writing the article and "),ve(cs.$$.fragment),Y2=J(" for discussing ideas and giving me valuable feedback"),G2=X(),hs=P("li"),X2=J("Inspiration from "),ve(ds.$$.fragment),Z2=J(" which evidently is by the author of that Deep Compression Paper I referenced earlier"),Q2=X(),Js=P("li"),ve(ms.$$.fragment),K2=J(" was extremely useful"),J2=X(),eo=P("li"),ve(ps.$$.fragment),ed=J(" is really awesome out of the box"),td=X(),to=P("li"),ve(gs.$$.fragment),nd=J(" for math equations"),k1=X(),er=P("section"),S0=P("h2"),S0.textContent=Y5,rd=X(),Vo=P("ol"),no=P("li"),k0=P("p"),id=J("Chose "),ve(vs.$$.fragment),ad=J(" so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),tr=P("a"),tr.textContent=G5,this.h()},l(p){t=O(p,"P",{"data-svelte-h":!0}),ge(t)!=="svelte-1g21cvi"&&(t.innerHTML=n),r=Z(p),i=O(p,"DIV",{id:!0,class:!0}),ie(i).forEach(M),a=Z(p),s=O(p,"H2",{"data-svelte-h":!0}),ge(s)!=="svelte-ruhe6q"&&(s.innerHTML=o),l=Z(p),u=O(p,"P",{"data-svelte-h":!0}),ge(u)!=="svelte-s62896"&&(u.textContent=f),c=Z(p),h=O(p,"DIV",{style:!0,class:!0}),ie(h).forEach(M),d=Z(p),g=O(p,"P",{});var R=ie(g);y=O(R,"EM",{});var T1=ie(y);b=ee(T1,"From "),ye(w.$$.fragment,T1),S=ee(T1,"'s Aperture Model."),T1.forEach(M),R.forEach(M),E=Z(p),$=O(p,"P",{});var C1=ie($);A=ee(C1,"These models generate detailed and stunning outputs. And yet, they are just transforming input data over and over again until a desirable output. For example, large models like "),ye(D.$$.fragment,C1),_=ee(C1," transform your text and images with over 3 billion parameters into something awesome!"),C1.forEach(M),j=Z(p),U=O(p,"P",{"data-svelte-h":!0}),ge(U)!=="svelte-c230rd"&&(U.textContent=k),C=Z(p),L=O(p,"DIV",{id:!0,class:!0}),ie(L).forEach(M),z=Z(p),W=O(p,"H2",{"data-svelte-h":!0}),ge(W)!=="svelte-13wc126"&&(W.innerHTML=V),Q=Z(p),ae=O(p,"P",{});var A1=ie(ae);re=ee(A1,"In this article I'll use the weight sharing scheme from "),ye(me.$$.fragment,A1),te=ee(A1," to drastically reduce the size of my weights with little error (post-training). To give you an idea of why sharing a few floating point numbers would be helpful, here's the situation."),A1.forEach(M),se=Z(p),oe=O(p,"P",{"data-svelte-h":!0}),ge(oe)!=="svelte-jjbxih"&&(oe.textContent=ne),Se=Z(p),Ce=O(p,"P",{"data-svelte-h":!0}),ge(Ce)!=="svelte-1dlvibq"&&(Ce.textContent=_e),ue=Z(p),ce=O(p,"P",{"data-svelte-h":!0}),ge(ce)!=="svelte-1hz6bb9"&&(ce.textContent=K),xe=Z(p),Te=O(p,"P",{"data-svelte-h":!0}),ge(Te)!=="svelte-4hvpcj"&&(Te.textContent=Y),ke=Z(p),Ee=O(p,"P",{"data-svelte-h":!0}),ge(Ee)!=="svelte-6rjtcm"&&(Ee.textContent=Be),Le=Z(p),Ge=O(p,"P",{"data-svelte-h":!0}),ge(Ge)!=="svelte-j391qh"&&(Ge.textContent=mt),bt=Z(p),Pt=O(p,"DIV",{id:!0,class:!0}),ie(Pt).forEach(M),Xt=Z(p),_t=O(p,"H2",{"data-svelte-h":!0}),ge(_t)!=="svelte-z4t4s0"&&(_t.innerHTML=Vs),G0=Z(p),kr=O(p,"P",{"data-svelte-h":!0}),ge(kr)!=="svelte-jn7zu2"&&(kr.textContent=nu),Us=Z(p),Zt=O(p,"P",{"data-svelte-h":!0}),ge(Zt)!=="svelte-2eegx6"&&(Zt.textContent=Ho),Qn=Z(p),$r=O(p,"P",{"data-svelte-h":!0}),ge($r)!=="svelte-hycxe9"&&($r.textContent=ru),js=Z(p),Dt=O(p,"IMG",{src:!0,style:!0,class:!0}),Ws=Z(p),Qt=O(p,"P",{});var nr=ie(Qt);mh=ee(nr,"In total, there are 4,824,160 colors in the image ("),ye(X0.$$.fragment,nr),ph=ee(nr,"): one for each pixel. Each color is represented by three numbers: "),Z0=O(nr,"SPAN",{style:!0,"data-svelte-h":!0}),ge(Z0)!=="svelte-17efn44"&&(Z0.textContent=H3),gh=ee(nr,", "),Q0=O(nr,"SPAN",{style:!0,"data-svelte-h":!0}),ge(Q0)!=="svelte-ixmvcs"&&(Q0.textContent=V3),vh=ee(nr,", and "),K0=O(nr,"SPAN",{style:!0,"data-svelte-h":!0}),ge(K0)!=="svelte-yxcr95"&&(K0.textContent=U3),yh=ee(nr," that mix together to make that color. In total this one image is storing nearly 15 million numbers! That is quite a bit!"),nr.forEach(M),iu=Z(p),J0=O(p,"P",{"data-svelte-h":!0}),ge(J0)!=="svelte-1s1w0ap"&&(J0.textContent=j3),au=Z(p),ei=O(p,"P",{"data-svelte-h":!0}),ge(ei)!=="svelte-10fp00t"&&(ei.textContent=W3),su=Z(p),ye(ti.$$.fragment,p),ou=Z(p),ni=O(p,"P",{"data-svelte-h":!0}),ge(ni)!=="svelte-191ux2d"&&(ni.textContent=Y3),lu=Z(p),ri=O(p,"P",{"data-svelte-h":!0}),ge(ri)!=="svelte-y7jh1z"&&(ri.textContent=G3),uu=Z(p),ye(ii.$$.fragment,p),fu=Z(p),ai=O(p,"P",{"data-svelte-h":!0}),ge(ai)!=="svelte-1mbtwn3"&&(ai.textContent=X3),cu=Z(p),si=O(p,"P",{"data-svelte-h":!0}),ge(si)!=="svelte-c0oqny"&&(si.textContent=Z3),hu=Z(p),l0=O(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(l0)!=="svelte-pvhyf7"&&(l0.innerHTML=Q3),du=Z(p),ye(oi.$$.fragment,p),mu=Z(p),li=O(p,"P",{"data-svelte-h":!0}),ge(li)!=="svelte-1sqnw4i"&&(li.textContent=K3),pu=Z(p),u0=O(p,"DIV",{class:!0});var sd=ie(u0);ui=O(sd,"DIV",{class:!0,"data-svelte-h":!0}),ge(ui)!=="svelte-1cy0qbn"&&(ui.innerHTML=J3),Tr=O(sd,"DIV",{class:!0});var Uo=ie(Tr);Ys=O(Uo,"P",{"data-svelte-h":!0}),ge(Ys)!=="svelte-1b2zkjk"&&(Ys.textContent=e5),Gs=O(Uo,"P",{"data-svelte-h":!0}),ge(Gs)!=="svelte-1pybshj"&&(Gs.innerHTML=t5),fi=O(Uo,"P",{});var E1=ie(fi);bh=ee(E1,"However, if you must know: I use the "),ye(ci.$$.fragment,E1),wh=ee(E1," on the image pixels to select out the top k average colors and assign each of the original pixels the closest pixel from the averages."),E1.forEach(M),hi=O(Uo,"P",{});var _1=ie(hi);xh=ee(_1,"Check out "),ye(di.$$.fragment,_1),Mh=ee(_1," to see how I used k-means on the images."),_1.forEach(M),Uo.forEach(M),sd.forEach(M),gu=Z(p),mi=O(p,"P",{"data-svelte-h":!0}),ge(mi)!=="svelte-10470hz"&&(mi.textContent=n5),vu=Z(p),ye(pi.$$.fragment,p),yu=Z(p),wn=O(p,"P",{});var $0=ie(wn);Sh=ee($0,"Above, the "),gi=O($0,"SPAN",{style:!0,"data-svelte-h":!0}),ge(gi)!=="svelte-18c939o"&&(gi.textContent=r5),kh=ee($0," shows a small portion of the pixels at eight (or three bit since "),ye(vi.$$.fragment,$0),$h=ee($0,") color compression. As you can see, each pixel is a single three bit number that indexes into the shared colors which contains three numbers each. Hover over the image to move the mini "),yi=O($0,"SPAN",{style:!0,"data-svelte-h":!0}),ge(yi)!=="svelte-18c939o"&&(yi.textContent=i5),Th=ee($0,"!"),$0.forEach(M),bu=Z(p),bi=O(p,"DIV",{id:!0,class:!0}),ie(bi).forEach(M),wu=Z(p),wi=O(p,"H2",{"data-svelte-h":!0}),ge(wi)!=="svelte-o0se0e"&&(wi.innerHTML=a5),xu=Z(p),xi=O(p,"P",{"data-svelte-h":!0}),ge(xi)!=="svelte-1293b40"&&(xi.textContent=s5),Mu=Z(p),Mi=O(p,"P",{"data-svelte-h":!0}),ge(Mi)!=="svelte-14roup4"&&(Mi.textContent=o5),Su=Z(p),Si=O(p,"P",{"data-svelte-h":!0}),ge(Si)!=="svelte-k48m7"&&(Si.textContent=l5),ku=Z(p),ki=O(p,"P",{"data-svelte-h":!0}),ge(ki)!=="svelte-1kk5d34"&&(ki.textContent=u5),$u=Z(p),$i=O(p,"P",{"data-svelte-h":!0}),ge($i)!=="svelte-15vrspb"&&($i.textContent=f5),Tu=Z(p),f0=O(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(f0)!=="svelte-gsmdzw"&&(f0.innerHTML=c5),Cu=Z(p),ye(Ti.$$.fragment,p),Au=Z(p),Ci=O(p,"P",{"data-svelte-h":!0}),ge(Ci)!=="svelte-1cwra3o"&&(Ci.textContent=h5),Eu=Z(p),Ai=O(p,"P",{"data-svelte-h":!0}),ge(Ai)!=="svelte-1fjd55h"&&(Ai.textContent=d5),_u=Z(p),c0=O(p,"DIV",{class:!0});var od=ie(c0);Ei=O(od,"DIV",{class:!0,"data-svelte-h":!0}),ge(Ei)!=="svelte-1cy0qbn"&&(Ei.innerHTML=m5),h0=O(od,"DIV",{class:!0});var z1=ie(h0);zt=O(z1,"P",{});var en=ie(zt);Ch=ee(en,"For each pixel at (location "),ye(_i.$$.fragment,en),Ah=ee(en,") I find the difference between the corresponding color channels of the compressed/quantized image "),ye(zi.$$.fragment,en),Eh=ee(en," and the original image "),ye(Di.$$.fragment,en),_h=ee(en,". For example if the original color was black "),ye(Ii.$$.fragment,en),zh=ee(en," and the quantized color was white "),ye(Ni.$$.fragment,en),Dh=ee(en,", the summed error would be "),ye(qi.$$.fragment,en),Ih=ee(en," for that one pixel."),en.forEach(M),fn=O(z1,"P",{});var rr=ie(fn);Nh=ee(rr,"I store each error term in this "),ye(Bi.$$.fragment,rr),qh=ee(rr," matrix where each number is the error "),ye(Li.$$.fragment,rr),Bh=ee(rr," such that "),ye(Ri.$$.fragment,rr),Lh=ee(rr," is the pixel index and "),ye(Fi.$$.fragment,rr),Rh=ee(rr," is the color channel (one of rgb)."),rr.forEach(M),cn=O(z1,"P",{});var ir=ie(cn);Fh=ee(ir,"This error image "),ye(Pi.$$.fragment,ir),Ph=ee(ir," is what you see in red above. Then I simply average over these error matrix values from "),ye(Oi.$$.fragment,ir),Oh=ee(ir," to get the "),Xs=O(ir,"STRONG",{"data-svelte-h":!0}),ge(Xs)!=="svelte-po1o1d"&&(Xs.textContent=p5),Hh=ee(ir," as "),ye(Hi.$$.fragment,ir),Vh=ee(ir,"."),ir.forEach(M),z1.forEach(M),od.forEach(M),zu=Z(p),Vi=O(p,"DIV",{id:!0,class:!0}),ie(Vi).forEach(M),Du=Z(p),Ui=O(p,"H2",{"data-svelte-h":!0}),ge(Ui)!=="svelte-1pnd2wq"&&(Ui.innerHTML=g5),Iu=Z(p),ji=O(p,"P",{"data-svelte-h":!0}),ge(ji)!=="svelte-1oittac"&&(ji.textContent=v5),Nu=Z(p),Wi=O(p,"P",{"data-svelte-h":!0}),ge(Wi)!=="svelte-1lhrn6z"&&(Wi.textContent=y5),qu=Z(p),ye(Yi.$$.fragment,p),Bu=Z(p),xn=O(p,"P",{});var T0=ie(xn);Uh=ee(T0,"where "),ye(Gi.$$.fragment,T0),jh=ee(T0," are weights and "),ye(Xi.$$.fragment,T0),Wh=ee(T0," are biases at layer "),ye(Zi.$$.fragment,T0),Yh=ee(T0,"."),T0.forEach(M),Lu=Z(p),Qi=O(p,"P",{"data-svelte-h":!0}),ge(Qi)!=="svelte-1fju4af"&&(Qi.textContent=b5),Ru=Z(p),d0=O(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(d0)!=="svelte-1mjdrzp"&&(d0.innerHTML=w5),Fu=Z(p),pt=O(p,"P",{});var It=ie(pt);Gh=ee(It,"With matrix multiplication we are doing a linear combination of the columns of the matrix defined by each number in the vector. Namely, "),ye(Ki.$$.fragment,It),Xh=ee(It," where "),ye(Ji.$$.fragment,It),Zh=ee(It," is the matrix, "),ye(ea.$$.fragment,It),Qh=ee(It," is the column vector, and "),ye(ta.$$.fragment,It),Kh=ee(It," is the output of the matrix multiply. Alternatively, think of "),ye(na.$$.fragment,It),Jh=ee(It," as transforming "),ye(ra.$$.fragment,It),e2=ee(It," into "),ye(ia.$$.fragment,It),t2=ee(It,"."),It.forEach(M),Pu=Z(p),nt=O(p,"P",{});var ut=ie(nt);n2=ee(ut,"I can also define "),ye(aa.$$.fragment,ut),r2=ee(ut," compressed/quantized as "),ye(sa.$$.fragment,ut),i2=ee(ut,". The "),ye(oa.$$.fragment,ut),a2=ee(ut," matrix transforms the input "),ye(la.$$.fragment,ut),s2=ee(ut," into some approximate output "),ye(ua.$$.fragment,ut),o2=ee(ut,". Cleary, since "),ye(fa.$$.fragment,ut),l2=ee(ut," is an approximate "),ye(ca.$$.fragment,ut),u2=ee(ut,` so the output would also be approximate.
I can then express the differences between the outputs `),ye(ha.$$.fragment,ut),f2=ee(ut," and "),ye(da.$$.fragment,ut),c2=ee(ut,` in a single error term
`),ye(ma.$$.fragment,ut),h2=ee(ut," which is the size of how wrong the approximation is."),ut.forEach(M),Ou=Z(p),m0=O(p,"DIV",{class:!0});var ld=ie(m0);pa=O(ld,"DIV",{class:!0,"data-svelte-h":!0}),ge(pa)!=="svelte-1cy0qbn"&&(pa.innerHTML=x5),Zs=O(ld,"DIV",{class:!0});var X5=ie(Zs);ga=O(X5,"P",{});var D1=ie(ga);d2=ee(D1,"I use the vector 1-norm here denoted by "),ye(va.$$.fragment,D1),m2=ee(D1," to give me the size of a vector. It's just the absolute value and sum of the numbers. Just like the image example before."),D1.forEach(M),X5.forEach(M),ld.forEach(M),Hu=Z(p),Mn=O(p,"P",{});var C0=ie(Mn);p2=ee(C0,"And since "),ye(ya.$$.fragment,C0),g2=ee(C0," and "),ye(ba.$$.fragment,C0),v2=ee(C0," I can write the equation "),ye(wa.$$.fragment,C0),y2=ee(C0," only in terms of the inputs as"),C0.forEach(M),Vu=Z(p),Qs=O(p,"P",{});var Z5=ie(Qs);ye(xa.$$.fragment,Z5),Z5.forEach(M),Uu=Z(p),Ma=O(p,"P",{"data-svelte-h":!0}),ge(Ma)!=="svelte-1h363j2"&&(Ma.textContent=M5),ju=Z(p),Kt=O(p,"P",{});var ar=ie(Kt);b2=ee(ar,"As is turns out, I can factor this error term into a term that only contains "),ye(Sa.$$.fragment,ar),w2=ee(ar," and one other that contains both "),ye(ka.$$.fragment,ar),x2=ee(ar," and "),ye($a.$$.fragment,ar),M2=ee(ar,` through the steps
`),ye(Ta.$$.fragment,ar),S2=ee(ar," where the norm applied to a matrix is the matrix operator norm induced by the 1-norm."),ar.forEach(M),Wu=Z(p),p0=O(p,"DIV",{class:!0});var ud=ie(p0);Ca=O(ud,"DIV",{class:!0,"data-svelte-h":!0}),ge(Ca)!=="svelte-1cy0qbn"&&(Ca.innerHTML=S5),g0=O(ud,"DIV",{class:!0});var I1=ie(g0);Cr=O(I1,"P",{});var ro=ie(Cr);k2=ee(ro,"The above formulation "),ye(Aa.$$.fragment,ro),$2=ee(ro," was adapted from the lecture notes "),ye(Ea.$$.fragment,ro),T2=ee(ro,"."),ro.forEach(M),Ks=O(I1,"P",{"data-svelte-h":!0}),ge(Ks)!=="svelte-kkkuki"&&(Ks.textContent=k5),_a=O(I1,"P",{});var N1=ie(_a);C2=ee(N1,"This is a "),ye(za.$$.fragment,N1),A2=ee(N1," on the matrix operator norm induced by the 2-norm for some intuition."),N1.forEach(M),I1.forEach(M),ud.forEach(M),Yu=Z(p),Sn=O(p,"P",{});var A0=ie(Sn);E2=ee(A0,"The first term defined by only "),ye(Da.$$.fragment,A0),_2=ee(A0," as "),ye(Ia.$$.fragment,A0),z2=ee(A0," is a very useful number in many applications for linear problems: the condition number. The second term looks quite similar to the image pixel error case as the difference between the matrices with a norm applied as "),ye(Na.$$.fragment,A0),D2=ee(A0,". But remember now we use the matrix operator norm."),A0.forEach(M),Gu=Z(p),qa=O(p,"P",{"data-svelte-h":!0}),ge(qa)!=="svelte-12mmrko"&&(qa.textContent=$5),Xu=Z(p),v0=O(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(v0)!=="svelte-70pwg1"&&(v0.innerHTML=T5),Zu=Z(p),ye(Ba.$$.fragment,p),Qu=Z(p),La=O(p,"P",{"data-svelte-h":!0}),ge(La)!=="svelte-b7jwfl"&&(La.textContent=C5),Ku=Z(p),Ra=O(p,"P",{"data-svelte-h":!0}),ge(Ra)!=="svelte-dafjyv"&&(Ra.textContent=A5),Ju=Z(p),Fa=O(p,"P",{"data-svelte-h":!0}),ge(Fa)!=="svelte-19e2iot"&&(Fa.textContent=E5),e1=Z(p),Pa=O(p,"P",{"data-svelte-h":!0}),ge(Pa)!=="svelte-1sva6ds"&&(Pa.textContent=_5),t1=Z(p),Oa=O(p,"P",{"data-svelte-h":!0}),ge(Oa)!=="svelte-6t66w8"&&(Oa.textContent=z5),n1=Z(p),y0=O(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(y0)!=="svelte-1qtqrka"&&(y0.innerHTML=D5),r1=Z(p),Ha=O(p,"DIV",{id:!0,class:!0}),ie(Ha).forEach(M),i1=Z(p),Va=O(p,"H2",{"data-svelte-h":!0}),ge(Va)!=="svelte-lt4h7y"&&(Va.innerHTML=I5),a1=Z(p),Ua=O(p,"P",{"data-svelte-h":!0}),ge(Ua)!=="svelte-ajbibf"&&(Ua.textContent=N5),s1=Z(p),ja=O(p,"P",{"data-svelte-h":!0}),ge(ja)!=="svelte-1aq8px0"&&(ja.textContent=q5),o1=Z(p),Wa=O(p,"P",{"data-svelte-h":!0}),ge(Wa)!=="svelte-muq9ia"&&(Wa.innerHTML=B5),l1=Z(p),b0=O(p,"P",{});var q1=ie(b0);I2=ee(q1,"In "),ye(Ya.$$.fragment,q1),N2=ee(q1," I made a simple autoencoder with 5 layers with 2,148,832 total parameters."),q1.forEach(M),u1=Z(p),Ga=O(p,"DIV",{class:!0});var Q5=ie(Ga);kn=O(Q5,"DIV",{class:!0});var E0=ie(kn);Ar=O(E0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ge(Ar)!=="svelte-2kshyc"&&(Ar.innerHTML=L5),q2=Z(E0),Er=O(E0,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),ge(Er)!=="svelte-1xjekbd"&&(Er.innerHTML=R5),B2=Z(E0),Xa=O(E0,"DIV",{class:!0,"data-svelte-h":!0}),ge(Xa)!=="svelte-lxlwao"&&(Xa.textContent=F5),L2=Z(E0),ye(Za.$$.fragment,E0),E0.forEach(M),Q5.forEach(M),f1=Z(p),Jn=O(p,"P",{});var io=ie(Jn);R2=ee(io,"The training and definitions are in "),ye(Qa.$$.fragment,io),F2=ee(io," and the quantization is in "),ye(Ka.$$.fragment,io),P2=ee(io," if you're interested."),io.forEach(M),c1=Z(p),w0=O(p,"P",{});var B1=ie(w0);O2=ee(B1,"I quantized the model's weights and biases. Then, I loaded the PyTorch weights directly in my own "),ye(Ja.$$.fragment,B1),H2=ee(B1," in JavaScript."),B1.forEach(M),h1=Z(p),x0=O(p,"DIV",{class:!0,"data-svelte-h":!0}),ge(x0)!=="svelte-jqajp3"&&(x0.innerHTML=P5),d1=Z(p),ye(es.$$.fragment,p),m1=Z(p),ts=O(p,"P",{"data-svelte-h":!0}),ge(ts)!=="svelte-jsjnm2"&&(ts.textContent=O5),p1=Z(p),M0=O(p,"P",{});var L1=ie(M0);V2=ee(L1,"Despite this neural network having a high maximum condition number (computed by taking the condition number over each layer and taking the max "),ye(ns.$$.fragment,L1),U2=ee(L1,"), using k-means quantization, the outputs look quite good: the reconstruction is accurate. I speculate again that with extra shared numbers to spare, k-means was sensitive tot he outlier which caused the high condition number, thereby masking the large effects."),L1.forEach(M),g1=Z(p),rs=O(p,"DIV",{id:!0,class:!0}),ie(rs).forEach(M),v1=Z(p),is=O(p,"H2",{"data-svelte-h":!0}),ge(is)!=="svelte-nbmqct"&&(is.innerHTML=H5),y1=Z(p),as=O(p,"P",{"data-svelte-h":!0}),ge(as)!=="svelte-xjgjeq"&&(as.textContent=V5),b1=Z(p),ss=O(p,"P",{"data-svelte-h":!0}),ge(ss)!=="svelte-1qv4i6b"&&(ss.textContent=U5),w1=Z(p),os=O(p,"P",{"data-svelte-h":!0}),ge(os)!=="svelte-f850hp"&&(os.textContent=j5),x1=Z(p),ls=O(p,"DIV",{id:!0,class:!0}),ie(ls).forEach(M),M1=Z(p),us=O(p,"H2",{"data-svelte-h":!0}),ge(us)!=="svelte-1hcknps"&&(us.innerHTML=W5),S1=Z(p),Jt=O(p,"UL",{});var sr=ie(Jt);_r=O(sr,"LI",{});var ao=ie(_r);j2=ee(ao,"I thank myself "),ye(fs.$$.fragment,ao),W2=ee(ao," for writing the article and "),ye(cs.$$.fragment,ao),Y2=ee(ao," for discussing ideas and giving me valuable feedback"),ao.forEach(M),G2=Z(sr),hs=O(sr,"LI",{});var R1=ie(hs);X2=ee(R1,"Inspiration from "),ye(ds.$$.fragment,R1),Z2=ee(R1," which evidently is by the author of that Deep Compression Paper I referenced earlier"),R1.forEach(M),Q2=Z(sr),Js=O(sr,"LI",{});var fd=ie(Js);ye(ms.$$.fragment,fd),K2=ee(fd," was extremely useful"),fd.forEach(M),J2=Z(sr),eo=O(sr,"LI",{});var cd=ie(eo);ye(ps.$$.fragment,cd),ed=ee(cd," is really awesome out of the box"),cd.forEach(M),td=Z(sr),to=O(sr,"LI",{});var hd=ie(to);ye(gs.$$.fragment,hd),nd=ee(hd," for math equations"),hd.forEach(M),sr.forEach(M),k1=Z(p),er=O(p,"SECTION",{"data-footnotes":!0,class:!0});var F1=ie(er);S0=O(F1,"H2",{class:!0,id:!0,"data-svelte-h":!0}),ge(S0)!=="svelte-lkgpaz"&&(S0.textContent=Y5),rd=Z(F1),Vo=O(F1,"OL",{});var K5=ie(Vo);no=O(K5,"LI",{id:!0});var J5=ie(no);k0=O(J5,"P",{});var jo=ie(k0);id=ee(jo,"Chose "),ye(vs.$$.fragment,jo),ad=ee(jo," so I didn't have to deal with more complicated architectures. But still interesting enough to visualize. "),tr=O(jo,"A",{href:!0,"data-footnote-backref":!0,class:!0,"aria-label":!0,"data-svelte-h":!0}),ge(tr)!=="svelte-1ge09vi"&&(tr.textContent=G5),jo.forEach(M),J5.forEach(M),K5.forEach(M),F1.forEach(M),this.h()},h(){F(i,"id","Introduction"),F(i,"class","svp-anchor-item"),Ye(h,"background-image","url(cyber.jpg)"),Ye(h,"height","50px"),Ye(h,"margin-bottom","-12px"),F(h,"class","thumb svelte-1erdxyx"),F(L,"id","Sharing-as-Compression"),F(L,"class","svp-anchor-item"),F(Pt,"id","Sharing-Pixels"),F(Pt,"class","svp-anchor-item"),xf(Dt.src,Kn="dog.png")||F(Dt,"src",Kn),Ye(Dt,"width","300px"),F(Dt,"class","svelte-1erdxyx"),Ye(Z0,"color","rgb(255, 0, 0)"),Ye(Q0,"color","rgb(0, 255, 0)"),Ye(K0,"color","rgb(0, 0, 255)"),F(l0,"class","admonition admonition-important"),F(ui,"class","admonition-heading"),F(Tr,"class","admonition-content"),F(u0,"class","admonition admonition-note"),Ye(gi,"color","salmon"),Ye(yi,"color","salmon"),F(bi,"id","Quantifying-Error"),F(bi,"class","svp-anchor-item"),F(f0,"class","admonition admonition-important"),F(Ei,"class","admonition-heading"),F(h0,"class","admonition-content"),F(c0,"class","admonition admonition-note"),F(Vi,"id","Matrix-Multiplication"),F(Vi,"class","svp-anchor-item"),F(d0,"class","admonition admonition-warning"),F(pa,"class","admonition-heading"),F(Zs,"class","admonition-content"),F(m0,"class","admonition admonition-note"),F(Ca,"class","admonition-heading"),F(g0,"class","admonition-content"),F(p0,"class","admonition admonition-note"),F(v0,"class","admonition admonition-important"),F(y0,"class","admonition admonition-note"),F(Ha,"id","More-layers"),F(Ha,"class","svp-anchor-item"),F(Ar,"class","shiki vitesse-light"),Ye(Ar,"background-color","#ffffff"),F(Ar,"tabindex","0"),F(Er,"class","shiki night-owl"),Ye(Er,"background-color","#011627"),F(Er,"tabindex","0"),F(Xa,"class","svp-code-block--lang"),F(kn,"class","svp-code-block"),F(Ga,"class","svp-code-block-wrapper"),F(x0,"class","admonition admonition-important"),F(rs,"id","Conclusion"),F(rs,"class","svp-anchor-item"),F(ls,"id","Acknowledgments"),F(ls,"class","svp-anchor-item"),F(S0,"class","sr-only"),F(S0,"id","footnote-label"),F(tr,"href","#user-content-fnref-1"),F(tr,"data-footnote-backref",""),F(tr,"class","data-footnote-backref"),F(tr,"aria-label","Back to content"),F(no,"id","user-content-fn-1"),F(er,"data-footnotes",""),F(er,"class","footnotes")},m(p,R){I(p,t,R),I(p,r,R),I(p,i,R),I(p,a,R),I(p,s,R),I(p,l,R),I(p,u,R),I(p,c,R),I(p,h,R),I(p,d,R),I(p,g,R),B(g,y),B(y,b),be(w,y,null),B(y,S),I(p,E,R),I(p,$,R),B($,A),be(D,$,null),B($,_),I(p,j,R),I(p,U,R),I(p,C,R),I(p,L,R),I(p,z,R),I(p,W,R),I(p,Q,R),I(p,ae,R),B(ae,re),be(me,ae,null),B(ae,te),I(p,se,R),I(p,oe,R),I(p,Se,R),I(p,Ce,R),I(p,ue,R),I(p,ce,R),I(p,xe,R),I(p,Te,R),I(p,ke,R),I(p,Ee,R),I(p,Le,R),I(p,Ge,R),I(p,bt,R),I(p,Pt,R),I(p,Xt,R),I(p,_t,R),I(p,G0,R),I(p,kr,R),I(p,Us,R),I(p,Zt,R),I(p,Qn,R),I(p,$r,R),I(p,js,R),I(p,Dt,R),I(p,Ws,R),I(p,Qt,R),B(Qt,mh),be(X0,Qt,null),B(Qt,ph),B(Qt,Z0),B(Qt,gh),B(Qt,Q0),B(Qt,vh),B(Qt,K0),B(Qt,yh),I(p,iu,R),I(p,J0,R),I(p,au,R),I(p,ei,R),I(p,su,R),be(ti,p,R),I(p,ou,R),I(p,ni,R),I(p,lu,R),I(p,ri,R),I(p,uu,R),be(ii,p,R),I(p,fu,R),I(p,ai,R),I(p,cu,R),I(p,si,R),I(p,hu,R),I(p,l0,R),I(p,du,R),be(oi,p,R),I(p,mu,R),I(p,li,R),I(p,pu,R),I(p,u0,R),B(u0,ui),B(u0,Tr),B(Tr,Ys),B(Tr,Gs),B(Tr,fi),B(fi,bh),be(ci,fi,null),B(fi,wh),B(Tr,hi),B(hi,xh),be(di,hi,null),B(hi,Mh),I(p,gu,R),I(p,mi,R),I(p,vu,R),be(pi,p,R),I(p,yu,R),I(p,wn,R),B(wn,Sh),B(wn,gi),B(wn,kh),be(vi,wn,null),B(wn,$h),B(wn,yi),B(wn,Th),I(p,bu,R),I(p,bi,R),I(p,wu,R),I(p,wi,R),I(p,xu,R),I(p,xi,R),I(p,Mu,R),I(p,Mi,R),I(p,Su,R),I(p,Si,R),I(p,ku,R),I(p,ki,R),I(p,$u,R),I(p,$i,R),I(p,Tu,R),I(p,f0,R),I(p,Cu,R),be(Ti,p,R),I(p,Au,R),I(p,Ci,R),I(p,Eu,R),I(p,Ai,R),I(p,_u,R),I(p,c0,R),B(c0,Ei),B(c0,h0),B(h0,zt),B(zt,Ch),be(_i,zt,null),B(zt,Ah),be(zi,zt,null),B(zt,Eh),be(Di,zt,null),B(zt,_h),be(Ii,zt,null),B(zt,zh),be(Ni,zt,null),B(zt,Dh),be(qi,zt,null),B(zt,Ih),B(h0,fn),B(fn,Nh),be(Bi,fn,null),B(fn,qh),be(Li,fn,null),B(fn,Bh),be(Ri,fn,null),B(fn,Lh),be(Fi,fn,null),B(fn,Rh),B(h0,cn),B(cn,Fh),be(Pi,cn,null),B(cn,Ph),be(Oi,cn,null),B(cn,Oh),B(cn,Xs),B(cn,Hh),be(Hi,cn,null),B(cn,Vh),I(p,zu,R),I(p,Vi,R),I(p,Du,R),I(p,Ui,R),I(p,Iu,R),I(p,ji,R),I(p,Nu,R),I(p,Wi,R),I(p,qu,R),be(Yi,p,R),I(p,Bu,R),I(p,xn,R),B(xn,Uh),be(Gi,xn,null),B(xn,jh),be(Xi,xn,null),B(xn,Wh),be(Zi,xn,null),B(xn,Yh),I(p,Lu,R),I(p,Qi,R),I(p,Ru,R),I(p,d0,R),I(p,Fu,R),I(p,pt,R),B(pt,Gh),be(Ki,pt,null),B(pt,Xh),be(Ji,pt,null),B(pt,Zh),be(ea,pt,null),B(pt,Qh),be(ta,pt,null),B(pt,Kh),be(na,pt,null),B(pt,Jh),be(ra,pt,null),B(pt,e2),be(ia,pt,null),B(pt,t2),I(p,Pu,R),I(p,nt,R),B(nt,n2),be(aa,nt,null),B(nt,r2),be(sa,nt,null),B(nt,i2),be(oa,nt,null),B(nt,a2),be(la,nt,null),B(nt,s2),be(ua,nt,null),B(nt,o2),be(fa,nt,null),B(nt,l2),be(ca,nt,null),B(nt,u2),be(ha,nt,null),B(nt,f2),be(da,nt,null),B(nt,c2),be(ma,nt,null),B(nt,h2),I(p,Ou,R),I(p,m0,R),B(m0,pa),B(m0,Zs),B(Zs,ga),B(ga,d2),be(va,ga,null),B(ga,m2),I(p,Hu,R),I(p,Mn,R),B(Mn,p2),be(ya,Mn,null),B(Mn,g2),be(ba,Mn,null),B(Mn,v2),be(wa,Mn,null),B(Mn,y2),I(p,Vu,R),I(p,Qs,R),be(xa,Qs,null),I(p,Uu,R),I(p,Ma,R),I(p,ju,R),I(p,Kt,R),B(Kt,b2),be(Sa,Kt,null),B(Kt,w2),be(ka,Kt,null),B(Kt,x2),be($a,Kt,null),B(Kt,M2),be(Ta,Kt,null),B(Kt,S2),I(p,Wu,R),I(p,p0,R),B(p0,Ca),B(p0,g0),B(g0,Cr),B(Cr,k2),be(Aa,Cr,null),B(Cr,$2),be(Ea,Cr,null),B(Cr,T2),B(g0,Ks),B(g0,_a),B(_a,C2),be(za,_a,null),B(_a,A2),I(p,Yu,R),I(p,Sn,R),B(Sn,E2),be(Da,Sn,null),B(Sn,_2),be(Ia,Sn,null),B(Sn,z2),be(Na,Sn,null),B(Sn,D2),I(p,Gu,R),I(p,qa,R),I(p,Xu,R),I(p,v0,R),I(p,Zu,R),be(Ba,p,R),I(p,Qu,R),I(p,La,R),I(p,Ku,R),I(p,Ra,R),I(p,Ju,R),I(p,Fa,R),I(p,e1,R),I(p,Pa,R),I(p,t1,R),I(p,Oa,R),I(p,n1,R),I(p,y0,R),I(p,r1,R),I(p,Ha,R),I(p,i1,R),I(p,Va,R),I(p,a1,R),I(p,Ua,R),I(p,s1,R),I(p,ja,R),I(p,o1,R),I(p,Wa,R),I(p,l1,R),I(p,b0,R),B(b0,I2),be(Ya,b0,null),B(b0,N2),I(p,u1,R),I(p,Ga,R),B(Ga,kn),B(kn,Ar),B(kn,q2),B(kn,Er),B(kn,B2),B(kn,Xa),B(kn,L2),be(Za,kn,null),I(p,f1,R),I(p,Jn,R),B(Jn,R2),be(Qa,Jn,null),B(Jn,F2),be(Ka,Jn,null),B(Jn,P2),I(p,c1,R),I(p,w0,R),B(w0,O2),be(Ja,w0,null),B(w0,H2),I(p,h1,R),I(p,x0,R),I(p,d1,R),be(es,p,R),I(p,m1,R),I(p,ts,R),I(p,p1,R),I(p,M0,R),B(M0,V2),be(ns,M0,null),B(M0,U2),I(p,g1,R),I(p,rs,R),I(p,v1,R),I(p,is,R),I(p,y1,R),I(p,as,R),I(p,b1,R),I(p,ss,R),I(p,w1,R),I(p,os,R),I(p,x1,R),I(p,ls,R),I(p,M1,R),I(p,us,R),I(p,S1,R),I(p,Jt,R),B(Jt,_r),B(_r,j2),be(fs,_r,null),B(_r,W2),be(cs,_r,null),B(_r,Y2),B(Jt,G2),B(Jt,hs),B(hs,X2),be(ds,hs,null),B(hs,Z2),B(Jt,Q2),B(Jt,Js),be(ms,Js,null),B(Js,K2),B(Jt,J2),B(Jt,eo),be(ps,eo,null),B(eo,ed),B(Jt,td),B(Jt,to),be(gs,to,null),B(to,nd),I(p,k1,R),I(p,er,R),B(er,S0),B(er,rd),B(er,Vo),B(Vo,no),B(no,k0),B(k0,id),be(vs,k0,null),B(k0,ad),B(k0,tr),$1=!0},p:Xe,i(p){$1||(de(w.$$.fragment,p),de(D.$$.fragment,p),de(me.$$.fragment,p),de(X0.$$.fragment,p),de(ti.$$.fragment,p),de(ii.$$.fragment,p),de(oi.$$.fragment,p),de(ci.$$.fragment,p),de(di.$$.fragment,p),de(pi.$$.fragment,p),de(vi.$$.fragment,p),de(Ti.$$.fragment,p),de(_i.$$.fragment,p),de(zi.$$.fragment,p),de(Di.$$.fragment,p),de(Ii.$$.fragment,p),de(Ni.$$.fragment,p),de(qi.$$.fragment,p),de(Bi.$$.fragment,p),de(Li.$$.fragment,p),de(Ri.$$.fragment,p),de(Fi.$$.fragment,p),de(Pi.$$.fragment,p),de(Oi.$$.fragment,p),de(Hi.$$.fragment,p),de(Yi.$$.fragment,p),de(Gi.$$.fragment,p),de(Xi.$$.fragment,p),de(Zi.$$.fragment,p),de(Ki.$$.fragment,p),de(Ji.$$.fragment,p),de(ea.$$.fragment,p),de(ta.$$.fragment,p),de(na.$$.fragment,p),de(ra.$$.fragment,p),de(ia.$$.fragment,p),de(aa.$$.fragment,p),de(sa.$$.fragment,p),de(oa.$$.fragment,p),de(la.$$.fragment,p),de(ua.$$.fragment,p),de(fa.$$.fragment,p),de(ca.$$.fragment,p),de(ha.$$.fragment,p),de(da.$$.fragment,p),de(ma.$$.fragment,p),de(va.$$.fragment,p),de(ya.$$.fragment,p),de(ba.$$.fragment,p),de(wa.$$.fragment,p),de(xa.$$.fragment,p),de(Sa.$$.fragment,p),de(ka.$$.fragment,p),de($a.$$.fragment,p),de(Ta.$$.fragment,p),de(Aa.$$.fragment,p),de(Ea.$$.fragment,p),de(za.$$.fragment,p),de(Da.$$.fragment,p),de(Ia.$$.fragment,p),de(Na.$$.fragment,p),de(Ba.$$.fragment,p),de(Ya.$$.fragment,p),de(Za.$$.fragment,p),de(Qa.$$.fragment,p),de(Ka.$$.fragment,p),de(Ja.$$.fragment,p),de(es.$$.fragment,p),de(ns.$$.fragment,p),de(fs.$$.fragment,p),de(cs.$$.fragment,p),de(ds.$$.fragment,p),de(ms.$$.fragment,p),de(ps.$$.fragment,p),de(gs.$$.fragment,p),de(vs.$$.fragment,p),$1=!0)},o(p){pe(w.$$.fragment,p),pe(D.$$.fragment,p),pe(me.$$.fragment,p),pe(X0.$$.fragment,p),pe(ti.$$.fragment,p),pe(ii.$$.fragment,p),pe(oi.$$.fragment,p),pe(ci.$$.fragment,p),pe(di.$$.fragment,p),pe(pi.$$.fragment,p),pe(vi.$$.fragment,p),pe(Ti.$$.fragment,p),pe(_i.$$.fragment,p),pe(zi.$$.fragment,p),pe(Di.$$.fragment,p),pe(Ii.$$.fragment,p),pe(Ni.$$.fragment,p),pe(qi.$$.fragment,p),pe(Bi.$$.fragment,p),pe(Li.$$.fragment,p),pe(Ri.$$.fragment,p),pe(Fi.$$.fragment,p),pe(Pi.$$.fragment,p),pe(Oi.$$.fragment,p),pe(Hi.$$.fragment,p),pe(Yi.$$.fragment,p),pe(Gi.$$.fragment,p),pe(Xi.$$.fragment,p),pe(Zi.$$.fragment,p),pe(Ki.$$.fragment,p),pe(Ji.$$.fragment,p),pe(ea.$$.fragment,p),pe(ta.$$.fragment,p),pe(na.$$.fragment,p),pe(ra.$$.fragment,p),pe(ia.$$.fragment,p),pe(aa.$$.fragment,p),pe(sa.$$.fragment,p),pe(oa.$$.fragment,p),pe(la.$$.fragment,p),pe(ua.$$.fragment,p),pe(fa.$$.fragment,p),pe(ca.$$.fragment,p),pe(ha.$$.fragment,p),pe(da.$$.fragment,p),pe(ma.$$.fragment,p),pe(va.$$.fragment,p),pe(ya.$$.fragment,p),pe(ba.$$.fragment,p),pe(wa.$$.fragment,p),pe(xa.$$.fragment,p),pe(Sa.$$.fragment,p),pe(ka.$$.fragment,p),pe($a.$$.fragment,p),pe(Ta.$$.fragment,p),pe(Aa.$$.fragment,p),pe(Ea.$$.fragment,p),pe(za.$$.fragment,p),pe(Da.$$.fragment,p),pe(Ia.$$.fragment,p),pe(Na.$$.fragment,p),pe(Ba.$$.fragment,p),pe(Ya.$$.fragment,p),pe(Za.$$.fragment,p),pe(Qa.$$.fragment,p),pe(Ka.$$.fragment,p),pe(Ja.$$.fragment,p),pe(es.$$.fragment,p),pe(ns.$$.fragment,p),pe(fs.$$.fragment,p),pe(cs.$$.fragment,p),pe(ds.$$.fragment,p),pe(ms.$$.fragment,p),pe(ps.$$.fragment,p),pe(gs.$$.fragment,p),pe(vs.$$.fragment,p),$1=!1},d(p){p&&(M(t),M(r),M(i),M(a),M(s),M(l),M(u),M(c),M(h),M(d),M(g),M(E),M($),M(j),M(U),M(C),M(L),M(z),M(W),M(Q),M(ae),M(se),M(oe),M(Se),M(Ce),M(ue),M(ce),M(xe),M(Te),M(ke),M(Ee),M(Le),M(Ge),M(bt),M(Pt),M(Xt),M(_t),M(G0),M(kr),M(Us),M(Zt),M(Qn),M($r),M(js),M(Dt),M(Ws),M(Qt),M(iu),M(J0),M(au),M(ei),M(su),M(ou),M(ni),M(lu),M(ri),M(uu),M(fu),M(ai),M(cu),M(si),M(hu),M(l0),M(du),M(mu),M(li),M(pu),M(u0),M(gu),M(mi),M(vu),M(yu),M(wn),M(bu),M(bi),M(wu),M(wi),M(xu),M(xi),M(Mu),M(Mi),M(Su),M(Si),M(ku),M(ki),M($u),M($i),M(Tu),M(f0),M(Cu),M(Au),M(Ci),M(Eu),M(Ai),M(_u),M(c0),M(zu),M(Vi),M(Du),M(Ui),M(Iu),M(ji),M(Nu),M(Wi),M(qu),M(Bu),M(xn),M(Lu),M(Qi),M(Ru),M(d0),M(Fu),M(pt),M(Pu),M(nt),M(Ou),M(m0),M(Hu),M(Mn),M(Vu),M(Qs),M(Uu),M(Ma),M(ju),M(Kt),M(Wu),M(p0),M(Yu),M(Sn),M(Gu),M(qa),M(Xu),M(v0),M(Zu),M(Qu),M(La),M(Ku),M(Ra),M(Ju),M(Fa),M(e1),M(Pa),M(t1),M(Oa),M(n1),M(y0),M(r1),M(Ha),M(i1),M(Va),M(a1),M(Ua),M(s1),M(ja),M(o1),M(Wa),M(l1),M(b0),M(u1),M(Ga),M(f1),M(Jn),M(c1),M(w0),M(h1),M(x0),M(d1),M(m1),M(ts),M(p1),M(M0),M(g1),M(rs),M(v1),M(is),M(y1),M(as),M(b1),M(ss),M(w1),M(os),M(x1),M(ls),M(M1),M(us),M(S1),M(Jt),M(k1),M(er)),we(w),we(D),we(me),we(X0),we(ti,p),we(ii,p),we(oi,p),we(ci),we(di),we(pi,p),we(vi),we(Ti,p),we(_i),we(zi),we(Di),we(Ii),we(Ni),we(qi),we(Bi),we(Li),we(Ri),we(Fi),we(Pi),we(Oi),we(Hi),we(Yi,p),we(Gi),we(Xi),we(Zi),we(Ki),we(Ji),we(ea),we(ta),we(na),we(ra),we(ia),we(aa),we(sa),we(oa),we(la),we(ua),we(fa),we(ca),we(ha),we(da),we(ma),we(va),we(ya),we(ba),we(wa),we(xa),we(Sa),we(ka),we($a),we(Ta),we(Aa),we(Ea),we(za),we(Da),we(Ia),we(Na),we(Ba,p),we(Ya),we(Za),we(Qa),we(Ka),we(Ja),we(es,p),we(ns),we(fs),we(cs),we(ds),we(ms),we(ps),we(gs),we(vs)}}}function PB(e){let t,n;return t=new qw({props:{fm:e[0],$$slots:{default:[FB]},$$scope:{ctx:e}}}),{c(){ve(t.$$.fragment)},l(r){ye(t.$$.fragment,r)},m(r,i){be(t,r,i),n=!0},p(r,[i]){const a={};i&2&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(de(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){we(t,r)}}}const OB="https://github.com/xnought/docs";function HB(e){return[{pageType:"md",lastUpdate:"August 2023",title:"Compressing Neural Network Weights",anchors:[{slugId:"Introduction",title:"Introduction",depth:2},{slugId:"Sharing-as-Compression",title:"Sharing as Compression",depth:2},{slugId:"Sharing-Pixels",title:"Sharing Pixels",depth:2},{slugId:"Quantifying-Error",title:"Quantifying Error",depth:2},{slugId:"Matrix-Multiplication",title:"Matrix Multiplication",depth:2},{slugId:"More-layers",title:"More layers",depth:2},{slugId:"Conclusion",title:"Conclusion",depth:2},{slugId:"Acknowledgments",title:"Acknowledgments",depth:2}]}]}class GB extends jt{constructor(t){super(),Wt(this,t,HB,PB,Ut,{})}}export{GB as component};
